{
    "$schema":"https://vega.github.io/schema/vega/v5.json",
    "description":"A basic stacked bar chart example.",
    "width":200,
    "height":100,
    "padding":5,
    "data":[
      {
        "name":"table",
        "values":[
          {"x":"Apple","y":28,"c":0},
          {"x":"Apple","y":55,"c":1},
          {"x":"Amazon","y":43,"c":0},
          {"x":"Amazon","y":91,"c":1},
          {"x":"Facebook","y":81,"c":0},
          {"x":"Facebook","y":53,"c":1},
          {"x":"Netflix","y":19,"c":0},
          {"x":"Netflix","y":87,"c":1},
          {"x":"Microsoft","y":52,"c":0},
          {"x":"Microsoft","y":48,"c":1},
          {"x":"Linkedin","y":24,"c":0},
          {"x":"Linkedin","y":49,"c":1},
          {"x":"Twitter","y":87,"c":0},
          {"x":"Twitter","y":66,"c":1},
          {"x":"Google","y":17,"c":0},
          {"x":"Google","y":27,"c":1},
          {"x":"Yahoo","y":68,"c":0},
          {"x":"Yahoo","y":16,"c":1}
        ],
        "transform":[{"type":"stack","groupby":["x"],"sort":{"field":"c"},"field":"y"}]
      }
    ],
    "scales":[
      {
        "name":"x",
        "type":"band",
        "range":"width",
        "domain":{"data":"table","field":"x"}
      },
      {
        "name":"y",
        "type":"linear",
        "range":"height",
        "nice":true,
        "zero":true,
        "domain":{"data":"table","field":"y1"}
      },
      {
        "name":"color",
        "type":"ordinal",
        "range":"category",
        "domain":{"data":"table","field":"c"}
      }
    ],
    "axes":[
      {"orient":"bottom","scale":"x","zindex":1},
      {"orient":"left","scale":"y","zindex":1}
    ],
    "marks":[
      {
        "type":"rect",
        "from":{"data":"table"},
        "encode":{
          "enter":{
            "x":{"scale":"x","field":"x"},
            "width":{"scale":"x","band":1,"offset":-1},
            "y":{"scale":"y","field":"y0"},
            "y2":{"scale":"y","field":"y1"},
            "fill":{"scale":"color","field":"c"}
          },
          "update":{"fillOpacity":{"value":1}},
          "hover":{"fillOpacity":{"value":0.5}}
        }
      }
    ]
  }