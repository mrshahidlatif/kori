(this.webpackJsonpvte=this.webpackJsonpvte||[]).push([[0],{153:function(e,t,n){e.exports={panel:"ChartConfigPanel_panel__1OEWt",picker:"ChartConfigPanel_picker__2cC4T",color:"ChartConfigPanel_color__2Pmzu"}},298:function(e,t,n){e.exports={link:"Link_link__jXHvo",potentialLink:"Link_potentialLink__3JiCy"}},299:function(e,t,n){e.exports={container:"ChartGallery_container__pQIvT",draggingArea:"ChartGallery_draggingArea__Wft5P"}},436:function(e){e.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega/v5.json","description":"A simple bar chart with embedded data.","background":"white","padding":5,"width":300,"height":200,"style":"cell","data":[{"name":"source_0","values":[{"category":"Apple","amount":28},{"category":"Amazon","amount":55},{"category":"Facebook","amount":43},{"category":"Netflix","amount":91},{"category":"Microsoft","amount":81},{"category":"Samsung","amount":53},{"category":"Twitter","amount":19},{"category":"Linkedin","amount":87}]},{"name":"data_0","source":"source_0","transform":[{"type":"filter","expr":"isValid(datum[\\"amount\\"]) && isFinite(+datum[\\"amount\\"])"}]}],"marks":[{"name":"marks","type":"rect","style":["bar"],"from":{"data":"data_0"},"encode":{"update":{"fill":{"value":"#4c78a8"},"x":{"scale":"x","field":"category"},"width":{"scale":"x","band":1},"y":{"scale":"y","field":"amount"},"y2":{"scale":"y","value":0}}}}],"scales":[{"name":"x","type":"band","domain":{"data":"data_0","field":"category","sort":true},"range":[0,{"signal":"width"}],"paddingInner":0.1,"paddingOuter":0.05},{"name":"y","type":"linear","domain":{"data":"data_0","field":"amount"},"range":[{"signal":"height"},0],"nice":true,"zero":true}],"axes":[{"scale":"y","orient":"left","gridScale":"x","grid":true,"tickCount":{"signal":"ceil(height/40)"},"domain":false,"labels":false,"maxExtent":0,"minExtent":0,"ticks":false,"zindex":0},{"scale":"x","orient":"bottom","grid":false,"title":"category","labelAngle":90,"labelAlign":"left","labelBaseline":"middle","labelOverlap":true,"zindex":0},{"scale":"y","orient":"left","grid":false,"title":"amount","labelOverlap":true,"tickCount":{"signal":"ceil(height/40)"},"zindex":0}]}')},437:function(e){e.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v4.json","description":"A simple bar chart with embedded data.","width":300,"height":200,"data":{"values":[{"category":"Apple","amount":28},{"category":"Amazon","amount":55},{"category":"Facebook","amount":43},{"category":"Netflix","amount":91},{"category":"Microsoft","amount":81},{"category":"Samsung","amount":53},{"category":"Twitter","amount":19},{"category":"Linkedin","amount":87}]},"mark":"bar","encoding":{"x":{"field":"category","type":"ordinal","axis":{"labelAngle":90}},"y":{"field":"amount","type":"quantitative"}}}')},439:function(e,t,n){e.exports={viewer:"Viewer_viewer__2m97m"}},450:function(e,t,n){e.exports={potentialLinkControls:"ManualLinkControls_potentialLinkControls__3YAy9",panel:"ManualLinkControls_panel__Ke1GF",message:"ManualLinkControls_message__3Av28"}},454:function(e,t,n){e.exports={textSelection:"HighlightTextSelection_textSelection__2uV3y"}},455:function(e,t,n){e.exports={container:"Chart_container__-PcK5"}},456:function(e,t,n){e.exports={editor:"Editor_editor__2c4G6"}},457:function(e,t,n){e.exports={suggestionPanel:"SuggestionPanel_suggestionPanel__2eTnI"}},459:function(e,t,n){e.exports={potentialLinkControls:"PotentialLinkControls_potentialLinkControls__7i3RY"}},494:function(e,t,n){e.exports=n(897)},499:function(e,t,n){},702:function(e,t){},704:function(e,t){},734:function(e,t){},735:function(e,t){},780:function(e,t){},782:function(e,t){},805:function(e,t){},897:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(1),i=n.n(r),c=n(31),o=n.n(c),l=(n(499),n(61)),u=n(940),s=n(942),d=n(944),f=n(902),g=n(945),m=n(981),h=n(18),p=n(5),b=n(472),v=Object(b.a)("1234567890abcdefghijklmnopqrstuvwxyz",10),E=function(e){return e?e+v():v()},y=n(436),O=n(437),x=n(287),A=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=E("chart-");return{type:"CREATE_CHART",chartId:i,attrs:r=Object(a.a)({docId:e,spec:t,liteSpec:n,timestamp:Date.now(),highlight:{channel:"opacity",active:1,inactive:.1}},r,{id:i})}},j=function(e,t){return{type:"UPDATE_CHART",chartId:e,attrs:t}},I=Object(x.a)((function(e){return e.docs}),(function(e){return e.charts}),(function(e,t){return t}),(function(e,t,n){return e[n].charts.map((function(e){return t[e]}))})),S=Object(x.a)((function(e){return e.docs}),(function(e){return e.charts}),(function(e,t){return t}),(function(e,t,n){return e[n].chartsInEditor.map((function(e){return t[e]}))})),k={testchart:{id:"testchart",docId:"testdoc",timestamp:Date.now(),thumbnail:"data:image/png;base64,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",highlight:{channel:"opacity",active:1,inactive:.1},properties:{axes:[{name:"x",field:"category",data:"data_0",type:"ordinal",title:"category"},{name:"y",field:"amount",data:"data_0",type:"linear",title:"amount"}],features:[{value:"Apple",type:"string",field:"category",data:"data_0"},{value:"Amazon",type:"string",field:"category",data:"data_0"},{value:"Facebook",type:"string",field:"category",data:"data_0"},{value:"Netflix",type:"string",field:"category",data:"data_0"},{value:"Microsoft",type:"string",field:"category",data:"data_0"},{value:"Samsung",type:"string",field:"category",data:"data_0"},{value:"Twitter",type:"string",field:"category",data:"data_0"},{value:"Linkedin",type:"string",field:"category",data:"data_0"}]},spec:y,liteSpec:O}},C=function(e,t){return{type:"UPDATE_DOC",docId:e,attrs:t}},w=function(e,t){return{type:"UPDATE_CHARTS_IN_EDITOR",docId:e,charts:t}},T={testdoc:{id:"testdoc",title:"Testing...",timestamp:Date.now(),charts:["testchart"],chartsInEditor:[],sentences:[],editorRawState:{blocks:[{key:"8i090",text:"Welcome to Vis-Text Editor",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:26,style:"BOLD"}],entityRanges:[],data:{}},{key:"42ncd",text:"Here you can compose interactive articles",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:42,style:"UNDERLINE"}],entityRanges:[],data:{}},{key:"327r6",text:"Start dragging the chart from Chart Gallery to the editor and start creating! ;)",type:"unstyled",depth:0,inlineStyleRanges:[{offset:0,length:81,style:"ITALIC"}],entityRanges:[],data:{}}],entityMap:{}}}},D=Object(u.a)((function(e){return{root:{flexGrow:1,marginBottom:e.spacing(3)},title:{flexGrow:1}}})),L=function(){var e=D(),t=Object(h.c)(),n=Object(h.d)((function(e){return e.ui.currentDocId})),a=Object(h.d)((function(e){return e.docs[n]}));return i.a.createElement(s.a,{className:e.root,position:"static",color:"inherit"},i.a.createElement(d.a,{variant:"dense"},i.a.createElement(g.a,{variant:"h6",className:e.title,underline:"none",color:"inherit",component:l.b,to:"/"},"KORI"),n&&i.a.createElement(m.a,{value:a.title,onChange:function(e){t(C(n,{title:e.target.value}))},size:"small",fullWidth:!0,margin:"dense",variant:"filled",style:{marginLeft:"100px",marginRight:"20px"},label:"Document Title"}),i.a.createElement(f.a,{color:"inherit",component:l.b,to:"/docs"},"Docs"),n&&i.a.createElement(r.Fragment,null,i.a.createElement("span",{style:{marginLeft:"10px",marginRight:"10px"}}," | "),i.a.createElement(f.a,{color:"inherit",component:l.b,to:"/docs/".concat(n)},"Edit"),i.a.createElement(f.a,{color:"inherit",component:l.b,to:"/docs/".concat(n,"/view")},"View"))))},M=n(950),N=n(179),R=n(979),P=n(438),_=n.n(P),B=n(949);var W=function(){return i.a.createElement(B.a,{container:!0,spacing:3,justify:"center"},i.a.createElement(B.a,{item:!0,xs:6},i.a.createElement(N.a,{variant:"h2",gutterBottom:!0},"Title"),i.a.createElement(R.a,{marginBottom:2},i.a.createElement(N.a,{variant:"body1",gutterBottom:!0},"Abstract")),i.a.createElement(M.a,{variant:"extended",color:"primary","aria-label":"add",component:l.b,to:"/docs"},i.a.createElement(_.a,null),"Get Started")),i.a.createElement(B.a,{item:!0,xs:6},i.a.createElement(N.a,{variant:"overline",display:"block",gutterBottom:!0},"Teaser Image/Video")))},K=n(899),F=n(285),H=n.n(F),z=function(e){return{type:"SET_SELECTED_LINK",link:e}},U=function(e){return{type:"SET_TEXT_SELECTION",textSelection:e}},G=function(e){return{type:"SET_MANUAL_LINK_ID",linkId:e}},Z=function(e){return{type:"EXIT_MANUAL_LINK_MODE",exit:e}},J=function(e){return{type:"SET_VIEW_MODE",val:e}},V={},X=Object(u.a)((function(e){return{button:{width:"100%",padding:e.spacing(1),margin:e.spacing(1)},paper:{display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.secondary,height:e.spacing(16),width:"100%"}}}));var Y=function(e){var t=X(),n=Object(h.c)();return i.a.createElement(f.a,{className:t.button,component:l.b,to:"/docs/".concat(e.docId),onClick:function(){n({type:"SET_CURRENT_DOC_ID",docId:e.docId})}},i.a.createElement(K.a,{className:t.paper,elevation:2},e.doc.title,i.a.createElement("div",null)))},Q=Object(u.a)((function(e){return{button:{width:"100%",padding:e.spacing(1),margin:e.spacing(1)},paper:{display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.secondary,height:e.spacing(16),width:"100%"}}}));var q=function(){var e=Q(),t=Object(h.c)(),n=Object(h.d)((function(e){return Object.values(e.docs)}));return i.a.createElement(B.a,{container:!0,spacing:1},i.a.createElement(B.a,{item:!0,xs:2},i.a.createElement(f.a,{className:e.button,onClick:function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=E();return{type:"CREATE_DOC",docId:t,attrs:e=Object(a.a)({title:"Untitled",editorRawState:null,timestamp:Date.now(),sentences:[],charts:[],chartsInEditor:[]},e,{id:t})}}();t(e)}},i.a.createElement(K.a,{className:e.paper,variant:"outlined"},i.a.createElement(H.a,null)))),n.map((function(e){return i.a.createElement(B.a,{key:e.id,item:!0,xs:2},i.a.createElement(Y,{doc:e,docId:e.id}))})))},$=n(14),ee=n(49),te=n(21),ne=n(146),ae=n.n(ne),re=n(439),ie=n.n(re),ce=n(290),oe=n.n(ce),le=n(440),ue=n.n(le),se=n(441),de=n.n(se),fe=n(442),ge=n.n(fe),me=(n(641),n(642),n(643),n(11)),he=n.n(me),pe=n(25),be=n(9),ve=n(6),Ee=n(0),ye=n(229),Oe=function(e,t){try{!function(e){var t="geoshape"===e.mark||"arc"===e.mark.type,n=t?{paintbrush:{type:"multi",toggle:!0}}:{brush:{type:"interval",clear:"window:keypress"},paintbrush:{type:"multi",toggle:!0,clear:"window:keypress"}};e.selection=n,t||(e.encoding.opacity={condition:[{selection:"paintbrush",value:1}],value:.1})}(t)}catch(r){}var n=Object(ye.compile)(t).spec;return n.data.forEach((function(e){e.url&&e.url.startsWith("data")&&(e.url="/vis-text-editor/"+e.url)})),n.signals=[].concat(Object(ve.a)(n.signals||[]),[{name:"highlight",value:{data:[],start:0,end:100,enabled:!1}}]),n.marks.forEach((function(t){!function e(t,n){if("group"===t.type)return void(t.marks&&t.marks.forEach((function(t){return e(t,n)})));var r="shape"===t.type&&t.style.includes("geoshape"),i="highlight.enabled===true && (\n        (highlight.rangeField === '' && (indexof(highlight.data, datum[highlight.field])!=-1 ".concat(r?"|| indexof(highlight.data, datum.properties[highlight.field])!=-1)":")",") ||\n        (highlight.rangeField != '' && (indexof(highlight.data, datum[highlight.field])!=-1 ").concat(r?"|| indexof(highlight.data, datum.properties[highlight.field])!=-1)":")"," && (datum[highlight.rangeField] > highlight.rangeMin && datum[highlight.rangeField]<highlight.rangeMax)) ||\n        (datum[highlight.field] > highlight.rangeMin && datum[highlight.field]<highlight.rangeMax) ||\n        (datum[highlight.fieldX] > highlight.rangeX[0] && datum[highlight.fieldX] < highlight.rangeX[1] &&\n            datum[highlight.fieldY] < highlight.rangeY[0] && datum[highlight.fieldY] > highlight.rangeY[1] )\n    )"),c="highlight.enabled===true && !(\n        (highlight.rangeField === '' && (indexof(highlight.data, datum[highlight.field])!=-1 ".concat(r?"|| indexof(highlight.data, datum.properties[highlight.field])!=-1)":")",") ||\n        (highlight.rangeField != '' && (indexof(highlight.data, datum[highlight.field])!=-1 ").concat(r?"|| indexof(highlight.data, datum.properties[highlight.field])!=-1)":")"," && (datum[highlight.rangeField] > highlight.rangeMin && datum[highlight.rangeField]<highlight.rangeMax))\n    )"),o=t.encode.update[n.channel],l=[{test:i,value:n.active},{test:c,value:n.inactive}];t.encode.update=Object(a.a)({},t.encode.update,Object(p.a)({},n.channel,l.concat(Object(Ee.A)(o)?o:[])))}(t,e)})),n};var xe=n(230),Ae=function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=function(){for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];var o=Date.now();t&&o<t+a?(clearTimeout(n),n=setTimeout((function(){t=o,e.apply(void 0,i)}),a)):(t=o,e.apply(void 0,i))};return r},je=n(112),Ie=n(113),Se=n(153),ke=n.n(Se),Ce=n(969),we=n(987),Te=n(980);function De(e){var t=Object(h.c)(),n={opacity:{active:1,inactive:.1},fill:{active:"#1f77b4",inactive:"#c7c7c7"}},c=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],o=e.chart.highlight,l=Object(r.useState)(o.active),u=Object($.a)(l,2),s=u[0],d=u[1],f=Object(r.useState)(o.inactive),g=Object($.a)(f,2),m=g[0],p=g[1];function b(n,r){d(r),t(j(e.chart.id,{highlight:Object(a.a)({},o,{active:r})}))}function v(n,r){p(r),t(j(e.chart.id,{highlight:Object(a.a)({},o,{inactive:r})}))}return i.a.createElement("div",null,i.a.createElement(R.a,{zIndex:"modal",className:ke.a.panel,top:40,left:"45%",onMouseDown:function(e){return e.stopPropagation()}},i.a.createElement(R.a,{component:K.a,p:2},i.a.createElement(B.a,{container:!0,direction:"column",spacing:2},i.a.createElement(B.a,{item:!0},i.a.createElement(N.a,{gutterBottom:!0},"Highlight Option")),i.a.createElement(B.a,{item:!0},i.a.createElement(N.a,{variant:"caption"},"Channel"),i.a.createElement(R.a,null,i.a.createElement(Te.a,{value:o.channel,onChange:function(r){var i=r.target.value;if(i!==o.channel){var c=n[i];d(c.active),p(c.inactive),t(j(e.chart.id,{highlight:Object(a.a)({channel:i},n[i])}))}}},Object.keys(n).map((function(e){return i.a.createElement(Ce.a,{key:e,value:e},e)}))))),i.a.createElement(B.a,{item:!0},i.a.createElement(N.a,{variant:"caption"},"Active"),"opacity"===o.channel?i.a.createElement(we.a,{value:s,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",min:0,max:1,step:.05,onChange:function(e,t){d(t)},onChangeCommitted:b}):i.a.createElement(R.a,{className:ke.a.picker},c.map((function(e){return i.a.createElement(R.a,{className:ke.a.color,bgcolor:e,border:e===s?1:0,onMouseUp:function(t){return b(0,e)}})}))),i.a.createElement(N.a,{variant:"caption"},"Inactive"),"opacity"===o.channel?i.a.createElement(we.a,{value:m,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",min:0,max:1,step:.05,onChange:function(e,t){p(t)},onChangeCommitted:v}):i.a.createElement(R.a,{className:ke.a.picker},c.map((function(e){return i.a.createElement(R.a,{className:ke.a.color,bgcolor:e,border:e===m?1:0,onMouseUp:function(t){return v(0,e)}})}))))))))}var Le=n(450),Me=n.n(Le),Ne=n(970),Re=n(451),Pe=n.n(Re),_e=n(972),Be=n(982),We=n(971),Ke=n(948),Fe=function(e,t){return{type:"CREATE_LINKS",links:t.map((function(t){return Object(a.a)({},t,{timestamp:Date.now(),docId:e,id:E("link-")})}))}},He=function(e){return{type:"DEACTIVATE_LINK",linkId:e}};function ze(e){var t=Object(h.c)(),n=window.getSelection(),a=n.rangeCount>0?n.getRangeAt(0).getBoundingClientRect():null,r=e.selectedChart.properties.features.map((function(e){return e.field})),c=Object(ve.a)(new Set(r));var o=i.a.useState(!1),l=Object($.a)(o,2),u=l[0],s=l[1],d=i.a.useRef(null),g=i.a.useState(0),m=Object($.a)(g,2),p=m[0],b=m[1],v=function(e){d.current&&d.current.contains(e.target)||s(!1)};return a&&e.textSelection?i.a.createElement(R.a,{right:0,top:0,className:Me.a.panel},i.a.createElement(K.a,{elevation:1},i.a.createElement(Ne.a,{size:"small",variant:"text",fullWidth:!0,"aria-label":"small button group"},i.a.createElement(f.a,{ref:d,"aria-controls":u?"split-button-menu":void 0,"aria-expanded":u?"true":void 0,"aria-label":"Select an axis","aria-haspopup":"menu",onClick:function(){s((function(e){return!e}))},endIcon:i.a.createElement(Pe.a,null)},c[p])),i.a.createElement(Ne.a,{size:"small",variant:"text",fullWidth:!0,"aria-label":"small button group"},i.a.createElement(f.a,{onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),function(n,a,r,i){console.log("View Data",i);var o=null;if(a.length>0){for(var l=[],u=0;u<a.length;u++)for(var s=0;s<i.length;s++)a[u].values[0]===i[s]._vgsid_&&l.push(i[s]);var d=[];l.forEach((function(e){e.hasOwnProperty("properties")&&e.properties[c[p]]?d.push(e.properties[c[p]]):d.push(e[c[p]])})),o={text:n.text,feature:{field:c[p]},chartId:e.selectedChart.id,active:!1,type:"multipoint",data:d,startIndex:e.textSelection.startIndex,endIndex:e.textSelection.endIndex,sentence:"",isConfirmed:!0}}if(r.length>0){var f,g,m,h,b;if(2===r[0].fields.length&&"R"===r[0].fields[0].type&&"R"===r[0].fields[1].type)g=r[0].fields[0].field,m=r[0].fields[1].field,h=r[0].values[0],b=r[0].values[1],f=[];else{var v=r[0].fields.findIndex((function(e){return e.field===c[p]&&"E"===e.type}));v>-1&&(f=r[0].values[v])}o={text:n.text,feature:{field:c[p]},chartId:e.selectedChart.id,active:!1,type:"brush",data:f,startIndex:e.textSelection.startIndex,endIndex:e.textSelection.endIndex,sentence:"",isConfirmed:!0,fieldX:g,rangeX:h,fieldY:m,rangeY:b}}if(null!==o){var E=Fe(e.currentDoc.id,[o]);t(E),t(G(E.links[0].id))}else t(G(null))}(e.textSelection,e.selectedMarks,e.brush,e.viewData),t(U(null)),t(Z(!0))}},"Accept"),i.a.createElement(f.a,{onMouseDown:function(e){t(Z(!0)),e.preventDefault(),e.stopPropagation(),t(U(null))}},"Cancel")),i.a.createElement(We.a,{open:u,anchorEl:d.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return i.a.createElement(Be.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),i.a.createElement(K.a,null,i.a.createElement(_e.a,{onClickAway:v},i.a.createElement(Ke.a,{id:"split-button-menu"},c.map((function(e,t){return i.a.createElement(Ce.a,{key:e,selected:t===p,onClick:function(e){return function(e,t){b(t),s(!1)}(0,t)}},e)}))))))})))):""}var Ue=n(973),Ge=n(453),Ze=n.n(Ge),Je=Object(r.memo)((function(e){var t=e.block,n=e.blockProps,c=(e.customStyleMap,e.customStyleFn,e.decorator,e.forceSelection,e.offsetKey,e.selection),o=(e.tree,e.contentState,e.blockStyleFn,e.preventScroll,e.style),l=Object(be.a)(e,["block","blockProps","customStyleMap","customStyleFn","decorator","forceSelection","offsetKey","selection","tree","contentState","blockStyleFn","preventScroll","style"]),u=(Object(h.c)(),Object(r.useState)(null)),s=Object($.a)(u,2),d=s[0],f=s[1],g=Object(r.useRef)(null),m=Object(r.useRef)(null),p=Object(r.useState)(1),b=Object($.a)(p,2),v=b[0],E=b[1],y=Object(h.d)((function(e){return e.charts[n.id]})),O=Object(h.d)((function(e){return e.ui.textSelection})),x=Object(ee.f)().docId,A=Object(h.d)((function(e){return e.docs[x]})),j=Object(h.d)((function(e){return e.docs[x].chartsInEditor})),I=Object(r.useState)([]),S=Object($.a)(I,2),k=S[0],C=S[1],w=Object(r.useState)([]),T=Object($.a)(w,2),D=T[0],L=T[1],M=Object(r.useState)([]),N=Object($.a)(M,2),R=N[0],P=N[1],_=Object(r.useState)(!1),B=Object($.a)(_,2),W=B[0],K=B[1],F=Object(h.d)((function(e){return e.ui.viewMode})),H=Object(h.d)((function(e){return Object.values(e.links).filter((function(e){return e.chartId===n.id}))}),h.b),z=Object(r.useMemo)((function(){return Oe(y.highlight,JSON.parse(JSON.stringify(y.liteSpec)))}),[y.spec,y.highlight]);function U(e,t){if(e){var n=g.current.getBoundingClientRect().width,a=t*n;e.resize().height(a).width(n).runAsync()}}Object(r.useEffect)((function(){(function(){var e=Object(pe.a)(he.a.mark((function e(){var t,n,a,r,i,c,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(je.a)(z),e.next=3,new Ie.a(t).runAsync();case 3:return n=e.sent,e.next=6,n.toCanvas();case 6:return a=e.sent,r=a.height/a.width,E(r),e.next=11,Object(xe.default)(m.current,z,{actions:!1});case 11:i=e.sent,c=i.view,o=y.liteSpec.data.hasOwnProperty("url")?c.data("source_0"):c.data("data_0"),L(o);try{c.addDataListener("paintbrush_store",(function(e,t){console.log(e,t),C(k.concat(t))})),c.addDataListener("brush_store",(function(e,t){console.log(e,t),P(R.concat(t))}))}catch(l){}f(c);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[z]),Object(r.useEffect)(Ae(Object(pe.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(d,v);case 1:case"end":return e.stop()}}),e)}))),500)),Object(r.useEffect)((function(){d&&(H.some((function(e){return e.active}))?H.filter((function(e){return e.active})).forEach((function(e){d.signal("highlight",{type:e.type,data:e.data,field:e.feature.field,enabled:!0,rangeField:e.rangeField||"",rangeMin:e.rangeMin||0,rangeMax:e.rangeMax||0,fieldX:e.fieldX||"",fieldY:e.fieldY||"",rangeX:e.rangeX||[0,0],rangeY:e.rangeY||[0,0]}).runAsync()})):d.signal("highlight",{enabled:!1}).runAsync())}),[d,H]);var G=!F&&c.getAnchorKey()===t.getKey(),Z=j.indexOf(y.id)>-1&&!G&&O?Object(a.a)({},o,{position:"relative",borderStyle:"solid",borderColor:"gray"}):Object(a.a)({},o,{position:"relative"});return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",Object.assign({ref:g},l,{style:Z}),i.a.createElement("div",null,G&&i.a.createElement(Ue.a,{onMouseDown:function(){K(!W)},"aria-label":"settings"},i.a.createElement(Ze.a,null))),i.a.createElement("div",{ref:m}),G&&W&&i.a.createElement(De,{chart:y}),G&&O&&i.a.createElement(ze,{currentDoc:A,selectedChart:y,textSelection:O,selectedMarks:k,brush:R,viewData:D})))})),Ve=n(67),Xe=oe()(),Ye=de()(),Qe=ue()(),qe=ge()(),$e=Qe.AlignmentTool,et=Xe.Toolbar,tt=[Ye,qe,Qe,Xe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.decorator?e.decorator(Je):Je;return{blockRendererFn:function(e,n){var r=n.getEditorState;if("atomic"===e.getType()){var i=r().getCurrentContent().getEntity(e.getEntityAt(0)),c=i.getData();if("CHART"===i.getType())return{component:t,editable:!1,props:Object(a.a)({},c)}}return null},ChartBlock:Je}}({decorator:Object(ne.composeDecorators)(Ye.decorator,qe.decorator,Qe.decorator)})];function nt(){return i.a.createElement(r.Fragment,null,i.a.createElement(et,null,(function(e){return i.a.createElement("div",null,i.a.createElement(Ve.BoldButton,e),i.a.createElement(Ve.ItalicButton,e),i.a.createElement(Ve.UnderlineButton,e),i.a.createElement(Ve.CodeButton,e),i.a.createElement(ce.Separator,e),i.a.createElement(Ve.HeadlineOneButton,e),i.a.createElement(Ve.HeadlineTwoButton,e),i.a.createElement(Ve.HeadlineThreeButton,e),i.a.createElement(Ve.UnorderedListButton,e),i.a.createElement(Ve.OrderedListButton,e),i.a.createElement(Ve.BlockquoteButton,e),i.a.createElement(Ve.CodeBlockButton,e))})),i.a.createElement($e,null))}var at=n(298),rt=n.n(at);var it=n(454),ct=n.n(it);var ot=[{strategy:function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"TEXT_SELECTION"===n.getEntity(t).getType()}),t)},component:function(e){return i.a.createElement("span",{className:ct.a.textSelection,"data-offset-key":e.offsetKey},e.children)}},{strategy:function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()}),t)},component:function(e){var t=Object(h.c)(),n=Object(h.d)((function(e){return e.links})),a=rt.a.potentialLink,r=e.contentState.getEntity(e.entityKey).getData();return n[r.id]&&n[r.id].isConfirmed&&(a=rt.a.link),i.a.createElement("span",{className:a,onMouseOver:function(){t({type:"ACTIVATE_LINK",linkId:r.id})},onMouseLeave:function(){He(r.id),t(He(r.id))},onClick:function(){t(z(r))},"data-offset-key":e.offsetKey},e.children)}}];function lt(e){Object(h.c)();var t=Object(ee.f)().docId,n=(Object(h.d)((function(e){return e.docs[t]})),Object(h.d)((function(e){return e.docs[t].editorRawState}))),c=Object(r.useRef)(null),o=null===n?te.EditorState.createEmpty().getCurrentContent():Object(te.convertFromRaw)(function(e){var t=Object(a.a)({},e.entityMap);return Object.keys(t).forEach((function(e){"LINK"===t[e].type&&(t[e].data.isConfirmed||delete t[e])})),{blocks:e.blocks,entityMap:t}}(n)),l=Object(r.useState)(te.EditorState.createWithContent(o)),u=Object($.a)(l,2),s=u[0],d=u[1],f=e.viewMode;return i.a.createElement(r.Fragment,null,i.a.createElement("div",{className:ie.a.viewer},i.a.createElement(ae.a,{editorState:s,plugins:tt,onChange:function(e){d(e)},handleKeyCommand:function(e){var t=te.RichUtils.handleKeyCommand(s,e);return t?(d(t),"handled"):"not-handled"},decorators:ot,ref:c,readOnly:f})))}function ut(e){return console.log("Viewer Mode Active!!!"),Object(h.c)()(J(!0)),i.a.createElement(B.a,{container:!0,spacing:2},i.a.createElement(B.a,{item:!0,xs:8},i.a.createElement(lt,{viewMode:!0})))}var st=n(299),dt=n.n(st),ft=n(455),gt=n.n(ft);var mt=Object(r.memo)((function(e){var t=Object(r.useRef)(null),n=Object(r.useMemo)((function(){return JSON.parse(JSON.stringify(e.spec))}),[e.spec]);Object(r.useEffect)((function(){Object(xe.default)(t.current,n).then((function(e){}))}),[n]);var a=Object(r.useState)(!1),c=Object($.a)(a,2),o=c[0],l=c[1];return i.a.createElement(K.a,{className:gt.a.container,elevation:o?2:0},i.a.createElement("div",{draggable:!0,onDragStart:function(t){t.dataTransfer.setData("chartId",e.id)},onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)}},i.a.createElement("div",{ref:t})))})),ht=n(985),pt=function(e){return bt.apply(this,arguments)};function bt(){return(bt=Object(pe.a)(he.a.mark((function e(t){var n,a,r,i,c,o,l,u,s,d,f,g,m,h,p,b,v,E,y,O,x,A,j,I,S,k,C,w,T;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data){e.next=2;break}return e.abrupt("return",[]);case 2:return n={},a=Object(je.a)(t),e.next=6,new Ie.a(a).runAsync();case 6:r=e.sent,i=r.getState({data:Ee.gb,signals:Ee.r,recurse:!0}),c=!0,o=!1,l=void 0,e.prev=11,u=t.marks[Symbol.iterator]();case 13:if(c=(s=u.next()).done){e.next=73;break}d=s.value,f=i.data[d.name].map((function(e){return e.datum})),g=!0,m=!1,h=void 0,e.prev=19,p=f[Symbol.iterator]();case 21:if(g=(b=p.next()).done){e.next=56;break}v=b.value,E="shape"===d.type&&d.style.includes("geoshape"),y=Object.entries(v),E&&(y=y.concat(Object.entries(v.properties))),O=!0,x=!1,A=void 0,e.prev=29,j=y[Symbol.iterator]();case 31:if(O=(I=j.next()).done){e.next=39;break}if(S=Object($.a)(I.value,2),k=S[0],C=S[1],Object(Ee.H)(C)){e.next=35;break}return e.abrupt("continue",36);case 35:n[C]={value:C,type:"string",field:k,data:v.name};case 36:O=!0,e.next=31;break;case 39:e.next=45;break;case 41:e.prev=41,e.t0=e.catch(29),x=!0,A=e.t0;case 45:e.prev=45,e.prev=46,O||null==j.return||j.return();case 48:if(e.prev=48,!x){e.next=51;break}throw A;case 51:return e.finish(48);case 52:return e.finish(45);case 53:g=!0,e.next=21;break;case 56:e.next=62;break;case 58:e.prev=58,e.t1=e.catch(19),m=!0,h=e.t1;case 62:e.prev=62,e.prev=63,g||null==p.return||p.return();case 65:if(e.prev=65,!m){e.next=68;break}throw h;case 68:return e.finish(65);case 69:return e.finish(62);case 70:c=!0,e.next=13;break;case 73:e.next=79;break;case 75:e.prev=75,e.t2=e.catch(11),o=!0,l=e.t2;case 79:e.prev=79,e.prev=80,c||null==u.return||u.return();case 82:if(e.prev=82,!o){e.next=85;break}throw l;case 85:return e.finish(82);case 86:return e.finish(79);case 87:return t.data.forEach((function(e){r.data(e.name)})),w=Et(t),t.scales.filter((function(e){return["ordinal","band","point"].includes(e.type)})).forEach((function(e){t.data.forEach((function(t){r.data(t.name).forEach((function(a){if(e.domain.field){var r=e.domain.field,i=Object(Ee.C)(a[r])?a[r]:Object(Ee.eb)(a[r]),c=Object(Ee.C)(i)?"date":"string";n[i]={value:i,type:c,field:r,data:t.name}}else e.domain.fields&&e.domain.fields.forEach((function(e){var r=Object(Ee.H)(e)?e:e.field,i=Object(Ee.C)(a[r])?a[r]:Object(Ee.eb)(a[r]),c=Object(Ee.C)(i)?"date":"string";n[i]={value:i,type:c,field:r,data:t.name}}))}))})),Object(Ee.A)(e.domain)&&e.domain.forEach((function(a){a=Object(Ee.C)(a)?a:Object(Ee.eb)(a);var r=Object(Ee.C)(a)?"date":"string",i=vt(t,e.name);n[a]={value:a,type:r,field:i,data:null}}))})),T={axes:Object.values(w),features:Object.values(n)},e.abrupt("return",T);case 92:case"end":return e.stop()}}),e,null,[[11,75,79,87],[19,58,62,70],[29,41,45,53],[46,,48,52],[63,,65,69],[80,,82,86]])})))).apply(this,arguments)}var vt=function(e,t){var n=!0,a=!1,r=void 0;try{for(var i,c=e.marks[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var o=i.value;if(o.encode.enter)for(var l=0,u=Object.entries(o.encode.enter);l<u.length;l++){var s=Object($.a)(u[l],2)[1];if(s.scale===t&&s.field)return s.field}if(o.encode.update)for(var d=0,f=Object.entries(o.encode.update);d<f.length;d++){var g=Object($.a)(f[d],2)[1];if(g.scale===t&&g.field)return g.field}}}catch(m){a=!0,r=m}finally{try{n||null==c.return||c.return()}finally{if(a)throw r}}return null},Et=function(e){var t={};return e.scales.forEach((function(n){var a=n.name,r=Object(Ee.A)(n.domain.fields)&&n.domain.fields[0].hasOwnProperty("field")?n.domain.fields[0].field:Object(Ee.A)(n.domain.fields)?n.domain.fields:n.domain.field,i=n.domain.data,c=n.type,o=e.axes?e.axes.filter((function(e){return e.scale===a&&void 0!==e.title||null})):void 0,l=Object(Ee.A)(o)&&o.length>0&&o[0].hasOwnProperty("title")?o[0].title:r||void 0,u={name:a,field:r,data:i,type:c,title:l};t[a]=u})),t},yt=function(){var e=Object(pe.a)(he.a.mark((function e(t){var n,a,r,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(je.a)(t),e.next=3,new Ie.a(n).runAsync();case 3:return a=e.sent,e.next=6,a.toImageURL("png");case 6:return r=e.sent,e.next=9,Ot(r);case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ot(e){return new Promise((function(t,n){var a=new Image;a.src=e,a.onload=function(){var e=50/a.height*a.width,n=document.createElement("canvas"),r=n.getContext("2d");n.width=e,n.height=50,r.drawImage(this,0,0,e,50),t(n.toDataURL())}}))}function xt(e){var t=Object(h.c)(),n=Object(ee.f)().docId,a=Object(r.useState)(!1),c=Object($.a)(a,2),o=c[0],l=c[1],u=Object(r.useState)(null),s=Object($.a)(u,2),d=s[0],f=s[1],g=Object(h.d)((function(e){return I(e,n)}));return i.a.createElement("div",{className:dt.a.container,onDragEnter:function(){l(!0)},onDragLeave:function(){l(!1)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){e.preventDefault(),e.stopPropagation();var a=e.dataTransfer.files[0];if(a){if(a.type.match("application/json")){var r=new FileReader;r.onload=function(){var e=Object(pe.a)(he.a.mark((function e(a){var r,i,c,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(a.target.result),(i=Object(ye.compile)(r).spec).data.forEach((function(e){e.url&&e.url.startsWith("data")&&(e.url="/vis-text-editor/"+e.url)})),e.next=5,yt(i);case 5:return c=e.sent,e.next=8,pt(i);case 8:o=e.sent,t(A(n,i,r,{properties:o,thumbnail:c}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.readAsText(a)}else f("Wrong format!");l(!1)}}},i.a.createElement(ht.a,{open:null!==d,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:5e3,onClose:function(){f(null)},message:d}),i.a.createElement("div",{className:dt.a.draggingArea,style:{opacity:o?.5:0}},"Drop Vega-lite Spec"),g.map((function(e){return i.a.createElement(mt,{key:e.id,id:e.id,spec:e.spec})})))}var At=n(456),jt=n.n(At),It=n(457),St=n.n(It),kt=n(901),Ct=n(903),wt=n(976),Tt=n(975),Dt=n(983),Lt=n(974),Mt=n(458),Nt=n.n(Mt);function Rt(e){var t=Object(h.c)(),n=window.getSelection(),a=n.rangeCount>0?n.getRangeAt(0).getBoundingClientRect():null;function r(t,n){n.preventDefault(),n.stopPropagation(),e.onSelected(t)}return a?i.a.createElement(R.a,{zIndex:"modal",left:a.x+20,top:a.y+20,className:St.a.suggestionPanel},i.a.createElement(K.a,null,i.a.createElement(kt.a,null,i.a.createElement(Ct.a,{button:!0,onMouseDown:function(){e.onCreateLinkSelect(),t(U(e.textSelection))}},i.a.createElement(Lt.a,null,i.a.createElement(Nt.a,null)),"Create Link"),e.suggestions.slice(0,5).map((function(e,t){return i.a.createElement(Ct.a,{key:t,button:!0,dense:!0,onMouseDown:r.bind(null,e)},i.a.createElement(Tt.a,null,i.a.createElement(Dt.a,{alt:"chart",src:e.thumbnail})),i.a.createElement(wt.a,{primary:e.text,secondary:i.a.createElement(N.a,{component:"span",variant:"caption",color:"textSecondary"},e.chartId)}))}))))):""}var Pt=n(459),_t=n.n(Pt);function Bt(e){var t=Object(h.c)(),n=window.getSelection(),a=n.rangeCount>0?n.getRangeAt(0).getBoundingClientRect():null;return a&&e.selectedLink&&!e.selectedLink.isConfirmed?i.a.createElement(R.a,{zIndex:"modal",left:a.x+10,top:a.y+10,className:_t.a.potentialLinkControls},i.a.createElement(K.a,{elevation:1},i.a.createElement(Ne.a,{size:"small",variant:"text",fullWidth:!0,"aria-label":"small button group"},i.a.createElement(f.a,{onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),t({type:"CONFIRM_LINK",linkId:e.selectedLink.id}),e.onAccept(e.selectedLink.id),t(z(null))}},"Accept"),i.a.createElement(f.a,{onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),e.onDiscard(e.selectedLink),t(z(null))}},"Discard")))):""}var Wt=function(e,t,n){var a;return 0===t.length?[]:(a=[]).concat.apply(a,Object(ve.a)(e.map((function(e){return e.properties.features.filter((function(e){return"string"===e.type&&e.value?e.value.toLowerCase().startsWith(t.toLowerCase()):"date"===e.type&&e.value.toString().toLowerCase().includes(t.toLowerCase())})).map((function(t){return{chartId:e.id,thumbnail:e.thumbnail,feature:t,text:t.value.toString(),startIndex:n}}))}))))},Kt=n(460),Ft=n.n(Kt),Ht=n(461),zt=n(148),Ut=function(e){var t,n=null;switch(e.entities.hasOwnProperty("intent")&&e.entities.intent[0].confidence>.8&&(t=e.entities.intent[0].value),t){case"range_selection":n={intent:t,min:e.entities.hasOwnProperty("min")?e.entities.min[0].value:-1/0,max:e.entities.hasOwnProperty("max")?e.entities.max[0].value:1/0}}return n},Gt=n(42),Zt=n.n(Gt),Jt=(n(106),n(691)),Vt=new Ht.Wit({accessToken:"LKKJIM2L7TQ6JJJCUBGDUSQGAI5SZB7N"}),Xt=function(){var e=Object(pe.a)(he.a.mark((function e(t,n){var a,r,i,c,o,l,u,s,d,f;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=!0,i=!1,c=void 0,e.prev=4,o=t[Symbol.iterator]();case 6:if(r=(l=o.next()).done){e.next=22;break}return u=l.value,a=a.concat(Yt(u,n).filter((function(e){return null!==e}))),e.next=11,qt(u,n);case 11:if(null!==(s=e.sent)&&a.push(s),a=a.filter((function(e){return void 0!==e})),!(null!==s&&void 0!==s&&a.length>1)){e.next=19;break}return e.next=17,en(n,a);case 17:(d=e.sent).length>1&&(f=nn(n,d,a),a.push(f));case 19:r=!0,e.next=6;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),i=!0,c=e.t0;case 28:e.prev=28,e.prev=29,r||null==o.return||o.return();case 31:if(e.prev=31,!i){e.next=34;break}throw c;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",a);case 37:case"end":return e.stop()}}),e,null,[[4,24,28,36],[29,,31,35]])})));return function(t,n){return e.apply(this,arguments)}}(),Yt=function(e,t){var n=[];e.properties.features.forEach((function(e){var a=Qt(t.text,e.value);"string"===e.type&&a[0]>.75&&n.push({userTyped:a[1],matchedFeature:e})}));var a=[];return n.length>0&&n.forEach((function(n){var r=t.startIndex+t.text.indexOf(n.userTyped),i=r+n.userTyped.length,c={text:n.userTyped,feature:n.matchedFeature,chartId:e.id,active:!1,type:"point",data:[isNaN(Number(n.matchedFeature.value))?n.matchedFeature.value:Number(n.matchedFeature.value)],startIndex:r,endIndex:i,sentence:t.text,isConfirmed:!1};a.push(c)})),a};function Qt(e,t){if("string"===typeof t){var n=t.split(/[_-\s]+/).length,a=1==n?e.split(" "):function(e,t){var n=e.split(" "),a=[];if(n.length>=t)for(var r=t-1;r<n.length;r++){for(var i="",c=t-1;c>=0;c--)i+=0===c?n[r-c]:n[r-c]+" ";a.push(i)}else a=n;return a}(e,n),r=Ft()(a);return null!==r.get(t)?r.get(t).shift():[0,""]}return[0,""]}function qt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(pe.a)(he.a.mark((function e(t,n){var a,r,i,c,o,l,u;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,r=null,t.properties.axes.forEach((function(e){var t=Qt(n.text,e.title);t[0]>.75&&(a={userTyped:t[1],matchedFeature:e})})),null===a){e.next=22;break}if(!(n.text.length>280)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Vt.message(n.text,{});case 8:if(i=e.sent,null===(c=Ut(i))){e.next=22;break}if(Math.abs(c.min)!=1/0||Math.abs(c.max)!=1/0){e.next=13;break}return e.abrupt("return");case 13:e.t0=c.intent,e.next="range_selection"===e.t0?16:21;break;case 16:return o=n.text.indexOf(a.userTyped),l=c.max!==1/0?-1!==n.text.indexOf(c.max)?n.text.indexOf(c.max)+c.max.toString().length:n.text.length-1:c.min!==-1/0&&-1!==n.text.indexOf(c.min)?n.text.indexOf(c.min)+c.min.toString().length:n.text.length-1,u=n.text.substring(o,l),r={text:u,feature:a.matchedFeature,chartId:t.id,active:!1,type:"range",data:Object(zt.isArray)(a.matchedFeature.field)?a.matchedFeature.field:[a.matchedFeature.field],startIndex:o>l?n.startIndex+l:n.startIndex+o,endIndex:l<o?n.startIndex+o:n.startIndex+l,sentence:n.text,rangeMin:c.min,rangeMax:c.max,isConfirmed:!1},e.abrupt("break",21);case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=Object(pe.a)(he.a.mark((function e(t,n){var a,r,i,c,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.map((function(e){return e.text})),r={text:t.text,links:a},i={uri:"http://localhost:8885/processjson",method:"POST",headers:{Accept:"application/json","Accept-Charset":"utf-8"},json:!0,body:r},c=Zt.a.promisify(Jt),e.next=6,c(i);case 6:return o=e.sent,e.abrupt("return",o.body.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e,t,n){var a;if(e&&!(n.length<2)&&t){var r=(n=n.filter((function(e){var n=!1;return t.forEach((function(t){e.text===t&&(n=!0)})),n}))).filter((function(e){return"point"===e.type})),i=n.filter((function(e){return"range"===e.type}))[0];if(i){var c=n.reduce((function(e,t){return e.startIndex<t.startIndex?e:t})),o=n.reduce((function(e,t){return e.endIndex>t.endIndex?e:t})),l=c.startIndex,u=o.endIndex;return{text:e.text.substring(c.startIndex,o.endIndex),feature:r[0].feature,chartId:r[0].chartId,active:!1,type:"group",data:r.map((function(e){return e.data[0]})),startIndex:l,endIndex:u,sentence:e.text,rangeField:(null===i||void 0===i?void 0:null===(a=i.feature)||void 0===a?void 0:a.field)?i.feature.field:"",rangeMin:i.rangeMin,rangeMax:i.rangeMax,isConfirmed:!1}}}}var an=function(e,t,n){return e.forEach((function(e){t=rn(e,t,n)})),t},rn=function(e,t,n){var r=t.getCurrentContent(),i=(n=n||t.getSelection()).getAnchorOffset(),c=n.getAnchorKey(),o=e.startIndex,l=e.endIndex;o<0&&(o=0),(e=JSON.parse(JSON.stringify(e))).blockKey=c;var u=r.createEntity("LINK","MUTABLE",Object(a.a)({},e)),s=u.getLastCreatedEntityKey(),d=n.merge({anchorOffset:o,focusOffset:l});u=te.Modifier.replaceText(t.getCurrentContent(),d,e.text,[],s);var f=l>i?l:i,g=te.EditorState.push(t,u,"apply-entity"),m=g.getSelection().merge({focusOffset:f,anchorOffset:f});return g=te.EditorState.moveSelectionToEnd(g),g=te.EditorState.forceSelection(g,m)},cn=function(e){var t=e.getCurrentContent(),n=e.getSelection(),a=n.getAnchorKey(),r=t.getBlockForKey(a),i=n.getAnchorOffset(),c=r.getText().substr(0,i),o=n.getAnchorOffset(),l=c.split(" ").slice(-1).pop();return{text:l,startIndex:o-l.length,endIndex:o}},on=function(e,t,n){n=n||"\n";var a=t.getStartKey(),r=t.getEndKey(),i=e.getBlockMap(),c=!1,o=i.skipUntil((function(e){return e.getKey()===a})).takeUntil((function(e){var t=c;return e.getKey()===r&&(c=!0),t})).map((function(e){var n=e.getKey(),i=e.getText(),c=0,o=i.length;return n===a&&(c=t.getStartOffset()),n===r&&(o=t.getEndOffset()),i=i.slice(c,o)})).join(n),l=t.getStartOffset(),u=t.getEndOffset();return t.isBackward&&(l=t.getEndOffset(),u=t.getStartOffset()),t.getStartOffset()!==t.getEndOffset()?{text:o,startIndex:l,endIndex:u}:null},ln=function(e,t){var n=t.getCurrentContent(),a=te.Modifier.applyEntity(n,e,null),r=te.EditorState.push(t,a,"apply-entity");return r=te.EditorState.moveSelectionToEnd(r)},un=function(e){var t=e.getCurrentContent(),n=e.getSelection().getAnchorKey();return t.getBlockForKey(n).getText()},sn=function(e,t){var n=Object(a.a)({},e.entityMap);return t=t.filter((function(e){var t=!0;return Object.keys(n).forEach((function(a){"LINK"===n[a].type&&n[a].data.isConfirmed&&n[a].data.text===e.text&&(t=!1)})),t}))},dn=n(462);function fn(e){var t=Object(h.c)(),n=Object(ee.f)().docId,c=Object(h.d)((function(e){return e.docs[n]})),o=Object(h.d)((function(e){return I(e,n)})),l=Object(h.d)((function(e){return e.docs[n].editorRawState})),u=Object(h.d)((function(e){return S(e,n)})),s=Object(h.d)((function(e){return e.ui.selectedLink})),d=Object(h.d)((function(e){return e.links})),f=Object(h.d)((function(e){return e.ui.exitManualLink})),g=Object(h.d)((function(e){return e.ui.manualLinkId})),m=Object(h.d)((function(e){return e.ui.textSelection})),p=Object(r.useState)(m),b=Object($.a)(p,2),v=b[0],y=b[1],O=Object(r.useRef)(null),x=Object(r.useState)([]),A=Object($.a)(x,2),j=A[0],k=A[1],T=null===l?te.EditorState.createEmpty().getCurrentContent():Object(te.convertFromRaw)(l),D=Object(r.useState)(te.EditorState.createWithContent(T)),L=Object($.a)(D,2),M=L[0],N=L[1],R=Object(r.useState)(null),P=Object($.a)(R,2),_=P[0],B=P[1],W=Object(r.useState)(""),K=Object($.a)(W,2),F=K[0],H=K[1],U=Object(r.useState)(null),J=Object($.a)(U,2),V=J[0],X=J[1],Y=Object(r.useRef)();function Q(){return(Q=Object(pe.a)(he.a.mark((function e(n){var a,r,i,o,l,d,f,g,m,h,p,b;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(n),a=Object(te.convertToRaw)(n.getCurrentContent()),(r=cn(n)).text.startsWith("@")?(i=Wt(u,r.text.slice(1),r.startIndex),k(i)):k([]),o=a.entityMap,Object.keys(o).length!==u.length&&(l=Object.values(o).reduce((function(e,t){return"CHART"===t.type&&e.push(t.data.id),e}),[]),t(w(c.id,l))),d=n.getSelection(),f=d.getAnchorOffset(),g=d.getAnchorKey(),s&&g&&(g!==s.blockKey||f<s.startIndex||f>s.endIndex)&&t(z(null)),m=on(n.getCurrentContent(),d," "),y(m),m&&(0!==(h=Wt(u,m.text.trim(),m.startIndex)).length?k(h):k([{text:"NoLinkFound!"}])),!V){e.next=20;break}return e.next=17,Xt(u,V);case 17:(p=e.sent).length>0&&(b=Fe(c.id,p),n=an(b.links,n),N(n),t(b)),X(null);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){return Y=setInterval((function(){var e,t;console.log("Checking for autosuggestions every:",3e4),(null===O||void 0===O?void 0:null===(e=O.current)||void 0===e?void 0:null===(t=e.props)||void 0===t?void 0:t.editorState)&&H(un(O.current.props.editorState))}),3e4),function(){return clearInterval(Y.current)}}),[]),Object(r.useEffect)((function(){f&&(N(ln(_,M)),O.current.focus(),t(Z(!1)),B(null))}),[f]),Object(r.useEffect)((function(){f&&void 0===d[g]&&(N(ln(_,M)),B(null)),d[g]&&(N(an([d[g]],M,_)),t(G(null)),B(null))}),[g,f]),Object(r.useEffect)((function(){f&&void 0===d[g]&&(N(ln(_,M)),B(null))}),[M]),Object(r.useEffect)((function(){var e=Object(te.convertToRaw)(M.getCurrentContent());t(C(c.id,{editorRawState:e}))}),[M]),Object(r.useEffect)((function(){(function(){var e=Object(pe.a)(he.a.mark((function e(){var n,a,r,i,o,l,s,d,f;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===F){e.next=19;break}return e.next=3,Object(dn.a)(F).sentences().json();case 3:n=e.sent,a=0,r=[],i=0;case 7:if(!(i<n.length)){e.next=17;break}return o=n[i].text,l={text:o,startIndex:F.indexOf(o),endIndex:a+o.length},e.next=12,Xt(u,l);case 12:s=e.sent,r=r.concat(s);case 14:i++,e.next=7;break;case 17:r.length>0&&(d=Object(te.convertToRaw)(M.getCurrentContent()),r=sn(d,r),f=Fe(c.id,r),N(an(f.links,M)),t(f)),H("");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[F]),i.a.createElement(r.Fragment,null,i.a.createElement(nt,null),i.a.createElement("div",{className:jt.a.editor,onDragOver:function(e){e.preventDefault(),e.stopPropagation(),O.current.focus()},onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.getData("chartId"),n=o.find((function(e){return e.id===t})),a=u.find((function(e){return e.id===t}));n&&!a&&(!function(e){var t=M.getCurrentContent(),n=(t=t.createEntity("CHART","IMMUTABLE",{id:e.id})).getLastCreatedEntityKey(),a=te.AtomicBlockUtils.insertAtomicBlock(M,n," ");N(a)}(n),e.dataTransfer.clearData())}},i.a.createElement(ae.a,{editorState:M,plugins:tt,onChange:function(e){return Q.apply(this,arguments)},onBlur:function(){k([])},handleKeyCommand:function(e){var t=te.RichUtils.handleKeyCommand(M,e);return t?(N(t),"handled"):"not-handled"},blockRendererFn:function(e){},decorators:ot,ref:O,onTab:function(e){return e.preventDefault(),e.stopPropagation(),H(un(M)),"handled"},handlePastedText:function(e){var t=M.getSelection().getAnchorOffset()+e.length,n=t-e.length;X({text:e,startIndex:n,endIndex:t})}})),j.length>=1&&u.length>0&&i.a.createElement(Rt,{suggestions:j.filter((function(e){return"NoLinkFound!"!==e.text})),textSelection:v,onSelected:function(e){var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=E("link-");return{type:"CREATE_LINK",linkId:r,attrs:n=Object(a.a)({docId:e,timestamp:Date.now()},t,{},n,{id:r})}}(c.id,{text:e.text,feature:e.feature,chartId:e.chartId,active:!1,type:"point",sentence:e.text,data:[isNaN(Number(e.text))?e.text:Number(e.text)],startIndex:e.startIndex,endIndex:e.startIndex+e.text.length,isConfirmed:!0}),r=an([n.attrs],M);t(n),k([]),N(r)},onCreateLinkSelect:function(){t(Z(!1)),B(M.getSelection()),N(function(e,t){var n=t.getCurrentContent(),r=t.getSelection(),i=n.createEntity("TEXT_SELECTION","MUTABLE",Object(a.a)({},e)),c=i.getLastCreatedEntityKey(),o=r.merge({anchorOffset:e.startIndex,focusOffset:e.endIndex});i=te.Modifier.replaceText(t.getCurrentContent(),o,e.text,[],c);var l=te.EditorState.push(t,i,"apply-entity"),u=l.getSelection().merge({focusOffset:e.endIndex,anchorOffset:e.endIndex});return l=te.EditorState.moveSelectionToEnd(l),l=te.EditorState.forceSelection(l,u)}(v,M))}}),i.a.createElement(Bt,{selectedLink:s,onDiscard:function(e){var n=M.getSelection(),a=te.ContentState.createFromText(""),r=n.merge({anchorOffset:e.startIndex,focusOffset:e.endIndex});a=te.Modifier.replaceText(M.getCurrentContent(),r,e.text,[]);var i=te.EditorState.push(M,a,"apply-entity"),c=i.getSelection().merge({focusOffset:e.endIndex,anchorOffset:e.endIndex});i=te.EditorState.moveSelectionToEnd(i),i=te.EditorState.forceSelection(i,c),N(i),t({type:"DELETE_LINK",linkId:e.id})},onAccept:function(e){N(an([d[e]],M,M.getSelection()))}}))}function gn(e){return Object(h.c)()(J(!1)),i.a.createElement(B.a,{container:!0,spacing:2},i.a.createElement(B.a,{item:!0,xs:4},i.a.createElement(N.a,{variant:"overline",display:"block",gutterBottom:!0},"Chart Gallery"),i.a.createElement(xt,null)),i.a.createElement(B.a,{item:!0,xs:8},i.a.createElement(fn,null)))}var mn=n(977);var hn=function(){return i.a.createElement(l.a,null,i.a.createElement(L,null),i.a.createElement(mn.a,{maxWidth:"lg",mt:2},i.a.createElement(ee.c,null,i.a.createElement(ee.a,{path:"/docs/:docId/view"},i.a.createElement(ut,null)),i.a.createElement(ee.a,{path:"/docs/:docId"},i.a.createElement(gn,null)),i.a.createElement(ee.a,{path:"/docs"},i.a.createElement(q,null)),i.a.createElement(ee.a,{path:"/"},i.a.createElement(W,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pn=n(463),bn=n(464),vn=n.n(bn),En=n(127),yn=Object(En.c)({docs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_DOC":case"UPDATE_DOC":return Object(a.a)({},e,Object(p.a)({},t.docId,Object(a.a)({},e[t.docId]||{},{},t.attrs)));case"DELETE_DOC":var n=Object(a.a)({},e);return delete n[t.docId],n;case"CREATE_CHART":return Object(a.a)({},e,Object(p.a)({},t.attrs.docId,Object(a.a)({},e[t.attrs.docId],{charts:e[t.attrs.docId].charts.concat(t.chartId)})));case"DELETE_CHART":return Object(a.a)({},e,Object(p.a)({},t.attrs.docId,Object(a.a)({},e[t.attrs.docId],{charts:e[t.attrs.docId].charts.filter((function(e){return e!==t.chartId}))})));case"UPDATE_CHARTS_IN_EDITOR":return Object(a.a)({},e,Object(p.a)({},t.docId,Object(a.a)({},e[t.docId],{chartsInEditor:t.charts})));case"UPDATE_EDITOR_STATE":return Object(a.a)({},e,Object(p.a)({},t.docId,Object(a.a)({},e[t.docId],{editorRawState:t.editorRawState})));default:return e}},charts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CHART":case"UPDATE_CHART":return Object(a.a)({},e,Object(p.a)({},t.chartId,Object(a.a)({},e[t.chartId]||{},{},t.attrs)));case"DELETE_CHART":var n=Object(a.a)({},e);return delete n[t.chartId],n;default:return e}},links:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_LINK":case"UPDATE_LINK":return Object(a.a)({},e,Object(p.a)({},t.linkId,Object(a.a)({},e[t.linkId]||{},{},t.attrs)));case"CREATE_LINKS":return t.links.reduce((function(e,t){return Object(a.a)({},e,Object(p.a)({},t.id,t))}),e);case"DELETE_LINK":var n=Object(a.a)({},e);return delete n[t.linkId],n;case"ACTIVATE_LINK":return Object(a.a)({},e,Object(p.a)({},t.linkId,Object(a.a)({},e[t.linkId],{active:!0})));case"DEACTIVATE_LINK":return Object(a.a)({},e,Object(p.a)({},t.linkId,Object(a.a)({},e[t.linkId],{active:!1})));case"CONFIRM_LINK":return Object(a.a)({},e,Object(p.a)({},t.linkId,Object(a.a)({},e[t.linkId],{isConfirmed:!0})));default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_LINK":return Object(a.a)({},e,{selectedLink:t.link});case"SET_TEXT_SELECTION":return Object(a.a)({},e,{textSelection:t.textSelection});case"SET_MANUAL_LINK_ID":return Object(a.a)({},e,{manualLinkId:t.linkId});case"EXIT_MANUAL_LINK_MODE":return Object(a.a)({},e,{exitManualLink:t.exit});case"SET_CURRENT_DOC_ID":return Object(a.a)({},e,{currentDocId:t.docId});case"SET_VIEW_MODE":return Object(a.a)({},e,{viewMode:t.val});default:return e}}}),On=n(300),xn=n.n(On),An=n(466),jn=n(978),In=Object(An.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#e91e63"},info:{main:"#1976d2"},error:{main:"#f44336"},warning:{main:"#ff9800"},success:{main:"#4caf50"}},secondary:{main:"#e91e63"},info:{main:"#1976d2"},error:{main:"#f44336"},warning:{main:"#ff9800"},success:{main:"#4caf50"},textSecondary:{main:"#bdbdbd"}});new Promise((function(e,t){xn.a.getItem("state").then((function(t){e(t)})).catch((function(e){t(e)}))})).then((function(e){var t=[vn.a,Object(pn.createLogger)()],n=Object(En.d)(yn,e||{},En.a.apply(void 0,t));n.subscribe(Ae((function(){var e=Object(a.a)({},n.getState());delete e.ui,xn.a.setItem("state",e)}),1e3)),o.a.render(i.a.createElement(h.a,{store:n},i.a.createElement(jn.a,{theme:In},i.a.createElement(hn,null))),document.getElementById("root"))})).catch((function(e){console.log(e),o.a.render(i.a.createElement("div",null,"Failed to initialize data!"),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[494,1,2]]]);
//# sourceMappingURL=main.4b61333d.chunk.js.map