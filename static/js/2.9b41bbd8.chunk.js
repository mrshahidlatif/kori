/*! For license information please see 2.9b41bbd8.chunk.js.LICENSE */
(this.webpackJsonpvte=this.webpackJsonpvte||[]).push([[2],[function(e,t,n){"use strict";var r=function(e,t,n){return e.fields=t||[],e.fname=n,e};function i(e){return null==e?null:e.fname}function a(e){return null==e?null:e.fields}var o=function(e){return 1===e.length?u(e[0]):c(e)},u=function(e){return function(t){return t[e]}},c=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}},s=function(e){throw Error(e)},l=function(e){var t,n,r,i=[],a=null,o=0,u=e.length,c="";function l(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),c+=e.substring(++n,++n),t=n;else if(r===a)l(),a=null,o=-1;else{if(a)continue;t===o&&'"'===r?(t=n+1,a=r):t===o&&"'"===r?(t=n+1,a=r):"."!==r||o?"["===r?(n>t&&l(),o=t=n+1):"]"===r&&(o||s("Access path missing open bracket: "+e),o>0&&l(),o=0,t=n+1):n>t?l():t=n+1}return o&&s("Access path missing closing bracket: "+e),a&&s("Access path missing closing quote: "+e),n>t&&(n++,l()),i},f=function(e,t,n){var i=l(e);return e=1===i.length?i[0]:e,r((n&&n.get||o)(i),[e],t||e)},d=[],h=f("id"),p=r((function(e){return e}),d,"identity"),v=r((function(){return 0}),d,"zero"),g=r((function(){return 1}),d,"one"),m=r((function(){return!0}),d,"true"),y=r((function(){return!1}),d,"false");function b(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}var x=function(e,t){var n=e||0;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=1&&b(t||"error","ERROR",arguments),this},warn:function(){return n>=2&&b(t||"warn","WARN",arguments),this},info:function(){return n>=3&&b(t||"log","INFO",arguments),this},debug:function(){return n>=4&&b(t||"log","DEBUG",arguments),this}}},w=Array.isArray,O=function(e){return e===Object(e)},k=function(e){return"__proto__"!==e};function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=S(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;_(e,n,t[n],r)}return e}),{})}function _(e,t,n,r){var i,a;if(k(t))if(O(n)&&!w(n))for(i in a=O(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?_(a,i,n[i]):k(i)&&(a[i]=n[i]);else e[t]=n}function S(e,t){if(null==e)return t;var n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}var E=function(e){return e[e.length-1]},A=function(e){return null==e||""===e?null:+e};function C(e){return function(t){return e*Math.exp(t)}}function D(e){return function(t){return Math.log(e*t)}}function F(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function T(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function M(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function P(e,t,n,r){var i=n(e[0]),a=n(E(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function N(e,t){return P(e,t,A,p)}function B(e,t){var n=Math.sign(e[0]);return P(e,t,D(n),C(n))}function R(e,t,n){return P(e,t,M(n),M(1/n))}function z(e,t,n){return P(e,t,F(n),T(n))}function L(e,t,n,r,i){var a=r(e[0]),o=r(E(e)),u=null!=t?r(t):(a+o)/2;return[i(u+(a-u)*n),i(u+(o-u)*n)]}function I(e,t,n){return L(e,t,n,A,p)}function U(e,t,n){var r=Math.sign(e[0]);return L(e,t,n,D(r),C(r))}function q(e,t,n,r){return L(e,t,n,M(r),M(1/r))}function $(e,t,n,r){return L(e,t,n,F(r),T(r))}function H(e){return 1+~~(new Date(e).getMonth()/3)}function W(e){return 1+~~(new Date(e).getUTCMonth()/3)}var G=function(e){return null!=e?w(e)?e:[e]:[]},K=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]},V=function(e){return"function"===typeof e},Y=function(e,t,n){n=n||{},t=G(t)||[];var i=[],o=[],u={},c=n.comparator||X;return G(e).forEach((function(e,r){null!=e&&(i.push("descending"===t[r]?-1:1),o.push(e=V(e)?e:f(e,null,n)),(a(e)||[]).forEach((function(e){return u[e]=1})))})),0===o.length?null:r(c(o,i),Object.keys(u))},J=function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)},X=function(e,t){return 1===e.length?Z(e[0],t[0]):Q(e,t,e.length)},Z=function(e,t){return function(n,r){return J(e(n),e(r))*t}},Q=function(e,t,n){return t.push(0),function(r,i){for(var a,o=0,u=-1;0===o&&++u<n;)a=e[u],o=J(a(r),a(i));return o*t[u]}},ee=function(e){return V(e)?e:function(){return e}},te=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}},ne=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e},re=function(e,t){var n,r,i,a,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!==r);r=e[++o]);for(i=a=r;o<n;++o)null!=(r=e[o])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=t(e[o]);o<n&&(null==r||r!==r);r=t(e[++o]));for(i=a=r;o<n;++o)null!=(r=t(e[o]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]},ie=function(e,t){var n,r,i,a,o,u=-1,c=e.length;if(null==t){for(;++u<c;)if(null!=(r=e[u])&&r>=r){n=i=r;break}if(u===c)return[-1,-1];for(a=o=u;++u<c;)null!=(r=e[u])&&(n>r&&(n=r,a=u),i<r&&(i=r,o=u))}else{for(;++u<c;)if(null!=(r=t(e[u],u,e))&&r>=r){n=i=r;break}if(u===c)return[-1,-1];for(a=o=u;++u<c;)null!=(r=t(e[u],u,e))&&(n>r&&(n=r,a=u),i<r&&(i=r,o=u))}return[a,o]},ae=Object.prototype.hasOwnProperty,oe=function(e,t){return ae.call(e,t)},ue={},ce=function(e){var t,n,r={};function i(e){return oe(r,e)&&r[e]!==ue}return t={size:0,empty:0,object:r,has:i,get:function(e){return i(e)?r[e]:void 0},set:function(e,n){return i(e)||(++t.size,r[e]===ue&&--t.empty),r[e]=n,this},delete:function(e){return i(e)&&(--t.size,++t.empty,r[e]=ue),this},clear:function(){t.size=t.empty=0,t.object=r={}},test:function(e){return arguments.length?(n=e,t):n},clean:function(){var e,i,a={},o=0;for(e in r)(i=r[e])===ue||n&&n(i)||(a[e]=i,++o);t.size=o,t.empty=0,t.object=r=a}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t},se=function(e,t,n,r,i,a){if(!n&&0!==n)return a;var o,u,c=e[0],s=E(e),l=+n;return s<c&&(o=c,c=s,s=o),(o=Math.abs(t-c))<(u=Math.abs(s-t))&&o<=l?r:u<=l?i:a},le=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},fe=function(e,t,n,r){var i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),r=void 0===r||r,((n=void 0===n||n)?a<=e:a<e)&&(r?e<=o:e<o)},de=function(e){return"boolean"===typeof e},he=function(e){return"[object Date]"===Object.prototype.toString.call(e)},pe=function(e){return"number"===typeof e},ve=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},ge=function(e){return"string"===typeof e},me=function(e,t,n){e&&(e=t?G(e).map((function(e){return e.replace(/\\(.)/g,"$1")})):G(e));var i,a=e&&e.length,u=n&&n.get||o,c=function(e){return u(t?[e]:l(e))};if(a)if(1===a){var s=c(e[0]);i=function(e){return""+s(e)}}else{var f=e.map(c);i=function(e){for(var t=""+f[0](e),n=0;++n<a;)t+="|"+f[n](e);return t}}else i=function(){return""};return r(i,e,"key")},ye=function(e,t){var n=e[0],r=E(e),i=+t;return i?1===i?r:n+i*(r-n):n},be=function(e){var t,n,r;e=+e||1e4;var i=function(){t={},n={},r=0},a=function(i,a){return++r>e&&(n=t,t={},r=1),t[i]=a};return i(),{clear:i,has:function(e){return oe(t,e)||oe(n,e)},get:function(e){return oe(t,e)?t[e]:oe(n,e)?a(e,n[e]):void 0},set:function(e,n){return oe(t,e)?t[e]=n:a(e,n)}}},xe=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),u=0,c=0,s=0;u<i&&c<a;++s)o[s]=e(t[u],n[c])>0?n[c++]:t[u++];for(;u<i;++u,++s)o[s]=t[u];for(;c<a;++c,++s)o[s]=n[c];return o},we=function(e,t){for(var n="";--t>=0;)n+=e;return n},Oe=function(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?we(i,o)+a:"center"===r?we(i,~~(o/2))+a+we(i,Math.ceil(o/2)):a+we(i,o)},ke=function(e){return e&&E(e)-e[0]||0};function je(e){return w(e)?"["+e.map(je)+"]":O(e)||ge(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var _e=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e};function Se(e){return pe(e)?e:he(e)?e:Date.parse(e)}var Ee=function(e,t){return t=t||Se,null==e||""===e?null:t(e)},Ae=function(e){return null==e||""===e?null:e+""},Ce=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},De=function(e,t,n,r){var i=null!=r?r:"\u2026",a=e+"",o=a.length,u=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-u):"center"===n?a.slice(0,Math.ceil(u/2))+i+a.slice(o-~~(u/2)):a.slice(0,u)+i},Fe=function(e,t,n){if(e)if(t)for(var r,i=0,a=e.length;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)};n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"w",(function(){return h})),n.d(t,"x",(function(){return p})),n.d(t,"kb",(function(){return v})),n.d(t,"O",(function(){return g})),n.d(t,"gb",(function(){return m})),n.d(t,"r",(function(){return y})),n.d(t,"K",(function(){return x})),n.d(t,"d",(function(){return 0})),n.d(t,"b",(function(){return 1})),n.d(t,"e",(function(){return 2})),n.d(t,"c",(function(){return 3})),n.d(t,"a",(function(){return 4})),n.d(t,"N",(function(){return j})),n.d(t,"jb",(function(){return _})),n.d(t,"Q",(function(){return N})),n.d(t,"R",(function(){return B})),n.d(t,"S",(function(){return R})),n.d(t,"T",(function(){return z})),n.d(t,"lb",(function(){return I})),n.d(t,"mb",(function(){return U})),n.d(t,"nb",(function(){return q})),n.d(t,"ob",(function(){return $})),n.d(t,"V",(function(){return H})),n.d(t,"hb",(function(){return W})),n.d(t,"i",(function(){return G})),n.d(t,"j",(function(){return K})),n.d(t,"k",(function(){return Y})),n.d(t,"l",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"n",(function(){return s})),n.d(t,"o",(function(){return ne})),n.d(t,"p",(function(){return re})),n.d(t,"q",(function(){return ie})),n.d(t,"s",(function(){return ce})),n.d(t,"t",(function(){return f})),n.d(t,"u",(function(){return se})),n.d(t,"v",(function(){return oe})),n.d(t,"y",(function(){return le})),n.d(t,"z",(function(){return fe})),n.d(t,"A",(function(){return w})),n.d(t,"B",(function(){return de})),n.d(t,"C",(function(){return he})),n.d(t,"D",(function(){return V})),n.d(t,"E",(function(){return pe})),n.d(t,"F",(function(){return O})),n.d(t,"G",(function(){return ve})),n.d(t,"H",(function(){return ge})),n.d(t,"I",(function(){return me})),n.d(t,"J",(function(){return ye})),n.d(t,"L",(function(){return be})),n.d(t,"M",(function(){return xe})),n.d(t,"P",(function(){return Oe})),n.d(t,"U",(function(){return E})),n.d(t,"W",(function(){return we})),n.d(t,"X",(function(){return ke})),n.d(t,"Y",(function(){return l})),n.d(t,"Z",(function(){return je})),n.d(t,"ab",(function(){return _e})),n.d(t,"bb",(function(){return Ee})),n.d(t,"cb",(function(){return A})),n.d(t,"eb",(function(){return Ae})),n.d(t,"db",(function(){return Ce})),n.d(t,"fb",(function(){return De})),n.d(t,"ib",(function(){return Fe}))},function(e,t,n){"use strict";e.exports=n(338)},function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"n",(function(){return a})),n.d(t,"l",(function(){return o})),n.d(t,"p",(function(){return u})),n.d(t,"v",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"q",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"m",(function(){return m})),n.d(t,"o",(function(){return y})),n.d(t,"s",(function(){return b})),n.d(t,"r",(function(){return x})),n.d(t,"t",(function(){return w})),n.d(t,"u",(function(){return O})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return j}));var r=1e-6,i=1e-12,a=Math.PI,o=a/2,u=a/4,c=2*a,s=180/a,l=a/180,f=Math.abs,d=Math.atan,h=Math.atan2,p=Math.cos,v=Math.ceil,g=Math.exp,m=(Math.floor,Math.log),y=Math.pow,b=Math.sin,x=Math.sign||function(e){return e>0?1:e<0?-1:0},w=Math.sqrt,O=Math.tan;function k(e){return e>1?0:e<-1?a:Math.acos(e)}function j(e){return e>1?o:e<-1?-o:Math.asin(e)}},function(e,t,n){"use strict";var r=n(0);function i(e){var t=e||r.x,n=[],i={};return n.add=function(e){var r=t(e);return i[r]||(i[r]=1,n.push(e)),n},n.remove=function(e){var r,a=t(e);return i[a]&&(i[a]=0,(r=n.indexOf(e))>=0&&n.splice(r,1)),n},n}var a=n(11),o=n.n(a),u=n(24),c=function(e,t){return s.apply(this,arguments)};function s(){return(s=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var l=Symbol("vega_id"),f=1;function d(e){return!(!e||!h(e))}function h(e){return e[l]}function p(e,t){return e[l]=t,e}function v(e){var t=e===Object(e)?e:{data:e};return h(t)?t:p(t,f++)}function g(e){return m(e,v({}))}function m(e,t){for(var n in e)t[n]=e[n];return t}function y(e,t){return p(t,h(e))}function b(e,t){return e?t?function(n,r){return e(n,r)||h(t(n))-h(t(r))}:function(t,n){return e(t,n)||h(t)-h(n)}:null}function x(e){return e&&e.constructor===w}function w(){var e=[],t=[],n=[],i=[],a=[],o=null,u=!1;return{constructor:w,insert:function(t){for(var n=Object(r.i)(t),i=0,a=n.length;i<a;++i)e.push(n[i]);return this},remove:function(e){for(var n=Object(r.D)(e)?i:t,a=Object(r.i)(e),o=0,u=a.length;o<u;++o)n.push(a[o]);return this},modify:function(e,t,i){var o={field:t,value:Object(r.l)(i)};return Object(r.D)(e)?(o.filter=e,a.push(o)):(o.tuple=e,n.push(o)),this},encode:function(e,t){return Object(r.D)(e)?a.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean:function(e){return o=e,this},reflow:function(){return u=!0,this},pulse:function(r,c){var s,l,f,d,p,g,m={},y={};for(s=0,l=c.length;s<l;++s)m[h(c[s])]=1;for(s=0,l=t.length;s<l;++s)m[h(p=t[s])]=-1;for(s=0,l=i.length;s<l;++s)d=i[s],c.forEach((function(e){d(e)&&(m[h(e)]=-1)}));for(s=0,l=e.length;s<l;++s)g=h(p=e[s]),m[g]?m[g]=1:r.add.push(v(e[s]));for(s=0,l=c.length;s<l;++s)p=c[s],m[h(p)]<0&&r.rem.push(p);function b(e,t,n){n?e[t]=n(e):r.encode=t,u||(y[h(e)]=e)}for(s=0,l=n.length;s<l;++s)p=(f=n[s]).tuple,d=f.field,(g=m[h(p)])>0&&(b(p,d,f.value),r.modifies(d));for(s=0,l=a.length;s<l;++s)f=a[s],d=f.filter,c.forEach((function(e){d(e)&&m[h(e)]>0&&b(e,f.field,f.value)})),r.modifies(f.field);if(u)r.mod=t.length||i.length?c.filter((function(e){return m[h(e)]>0})):c.slice();else for(g in y)r.mod.push(y[g]);return(o||null==o&&(t.length||i.length))&&r.clean(!0),r}}}var O="_:mod:_";function k(){Object.defineProperty(this,O,{writable:!0,value:{}})}var j=k.prototype;j.set=function(e,t,n,i){var a=this,o=a[e],u=a[O];return null!=t&&t>=0?(o[t]!==n||i)&&(o[t]=n,u[t+":"+e]=-1,u[e]=-1):(o!==n||i)&&(a[e]=n,u[e]=Object(r.A)(n)?1+n.length:-1),a},j.modified=function(e,t){var n,i=this[O];if(!arguments.length){for(n in i)if(i[n])return!0;return!1}if(Object(r.A)(e)){for(n=0;n<e.length;++n)if(i[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<i[e]||!!i[t+":"+e]:!!i[e]},j.clear=function(){return this[O]={},this};var _=0,S=new k;function E(e,t,n,r){this.id=++_,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var A=E.prototype;function C(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}A.targets=function(){return this._targets||(this._targets=i(r.w))},A.set=function(e){return this.value!==e?(this.value=e,1):0},A.skip=C(1),A.modified=C(2),A.parameters=function(e,t,n){t=!1!==t;var i,a,o,u,c=this,s=c._argval=c._argval||new k,l=c._argops=c._argops||[],f=[];function d(e,n,r){r instanceof E?(r!==c&&(t&&r.targets().add(c),f.push(r)),l.push({op:r,name:e,index:n})):s.set(e,n,r)}for(i in e)if(a=e[i],"pulse"===i)Object(r.i)(a).forEach((function(e){e instanceof E?e!==c&&(e.targets().add(c),f.push(e)):Object(r.n)("Pulse parameters must be operator instances.")})),c.source=a;else if(Object(r.A)(a))for(s.set(i,-1,Array(o=a.length)),u=0;u<o;++u)d(i,u,a[u]);else d(i,-1,a);return this.marshall().clear(),n&&(l.initonly=!0),f},A.marshall=function(e){var t,n,r,i,a,o=this._argval||S,u=this._argops;if(u){for(n=0,r=u.length;n<r;++n)a=(i=(t=u[n]).op).modified()&&i.stamp===e,o.set(t.name,t.index,i.value,a);if(u.initonly){for(n=0;n<r;++n)(t=u[n]).op.targets().remove(this);this._argops=null,this._update=null}}return o},A.detach=function(){var e,t,n,r=this._argops;if(r)for(e=0,t=r.length;e<t;++e)(n=r[e].op)._targets&&n._targets.remove(this)},A.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},A.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t};var D=0;function F(e,t,n){this.id=++D,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function T(e,t,n){return new F(e,t,n)}var M=F.prototype;M._filter=r.gb,M._apply=r.x,M.targets=function(){return this._targets||(this._targets=i(r.w))},M.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},M.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},M.filter=function(e){var t=T(e);return this.targets().add(t),t},M.apply=function(e){var t=T(null,e);return this.targets().add(t),t},M.merge=function(){var e=T();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},M.throttle=function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},M.debounce=function(e){var t=T();return this.targets().add(T(null,null,Object(r.m)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},M.between=function(e,t){var n=!1;return e.targets().add(T(null,null,(function(){n=!0}))),t.targets().add(T(null,null,(function(){n=!1}))),this.filter((function(){return n}))};var P=n(68);function N(){return(N=Object(u.a)(o.a.mark((function e(t,n){var r,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=0,e.prev=2,e.next=5,r.loader().load(t,{context:"dataflow",response:Object(P.g)(n&&n.type)});case 5:a=e.sent;try{a=r.parse(a,n)}catch(o){i=-2,r.warn("Data ingestion failed",t,o)}e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i=-1,r.warn("Loading failed",t,e.t0);case 13:return e.abrupt("return",{data:a,status:i});case 14:case"end":return e.stop()}}),e,this,[[2,9]])})))).apply(this,arguments)}function B(){return(B=Object(u.a)(o.a.mark((function e(t,n,i){var a,u,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=(a=this)._pending||R(a)).requests+=1,e.next=4,a.request(n,i);case 4:return c=e.sent,a.pulse(t,a.changeset().remove(r.gb).insert(c.data||[])),u.done(),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function R(e){var t,n=new Promise((function(e){t=e}));return n.requests=0,n.done=function(){0===--n.requests&&(e._pending=null,t(e))},e._pending=n}var z={skip:!0};function L(e,t,n,i,a,o){var u,c,s=Object(r.o)({},o,z);Object(r.D)(n)||(n=Object(r.l)(n)),void 0===i?u=function(t){return e.touch(n(t))}:Object(r.D)(i)?(c=new E(null,i,a,!1),u=function(t){c.evaluate(t);var r=n(t),i=c.value;x(i)?e.pulse(r,i,o):e.update(r,i,s)}):u=function(t){return e.update(n(t),i,s)},t.apply(u)}function I(e,t,n,i,a,o){if(void 0===i)t.targets().add(n);else{var u=o||{},c=new E(null,function(e,t){return t=Object(r.D)(t)?t:Object(r.l)(t),e?function(n,r){var i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,i),a,!1);c.modified(u.force),c.rank=t.rank,t.targets().add(c),n&&(c.skip(!0),c.value=n.value,c.targets().add(n),e.connect(n,[c]))}}var U={};function q(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}var $=q.prototype;function H(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function W(e,t){var n=[];return Object(r.ib)(e,t,(function(e){return n.push(e)})),n}function G(e,t){var n={};return e.visit(t,(function(e){n[h(e)]=1})),function(e){return n[h(e)]?null:e}}function K(e,t,n,r){var i,a,o,u,c,s=this,l=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,o=0,u=n.length;o<u;++o)if((i=n[o]).stamp===t){if(i.fields)for(c in a=s.fields||(s.fields={}),i.fields)a[c]=1;i.changed(s.ADD)&&(l|=s.ADD),i.changed(s.REM)&&(l|=s.REM),i.changed(s.MOD)&&(l|=s.MOD)}this.changes=l}$.StopPropagation=U,$.ADD=1,$.REM=2,$.MOD=4,$.ADD_REM=3,$.ADD_MOD=5,$.ALL=7,$.REFLOW=8,$.SOURCE=16,$.NO_SOURCE=32,$.NO_FIELDS=64,$.fork=function(e){return new q(this.dataflow).init(this,e)},$.clone=function(){var e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},$.addAll=function(){var e=this;return e.source&&e.source.length!==e.add.length?((e=new q(this.dataflow).init(this)).add=e.source,e):e},$.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},$.runAfter=function(e){this.dataflow.runAfter(e)},$.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},$.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,G(this,1))),this},$.clean=function(e){return arguments.length?(this.cleans=!!e,this):this.cleans},$.modifies=function(e){var t=this.fields||(this.fields={});return Object(r.A)(e)?e.forEach((function(e){return t[e]=!0})):t[e]=!0,this},$.modified=function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(r.A)(e)?e.some((function(e){return n[e]})):n[e]:!!n)},$.filter=function(e,t){var n=this;return 1&e&&(n.addF=H(n.addF,t)),2&e&&(n.remF=H(n.remF,t)),4&e&&(n.modF=H(n.modF,t)),16&e&&(n.srcF=H(n.srcF,t)),n},$.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=W(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=W(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=W(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},$.visit=function(e,t){var n,i,a=this,o=t;return 16&e?(Object(r.ib)(a.source,a.srcF,o),a):(1&e&&Object(r.ib)(a.add,a.addF,o),2&e&&Object(r.ib)(a.rem,a.remF,o),4&e&&Object(r.ib)(a.mod,a.modF,o),8&e&&(n=a.source)&&((i=a.add.length+a.mod.length)===n.length||(i?Object(r.ib)(n,G(a,5),o):Object(r.ib)(n,a.srcF,o))),a)};var V=Object(r.y)(K,q);function Y(){return(Y=Object(u.a)(o.a.mark((function e(t,n,a){var u,s,l,f,d,h,p,v,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],!(u=this)._pulse){e.next=3;break}return e.abrupt("return",X(u));case 3:if(!u._pending){e.next=6;break}return e.next=6,u._pending;case 6:if(!n){e.next=9;break}return e.next=9,c(u,n);case 9:if(u._touched.length){e.next=12;break}return u.debug("Dataflow invoked, but nothing to do."),e.abrupt("return",u);case 12:l=++u._clock,u._pulse=new q(u,l,t),u._touched.forEach((function(e){return u._enqueue(e,!0)})),u._touched=i(r.w),f=0,e.prev=17;case 18:if(!(u._heap.size()>0)){e.next=35;break}if((d=u._heap.pop()).rank===d.qrank){e.next=23;break}return u._enqueue(d,!0),e.abrupt("continue",18);case 23:if(!(h=d.run(u._getPulse(d,t))).then){e.next=30;break}return e.next=27,h;case 27:h=e.sent,e.next=31;break;case 30:h.async&&(s.push(h.async),h=U);case 31:h!==U&&d._targets&&d._targets.forEach((function(e){return u._enqueue(e)})),++f,e.next=18;break;case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(17),u._heap.clear(),p=e.t0;case 41:if(u._input={},u._pulse=null,u.debug("Pulse ".concat(l,": ").concat(f," operators")),p&&(u._postrun=[],u.error(p)),!u._postrun.length){e.next=55;break}v=u._postrun.sort((function(e,t){return t.priority-e.priority})),u._postrun=[],g=0;case 49:if(!(g<v.length)){e.next=55;break}return e.next=52,c(u,v[g].callback);case 52:++g,e.next=49;break;case 55:if(!a){e.next=58;break}return e.next=58,c(u,a);case 58:return s.length&&Promise.all(s).then((function(e){return u.runAsync(null,(function(){e.forEach((function(e){try{e(u)}catch(t){u.error(t)}}))}))})),e.abrupt("return",u);case 60:case"end":return e.stop()}}),e,this,[[17,37]])})))).apply(this,arguments)}function J(){return(J=Object(u.a)(o.a.mark((function e(t,n,r){var i,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._running){e.next=5;break}return e.next=3,this._running;case 3:e.next=0;break;case 5:return i=function(){return a._running=null},(this._running=this.evaluate(t,n,r)).then(i,i),e.abrupt("return",this._running);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function X(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}V.fork=function(e){var t=new q(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},V.changed=function(e){return this.changes&e},V.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(r.A)(e)?e.some((function(e){return n[e]})):n[e]:0},V.filter=function(){Object(r.n)("MultiPulse does not support filtering.")},V.materialize=function(){Object(r.n)("MultiPulse does not support materialization.")},V.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n};var Z={skip:!1,force:!1};function Q(e){var t=[];return{clear:function(){return t=[]},size:function(){return t.length},peek:function(){return t[0]},push:function(n){return t.push(n),ee(t,0,t.length-1,e)},pop:function(){var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,i=t,a=e.length,o=e[t],u=1+(t<<1);for(;u<a;)(r=u+1)<a&&n(e[u],e[r])>=0&&(u=r),e[t]=e[u],u=1+((t=u)<<1);e[t]=o,ee(e,i,t,n)}(t,0,e)):n=r,n}}}function ee(e,t,n,r){var i,a,o;for(i=e[n];n>t&&r(i,a=e[o=n-1>>1])<0;)e[n]=a,n=o;return e[n]=i}var te=n(59);function ne(){this.logger(Object(r.K)()),this.logLevel(r.b),this._clock=0,this._rank=0,this._locale=Object(te.a)();try{this._loader=Object(P.e)()}catch(e){}this._touched=i(r.w),this._input={},this._pulse=null,this._heap=Q((function(e,t){return e.qrank-t.qrank})),this._postrun=[]}var re=ne.prototype;function ie(e){return function(){return this._log[e].apply(this,arguments)}}function ae(e,t){E.call(this,e,null,t)}re.stamp=function(){return this._clock},re.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},re.locale=function(e){return arguments.length?(this._locale=e,this):this._locale},re.cleanThreshold=1e4,re.add=function(e,t,n,i){var a,o=1;return e instanceof E?a=e:e&&e.prototype instanceof E?a=new e:Object(r.D)(e)?a=new E(null,e):(o=0,a=new E(e,t)),this.rank(a),o&&(i=n,n=t),n&&this.connect(a,a.parameters(n,i)),this.touch(a),a},re.connect=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},re.rank=function(e){e.rank=++this._rank},re.rerank=function(e){for(var t,n,i,a=[e];a.length;)if(this.rank(t=a.pop()),n=t._targets)for(i=n.length;--i>=0;)a.push(t=n[i]),t===e&&Object(r.n)("Cycle detected in dataflow graph.")},re.pulse=function(e,t,n){this.touch(e,n||Z);var r=new q(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this},re.touch=function(e,t){var n=t||Z;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},re.update=function(e,t,n){var r=n||Z;return(e.set(t)||r.force)&&this.touch(e,r),this},re.changeset=w,re.ingest=function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},re.parse=function(e,t){var n=this.locale();return Object(P.f)(e,t,n.timeParse,n.utcParse)},re.preload=function(e,t,n){return B.apply(this,arguments)},re.request=function(e,t){return N.apply(this,arguments)},re.events=function(e,t,n,i){for(var a,o=this,u=T(n,i),c=function(e){e.dataflow=o;try{u.receive(e)}catch(t){o.error(t)}finally{o.run()}},s=0,l=(a="string"===typeof e&&"undefined"!==typeof document?document.querySelectorAll(e):Object(r.i)(e)).length;s<l;++s)a[s].addEventListener(t,c);return u},re.on=function(e,t,n,r,i){return(e instanceof E?I:L)(this,e,t,n,r,i),this},re.evaluate=function(e,t,n){return Y.apply(this,arguments)},re.run=function(e,t,n){return this._pulse?X(this):(this.evaluate(e,t,n),this)},re.runAsync=function(e,t,n){return J.apply(this,arguments)},re.runAfter=function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}},re._enqueue=function(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},re._getPulse=function(e,t){var n=e.source,i=this._clock;return n&&Object(r.A)(n)?new K(this,i,n.map((function(e){return e.pulse})),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==U&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)},re.logger=function(e){return arguments.length?(this._log=e,this):this._log},re.error=ie("error"),re.warn=ie("warn"),re.info=ie("info"),re.debug=ie("debug"),re.logLevel=ie("level");var oe=Object(r.y)(ae,E);oe.run=function(e){var t,n=this;return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then((function(e){return n.pulse=e})):t!==e.StopPropagation&&(this.pulse=t),t)},oe.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},oe.transform=function(){};var ue={};function ce(e){var t=se(e);return t&&t.Definition||null}function se(e){return e=e&&e.toLowerCase(),Object(r.v)(ue,e)?ue[e]:null}n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return w})),n.d(t,"m",(function(){return x})),n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return F})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return q})),n.d(t,"c",(function(){return K})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return ae})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return b})),n.d(t,"t",(function(){return h})),n.d(t,"j",(function(){return ce})),n.d(t,"r",(function(){return se})),n.d(t,"s",(function(){return ue}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(162);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(40);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";function r(e){var t,n,i="";if(e)if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(n=r(t))&&(i&&(i+=" "),i+=n);else"boolean"===typeof e||e.call||(i&&(i+=" "),i+=e);return i}n.r(t),t.default=function(){for(var e,t=0,n="";t<arguments.length;)(e=r(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}},function(e,t,n){e.exports=n(349)},function(e,t,n){"use strict";var r=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},i="log",a="time",o="utc",u="continuous",c=n(0),s=n(608),l=n(609);function f(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function d(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var h=Symbol("implicit");function p(){var e=new Map,t=[],n=[],r=h;function i(i){var a=i+"",o=e.get(a);if(!o){if(r!==h)return r;e.set(a,o=t.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r=!0,a=!1,o=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value,l=s+"";e.has(l)||e.set(l,t.push(s))}}catch(f){a=!0,o=f}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return p(t,n).unknown(r)},f.apply(i,arguments),i}function v(){var e,t,n=p().unknown(void 0),i=n.domain,a=n.range,o=[0,1],u=!1,c=0,f=0,d=.5;function h(){var n=i().length,l=o[1]<o[0],h=o[l-0],p=o[1-l],v=r(n,c,f);e=(p-h)/(v||1),u&&(e=Math.floor(e)),h+=(p-h-e*(n-c))*d,t=e*(1-c),u&&(h=Math.round(h),t=Math.round(t));var g=Object(s.a)(n).map((function(t){return h+e*t}));return a(l?g.reverse():g)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),h()):i()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],h()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],u=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(u=!!e,h()):u},n.padding=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),c=f,h()):c},n.paddingInner=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},n.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),h()):f},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),h()):d},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,r,u,c=+e[0],s=+e[1],f=o[1]<o[0],d=f?a().reverse():a(),h=d.length-1;if(c===c&&s===s&&(s<c&&(u=c,c=s,s=u),!(s<d[0]||c>o[1-f])))return n=Math.max(0,Object(l.b)(d,c)-1),r=c===s?n:Object(l.b)(d,s)-1,c-d[n]>t+1e-10&&++n,f&&(u=n,n=h-r,r=h-u),n>r?void 0:i().slice(n,r+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return v().domain(i()).range(o).round(u).paddingInner(c).paddingOuter(f).align(d)},h()}var g=n(593),m=n(208),y=n(594),b=n(597),x=n(595),w=n(596),O=function(e,t,n,r){var i,a=Object(g.c)(e,t,n);switch((r=Object(m.a)(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=Object(y.a)(a,o))||(r.precision=i),Object(b.b)(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Object(x.a)(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Object(w.a)(a))||(r.precision=i-2*("%"===r.type))}return Object(b.a)(r)},k=Array.prototype.map;function j(e){return k.call(e,(function(e){return+e}))}var _=Array.prototype.slice;var S=n(109),E=n(51),A=n(273),C=function(e){return+e},D=[0,1];function F(e){return e}function T(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function M(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=T(i,r),a=n(o,a)):(r=T(r,i),a=n(a,o)),function(e){return a(r(e))}}function P(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=T(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Object(l.c)(e,t,1,r)-1;return a[n](i[n](t))}}function N(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function B(){var e,t,n,r,i,a,o=D,u=D,c=S.a,s=F;function l(){var e=Math.min(o.length,u.length);return s!==F&&(s=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?P:M,i=a=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(o.map(e),u,c)))(e(s(t)))}return f.invert=function(n){return s(t((a||(a=r(u,o.map(e),E.a)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,C),l()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),l()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),c=A.a,l()},f.clamp=function(e){return arguments.length?(s=!!e||F,l()):s!==F},f.interpolate=function(e){return arguments.length?(c=e,l()):c},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function R(){return B()(F,F)}function z(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(g.a)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return O(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),a=0,o=i.length-1,u=i[a],c=i[o];return c<u&&(r=u,u=c,c=r,r=a,a=o,o=r),(r=Object(g.b)(u,c,n))>0?(u=Math.floor(u/r)*r,c=Math.ceil(c/r)*r,r=Object(g.b)(u,c,n)):r<0&&(u=Math.ceil(u*r)/r,c=Math.floor(c*r)/r,r=Object(g.b)(u,c,n)),r>0?(i[a]=Math.floor(u/r)*r,i[o]=Math.ceil(c/r)*r,t(i)):r<0&&(i[a]=Math.ceil(u*r)/r,i[o]=Math.floor(c*r)/r,t(i)),e},e}var L=function(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e};function I(e){return Math.log(e)}function U(e){return Math.exp(e)}function q(e){return-Math.log(-e)}function $(e){return-Math.exp(-e)}function H(e){return isFinite(e)?+("1e"+e):e<0?0:e}function W(e){return function(t){return-e(-t)}}function G(e){var t,n,r=e(I,U),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?H:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=W(t),n=W(n),e(q,$)):e(I,U),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r,o=i(),u=o[0],c=o[o.length-1];(r=c<u)&&(d=u,u=c,c=d);var s,l,f,d=t(u),h=t(c),p=null==e?10:+e,v=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(l=1,s=n(d);l<a;++l)if(!((f=s*l)<u)){if(f>c)break;v.push(f)}}else for(;d<=h;++d)for(l=a-1,s=n(d);l>=1;--l)if(!((f=s*l)<u)){if(f>c)break;v.push(f)}2*v.length<p&&(v=Object(g.a)(u,c,p))}else v=Object(g.a)(d,h,Math.min(h-d,p)).map(n);return r?v.reverse():v},r.tickFormat=function(e,i){if(null==i&&(i=10===a?".0e":","),"function"!==typeof i&&(i=Object(b.a)(i)),e===1/0)return i;null==e&&(e=10);var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(L(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function K(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function V(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Y(e){return e<0?-e*e:e*e}function J(e){var t=e(F,F),n=1;function r(){return 1===n?e(F,F):.5===n?e(V,Y):e(K(n),K(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},z(t)}function X(){var e=J(B());return e.copy=function(){return N(e,X()).exponent(e.exponent())},f.apply(e,arguments),e}function Z(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Q(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ee(e){var t=1,n=e(Z(t),Q(t));return n.constant=function(n){return arguments.length?e(Z(t=+n),Q(t)):t},z(n)}var te=n(287),ne=n(131),re=n(598),ie=n(101),ae=n(317),oe=n(599),ue=n(600),ce=n(601),se=n(602),le=n(606);function fe(e){return new Date(e)}function de(e){return e instanceof Date?+e:+new Date(+e)}function he(e,t,n,r,i,a,o,u,c){var s=R(),l=s.invert,f=s.domain,d=c(".%L"),h=c(":%S"),p=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y"),w=[[o,1,1e3],[o,5,5e3],[o,15,15e3],[o,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function O(u){return(o(u)<u?d:a(u)<u?h:i(u)<u?p:r(u)<u?v:t(u)<u?n(u)<u?m:y:e(u)<u?b:x)(u)}function k(t,n,r){if(null==t&&(t=10),"number"===typeof t){var i,a=Math.abs(r-n)/t,o=Object(te.a)((function(e){return e[2]})).right(w,a);return o===w.length?(i=Object(g.c)(n/31536e6,r/31536e6,t),t=e):o?(i=(o=w[a/w[o-1][2]<w[o][2]/a?o-1:o])[1],t=o[0]):(i=Math.max(Object(g.c)(n,r,t),1),t=u),t.every(i)}return t}return s.invert=function(e){return new Date(l(e))},s.domain=function(e){return arguments.length?f(Array.from(e,de)):f().map(fe)},s.ticks=function(e){var t,n=f(),r=n[0],i=n[n.length-1],a=i<r;return a&&(t=r,r=i,i=t),t=(t=k(e,r,i))?t.range(r,i+1):[],a?t.reverse():t},s.tickFormat=function(e,t){return null==t?O:c(t)},s.nice=function(e){var t=f();return(e=k(e,t[0],t[t.length-1]))?f(L(t,e)):s},s.copy=function(){return N(s,he(e,t,n,r,i,a,o,u,c))},s}var pe=n(132),ve=n(603),ge=n(102),me=n(318),ye=n(604),be=n(605),xe=n(14);function we(){var e,t,n,r,i,a=0,o=1,u=F,c=!1;function s(t){return isNaN(t=+t)?i:u(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function l(e){return function(t){var n,r,i,a;return arguments.length?(n=t,i=(r=Object(xe.a)(n,2))[0],a=r[1],u=e(i,a),s):[u(0),u(1)]}}return s.domain=function(i){var u,c;return arguments.length?(u=i,c=Object(xe.a)(u,2),a=c[0],o=c[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),s):[a,o]},s.clamp=function(e){return arguments.length?(c=!!e,s):c},s.interpolator=function(e){return arguments.length?(u=e,s):u},s.range=l(S.a),s.rangeRound=l(A.a),s.unknown=function(e){return arguments.length?(i=e,s):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),s}}function Oe(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ke(){var e=z(we()(F));return e.copy=function(){return Oe(e,ke())},d.apply(e,arguments)}function je(){var e=J(we());return e.copy=function(){return Oe(e,je()).exponent(e.exponent())},d.apply(e,arguments)}var _e=n(274);function Se(){var e,t,n,r,i,a,o,u=0,c=.5,s=1,l=1,f=F,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(l*e<l*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i,a,o;return arguments.length?(n=t,i=(r=Object(xe.a)(n,3))[0],a=r[1],o=r[2],f=Object(_e.a)(e,[i,a,o]),h):[f(0),f(.5),f(1)]}}return h.domain=function(o){var f,d;return arguments.length?(f=o,d=Object(xe.a)(f,3),u=d[0],c=d[1],s=d[2],e=a(u=+u),t=a(c=+c),n=a(s=+s),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h):[u,c,s]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(f=e,h):f},h.range=p(S.a),h.rangeRound=p(A.a),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(u),t=o(c),n=o(s),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),l=t<e?-1:1,h}}function Ee(){var e=J(Se());return e.copy=function(){return Oe(e,Ee()).exponent(e.exponent())},d.apply(e,arguments)}var Ae=n(314),Ce=n(112);var De={};function Fe(e,t,n){var r=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}(n):n.invertExtent?function(e){return function(t){var n,r,i,a,o=e.range(),u=t[0],c=t[1],s=-1;for(c<u&&(r=u,u=c,c=r),i=0,a=o.length;i<a;++i)o[i]>=u&&o[i]<=c&&(s<0&&(s=i),n=i);if(!(s<0))return u=e.invertExtent(o[s]),c=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===c[1]?c[0]:c[1]]}}(n):void 0),n.type=e,n};return r.metadata=Object(c.db)(Object(c.i)(n)),r}function Te(e,t,n){return arguments.length>1?(De[e]=Fe(e,t,n),this):Me(e)?De[e]:void 0}function Me(e){return Object(c.v)(De,e)}function Pe(e,t){var n=De[e];return n&&n.metadata[t]}function Ne(e){return Pe(e,u)}function Be(e){return Pe(e,"discrete")}function Re(e){return Pe(e,"discretizing")}function ze(e){return Pe(e,i)}function Le(e){return Pe(e,"interpolating")}function Ie(e){return Pe(e,"quantile")}Te("identity",(function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,C),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,C):[0,1],z(r)})),Te("linear",(function e(){var t=R();return t.copy=function(){return N(t,e())},f.apply(t,arguments),z(t)}),u),Te(i,(function e(){var t=G(B()).domain([1,10]);return t.copy=function(){return N(t,e()).base(t.base())},f.apply(t,arguments),t}),[u,i]),Te("pow",X,u),Te("sqrt",(function(){return X.apply(null,arguments).exponent(.5)}),u),Te("symlog",(function e(){var t=ee(B());return t.copy=function(){return N(t,e()).constant(t.constant())},f.apply(t,arguments)}),u),Te(a,(function(){return f.apply(he(ne.a,re.a,ie.b,ae.a,oe.a,ue.a,ce.a,se.a,le.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[u,"temporal"]),Te(o,(function(){return f.apply(he(pe.a,ve.a,ge.b,me.a,ye.a,be.a,ce.a,se.a,le.c).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[u,"temporal"]),Te("sequential",ke,[u,"interpolating"]),Te("".concat("sequential","-").concat("linear"),ke,[u,"interpolating"]),Te("".concat("sequential","-").concat(i),(function e(){var t=G(we()).domain([1,10]);return t.copy=function(){return Oe(t,e()).base(t.base())},d.apply(t,arguments)}),[u,"interpolating",i]),Te("".concat("sequential","-").concat("pow"),je,[u,"interpolating"]),Te("".concat("sequential","-").concat("sqrt"),(function(){return je.apply(null,arguments).exponent(.5)}),[u,"interpolating"]),Te("".concat("sequential","-").concat("symlog"),(function e(){var t=ee(we());return t.copy=function(){return Oe(t,e()).constant(t.constant())},d.apply(t,arguments)}),[u,"interpolating"]),Te("".concat("diverging","-").concat("linear"),(function e(){var t=z(Se()(F));return t.copy=function(){return Oe(t,e())},d.apply(t,arguments)}),[u,"interpolating"]),Te("".concat("diverging","-").concat(i),(function e(){var t=G(Se()).domain([.1,1,10]);return t.copy=function(){return Oe(t,e()).base(t.base())},d.apply(t,arguments)}),[u,"interpolating",i]),Te("".concat("diverging","-").concat("pow"),Ee,[u,"interpolating"]),Te("".concat("diverging","-").concat("sqrt"),(function(){return Ee.apply(null,arguments).exponent(.5)}),[u,"interpolating"]),Te("".concat("diverging","-").concat("symlog"),(function e(){var t=ee(Se());return t.copy=function(){return Oe(t,e()).constant(t.constant())},d.apply(t,arguments)}),[u,"interpolating"]),Te("quantile",(function e(){var t,n=[],r=[],i=[];function a(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=Object(Ae.a)(n,e/t);return o}function o(e){return isNaN(e=+e)?t:r[Object(l.c)(i,e)]}return o.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];var t=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var c=o.value;null==c||isNaN(c=+c)||n.push(c)}}catch(s){r=!0,i=s}finally{try{t||null==u.return||u.return()}finally{if(r)throw i}}return n.sort(Ce.a),a()},o.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return e().domain(n).range(r).unknown(t)},f.apply(o,arguments)}),["discretizing","quantile"]),Te("quantize",(function e(){var t,n=0,r=1,i=1,a=[.5],o=[0,1];function u(e){return e<=e?o[Object(l.c)(a,e,0,i)]:t}function c(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*r-(e-i)*n)/(i+1);return u}return u.domain=function(e){var t,i;return arguments.length?(t=e,i=Object(xe.a)(t,2),n=i[0],r=i[1],n=+n,r=+r,c()):[n,r]},u.range=function(e){return arguments.length?(i=(o=Array.from(e)).length-1,c()):o.slice()},u.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},u.unknown=function(e){return arguments.length?(t=e,u):u},u.thresholds=function(){return a.slice()},u.copy=function(){return e().domain([n,r]).range(o).unknown(t)},f.apply(z(u),arguments)}),"discretizing"),Te("threshold",(function e(){var t,n=[.5],r=[0,1],i=1;function a(e){return e<=e?r[Object(l.c)(n,e,0,i)]:t}return a.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(n).range(r).unknown(t)},f.apply(a,arguments)}),"discretizing"),Te("bin-ordinal",(function e(){var t=[],n=[];function r(e){return null==e||e!==e?void 0:n[(Object(l.c)(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=j(e),r):t.slice()},r.range=function(e){return arguments.length?(n=_.call(e),r):n.slice()},r.tickFormat=function(e,n){return O(t[0],Object(c.U)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),["discrete","discretizing"]),Te("ordinal",p,"discrete"),Te("band",v,"discrete"),Te("point",(function(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(v().paddingInner(1))}),"discrete");var Ue=n(108),qe=["clamp","base","constant","exponent"];function $e(e,t){var n=t[0],r=Object(c.U)(t)-n;return function(t){return e(n+t*r)}}function He(e,t,n){return _e.a(Ke(t||"rgb",n),e)}function We(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function Ge(e,t,n){var r,i,a,o=n-t;return o&&Number.isFinite(o)?(r=(i=e.type).indexOf("-"),i=r<0?i:i.slice(r+1),a=Te(i)().domain([t,n]).range([0,1]),qe.forEach((function(t){return e[t]?a[t](e[t]()):0})),a):Object(c.l)(.5)}function Ke(e,t){var n=Ue[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Ve(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function Ye(e,t){for(var n in e)Xe(n,t(e[n]))}var Je={};function Xe(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Je[e]=t,this):Je[e]}Ye({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Ve),Ye({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(function(e){return He(Ve(e))}));var Ze=n(21),Qe=function(e){return Object(c.A)(e)?e.map((function(e){return String(e)})):String(e)},et=function(e,t){return e[1]-t[1]},tt=function(e,t){return t[1]-e[1]};function nt(e,t,n){var r;return Object(c.E)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(c.X)(e.domain())/n||1)))),Object(c.F)(t)&&(r=t.step,t=t.interval),Object(c.H)(t)&&(t=e.type===a?Object(Ze.p)(t):e.type==o?Object(Ze.v)(t):Object(c.n)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function rt(e,t,n){var r=e.range(),i=r[0],a=Object(c.U)(r),o=et;if(i>a&&(r=a,a=i,i=r,o=tt),i=Math.floor(i),a=Math.ceil(a),t=t.map((function(t){return[t,e(t)]})).filter((function(e){return i<=e[1]&&e[1]<=a})).sort(o).map((function(e){return e[0]})),n>0&&t.length>1){for(var u=[t[0],Object(c.U)(t)];t.length>n&&t.length>=3;)t=t.filter((function(e,t){return!(t%2)}));t.length<3&&(t=u)}return t}function it(e,t){return e.bins?rt(e,e.bins):e.ticks?e.ticks(t):e.domain()}function at(e,t,n,r,i,u){var c=t.type,s=Qe;if(c===a||i===a)s=e.timeFormat(r);else if(c===o||i===o)s=e.utcFormat(r);else if(ze(c)){var l=e.formatFloat(r);if(u||t.bins)s=l;else{var f=ot(t,n,!1);s=function(e){return f(e)?l(e):""}}}else if(t.tickFormat){var d=t.domain();s=e.formatSpan(d[0],d[d.length-1],n,r)}else r&&(s=e.format(r));return s}function ot(e,t,n){var r=it(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/r.length),u=function(e){var t=e/Math.pow(i,Math.round(Math.log(e)/a));return t*i<i-.5&&(t*=i),t<=o};return n?r.filter(u):u}var ut,ct,st=n(5),lt=(ut={},Object(st.a)(ut,"quantile","quantiles"),Object(st.a)(ut,"quantize","thresholds"),Object(st.a)(ut,"threshold","domain"),ut),ft=(ct={},Object(st.a)(ct,"quantile","quantiles"),Object(st.a)(ct,"quantize","domain"),ct);function dt(e,t){return e.bins?function(e){var t=e.slice(0,-1);return t.max=Object(c.U)(e),t}(e.bins):e.type===i?ot(e,t,!0):lt[e.type]?function(e){var t=[-1/0].concat(e);return t.max=1/0,t}(e[lt[e.type]]()):it(e,t)}function ht(e,t,n,r,i,u,c){var s=ft[t.type]&&u!==a&&u!==o?function(e,t,n){var r,i=t[ft[t.type]](),a=i.length,o=a>1?i[1]-i[0]:i[0];for(r=1;r<a;++r)o=Math.min(o,i[r]-i[r-1]);return e.formatSpan(0,o,30,n)}(e,t,i):at(e,t,n,i,u,c);return"symbol"===r&&function(e){return lt[e.type]||e.bins}(t)?function(e){return function(t,n,r){var i=pt(r[n+1],pt(r.max,1/0)),a=vt(t,e),o=vt(i,e);return a&&o?a+" \u2013 "+o:o?"< "+o:"\u2265 "+a}}(s):"discrete"===r?function(e){return function(t,n){return n?e(t):null}}(s):function(e){return function(t){return e(t)}}(s)}function pt(e,t){return null!=e?e:t}function vt(e,t){return Number.isFinite(e)?t(e):null}function gt(e){var t=e.domain(),n=t.length-1,r=+t[0],i=+Object(c.U)(t),a=i-r;if("threshold"===e.type){var o=n?a/n:.1;a=(i+=o)-(r-=o)}return function(e){return(e-r)/a}}function mt(e,t,n,r){var i=r||t.type;return Object(c.H)(n)&&Pe(i,"temporal")&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||i!==a?n||i!==o?ht(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}function yt(e,t,n){n=n||{};var r=Math.max(3,n.maxlen||7),i=mt(e,t,n.format,n.formatType);if(Re(t.type)){var a=dt(t).slice(1).map(i),o=a.length;return"".concat(o," boundar").concat(1===o?"y":"ies",": ").concat(a.join(", "))}if(Be(t.type)){var u=t.domain(),s=u.length,l=s>r?u.slice(0,r-2).map(i).join(", ")+", ending with "+u.slice(-1).map(i):u.map(i).join(", ");return"".concat(s," value").concat(1===s?"":"s",": ").concat(l)}var f=t.domain();return"values from ".concat(i(f[0])," to ").concat(i(Object(c.U)(f)))}n.d(t,"s",(function(){return r})),n.d(t,"e",(function(){return"linear"})),n.d(t,"f",(function(){return i})),n.d(t,"i",(function(){return"pow"})),n.d(t,"m",(function(){return"sqrt"})),n.d(t,"o",(function(){return"symlog"})),n.d(t,"q",(function(){return a})),n.d(t,"r",(function(){return o})),n.d(t,"l",(function(){return"sequential"})),n.d(t,"c",(function(){return"diverging"})),n.d(t,"j",(function(){return"quantile"})),n.d(t,"k",(function(){return"quantize"})),n.d(t,"p",(function(){return"threshold"})),n.d(t,"b",(function(){return"bin-ordinal"})),n.d(t,"g",(function(){return"ordinal"})),n.d(t,"a",(function(){return"band"})),n.d(t,"h",(function(){return"point"})),n.d(t,"u",(function(){return Ke})),n.d(t,"v",(function(){return He})),n.d(t,"w",(function(){return $e})),n.d(t,"J",(function(){return Ge})),n.d(t,"H",(function(){return We})),n.d(t,"I",(function(){return Te})),n.d(t,"D",(function(){return Me})),n.d(t,"x",(function(){return Ne})),n.d(t,"y",(function(){return Be})),n.d(t,"z",(function(){return Re})),n.d(t,"A",(function(){return Le})),n.d(t,"B",(function(){return ze})),n.d(t,"C",(function(){return Ie})),n.d(t,"L",(function(){return Xe})),n.d(t,"n",(function(){return"symbol"})),n.d(t,"d",(function(){return"gradient"})),n.d(t,"M",(function(){return nt})),n.d(t,"N",(function(){return at})),n.d(t,"O",(function(){return it})),n.d(t,"P",(function(){return rt})),n.d(t,"E",(function(){return ht})),n.d(t,"F",(function(){return gt})),n.d(t,"G",(function(){return dt})),n.d(t,"t",(function(){return yt})),n.d(t,"K",(function(){return h}))},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=n.n(a),u=(n(15),n(79)),c=n.n(u),s=n(546),l=n(585),f=n(217),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,u=t.withTheme,d=void 0!==u&&u,h=t.name,p=Object(i.a)(t,["defaultTheme","withTheme","name"]);var v=h,g=Object(s.a)(e,Object(r.a)({defaultTheme:a,Component:n,name:h||n.displayName,classNamePrefix:v},p)),m=o.a.forwardRef((function(e,t){e.classes;var u,c=e.innerRef,s=Object(i.a)(e,["classes","innerRef"]),p=g(Object(r.a)(Object(r.a)({},n.defaultProps),e)),v=s;return("string"===typeof h||d)&&(u=Object(f.a)()||a,h&&(v=Object(l.a)({theme:u,name:h,props:s})),d&&!v.theme&&(v.theme=u)),o.a.createElement(n,Object(r.a)({ref:c||t,classes:p},v))}));return c()(m,n),m}},h=n(86);t.a=function(e,t){return d(e,Object(r.a)({defaultTheme:h.a},t))}},function(e,t,n){"use strict";var r=n(164);var i=n(165);function a(e,t){return Object(r.a)(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)()}n.d(t,"a",(function(){return a}))},function(e,t,n){e.exports=n(343)()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";var r=n(11),i=n.n(r),a=i.a.mark(o);function o(e,t){var n,r,o,u,c,s,l,f,d,h,p,v,g;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(null!=t){i.next=30;break}n=!0,r=!1,o=void 0,i.prev=4,u=e[Symbol.iterator]();case 6:if(n=(c=u.next()).done){i.next=14;break}if(!(null!=(s=c.value)&&""!==s&&(s=+s)>=s)){i.next=11;break}return i.next=11,s;case 11:n=!0,i.next=6;break;case 14:i.next=20;break;case 16:i.prev=16,i.t0=i.catch(4),r=!0,o=i.t0;case 20:i.prev=20,i.prev=21,n||null==u.return||u.return();case 23:if(i.prev=23,!r){i.next=26;break}throw o;case 26:return i.finish(23);case 27:return i.finish(20);case 28:i.next=59;break;case 30:l=-1,f=!0,d=!1,h=void 0,i.prev=34,p=e[Symbol.iterator]();case 36:if(f=(v=p.next()).done){i.next=45;break}if(g=v.value,!(null!=(g=t(g,++l,e))&&""!==g&&(g=+g)>=g)){i.next=42;break}return i.next=42,g;case 42:f=!0,i.next=36;break;case 45:i.next=51;break;case 47:i.prev=47,i.t1=i.catch(34),d=!0,h=i.t1;case 51:i.prev=51,i.prev=52,f||null==p.return||p.return();case 54:if(i.prev=54,!d){i.next=57;break}throw h;case 57:return i.finish(54);case 58:return i.finish(51);case 59:case"end":return i.stop()}}),a,null,[[4,16,20,28],[21,,23,27],[34,47,51,59],[52,,54,58]])}var u=n(112),c=n(314),s=function(e,t,n){var r=Float64Array.from(o(e,n));return r.sort(u.a),t.map((function(e){return Object(c.b)(r,e)}))},l=function(e,t){return s(e,[.25,.5,.75],t)};function f(e,t){var n=function(e,t){var n,r=0,i=0,a=0;if(void 0===t){var o=!0,u=!1,c=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;null!=f&&(f=+f)>=f&&(a+=(n=f-i)*(f-(i+=n/++r)))}}catch(b){u=!0,c=b}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}else{var d=-1,h=!0,p=!1,v=void 0;try{for(var g,m=e[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value;null!=(y=t(y,++d,e))&&(y=+y)>=y&&(a+=(n=y-i)*(y-(i+=n/++r)))}}catch(b){p=!0,v=b}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}}if(r>1)return a/(r-1)}(e,t);return n?Math.sqrt(n):n}var d=function(e,t){var n=e.length,r=f(e,t),i=l(e,t),a=(i[2]-i[0])/1.34;return 1.06*(r=Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)},h=function(e){var t,n,r,i,a,o,u,c,s=e.maxbins||20,l=e.base||10,f=Math.log(l),d=e.divide||[5,2],h=e.extent[0],p=e.extent[1],v=e.span||p-h||Math.abs(h)||1;if(e.step)t=e.step;else if(e.steps){for(a=v/s,o=0,u=e.steps.length;o<u&&e.steps[o]<a;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(s)/f),r=e.minstep||0,t=Math.max(r,Math.pow(l,Math.round(Math.log(v)/f)-n));Math.ceil(v/t)>s;)t*=l;for(o=0,u=d.length;o<u;++o)(a=t/d[o])>=r&&v/a<=s&&(t=a)}return i=(a=Math.log(t))>=0?0:1+~~(-a/f),c=Math.pow(l,-i-1),(e.nice||void 0===e.nice)&&(h=h<(a=Math.floor(h/t+c)*t)?a-t:a,p=Math.ceil(p/t)*t),{start:h,stop:p===h?h+t:p,step:t}},p=Math.random;function v(e){p=e}var g=function(e,t,n,r){if(!e.length)return[void 0,void 0];var i,a,s,l,f=Float64Array.from(o(e,r)),d=f.length,h=t;for(s=0,l=Array(h);s<h;++s){for(i=0,a=0;a<d;++a)i+=f[~~(p()*d)];l[s]=i/d}return l.sort(u.a),[Object(c.a)(l,n/2),Object(c.a)(l,1-n/2)]},m=function(e,t,n,r){r=r||function(e){return e};for(var i,a=0,o=1,u=e.length,c=new Float64Array(u),s=r(e[0]),l=s,f=s+t;o<u;++o){if((i=r(e[o]))>=f){for(l=(s+l)/2;a<o;++a)c[a]=l;f=i+t,s=i}l=i}for(l=(s+l)/2;a<o;++a)c[a]=l;return n?function(e,t){var n,r,i=e.length,a=0,o=1;for(;e[a]===e[o];)++o;for(;o<i;){for(n=o+1;e[o]===e[n];)++n;if(e[o]-e[o-1]<t){for(r=o+(a+n-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[a]}a=o,o=n}return e}(c,t+t/4):c};var y=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}},b=function(e,t){null==t&&(t=e,e=0);var n,r,i,a={};return a.min=function(e){return arguments.length?(i=r-(n=e||0),a):n},a.max=function(e){return arguments.length?(i=(r=e||0)-n,a):r},a.sample=function(){return n+Math.floor(i*p())},a.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},a.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},a.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN},a.min(e).max(t)},x=Math.sqrt(2*Math.PI),w=Math.SQRT2,O=NaN;function k(e,t){e=e||0,t=null==t?1:t;var n,r,i=0,a=0;if(O===O)i=O,O=NaN;else{do{n=(i=2*p()-1)*i+(a=2*p()-1)*a}while(0===n||n>1);i*=r=Math.sqrt(-2*Math.log(n)/n),O=a*r}return e+i*t}function j(e,t,n){var r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*x)}function _(e,t,n){var r,i=(e-(t=t||0))/(n=null==n?1:n),a=Math.abs(i);if(a>37)r=0;else{var o=Math.exp(-a*a/2);a<7.07106781186547?(r=o*((((((.0352624965998911*a+.700383064443688)*a+6.37396220353165)*a+33.912866078383)*a+112.079291497871)*a+221.213596169931)*a+220.206867912376),r/=((((((.0883883476483184*a+1.75566716318264)*a+16.064177579207)*a+86.7807322029461)*a+296.564248779674)*a+637.333633378831)*a+793.826512519948)*a+440.413735824752):r=o/(a+1/(a+2/(a+3/(a+4/(a+.65)))))/2.506628274631}return i>0?1-r:r}function S(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*w*function(e){var t,n=-Math.log((1-e)*(1+e));n<6.25?t=1.6536545626831027+(t=.24015818242558962+(t=(t=(t=.00018673420803405714+(t=(t=(t=4.2347877827932404e-7+(t=(t=(t=1.0512122733215323e-9+(t=(t=(t=26335093153082323e-28+(t=(t=(t=6637638134358324e-30+(t=20972767875968562e-33+(t=(t=11157877678025181e-33+(t=128584807152564e-32+(t=(t=-364441206401782e-35)*(n-=3.125)-16850591381820166e-35)*n)*n)*n-1333171662854621e-31)*n)*n)*n-4054566272975207e-29)*n-8151934197605472e-29)*n)*n-12975133253453532e-27)*n-5415412054294628e-26)*n)*n-4.112633980346984e-9)*n-2.9070369957882005e-8)*n)*n-13654692000834679e-22)*n-13882523362786469e-21)*n)*n-.000740702534166267)*n-.006033670871430149)*n)*n:n<16?(n=Math.sqrt(n)-3.25,t=3.0838856104922208+(t=1.0052589676941592+(t=.005370914553590064+(t=(t=.002491442096107851+(t=(t=.0009532893797373805+(t=(t=24031110387097894e-21+(t=6828485145957318e-20+(t=(t=12475304481671779e-21+(t=29234449089955446e-22+(t=(t=15027403968909828e-22+(t=1.8239629214389228e-8+(t=(t=9.075656193888539e-8+(t=2.2137376921775787e-9)*n)*n-2.7517406297064545e-7)*n)*n)*n-4013867526981546e-21)*n)*n)*n-47318229009055734e-21)*n)*n)*n-.0003550375203628475)*n)*n-.0016882755560235047)*n)*n-.003751208507569241)*n)*n)*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=4.849906401408584+(t=1.0103004648645344+(t=(t=(t=7599527703001776e-20+(t=(t=4526062597223154e-21+(t=(t=2.2900482228026655e-7+(t=(t=2.914795345090108e-8+(t=(t=7.61570120807834e-9+(t=(t=1.5076572693500548e-9+(t=(t=-27109920616438573e-27)*n-2.555641816996525e-10)*n)*n-3.789465440126737e-9)*n)*n-1.496002662714924e-8)*n)*n-6.771199775845234e-8)*n)*n-9.9298272942317e-7)*n)*n-1968177810553167e-20)*n)*n-.00021503011930044477)*n-.00013871931833623122)*n)*n):t=1/0;return t*e}(2*e-1)}var E=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return k(n,r)},pdf:function(e){return j(e,n,r)},cdf:function(e){return _(e,n,r)},icdf:function(e){return S(e,n,r)}};return i.mean(e).stdev(t)},A=function(e,t){var n=E(),r={},i=0;return r.data=function(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},r.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=d(e)),r):t},r.sample=function(){return e[~~(p()*i)]+t*n.sample()},r.pdf=function(r){for(var a=0,o=0;o<i;++o)a+=n.pdf((r-e[o])/t);return a/t/i},r.cdf=function(r){for(var a=0,o=0;o<i;++o)a+=n.cdf((r-e[o])/t);return a/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(e)};function C(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+k()*t)}function D(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;var r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*x*e)}function F(e,t,n){return _(Math.log(e),t,n)}function T(e,t,n){return Math.exp(S(e,t,n))}var M=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return C(n,r)},pdf:function(e){return D(e,n,r)},cdf:function(e){return F(e,n,r)},icdf:function(e){return T(e,n,r)}};return i.mean(e).stdev(t)},P=function(e,t){var n,r={},i=0;function a(e){var t,n=[],r=0;for(t=0;t<i;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<i;++t)n[t]/=r;return n}return r.weights=function(e){return arguments.length?(n=a(t=e||[]),r):t},r.distributions=function(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},r.sample=function(){for(var t=p(),r=e[i-1],a=n[0],o=0;o<i-1;a+=n[++o])if(t<a){r=e[o];break}return r.sample()},r.pdf=function(t){for(var r=0,a=0;a<i;++a)r+=n[a]*e[a].pdf(t);return r},r.cdf=function(t){for(var r=0,a=0;a<i;++a)r+=n[a]*e[a].cdf(t);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(e).weights(t)};function N(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*p()}function B(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function R(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function z(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}var L=function(e,t){var n,r,i={min:function(e){return arguments.length?(n=e||0,i):n},max:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:function(){return N(n,r)},pdf:function(e){return B(e,n,r)},cdf:function(e){return R(e,n,r)},icdf:function(e){return z(e,n,r)}};return null==t&&(t=null==e?1:e,e=0),i.min(e).max(t)},I=function(e,t,n,r){var i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]};function U(e,t,n,r){e=e.filter((function(e){var r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i})),r&&e.sort((function(e,n){return t(e)-t(n)}));var i,a,o,u=e.length,c=new Float64Array(u),s=new Float64Array(u),l=0,f=0,d=0,h=!0,p=!1,v=void 0;try{for(var g,m=e[Symbol.iterator]();!(h=(g=m.next()).done);h=!0)o=g.value,c[l]=i=+t(o),s[l]=a=+n(o),f+=(i-f)/++l,d+=(a-d)/l}catch(y){p=!0,v=y}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}for(l=0;l<u;++l)c[l]-=f,s[l]-=d;return[c,s,f,d]}function q(e,t,n,r){var i,a,o=-1,u=!0,c=!1,s=void 0;try{for(var l,f=e[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;i=t(d),a=n(d),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&r(i,a,++o)}}catch(h){c=!0,s=h}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}var $=function(e,t,n,r,i){var a=0,o=0;return q(e,t,n,(function(e,t){var n=t-i(e),u=t-r;a+=n*n,o+=u*u})),1-a/o},H=function(e,t,n){var r=0,i=0,a=0,o=0,u=0;q(e,t,n,(function(e,t){++u,r+=(e-r)/u,i+=(t-i)/u,a+=(e*t-a)/u,o+=(e*e-o)/u}));var c=I(r,i,a,o),s=function(e){return c[0]+c[1]*e};return{coef:c,predict:s,rSquared:$(e,t,n,i,s)}},W=function(e,t,n){var r=0,i=0,a=0,o=0,u=0;q(e,t,n,(function(e,t){++u,e=Math.log(e),r+=(e-r)/u,i+=(t-i)/u,a+=(e*t-a)/u,o+=(e*e-o)/u}));var c=I(r,i,a,o),s=function(e){return c[0]+c[1]*Math.log(e)};return{coef:c,predict:s,rSquared:$(e,t,n,i,s)}},G=n(14),K=function(e,t,n){var r,i,a,o=U(e,t,n),u=Object(G.a)(o,4),c=u[0],s=(u[1],u[2]),l=u[3],f=0,d=0,h=0,p=0,v=0;q(e,t,n,(function(e,t){r=c[v++],i=Math.log(t),f+=(t*i-f)/v,d+=((a=r*t)-d)/v,h+=(a*i-h)/v,p+=(r*a-p)/v}));var g=I(d/l,f/l,h/l,p/l),m=Object(G.a)(g,2),y=m[0],b=m[1],x=function(e){return Math.exp(y+b*(e-s))};return{coef:[Math.exp(y-b*s),b],predict:x,rSquared:$(e,t,n,l,x)}},V=function(e,t,n){var r=0,i=0,a=0,o=0,u=0,c=0;q(e,t,n,(function(e,t){var n=Math.log(e),s=Math.log(t);++c,r+=(n-r)/c,i+=(s-i)/c,a+=(n*s-a)/c,o+=(n*n-o)/c,u+=(t-u)/c}));var s=I(r,i,a,o),l=function(e){return s[0]*Math.pow(e,s[1])};return s[0]=Math.exp(s[0]),{coef:s,predict:l,rSquared:$(e,t,n,u,l)}},Y=function(e,t,n){var r,i,a,o,u=U(e,t,n),c=Object(G.a)(u,4),s=c[0],l=c[1],f=c[2],d=c[3],h=s.length,p=0,v=0,g=0,m=0,y=0;for(r=0;r<h;)i=s[r],a=l[r++],p+=((o=i*i)-p)/r,v+=(o*i-v)/r,g+=(o*o-g)/r,m+=(i*a-m)/r,y+=(o*a-y)/r;var b=g-p*p,x=p*b-v*v,w=(y*p-m*v)/x,O=(m*b-y*v)/x,k=-w*p,j=function(e){return w*(e-=f)*e+O*e+k+d};return{coef:[k-O*f+w*f*f+d,O-2*w*f,w],predict:j,rSquared:$(e,t,n,d,j)}},J=function(e,t,n,r){if(1===r)return H(e,t,n);if(2===r)return Y(e,t,n);var i,a,o,u,c,s=U(e,t,n),l=Object(G.a)(s,4),f=l[0],d=l[1],h=l[2],p=l[3],v=f.length,g=[],m=[],y=r+1;for(i=0;i<y;++i){for(o=0,u=0;o<v;++o)u+=Math.pow(f[o],i)*d[o];for(g.push(u),c=new Float64Array(y),a=0;a<y;++a){for(o=0,u=0;o<v;++o)u+=Math.pow(f[o],i+a);c[a]=u}m.push(c)}m.push(g);var b=function(e){var t,n,r,i,a,o=e.length-1,u=[];for(t=0;t<o;++t){for(i=t,n=t+1;n<o;++n)Math.abs(e[t][n])>Math.abs(e[t][i])&&(i=n);for(r=t;r<o+1;++r)a=e[r][t],e[r][t]=e[r][i],e[r][i]=a;for(n=t+1;n<o;++n)for(r=o;r>=t;r--)e[r][n]-=e[r][t]*e[t][n]/e[t][t]}for(n=o-1;n>=0;--n){for(a=0,r=n+1;r<o;++r)a+=e[r][n]*u[r];u[n]=(e[o][n]-a)/e[n][n]}return u}(m),x=function(e){e-=h;var t=p+b[0]+b[1]*e+b[2]*e*e;for(i=3;i<y;++i)t+=b[i]*Math.pow(e,i);return t};return{coef:X(y,b,-h,p),predict:x,rSquared:$(e,t,n,p,x)}};function X(e,t,n,r){var i,a,o,u,c=Array(e);for(i=0;i<e;++i)c[i]=0;for(i=e-1;i>=0;--i)for(o=t[i],u=1,c[i]+=o,a=1;a<=i;++a)u*=(i+1-a)/a,c[i-a]+=o*Math.pow(n,a)*u;return c[0]+=r,c}var Z=n(607),Q=function(e,t,n,r){for(var i=U(e,t,n,!0),a=Object(G.a)(i,4),o=a[0],u=a[1],c=a[2],s=a[3],l=o.length,f=Math.max(2,~~(r*l)),d=new Float64Array(l),h=new Float64Array(l),p=new Float64Array(l).fill(1),v=-1;++v<=2;){for(var g=[0,f-1],m=0;m<l;++m){for(var y=o[m],b=g[0],x=g[1],w=y-o[b]>o[x]-y?b:x,O=0,k=0,j=0,_=0,S=0,E=1/Math.abs(o[w]-y||1),A=b;A<=x;++A){var C=o[A],D=u[A],F=ee(Math.abs(y-C)*E)*p[A],T=C*F;O+=F,k+=T,j+=D*F,_+=D*T,S+=C*T}var M=I(k/O,j/O,_/O,S/O),P=Object(G.a)(M,2),N=P[0],B=P[1];d[m]=N+B*y,h[m]=Math.abs(u[m]-d[m]),te(o,m+1,g)}if(2===v)break;var R=Object(Z.a)(h);if(Math.abs(R)<1e-12)break;for(var z,L,q=0;q<l;++q)z=h[q]/(6*R),p[q]=z>=1?1e-12:(L=1-z*z)*L}return function(e,t,n,r){for(var i,a=e.length,o=[],u=0,c=0,s=[];u<a;++u)i=e[u]+n,s[0]===i?s[1]+=(t[u]-s[1])/++c:(c=0,s[1]+=r,s=[i,t[u]],o.push(s));return s[1]+=r,o}(o,d,c,s)};function ee(e){return(e=1-e*e*e)*e*e}function te(e,t,n){var r=e[t],i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}var ne=.1*Math.PI/180,re=function(e,t,n,r){n=n||25,r=Math.max(n,r||200);var i=function(t){return[t,e(t)]},a=t[0],o=t[1],u=o-a,c=u/r,s=[i(a)],l=[];if(n===r){for(var f=1;f<r;++f)s.push(i(a+f/n*u));return s.push(i(o)),s}l.push(i(o));for(var d=n;--d>0;)l.push(i(a+d/n*u));for(var h=s[0],p=l[l.length-1];p;){var v=i((h[0]+p[0])/2);v[0]-h[0]>=c&&ie(h,v,p)>ne?l.push(v):(h=p,s.push(p),l.pop()),p=l[l.length-1]}return s};function ie(e,t,n){var r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"n",(function(){return s})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return p})),n.d(t,"I",(function(){return v})),n.d(t,"s",(function(){return y})),n.d(t,"q",(function(){return b})),n.d(t,"r",(function(){return A})),n.d(t,"t",(function(){return M})),n.d(t,"F",(function(){return C})),n.d(t,"g",(function(){return D})),n.d(t,"d",(function(){return F})),n.d(t,"k",(function(){return T})),n.d(t,"u",(function(){return P})),n.d(t,"v",(function(){return E})),n.d(t,"G",(function(){return k})),n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return _})),n.d(t,"l",(function(){return S})),n.d(t,"w",(function(){return L})),n.d(t,"H",(function(){return N})),n.d(t,"i",(function(){return B})),n.d(t,"f",(function(){return R})),n.d(t,"m",(function(){return z})),n.d(t,"y",(function(){return H})),n.d(t,"A",(function(){return W})),n.d(t,"x",(function(){return K})),n.d(t,"C",(function(){return V})),n.d(t,"D",(function(){return Y})),n.d(t,"B",(function(){return J})),n.d(t,"z",(function(){return Q})),n.d(t,"E",(function(){return re}))},function(e,t,n){"use strict";var r=0;function i(e){return e&&e.gradient}function a(e,t,n){var i=e.id,a=e.gradient,u="radial"===a?"p_":"";return i||(i=e.id="gradient_"+r++,"radial"===a?(e.x1=o(e.x1,.5),e.y1=o(e.y1,.5),e.r1=o(e.r1,0),e.x2=o(e.x2,.5),e.y2=o(e.y2,.5),e.r2=o(e.r2,.5),u="p_"):(e.x1=o(e.x1,0),e.y1=o(e.y1,0),e.x2=o(e.x2,1),e.y2=o(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+u+i+")"}function o(e,t){return null!=e?e:t}var u=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}},c=n(0);function s(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function l(e){this._context=e}l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:s(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:s(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var f=function(){};function d(e){this._context=e}d.prototype={areaStart:f,areaEnd:f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:s(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h(e){this._context=e}h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:s(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p(e,t){this._basis=new l(e),this._beta=t}p.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,u=t[n]-a,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+r*o),this._beta*t[c]+(1-this._beta)*(a+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var v=function e(t){function n(e){return 1===t?new l(e):new p(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function g(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function m(e,t){this._context=e,this._k=(1-t)/6}m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:g(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:g(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var y=function e(t){function n(e){return new m(e,t)}return n.tension=function(t){return e(+t)},n}(0);function b(e,t){this._context=e,this._k=(1-t)/6}b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:g(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var x=function e(t){function n(e){return new b(e,t)}return n.tension=function(t){return e(+t)},n}(0);function w(e,t){this._context=e,this._k=(1-t)/6}w.prototype={areaStart:f,areaEnd:f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:g(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var O=function e(t){function n(e){return new w(e,t)}return n.tension=function(t){return e(+t)},n}(0),k=Math.abs,j=Math.atan2,_=Math.cos,S=Math.max,E=Math.min,A=Math.sin,C=Math.sqrt,D=Math.PI,F=D/2,T=2*D;function M(e){return e>1?0:e<-1?D:Math.acos(e)}function P(e){return e>=1?F:e<=-1?-F:Math.asin(e)}function N(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>1e-12){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>1e-12){var s=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*s+e._x1*e._l23_2a-t*e._l12_2a)/l,o=(o*s+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function B(e,t){this._context=e,this._alpha=t}B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:N(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var R=function e(t){function n(e){return t?new B(e,t):new m(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function z(e,t){this._context=e,this._alpha=t}z.prototype={areaStart:f,areaEnd:f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:N(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var L=function e(t){function n(e){return t?new z(e,t):new w(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function I(e,t){this._context=e,this._alpha=t}I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:N(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var U=function e(t){function n(e){return t?new I(e,t):new b(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function q(e){this._context=e}q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var $=function(e){return new q(e)};function H(e){this._context=e}H.prototype={areaStart:f,areaEnd:f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function W(e){return e<0?-1:1}function G(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(W(a)+W(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function K(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function V(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function Y(e){this._context=e}function J(e){this._context=new X(e)}function X(e){this._context=e}function Z(e){this._context=e}function Q(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V(this,this._t0,K(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,V(this,K(this,n=G(this,e,t)),n);break;default:V(this,this._t0,n=G(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(J.prototype=Object.create(Y.prototype)).point=function(e,t){Y.prototype.point.call(this,t,e)},X.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Q(e),i=Q(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ee(e,t){this._context=e,this._t=t}ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var te={basis:{curve:function(e){return new l(e)}},"basis-closed":{curve:function(e){return new d(e)}},"basis-open":{curve:function(e){return new h(e)}},bundle:{curve:v,tension:"beta",value:.85},cardinal:{curve:y,tension:"tension",value:0},"cardinal-open":{curve:x,tension:"tension",value:0},"cardinal-closed":{curve:O,tension:"tension",value:0},"catmull-rom":{curve:R,tension:"alpha",value:.5},"catmull-rom-closed":{curve:L,tension:"alpha",value:.5},"catmull-rom-open":{curve:U,tension:"alpha",value:.5},linear:{curve:$},"linear-closed":{curve:function(e){return new H(e)}},monotone:{horizontal:function(e){return new J(e)},vertical:function(e){return new Y(e)}},natural:{curve:function(e){return new Z(e)}},step:{curve:function(e){return new ee(e,.5)}},"step-after":{curve:function(e){return new ee(e,1)}},"step-before":{curve:function(e){return new ee(e,0)}}};function ne(e,t,n){var r=Object(c.v)(te,e)&&te[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}var re={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},ie=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],ae=function(e){var t,n,r,i,a,o,u,c,s,l,f,d=[];for(c=0,l=(t=e.slice().replace(ie[0],"###$1").split(ie[1]).slice(1)).length;c<l;++c){for(r=(n=t[c]).slice(1).trim().replace(ie[2],"$1###$2").split(ie[3]),i=[o=n.charAt(0)],s=0,f=r.length;s<f;++s)(a=+r[s])===a&&i.push(a);if(u=re[o.toLowerCase()],i.length-1>u)for(s=1,f=i.length;s<f;s+=u)d.push([o].concat(i.slice(s,s+u)));else d.push(i)}return d},oe=Math.PI/180,ue=Math.PI/2,ce=2*Math.PI,se=Math.sqrt(3)/2,le={},fe={},de=[].join;function he(e){var t=de.call(e);if(fe[t])return fe[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],u=e[5],c=e[6],s=e[7],l=s*o,f=-c*u,d=c*o,h=s*u,p=Math.cos(i),v=Math.sin(i),g=Math.cos(a),m=Math.sin(a),y=.5*(a-i),b=Math.sin(.5*y),x=8/3*b*b/Math.sin(y),w=n+p-x*v,O=r+v+x*p,k=n+g,j=r+m,_=k+x*m,S=j-x*g;return fe[t]=[l*w+f*O,d*w+h*O,l*_+f*S,d*_+h*S,l*k+f*j,d*k+h*j]}var pe=["l",0,0,0,0,0,0,0];function ve(e,t,n){var r=pe[0]=e[0];if("a"===r||"A"===r)pe[1]=t*e[1],pe[2]=n*e[2],pe[3]=e[3],pe[4]=e[4],pe[5]=e[5],pe[6]=t*e[6],pe[7]=n*e[7];else if("h"===r||"H"===r)pe[1]=t*e[1];else if("v"===r||"V"===r)pe[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)pe[i]=(i%2==1?t:n)*e[i];return pe}var ge=function(e,t,n,r,i,a){var o,u,c,s,l,f=null,d=0,h=0,p=0,v=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==a&&(a=i),e.beginPath&&e.beginPath();for(var g=0,m=t.length;g<m;++g){switch(o=t[g],1===i&&1===a||(o=ve(o,i,a)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+r);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+r);break;case"h":d+=o[1],e.lineTo(d+n,h+r);break;case"H":d=o[1],e.lineTo(d+n,h+r);break;case"v":h+=o[1],e.lineTo(d+n,h+r);break;case"V":h=o[1],e.lineTo(d+n,h+r);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+r);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+r);break;case"c":u=d+o[5],c=h+o[6],p=d+o[3],v=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+r,p+n,v+r,u+n,c+r),d=u,h=c;break;case"C":d=o[5],h=o[6],p=o[3],v=o[4],e.bezierCurveTo(o[1]+n,o[2]+r,p+n,v+r,d+n,h+r);break;case"s":u=d+o[3],c=h+o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,d+o[1]+n,h+o[2]+r,u+n,c+r),p=d+o[1],v=h+o[2],d=u,h=c;break;case"S":u=o[3],c=o[4],p=2*d-p,v=2*h-v,e.bezierCurveTo(p+n,v+r,o[1]+n,o[2]+r,u+n,c+r),d=u,h=c,p=o[1],v=o[2];break;case"q":u=d+o[3],c=h+o[4],p=d+o[1],v=h+o[2],e.quadraticCurveTo(p+n,v+r,u+n,c+r),d=u,h=c;break;case"Q":u=o[3],c=o[4],e.quadraticCurveTo(o[1]+n,o[2]+r,u+n,c+r),d=u,h=c,p=o[1],v=o[2];break;case"t":u=d+o[1],c=h+o[2],null===f[0].match(/[QqTt]/)?(p=d,v=h):"t"===f[0]?(p=2*d-s,v=2*h-l):"q"===f[0]&&(p=2*d-p,v=2*h-v),s=p,l=v,e.quadraticCurveTo(p+n,v+r,u+n,c+r),h=c,p=(d=u)+o[1],v=h+o[2];break;case"T":u=o[1],c=o[2],p=2*d-p,v=2*h-v,e.quadraticCurveTo(p+n,v+r,u+n,c+r),d=u,h=c;break;case"a":me(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+r]),d+=o[6],h+=o[7];break;case"A":me(e,d+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}f=o}};function me(e,t,n,r){for(var i=function(e,t,n,r,i,a,o,u,c){var s=de.call(arguments);if(le[s])return le[s];var l=o*oe,f=Math.sin(l),d=Math.cos(l),h=d*(u-e)*.5+f*(c-t)*.5,p=d*(c-t)*.5-f*(u-e)*.5,v=h*h/((n=Math.abs(n))*n)+p*p/((r=Math.abs(r))*r);v>1&&(n*=v=Math.sqrt(v),r*=v);var g=d/n,m=f/n,y=-f/r,b=d/r,x=g*u+m*c,w=y*u+b*c,O=g*e+m*t,k=y*e+b*t,j=(O-x)*(O-x)+(k-w)*(k-w),_=1/j-.25;_<0&&(_=0);var S=Math.sqrt(_);a==i&&(S=-S);var E=.5*(x+O)-S*(k-w),A=.5*(w+k)+S*(O-x),C=Math.atan2(w-A,x-E),D=Math.atan2(k-A,O-E),F=D-C;F<0&&1===a?F+=ce:F>0&&0===a&&(F-=ce);for(var T=Math.ceil(Math.abs(F/(ue+.001))),M=[],P=0;P<T;++P){var N=C+P*F/T,B=C+(P+1)*F/T;M[P]=[E,A,N,B,n,r,f,d]}return le[s]=M}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),a=0;a<i.length;++a){var o=he(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var ye={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,ce)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=se*n,i=r-.5773502691896257*n,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=se*n,i=r-.5773502691896257*n;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=se*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=se*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=se*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=se*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function be(e){return Object(c.v)(ye,e)?ye[e]:function(e){if(!Object(c.v)(xe,e)){var t=ae(e);xe[e]={draw:function(e,n){ge(e,t,0,0,Math.sqrt(n)/2)}}}return xe[e]}(e)}var xe={};var we=Math.PI,Oe=2*we,ke=Oe-1e-6;function je(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _e(){return new je}je.prototype=_e.prototype={constructor:je,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,u=n-e,c=r-t,s=a-e,l=o-t,f=s*s+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(l*u-c*s)>1e-6&&i){var d=n-a,h=r-o,p=u*u+c*c,v=d*d+h*h,g=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((we-Math.acos((p+f-v)/(2*g*m)))/2),b=y/m,x=y/g;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*s)+","+(t+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>s*h)+","+(this._x1=e+x*u)+","+(this._y1=t+x*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,a=!!a;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),c=e+o,s=t+u,l=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),n&&(f<0&&(f=f%Oe+Oe),f>ke?this._+="A"+n+","+n+",0,1,"+l+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=s):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=we)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Se=_e,Ee=.448084975506;function Ae(e){return e.x}function Ce(e){return e.y}function De(e){return e.width}function Fe(e){return e.height}function Te(e){return"function"===typeof e?e:function(){return+e}}function Me(e,t,n){return Math.max(t,Math.min(e,n))}var Pe=function(){var e=Ae,t=Ce,n=De,r=Fe,i=Te(0),a=i,o=i,u=i,c=null;function s(s,l,f){var d,h=null!=l?l:+e.call(this,s),p=null!=f?f:+t.call(this,s),v=+n.call(this,s),g=+r.call(this,s),m=Math.min(v,g)/2,y=Me(+i.call(this,s),0,m),b=Me(+a.call(this,s),0,m),x=Me(+o.call(this,s),0,m),w=Me(+u.call(this,s),0,m);if(c||(c=d=Se()),y<=0&&b<=0&&x<=0&&w<=0)c.rect(h,p,v,g);else{var O=h+v,k=p+g;c.moveTo(h+y,p),c.lineTo(O-b,p),c.bezierCurveTo(O-Ee*b,p,O,p+Ee*b,O,p+b),c.lineTo(O,k-w),c.bezierCurveTo(O,k-Ee*w,O-Ee*w,k,O-w,k),c.lineTo(h+x,k),c.bezierCurveTo(h+Ee*x,k,h,k-Ee*x,h,k-x),c.lineTo(h,p+y),c.bezierCurveTo(h,p+Ee*y,h+Ee*y,p,h+y,p),c.closePath()}if(d)return c=null,d+""||null}return s.x=function(t){return arguments.length?(e=Te(t),s):e},s.y=function(e){return arguments.length?(t=Te(e),s):t},s.width=function(e){return arguments.length?(n=Te(e),s):n},s.height=function(e){return arguments.length?(r=Te(e),s):r},s.cornerRadius=function(e,t,n,r){return arguments.length?(i=Te(e),a=null!=t?Te(t):i,u=null!=n?Te(n):i,o=null!=r?Te(r):a,s):i},s.context=function(e){return arguments.length?(c=null==e?null:e,s):c},s},Ne=function(){var e,t,n,r,i,a,o,u,c=null;function s(e,t,n){var r=n/2;if(i){var s=o-t,l=e-a;if(s||l){var f=Math.sqrt(s*s+l*l),d=(s/=f)*u,h=(l/=f)*u,p=Math.atan2(l,s);c.moveTo(a-d,o-h),c.lineTo(e-s*r,t-l*r),c.arc(e,t,r,p-Math.PI,p),c.lineTo(a+d,o+h),c.arc(a,o,u,p,p+Math.PI)}else c.arc(e,t,r,0,ce);c.closePath()}else i=1;a=e,o=t,u=r}function l(a){var o,u,l,f=a.length,d=!1;for(null==c&&(c=l=Se()),o=0;o<=f;++o)!(o<f&&r(u=a[o],o,a))===d&&(d=!d)&&(i=0),d&&s(+e(u,o,a),+t(u,o,a),+n(u,o,a));if(l)return c=null,l+""||null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(e){return arguments.length?(t=e,l):t},l.size=function(e){return arguments.length?(n=e,l):n},l.defined=function(e){return arguments.length?(r=e,l):r},l.context=function(e){return arguments.length?(c=null==e?null:e,l):c},l},Be=function(e){return function(){return e}};function Re(e){return e.innerRadius}function ze(e){return e.outerRadius}function Le(e){return e.startAngle}function Ie(e){return e.endAngle}function Ue(e){return e&&e.padAngle}function qe(e,t,n,r,i,a,o,u){var c=n-e,s=r-t,l=o-i,f=u-a,d=f*c-l*s;if(!(d*d<1e-12))return[e+(d=(l*(t-a)-f*(e-i))/d)*c,t+d*s]}function $e(e,t,n,r,i,a,o){var u=e-n,c=t-r,s=(o?a:-a)/C(u*u+c*c),l=s*c,f=-s*u,d=e+l,h=t+f,p=n+l,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,b=v-h,x=y*y+b*b,w=i-a,O=d*v-p*h,k=(b<0?-1:1)*C(S(0,w*w*x-O*O)),j=(O*b-y*k)/x,_=(-O*y-b*k)/x,E=(O*b+y*k)/x,A=(-O*y+b*k)/x,D=j-g,F=_-m,T=E-g,M=A-m;return D*D+F*F>T*T+M*M&&(j=E,_=A),{cx:j,cy:_,x01:-l,y01:-f,x11:j*(i/w-1),y11:_*(i/w-1)}}function He(e){return e[0]}function We(e){return e[1]}var Ge=function(){var e=He,t=We,n=Be(!0),r=null,i=$,a=null;function o(o){var u,c,s,l=o.length,f=!1;for(null==r&&(a=i(s=Se())),u=0;u<=l;++u)!(u<l&&n(c=o[u],u,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(c,u,o),+t(c,u,o));if(s)return a=null,s+""||null}return o.x=function(t){return arguments.length?(e="function"===typeof t?t:Be(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Be(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:Be(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o},Ke=function(){var e=He,t=null,n=Be(0),r=We,i=Be(!0),a=null,o=$,u=null;function c(c){var s,l,f,d,h,p=c.length,v=!1,g=new Array(p),m=new Array(p);for(null==a&&(u=o(h=Se())),s=0;s<=p;++s){if(!(s<p&&i(d=c[s],s,c))===v)if(v=!v)l=s,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=s-1;f>=l;--f)u.point(g[f],m[f]);u.lineEnd(),u.areaEnd()}v&&(g[s]=+e(d,s,c),m[s]=+n(d,s,c),u.point(t?+t(d,s,c):g[s],r?+r(d,s,c):m[s]))}if(h)return u=null,h+""||null}function s(){return Ge().defined(i).curve(o).context(a)}return c.x=function(n){return arguments.length?(e="function"===typeof n?n:Be(+n),t=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Be(+t),c):e},c.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:Be(+e),c):t},c.y=function(e){return arguments.length?(n="function"===typeof e?e:Be(+e),r=null,c):n},c.y0=function(e){return arguments.length?(n="function"===typeof e?e:Be(+e),c):n},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Be(+e),c):r},c.lineX0=c.lineY0=function(){return s().x(e).y(n)},c.lineY1=function(){return s().x(e).y(r)},c.lineX1=function(){return s().x(t).y(n)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Be(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(u=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=u=null:u=o(a=e),c):a},c},Ve={draw:function(e,t){var n=Math.sqrt(t/D);e.moveTo(n,0),e.arc(0,0,n,0,T)}},Ye=(Math.sqrt(1/3),Math.sin(D/10)/Math.sin(7*D/10));Math.sin(T/10),Math.cos(T/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function Je(e,t){return null!=e?e:t}var Xe=function(e){return e.x||0},Ze=function(e){return e.y||0},Qe=function(e){return!(!1===e.defined)},et=function(){var e=Re,t=ze,n=Be(0),r=null,i=Le,a=Ie,o=Ue,u=null;function c(){var c,s,l=+e.apply(this,arguments),f=+t.apply(this,arguments),d=i.apply(this,arguments)-F,h=a.apply(this,arguments)-F,p=k(h-d),v=h>d;if(u||(u=c=Se()),f<l&&(s=f,f=l,l=s),f>1e-12)if(p>T-1e-12)u.moveTo(f*_(d),f*A(d)),u.arc(0,0,f,d,h,!v),l>1e-12&&(u.moveTo(l*_(h),l*A(h)),u.arc(0,0,l,h,d,v));else{var g,m,y=d,b=h,x=d,w=h,O=p,S=p,N=o.apply(this,arguments)/2,B=N>1e-12&&(r?+r.apply(this,arguments):C(l*l+f*f)),R=E(k(f-l)/2,+n.apply(this,arguments)),z=R,L=R;if(B>1e-12){var I=P(B/l*A(N)),U=P(B/f*A(N));(O-=2*I)>1e-12?(x+=I*=v?1:-1,w-=I):(O=0,x=w=(d+h)/2),(S-=2*U)>1e-12?(y+=U*=v?1:-1,b-=U):(S=0,y=b=(d+h)/2)}var q=f*_(y),$=f*A(y),H=l*_(w),W=l*A(w);if(R>1e-12){var G,K=f*_(b),V=f*A(b),Y=l*_(x),J=l*A(x);if(p<D&&(G=qe(q,$,Y,J,K,V,H,W))){var X=q-G[0],Z=$-G[1],Q=K-G[0],ee=V-G[1],te=1/A(M((X*Q+Z*ee)/(C(X*X+Z*Z)*C(Q*Q+ee*ee)))/2),ne=C(G[0]*G[0]+G[1]*G[1]);z=E(R,(l-ne)/(te-1)),L=E(R,(f-ne)/(te+1))}}S>1e-12?L>1e-12?(g=$e(Y,J,q,$,f,L,v),m=$e(K,V,H,W,f,L,v),u.moveTo(g.cx+g.x01,g.cy+g.y01),L<R?u.arc(g.cx,g.cy,L,j(g.y01,g.x01),j(m.y01,m.x01),!v):(u.arc(g.cx,g.cy,L,j(g.y01,g.x01),j(g.y11,g.x11),!v),u.arc(0,0,f,j(g.cy+g.y11,g.cx+g.x11),j(m.cy+m.y11,m.cx+m.x11),!v),u.arc(m.cx,m.cy,L,j(m.y11,m.x11),j(m.y01,m.x01),!v))):(u.moveTo(q,$),u.arc(0,0,f,y,b,!v)):u.moveTo(q,$),l>1e-12&&O>1e-12?z>1e-12?(g=$e(H,W,K,V,l,-z,v),m=$e(q,$,Y,J,l,-z,v),u.lineTo(g.cx+g.x01,g.cy+g.y01),z<R?u.arc(g.cx,g.cy,z,j(g.y01,g.x01),j(m.y01,m.x01),!v):(u.arc(g.cx,g.cy,z,j(g.y01,g.x01),j(g.y11,g.x11),!v),u.arc(0,0,l,j(g.cy+g.y11,g.cx+g.x11),j(m.cy+m.y11,m.cx+m.x11),v),u.arc(m.cx,m.cy,z,j(m.y11,m.x11),j(m.y01,m.x01),!v))):u.arc(0,0,l,w,x,v):u.lineTo(H,W)}else u.moveTo(0,0);if(u.closePath(),c)return u=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-D/2;return[_(r)*n,A(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Be(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Be(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:Be(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Be(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:Be(+e),c):i},c.endAngle=function(e){return arguments.length?(a="function"===typeof e?e:Be(+e),c):a},c.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:Be(+e),c):o},c.context=function(e){return arguments.length?(u=null==e?null:e,c):u},c}().startAngle((function(e){return e.startAngle||0})).endAngle((function(e){return e.endAngle||0})).padAngle((function(e){return e.padAngle||0})).innerRadius((function(e){return e.innerRadius||0})).outerRadius((function(e){return e.outerRadius||0})).cornerRadius((function(e){return e.cornerRadius||0})),tt=Ke().x(Xe).y1(Ze).y0((function(e){return(e.y||0)+(e.height||0)})).defined(Qe),nt=Ke().y(Ze).x1(Xe).x0((function(e){return(e.x||0)+(e.width||0)})).defined(Qe),rt=Ge().x(Xe).y(Ze).defined(Qe),it=Pe().x(Xe).y(Ze).width((function(e){return e.width||0})).height((function(e){return e.height||0})).cornerRadius((function(e){return Je(e.cornerRadiusTopLeft,e.cornerRadius)||0}),(function(e){return Je(e.cornerRadiusTopRight,e.cornerRadius)||0}),(function(e){return Je(e.cornerRadiusBottomRight,e.cornerRadius)||0}),(function(e){return Je(e.cornerRadiusBottomLeft,e.cornerRadius)||0})),at=function(){var e=Be(Ve),t=Be(64),n=null;function r(){var r;if(n||(n=r=Se()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:Be(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:Be(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type((function(e){return be(e.shape||"circle")})).size((function(e){return Je(e.size,64)})),ot=Ne().x(Xe).y(Ze).defined(Qe).size((function(e){return e.size||1}));function ut(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function ct(e,t,n,r){return it.context(e)(t,n,r)}var st=1;function lt(){st=1}var ft=function(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+st++),o=i.clipping[a]||(i.clipping[a]={id:a});return Object(c.D)(r)?o.path=r(null):ut(n)?o.path=ct(null,n,0,0):(o.width=n.width||0,o.height=n.height||0),"url(#"+a+")"};function dt(e){this.clear(),e&&this.union(e)}var ht=dt.prototype;function pt(e){this.mark=e,this.bounds=this.bounds||new dt}function vt(e){pt.call(this,e),this.items=this.items||[]}ht.clone=function(){return new dt(this)},ht.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},ht.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},ht.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},ht.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},ht.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},ht.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},ht.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},ht.scale=function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},ht.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},ht.rotate=function(e,t,n){var r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},ht.rotatedPoints=function(e,t,n){var r=this.x1,i=this.y1,a=this.x2,o=this.y2,u=Math.cos(e),c=Math.sin(e),s=t-t*u+n*c,l=n-t*c-n*u;return[u*r-c*i+s,c*r+u*i+l,u*r-c*o+s,c*r+u*o+l,u*a-c*i+s,c*a+u*i+l,u*a-c*o+s,c*a+u*o+l]},ht.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},ht.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},ht.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},ht.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},ht.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},ht.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},ht.width=function(){return this.x2-this.x1},ht.height=function(){return this.y2-this.y1},Object(c.y)(vt,pt);var gt=n(61),mt=n(68);function yt(e){this._pending=0,this._loader=e||Object(mt.e)()}var bt=yt.prototype;function xt(e){e._pending+=1}function wt(e){e._pending-=1}bt.pending=function(){return this._pending},bt.sanitizeURL=function(e){var t=this;return xt(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return wt(t),e})).catch((function(){return wt(t),null}))},bt.loadImage=function(e){var t=this,n=Object(gt.b)();return xt(t),t._loader.sanitize(e,{context:"image"}).then((function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n,a=Object(c.v)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=a&&(i.crossOrigin=a),i.onload=function(){return wt(t)},i.onerror=function(){return wt(t)},i.src=r,i})).catch((function(e){return wt(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},bt.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))};var Ot=function(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){var r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e};var kt,jt,_t,St=ce-1e-8;function Et(e){return kt=e,Et}function At(){}function Ct(e,t){kt.add(e,t)}function Dt(e,t){Ct(jt=e,_t=t)}function Ft(e){Ct(e,kt.y1)}function Tt(e){Ct(kt.x1,e)}function Mt(e,t,n,r){var i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function Pt(e,t,n,r,i){var a,o=r-e+3*t-3*n,u=e+n-2*t,c=e-t,s=0,l=0;Math.abs(o)>1e-14?(a=u*u+c*o)>=0&&(s=(-u+(a=Math.sqrt(a)))/o,l=(-u-a)/o):s=.5*c/u,0<s&&s<1&&i(Nt(s,e,t,n,r)),0<l&&l<1&&i(Nt(l,e,t,n,r))}function Nt(e,t,n,r,i){var a=1-e,o=a*a,u=e*e;return o*a*t+3*o*e*n+3*a*u*r+u*e*i}Et.beginPath=At,Et.closePath=At,Et.moveTo=Dt,Et.lineTo=Dt,Et.rect=function(e,t,n,r){Ct(e+n,t+r),Dt(e,t)},Et.quadraticCurveTo=function(e,t,n,r){Mt(jt,e,n,Ft),Mt(_t,t,r,Tt),Dt(n,r)},Et.bezierCurveTo=function(e,t,n,r,i,a){Pt(jt,e,n,i,Ft),Pt(_t,t,r,a,Tt),Dt(i,a)},Et.arc=function(e,t,n,r,i,a){if(jt=n*Math.cos(i)+e,_t=n*Math.sin(i)+t,Math.abs(i-r)>St)Ct(e-n,t-n),Ct(e+n,t+n);else{var o,u,c=function(r){return Ct(n*Math.cos(r)+e,n*Math.sin(r)+t)};if(c(r),c(i),i!==r)if((r%=ce)<0&&(r+=ce),(i%=ce)<0&&(i+=ce),i<r&&(a=!a,o=r,r=i,i=o),a)for(i-=ce,o=r-r%ue,u=0;u<4&&o>i;++u,o-=ue)c(o);else for(o=r-r%ue+ue,u=0;u<4&&o<i;++u,o+=ue)c(o)}};var Bt=(Bt=Object(gt.a)(1,1))?Bt.getContext("2d"):null,Rt=new dt;function zt(e){return function(t,n){if(!Bt)return!0;e(Bt,t),Rt.clear().union(t.bounds).intersect(n).round();for(var r=Rt.x1,i=Rt.y1,a=Rt.x2,o=Rt.y2,u=i;u<=o;++u)for(var c=r;c<=a;++c)if(Bt.isPointInPath(c,u))return!0;return!1}}function Lt(e,t){return t.contains(e.x||0,e.y||0)}function It(e,t){var n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(Rt.set(n,r,n+i,r+a))}function Ut(e,t){var n=e.x||0,r=e.y||0;return qt(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function qt(e,t,n,r,i){var a,o,u,c,s=e.x1,l=e.y1,f=e.x2,d=e.y2,h=r-t,p=i-n,v=0,g=1;for(c=0;c<4;++c){if(0===c&&(a=-h,o=-(s-t)),1===c&&(a=h,o=f-t),2===c&&(a=-p,o=-(l-n)),3===c&&(a=p,o=d-n),Math.abs(a)<1e-10&&o<0)return!1;if(u=o/a,a<0){if(u>g)return!1;u>v&&(v=u)}else if(a>0){if(u<v)return!1;u<g&&(g=u)}}return!0}var $t=function(e,t){e.globalCompositeOperation=t.blend||"source-over"},Ht=function(e,t){return null==e?t:e};function Wt(e,t){for(var n=t.length,r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}var Gt=function(e,t,n){return i(n)?function(e,t,n){var r,i=n.width(),a=n.height();if("radial"===t.gradient)r=e.createRadialGradient(n.x1+Ht(t.x1,.5)*i,n.y1+Ht(t.y1,.5)*a,Math.max(i,a)*Ht(t.r1,0),n.x1+Ht(t.x2,.5)*i,n.y1+Ht(t.y2,.5)*a,Math.max(i,a)*Ht(t.r2,.5));else{var o=Ht(t.x1,0),u=Ht(t.y1,0),c=Ht(t.x2,1),s=Ht(t.y2,0);if(o!==c&&u!==s&&i!==a){var l=Object(gt.a)(Math.ceil(i),Math.ceil(a)),f=l.getContext("2d");return f.scale(i,a),f.fillStyle=Wt(f.createLinearGradient(o,u,c,s),t.stops),f.fillRect(0,0,i,a),e.createPattern(l,"no-repeat")}r=e.createLinearGradient(n.x1+o*i,n.y1+u*a,n.x1+c*i,n.y1+s*a)}return Wt(r,t.stops)}(e,n,t.bounds):n},Kt=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=Gt(e,t,t.fill),!0)},Vt=[],Yt=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=Gt(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||Vt),e.lineDashOffset=t.strokeDashOffset||0),!0))};function Jt(e,t){return e.zindex-t.zindex||e.index-t.index}function Xt(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,a=[];for(n=0,r=i.length;n<r;++n)(t=i[n]).index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(Jt)}function Zt(e,t){var n,r,i=e.items;if(i&&i.length){var a=Xt(e);if(a&&a.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=a}for(n=0,r=i.length;n<r;++n)t(i[n])}}function Qt(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var a=Xt(e);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===a)for(r=(i=e.items).length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function en(e){return function(t,n,r){Zt(n,(function(n){r&&!r.intersects(n.bounds)||tn(e,t,n,n)}))}}function tn(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||($t(t,n),n.fill&&Kt(t,n,i)&&t.fill(),n.stroke&&Yt(t,n,i)&&t.stroke()))}function nn(e){return e=e||c.gb,function(t,n,r,i,a,o){return r*=t.pixelRatio,i*=t.pixelRatio,Qt(n,(function(n){var u=n.bounds;if((!u||u.contains(a,o))&&u)return e(t,n,r,i,a,o)?n:void 0}))}}function rn(e,t){return function(n,r,i,a){var o,u,c=Array.isArray(r)?r[0]:r,s=null==t?c.fill:t,l=c.stroke&&n.isPointInStroke;return l&&(o=c.strokeWidth,u=c.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(s&&n.isPointInPath(i,a)||l&&n.isPointInStroke(i,a))}}function an(e){return nn(rn(e))}function on(e,t){return"translate("+e+","+t+")"}function un(e){return"rotate("+e+")"}function cn(e){return on(e.x||0,e.y||0)}function sn(e){return on(e.x||0,e.y||0)+(e.angle?" "+un(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}var ln=function(e,t,n){function r(e,n){var r=n.x||0,i=n.y||0,a=n.angle||0;e.translate(r,i),a&&e.rotate(a*=oe),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",sn(n)),e("d",t(null,n))},bound:function(e,n){var r=n.x||0,i=n.y||0;return t(Et(e),n),Ot(e,n).translate(r,i),n.angle&&e.rotate(n.angle*oe,r,i),e},draw:en(r),pick:an(r),isect:n||zt(r)}},fn=ln("arc",(function(e,t){return et.context(e)(t)}));var dn=function(e,t,n){function r(e,n){e.beginPath(),t(e,n)}var i,a=rn(r);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var r=n.items;return 0===r.length?e:(t(Et(e),r),Ot(e,r[0]))},draw:(i=r,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||tn(i,e,t.items[0],t.items)}),pick:function(e,t,n,r,i,o){var u=t.items,c=t.bounds;return!u||!u.length||c&&!c.contains(i,o)?null:(n*=e.pixelRatio,r*=e.pixelRatio,a(e,u,n,r)?u[0]:null)},isect:Lt,tip:n}},hn=dn("area",(function(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?nt:tt).curve(ne(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,u=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][a]-i))<u&&(u=r,n=e[o]);return n}));function pn(e,t){e.beginPath(),ut(t)?ct(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function vn(e){var t=Ht(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function gn(e,t){var n=vn(t);e("d",ct(null,t,n,n))}function mn(e,t,n,r){var i=vn(t);e.beginPath(),ct(e,t,(n||0)+i,(r||0)+i)}var yn=rn(mn),bn=rn(mn,!1);var xn={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",cn(t))},bound:function(e,t){if(!t.clip&&t.items)for(var n=t.items,r=n.length,i=0;i<r;++i)e.union(n[i].bounds);return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Ot(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){var r=this;Zt(t,(function(t){var i=t.x||0,a=t.y||0,o=t.strokeForeground,u=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&u&&(mn(e,t,i,a),$t(e,t),t.fill&&Kt(e,t,u)&&e.fill(),t.stroke&&!o&&Yt(e,t,u)&&e.stroke()),e.save(),e.translate(i,a),t.clip&&pn(e,t),n&&n.translate(-i,-a),Zt(t,(function(t){r.draw(e,t,n)})),n&&n.translate(i,a),e.restore(),o&&t.stroke&&u&&(mn(e,t,i,a),$t(e,t),Yt(e,t,u)&&e.stroke())}))},pick:function(e,t,n,r,i,a){var o=this;if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;var u=n*e.pixelRatio,c=r*e.pixelRatio;return Qt(t,(function(s){var l,f,d,h,p,v,g,m,y;if((!(m=s.bounds)||m.contains(i,a))&&(h=s.x||0,p=s.y||0,v=h+(s.width||0),g=p+(s.height||0),!(y=s.clip)||!(i<h||i>v||a<p||a>g)))return e.save(),e.translate(h,p),h=i-h,p=a-p,y&&ut(s)&&!yn(e,s,u,c)?(e.restore(),null):(f=s.strokeForeground,(d=!1!==t.interactive)&&f&&s.stroke&&bn(e,s,u,c)?(e.restore(),s):(!(l=Qt(s,(function(e){return function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,h,p)?o.pick(e,n,r,h,p):null})))&&d&&(s.fill||!f&&s.stroke)&&yn(e,s,u,c)&&(l=s),e.restore(),l||null))}))},isect:It,content:function(e,t,n){e("clip-path",t.clip?ft(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),gn(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?gn(e,t):e("d","")}},wn={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};function On(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((function(t){e.image=t,e.image.url=e.url}))),n}function kn(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function jn(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function _n(e,t){return"center"===e?t/2:"right"===e?t:0}function Sn(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var En={type:"image",tag:"image",nested:!1,attr:function(e,t,n){var r=On(t,n),i=kn(t,r),a=jn(t,r),o=(t.x||0)-_n(t.align,i),u=(t.y||0)-Sn(t.baseline,a);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",wn["xmlns:xlink"],"xlink:href"),e("transform",on(o,u)),e("width",i),e("height",a),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){var n=t.image,r=kn(t,n),i=jn(t,n),a=(t.x||0)-_n(t.align,r),o=(t.y||0)-Sn(t.baseline,i);return e.set(a,o,a+r,o+i)},draw:function(e,t,n){var r=this;Zt(t,(function(t){if(!n||n.intersects(t.bounds)){var i,a,o,u,c=On(t,r),s=kn(t,c),l=jn(t,c),f=(t.x||0)-_n(t.align,s),d=(t.y||0)-Sn(t.baseline,l);!1!==t.aspect&&(a=c.width/c.height,o=t.width/t.height,a===a&&o===o&&a!==o&&(o<a?(d+=(l-(u=s/a))/2,l=u):(f+=(s-(u=l*a))/2,s=u))),(c.complete||c.toDataURL)&&($t(e,t),e.globalAlpha=null!=(i=t.opacity)?i:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(c,f,d,s,l))}}))},pick:nn(),isect:c.gb,get:On,xOffset:_n,yOffset:Sn},An=dn("line",(function(e,t){var n=t[0],r=n.interpolate||"linear";return rt.curve(ne(r,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<i)return e[a];return null}));function Cn(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,o=t.scaleY||1,u=(t.angle||0)*oe,c=t.pathCache;c&&c.path===n||((t.pathCache=c=ae(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(u),ge(e,c,0,0,a,o),e.rotate(-u),e.translate(-r,-i)):ge(e,c,r,i,a,o)}var Dn={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",sn(t)),e("d",t.path)},bound:function(e,t){return Cn(Et(e),t)?e.set(0,0,0,0):Ot(e,t,!0),t.angle&&e.rotate(t.angle*oe,t.x||0,t.y||0),e},draw:en(Cn),pick:an(Cn),isect:zt(Cn)};function Fn(e,t){e.beginPath(),ct(e,t)}var Tn={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",ct(null,t))},bound:function(e,t){var n,r;return Ot(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:en(Fn),pick:an(Fn),isect:It};function Mn(e,t,n){var r,i,a,o;return!(!t.stroke||!Yt(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0)}var Pn={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",cn(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return Ot(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){Zt(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&Mn(e,t,r)&&($t(e,t),e.stroke())}}))},pick:nn((function(e,t,n,r){return!!e.isPointInStroke&&(Mn(e,t,1)&&e.isPointInStroke(n,r))})),isect:Ut},Nn=ln("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Bn=ln("symbol",(function(e,t){return at.context(e)(t)}),Lt),Rn=Object(c.L)(),zn={height:Hn,measureWidth:qn,estimateWidth:In,width:In,canvas:Ln};function Ln(e){zn.width=e&&Bt?qn:In}function In(e,t){return Un(Vn(e,t),Hn(e))}function Un(e,t){return~~(.8*e.length*t)}function qn(e,t){return Hn(e)<=0||!(t=Vn(e,t))?0:$n(t,Jn(e))}function $n(e,t){var n="(".concat(t,") ").concat(e),r=Rn.get(n);return void 0===r&&(Bt.font=t,r=Bt.measureText(e).width,Rn.set(n,r)),r}function Hn(e){return null!=e.fontSize?+e.fontSize||0:11}function Wn(e){return null!=e.lineHeight?e.lineHeight:Hn(e)+2}function Gn(e){return t=e.lineBreak&&e.text&&!Object(c.A)(e.text)?e.text.split(e.lineBreak):e.text,Object(c.A)(t)?t.length>1?t:t[0]:t;var t}function Kn(e){var t=Gn(e);return(Object(c.A)(t)?t.length-1:0)*Wn(e)}function Vn(e,t){var n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(zn.width===qn){var t=Jn(e);return function(e){return $n(e,t)}}var n=Hn(e);return function(e){return Un(e,n)}}(e);if(r(t)<n)return t;var i,a=e.ellipsis||"\u2026",o="rtl"===e.dir,u=0,c=t.length;if(n-=r(a),o){for(;u<c;)i=u+c>>>1,r(t.slice(i))>n?u=i+1:c=i;return a+t.slice(u)}for(;u<c;)i=1+(u+c>>>1),r(t.slice(0,i))<n?u=i:c=i-1;return t.slice(0,u)+a}(e,n):n}function Yn(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function Jn(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Hn(e)+"px "+Yn(e,t)}function Xn(e){var t=e.baseline,n=Hn(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*Wn(e):"line-bottom"===t?.29*n-.5*Wn(e):0)}Ln(!0);var Zn={left:"start",center:"middle",right:"end"},Qn=new dt;function er(e){var t,n=e.x||0,r=e.y||0,i=e.radius||0;return i&&(t=(e.theta||0)-ue,n+=i*Math.cos(t),r+=i*Math.sin(t)),Qn.x1=n,Qn.y1=r,Qn}function tr(e,t,n){var r,i=zn.height(t),a=t.align,o=er(t),u=o.x1,s=o.y1,l=t.dx||0,f=(t.dy||0)+Xn(t)-Math.round(.8*i),d=Gn(t);if(Object(c.A)(d)?(i+=Wn(t)*(d.length-1),r=d.reduce((function(e,n){return Math.max(e,zn.width(t,n))}),0)):r=zn.width(t,d),"center"===a?l-=r/2:"right"===a&&(l-=r),e.set(l+=u,f+=s,l+r,f+i),t.angle&&!n)e.rotate(t.angle*oe,u,s);else if(2===n)return e.rotatedPoints(t.angle*oe,u,s);return e}var nr={arc:fn,area:hn,group:xn,image:En,line:An,path:Dn,rect:Tn,rule:Pn,shape:Nn,symbol:Bn,text:{type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+Xn(t),a=er(t),o=a.x1,u=a.y1,c=t.angle||0;e("text-anchor",Zn[t.align]||"start"),c?(n=on(o,u)+" "+un(c),(r||i)&&(n+=" "+on(r,i))):n=on(o+r,u+i),e("transform",n)},bound:tr,draw:function(e,t,n){Zt(t,(function(t){var r,i,a,o,u,s,l,f=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===f||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=Jn(t),e.textAlign=t.align||"left",i=(r=er(t)).x1,a=r.y1,t.angle&&(e.save(),e.translate(i,a),e.rotate(t.angle*oe),i=a=0),i+=t.dx||0,a+=(t.dy||0)+Xn(t),s=Gn(t),$t(e,t),Object(c.A)(s))for(u=Wn(t),o=0;o<s.length;++o)l=Vn(t,s[o]),t.fill&&Kt(e,t,f)&&e.fillText(l,i,a),t.stroke&&Yt(e,t,f)&&e.strokeText(l,i,a),a+=u;else l=Vn(t,s),t.fill&&Kt(e,t,f)&&e.fillText(l,i,a),t.stroke&&Yt(e,t,f)&&e.strokeText(l,i,a);t.angle&&e.restore()}}))},pick:nn((function(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=er(t),u=o.x1,c=o.y1,s=tr(Qn,t,1),l=-t.angle*oe,f=Math.cos(l),d=Math.sin(l),h=f*i-d*a+(u-f*u+d*c),p=d*i+f*a+(c-d*u-f*c);return s.contains(h,p)})),isect:function(e,t){var n=tr(Qn,e,2);return qt(t,n[0],n[1],n[2],n[3])||qt(t,n[0],n[1],n[4],n[5])||qt(t,n[4],n[5],n[6],n[7])||qt(t,n[2],n[3],n[6],n[7])}},trail:dn("trail",(function(e,t){return ot.context(e)(t)}),(function(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null}))},rr=function(e,t,n){var r=nr[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new dt),e,n)},ir={mark:null},ar=function(e,t,n){var r,i,a,o,u=nr[e.marktype],c=u.bound,s=e.items,l=s&&s.length;if(u.nested)return l?a=s[0]:(ir.mark=e,a=ir),o=rr(a,c,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new dt,l)for(r=0,i=s.length;r<i;++r)t.union(rr(s[r],c,n));return e.bounds=t},or=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function ur(e,t){return JSON.stringify(e,or,t)}function cr(e){return function e(t){var n,r,i,a=t.marktype,o=t.items;if(o)for(r=0,i=o.length;r<i;++r)n=a?"mark":"group",o[r][n]=t,o[r].zindex&&(o[r][n].zdirty=!0),"group"===(a||n)&&e(o[r]);a&&ar(t);return t}("string"===typeof e?JSON.parse(e):e)}function sr(e){arguments.length?this.root=cr(e):(this.root=fr({marktype:"group",name:"root",role:"frame"}),this.root.items=[new vt(this.root)])}var lr=sr.prototype;function fr(e,t){var n={bounds:new dt,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function dr(e,t,n){return!e&&"undefined"!==typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function hr(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function pr(e,t,n,r){var i,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(i=a||null,a=dr(e.ownerDocument,n,r),e.insertBefore(a,i)),a}function vr(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function gr(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}lr.toJSON=function(e){return ur(this.root,e||0)},lr.mark=function(e,t,n){var r=fr(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var mr=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]};function yr(e,t){this._active=null,this._handlers={},this._loader=e||Object(mt.e)(),this._tooltip=t||br}function br(e,t,n,r){e.element().setAttribute("title",r||"")}var xr=yr.prototype;function wr(e){this._el=null,this._bgcolor=null,this._loader=new yt(e)}xr.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},xr.element=function(){return this._el},xr.canvas=function(){return this._el&&this._el.firstChild},xr.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},xr.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},xr.on=function(){},xr.off=function(){},xr._handlerIndex=function(e,t,n){for(var r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},xr.handlers=function(e){var t=this._handlers,n=[];if(e)n.push.apply(n,t[this.eventName(e)]);else for(var r in t)n.push.apply(n,t[r]);return n},xr.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},xr.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then((function(t){var n=new MouseEvent(e.type,e),r=dr(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)})).catch((function(){}))},xr.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,r){var i,a,o=e&&e.mark;if(o&&(i=nr[o.marktype]).tip){for((a=mr(t,n))[0]-=r[0],a[1]-=r[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=i.tip(o.items,a)}return e}(t,e,this.canvas(),this._origin);var r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},xr.getItemBoundingClientRect=function(e){var t=this.canvas();if(t){for(var n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.width(),o=i.height(),u=i.x1+r[0]+n.left,c=i.y1+r[1]+n.top;e.mark&&(e=e.mark.group);)u+=e.x||0,c+=e.y||0;return{x:u,y:c,width:a,height:o,left:u,top:c,right:u+a,bottom:c+o}}};var Or=wr.prototype;Or.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},Or.element=function(){return this._el},Or.canvas=function(){return this._el&&this._el.firstChild},Or.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},Or.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},Or.dirty=function(){},Or.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},Or._render=function(){},Or.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},Or._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},Or.sanitizeURL=function(e){return this._load("sanitizeURL",e)},Or.loadImage=function(e){return this._load("loadImage",e)};var kr="dragleave",jr="mousedown",_r="mousemove",Sr="mouseout",Er="click",Ar=["keydown","keypress","keyup","dragenter",kr,"dragover",jr,"mouseup",_r,Sr,"mouseover",Er,"dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Cr=_r,Dr=Sr,Fr=Er;function Tr(e,t){yr.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}var Mr=Object(c.y)(Tr,yr);Mr.initialize=function(e,t,n){var r=this;return this._canvas=e&&hr(e,"canvas"),[Er,jr,_r,Sr,kr].forEach((function(e){return Pr(r,e)})),yr.prototype.initialize.call(this,e,t,n)};function Pr(e,t){(function(e){return"touchstart"===e||"touchmove"===e||"touchend"===e?["touchstart","touchmove","touchend"]:[e]})(t).forEach((function(t){return function(e,t){var n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?function(n){return e[t](n)}:function(n){return e.fire(t,n)}))}(e,t)}))}function Nr(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function Br(e){return function(t){this.fire(e,t),this._active=null}}Mr.canvas=function(){return this._canvas},Mr.context=function(){return this._canvas.getContext("2d")},Mr.events=Ar,Mr.DOMMouseScroll=function(e){this.fire("mousewheel",e)},Mr.mousemove=Nr(_r,"mouseover",Sr),Mr.dragover=Nr("dragover","dragenter",kr),Mr.mouseout=Br(Sr),Mr.dragleave=Br(kr),Mr.mousedown=function(e){this._down=this._active,this.fire(jr,e)},Mr.click=function(e){this._down===this._active&&(this.fire(Er,e),this._down=null)},Mr.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},Mr.touchmove=function(e){this.fire("touchmove",e,!0)},Mr.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},Mr.fire=function(e,t,n){var r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===Fr&&r&&r.href?this.handleHref(t,r,r.href):e!==Cr&&e!==Dr||this.handleTooltip(t,r,e!==Dr),i)for(var a=0,o=i.length;a<o;++a)i[a].handler.call(this._obj,t,r)},Mr.on=function(e,t){var n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(Pr(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},Mr.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},Mr.pickEvent=function(e){var t=mr(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},Mr.pick=function(e,t,n,r,i){var a=this.context();return nr[e.marktype].pick.call(this,a,e,t,n,r,i)};var Rr="undefined"!==typeof window&&window.devicePixelRatio||1;function zr(e){wr.call(this,e),this._options={},this._redraw=!1,this._dirty=new dt,this._tempb=new dt}var Lr=Object(c.y)(zr,wr),Ir=wr.prototype;Lr.initialize=function(e,t,n,r,i,a){return this._options=a||{},this._canvas=this._options.externalContext?null:Object(gt.a)(1,1,this._options.type),e&&this._canvas&&(vr(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Ir.initialize.call(this,e,t,n,r,i)},Lr.resize=function(e,t,n,r){if(Ir.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,r,i,a){var o="undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),c=o?Rr:i;for(var s in e.width=t*c,e.height=n*c,a)u[s]=a[s];o&&1!==c&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=c,u.setTransform(c,0,0,c,c*r[0],c*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{var i=this._options.externalContext;i||Object(c.n)("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},Lr.canvas=function(){return this._canvas},Lr.context=function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},Lr.dirty=function(e){for(var t=this._tempb.clear().union(e.bounds),n=e.mark.group;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)};function Ur(e,t){yr.call(this,e,t);var n=this;n._hrefHandler=$r(n,(function(e,t){t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=$r(n,(function(e,t){n.handleTooltip(e,t,e.type!==Dr)}))}Lr._render=function(e){var t,n,r,i=this.context(),a=this._origin,o=this._width,u=this._height,c=this._dirty,s=(t=a,n=o,r=u,(new dt).set(0,0,n,r).translate(-t[0],-t[1]));i.save();var l=this._redraw||c.empty()?(this._redraw=!1,s.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(i,s.intersect(c),a);return this.clear(-a[0],-a[1],o,u),this.draw(i,e,l),i.restore(),c.clear(),this},Lr.draw=function(e,t,n){var r=nr[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(c.D)(n)?(e.beginPath(),n(e),e.clip()):pn(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},Lr.clear=function(e,t,n,r){var i=this._options,a=this.context();"pdf"===i.type||i.externalContext||a.clearRect(e,t,n,r),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,r))};var qr=Object(c.y)(Ur,yr);qr.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener(Fr,this._hrefHandler),r.removeEventListener(Cr,this._tooltipHandler),r.removeEventListener(Dr,this._tooltipHandler)),this._svg=r=e&&hr(e,"svg"),r&&(r.addEventListener(Fr,this._hrefHandler),r.addEventListener(Cr,this._tooltipHandler),r.addEventListener(Dr,this._tooltipHandler)),yr.prototype.initialize.call(this,e,t,n)},qr.canvas=function(){return this._svg};var $r=function(e,t){return function(n){var r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)}};qr.on=function(e,t){var n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){var i={type:e,handler:t,listener:$r(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},qr.off=function(e,t){var n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this};var Hr=n(5),Wr=n(12),Gr=function(e,t,n){var r;return r={},Object(Hr.a)(r,"role",e),Object(Hr.a)(r,"aria-roledescription",t),Object(Hr.a)(r,"aria-label",n||void 0),r},Kr=Object(c.db)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),Vr={axis:{desc:"axis",caption:function(e){var t=e.datum,n=e.orient,r=t.title?Qr(e):null,i=e.context,a=i.scales[t.scale].value,o=i.dataflow.locale(),u=a.type;return"".concat("left"===n||"right"===n?"Y":"X","-axis")+(r?" titled '".concat(r,"'"):"")+" for a ".concat(Object(Wr.y)(u)?"discrete":u," scale")+" with ".concat(Object(Wr.t)(o,a,e))}},legend:{desc:"legend",caption:function(e){var t=e.datum,n=t.title?Qr(e):null,r="".concat(t.type||""," legend").trim(),i=t.scales,a=Object.keys(i),o=e.context,u=o.scales[i[a[0]]].value,s=o.dataflow.locale();return l=r,(l.length?l[0].toUpperCase()+l.slice(1):l)+(n?" titled '".concat(n,"'"):"")+" for ".concat(function(e){return(e=e.map((function(e){return e+("fill"===e||"stroke"===e?" color":"")}))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(c.U)(e)}(a))+" with ".concat(Object(Wr.t)(s,u,e));var l}},"title-text":{desc:"title",caption:function(e){return"Title text '".concat(Zr(e),"'")}},"title-subtitle":{desc:"subtitle",caption:function(e){return"Subtitle text '".concat(Zr(e),"'")}}},Yr={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function Jr(e,t){var n=!1===t.aria;if(e("aria-hidden",n||void 0),n||null==t.description)for(var r in Yr)e(Yr[r],void 0);else{var i=t.mark.marktype;e("aria-label",t.description),e("role",t.ariaRole||("group"===i?"graphics-object":"graphics-symbol")),e("aria-roledescription",t.ariaRoleDescription||"".concat(i," mark"))}}function Xr(e){return!1===e.aria?Object(Hr.a)({},"aria-hidden",!0):Kr[e.role]?null:Vr[e.role]?function(e,t){try{var n=e.items[0],r=t.caption||function(){return""};return Gr(t.role||"graphics-symbol",t.desc,n.description||r(n))}catch(i){return null}}(e,Vr[e.role]):function(e){var t=e.marktype,n="group"===t||"text"===t||e.items.some((function(e){return null!=e.description&&!1!==e.aria}));return Gr(n?"graphics-object":"graphics-symbol","".concat(t," mark container"),e.description)}(e)}function Zr(e){return Object(c.i)(e.text).join(" ")}function Qr(e){try{return Object(c.i)(Object(c.U)(e.items).items[0].text).join(" ")}catch(t){return null}}var ei=function(e){return(e+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")};function ti(e,t,n){var r,i,a="<"+e;if(t)for(r in t)null!=(i=t[r])&&(a+=" "+r+'="'+ei(i)+'"');return n&&(a+=" "+n),a+">"}function ni(e){return"</"+e+">"}var ri={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},ii={fill:"none","stroke-miterlimit":10},ai=wn.xmlns;function oi(e){wr.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var ui=Object(c.y)(oi,wr),ci=wr.prototype;function si(e,t,n){var r,i,a;if("radial"===t.gradient){var o=pr(e,n++,"pattern",ai);o.setAttribute("id","p_"+t.id),o.setAttribute("viewBox","0,0,1,1"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("preserveAspectRatio","xMidYMid slice"),(o=pr(o,0,"rect",ai)).setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("fill","url("+bi()+"#"+t.id+")"),(e=pr(e,n++,"radialGradient",ai)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=pr(e,n++,"linearGradient",ai)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,i=t.stops.length;r<i;++r)(a=pr(e,r,"stop",ai)).setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return vr(e,r),n}function li(e,t,n){var r;return(e=pr(e,n,"clipPath",ai)).setAttribute("id",t.id),t.path?(r=pr(e,0,"path",ai)).setAttribute("d",t.path):((r=pr(e,0,"rect",ai)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),vr(e,1),n+1}function fi(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function di(e,t,n,r,i){var a,o=e._svg;if(!o&&(o=dr(a=t.ownerDocument,r,ai),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){var u=dr(a,"path",ai);o.appendChild(u),u.__data__=e;var c=dr(a,"g",ai);o.appendChild(c),c.__data__=e;var s=dr(a,"path",ai);o.appendChild(s),s.__data__=e,s.__values__={fill:"default"}}return(o.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}ui.initialize=function(e,t,n,r){if(this._defs={gradient:{},clipping:{}},e){for(var i in this._svg=pr(e,0,"svg",ai),this._svg.setAttribute("class","marks"),vr(e,1),this._root=pr(this._svg,0,"g",ai),ii)this._root.setAttribute(i,ii[i]);vr(this._svg,1)}return this.background(this._bgcolor),ci.initialize.call(this,e,t,n,r)},ui.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),ci.background.apply(this,arguments)},ui.resize=function(e,t,n,r){return ci.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},ui.canvas=function(){return this._svg},ui.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in wn)e[t]=wn[t];var n=this._bgcolor?ti("rect",{width:this._width,height:this._height,fill:this._bgcolor})+ni("rect"):"";return ti("svg",e)+(this._defs.el?this._defs.el.outerHTML:"")+n+this._root.outerHTML+ni("svg")},ui._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),vr(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},ui.updateDefs=function(){var e=this._svg,t=this._defs,n=t.el,r=0;for(var i in t.gradient)n||(t.el=n=pr(e,0,"defs",ai)),r=si(n,t.gradient[i],r);for(var a in t.clipping)n||(t.el=n=pr(e,0,"defs",ai)),r=li(n,t.clipping[a],r);n&&(0===r?(e.removeChild(n),t.el=null):vr(n,r))},ui._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},ui.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},ui.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},ui._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,a,o,u,c=++this._dirtyID;for(a=0,o=e.length;a<o;++a)(n=(t=e[a]).mark).marktype!==r&&(r=n.marktype,i=nr[r]),n.zdirty&&n.dirty!==c&&(this._dirtyAll=!1,fi(t,c),n.items.forEach((function(e){e.dirty=c}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(u=n.items[0])._svg&&this._update(i,u._svg,u):t._svg&&(u=t._svg.parentNode)&&u.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==c&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,fi(t,c)),t._update=c));return!this._dirtyAll},ui.draw=function(e,t,n){var r=this;if(!this.isDirty(t))return t._svg;var i,a=this._svg,o=nr[t.marktype],u=!1===t.interactive?"none":null,c="g"===o.tag,s=null,l=0;(i=di(t,e,n,"g",a)).setAttribute("class",gr(t));var f=Xr(t);for(var d in f)yi(i,d,f[d]);c||yi(i,"pointer-events",u),yi(i,"clip-path",t.clip?ft(this,t,t.group):null);var h=function(e){var t=r.isDirty(e),n=di(e,i,s,o.tag,a);t&&(r._update(o,n,e),c&&function(e,t,n){t=t.lastChild.previousSibling;var r,i=0;Zt(n,(function(n){r=e.draw(t,n,r),++i})),vr(t,1+i)}(r,n,e)),s=n,++l};return o.nested?t.items.length&&h(t.items[0]):Zt(t,h),vr(i,l),i};var hi=null,pi=null,vi={group:function(e,t,n){var r=hi=t.childNodes[2];pi=r.__values__,e.foreground(mi,n,this),pi=t.__values__,hi=t.childNodes[1],e.content(mi,n,this);var i=hi=t.childNodes[0];e.background(mi,n,this);var a=!1===n.mark.interactive?"none":null;if(a!==pi.events&&(yi(r,"pointer-events",a),yi(i,"pointer-events",a),pi.events=a),n.strokeForeground&&n.stroke){var o=n.fill;yi(r,"display",null),this.style(i,n),yi(i,"stroke",null),o&&(n.fill=null),pi=r.__values__,this.style(r,n),o&&(n.fill=o),hi=null}else yi(r,"display","none")},image:function(e,t,n){!1===n.smooth?(gi(t,"image-rendering","optimizeSpeed"),gi(t,"image-rendering","pixelated")):gi(t,"image-rendering",null)},text:function(e,t,n){var r,i,a,o,u=Gn(n);Object(c.A)(u)?(r=(i=u.map((function(e){return Vn(n,e)}))).join("\n"))!==pi.text&&(vr(t,0),a=t.ownerDocument,o=Wn(n),i.forEach((function(e,r){var i=dr(a,"tspan",ai);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",o)),t.appendChild(i)})),pi.text=r):(i=Vn(n,u))!==pi.text&&(t.textContent=i,pi.text=i),yi(t,"font-family",Yn(n)),yi(t,"font-size",Hn(n)+"px"),yi(t,"font-style",n.fontStyle),yi(t,"font-variant",n.fontVariant),yi(t,"font-weight",n.fontWeight)}};function gi(e,t,n){n!==pi[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),pi[t]=n)}function mi(e,t,n){t!==pi[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(hi,e,t,n):yi(hi,e,t),pi[e]=t)}function yi(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function bi(){var e;return"undefined"===typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function xi(e){wr.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}ui._update=function(e,t,n){hi=t,pi=t.__values__,Jr(mi,n),e.attr(mi,n,this);var r=vi[e.type];r&&r.call(this,e,t,n),hi&&this.style(hi,n)},ui.style=function(e,t){if(null!=t)for(var n in ri){var r="font"===n?Yn(t):t[n];if(r!==pi[n]){var o=ri[n];null==r?e.removeAttribute(o):(i(r)&&(r=a(r,this._defs.gradient,bi())),e.setAttribute(o,r+"")),pi[n]=r}}};var wi=Object(c.y)(xi,wr),Oi=wr.prototype;function ki(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}wi.resize=function(e,t,n,r){Oi.resize.call(this,e,t,n,r);var i=this._origin,a=this._text,o={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var u in wn)o[u]=wn[u];a.head=ti("svg",o);var s=this._bgcolor;return"transparent"!==s&&"none"!==s||(s=null),a.bg=s?ti("rect",{width:this._width,height:this._height,fill:s})+ni("rect"):"",a.root=ti("g",Object(c.o)({},ii,{transform:"translate("+i+")"})),a.foot=ni("g")+ni("svg"),this},wi.background=function(){var e=Oi.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},wi.svg=function(){var e=this._text;return e.head+e.defs+e.bg+e.root+e.body+e.foot},wi._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},wi.buildDefs=function(){var e,t="";for(var n in this._defs.gradient){var r=this._defs.gradient[n],i=r.stops;"radial"===r.gradient?(t+=ti(e="pattern",{id:"p_"+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t+=ti("rect",{width:"1",height:"1",fill:"url(#"+n+")"})+ni("rect"),t+=ni(e),t+=ti(e="radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):t+=ti(e="linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(var a=0;a<i.length;++a)t+=ti("stop",{offset:i[a].offset,"stop-color":i[a].color})+ni("stop");t+=ni(e)}for(var o in this._defs.clipping){var u=this._defs.clipping[o];t+=ti("clipPath",{id:o}),u.path?t+=ti("path",{d:u.path})+ni("path"):t+=ti("rect",{x:0,y:0,width:u.width,height:u.height})+ni("rect"),t+=ni("clipPath")}return t?ti("defs")+t+ni("defs"):""},wi.attr=function(e,t,n,r){var o=this,u={},c=function(e,t,n,r){u[r||e]=t};return Array.isArray(n)?n.forEach((function(e){return e(c,t,o)})):n(c,t,this),r&&function(e,t,n,r,o){if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(e["font-family"]=Yn(t),e["font-size"]=Hn(t)+"px",t.fontStyle&&(e["font-style"]=t.fontStyle),t.fontVariant&&(e["font-variant"]=t.fontVariant),t.fontWeight&&(e["font-weight"]=t.fontWeight));for(var u in ri){var c=t[u],s=ri[u];("transparent"!==c||"fill"!==s&&"stroke"!==s)&&null!=c&&(i(c)&&(c=a(c,o.gradient,"")),e[s]=c)}}(u,t,e,r,this._defs),u},wi.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then((function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e}))}return null},wi.mark=function(e){var t=this,n=nr[e.marktype],r=n.tag,i=[Jr,n.attr],a="";a+=ti("g",Object(c.o)({class:gr(e),"clip-path":e.clip?ft(this,e,e.group):null},Xr(e),{"pointer-events":"g"!==r&&!1===e.interactive?"none":null}));var o=function(o){var u=t.href(o);if(u&&(a+=ti("a",u)),a+=ti(r,t.attr(e,o,i,"g"!==r?r:null)),"text"===r){var s=Gn(o);if(Object(c.A)(s))for(var l={x:0,dy:Wn(o)},f=0;f<s.length;++f)a+=ti("tspan",f?l:null)+ki(Vn(o,s[f]))+ni("tspan");else a+=ki(Vn(o,s))}else if("g"===r){var d=o.strokeForeground,h=o.fill,p=o.stroke;d&&p&&(o.stroke=null),a+=ti("path",t.attr(e,o,n.background,"bgrect"))+ni("path"),a+=ti("g",t.attr(e,o,n.content))+t.markGroup(o)+ni("g"),d&&p?(h&&(o.fill=null),o.stroke=p,a+=ti("path",t.attr(e,o,n.foreground,"bgrect"))+ni("path"),h&&(o.fill=h)):a+=ti("path",t.attr(e,o,n.foreground,"bgfore"))+ni("path")}a+=ni(r),u&&(a+=ni("a"))};return n.nested?e.items&&e.items.length&&o(e.items[0]):Zt(e,o),a+ni("g")},wi.markGroup=function(e){var t=this,n="";return Zt(e,(function(e){n+=t.mark(e)})),n};var ji={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},_i={};function Si(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(_i[e]=t,this):_i[e]}function Ei(e,t,n){var r=[],i=(new dt).union(t),a=e.marktype;return a?Ai(e,i,n,r):"group"===a?Ci(e,i,n,r):Object(c.n)("Intersect scene must be mark node or group item.")}function Ai(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){var i=e.items,a=e.marktype,o=i.length,u=0;if("group"===a)for(;u<o;++u)Ci(i[u],t,n,r);else for(var c=nr[a].isect;u<o;++u){var s=i[u];Di(s,t,c)&&r.push(s)}}return r}function Ci(e,t,n,r){n&&n(e.mark)&&Di(e,t,nr.group.isect)&&r.push(e);var i=e.items,a=i&&i.length;if(a){var o=e.x||0,u=e.y||0;t.translate(-o,-u);for(var c=0;c<a;++c)Ai(i[c],t,n,r);t.translate(o,u)}return r}function Di(e,t,n){var r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}_i.canvas=_i.png={renderer:zr,headless:zr,handler:Tr},_i.svg={renderer:oi,headless:xi,handler:Ur},_i.none={};var Fi=new dt,Ti=function(e){var t=e.clip;if(Object(c.D)(t))t(Et(Fi.clear()));else{if(!t)return;Fi.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Fi)};function Mi(e,t,n){return e===t||("path"===n?Pi(e,t):e instanceof Date&&t instanceof Date?+e===+t:Object(c.E)(e)&&Object(c.E)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(c.F)(e)||Object(c.F)(t))?null!=e&&null!=t&&function(e,t){var n,r,i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!Mi(e[n],t[n],n))return!1;return typeof e===typeof t}(e,t):e==t)}function Pi(e,t){return Mi(ae(e),ae(t))}function Ni(){lt(),r=0}n.d(t,"U",(function(){return Ni})),n.d(t,"a",(function(){return dt})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return vt})),n.d(t,"k",(function(){return yt})),n.d(t,"g",(function(){return pt})),n.d(t,"o",(function(){return sr})),n.d(t,"f",(function(){return yr})),n.d(t,"j",(function(){return wr})),n.d(t,"b",(function(){return Tr})),n.d(t,"c",(function(){return zr})),n.d(t,"l",(function(){return Ur})),n.d(t,"m",(function(){return oi})),n.d(t,"n",(function(){return xi})),n.d(t,"i",(function(){return ji})),n.d(t,"S",(function(){return Si})),n.d(t,"C",(function(){return Ei})),n.d(t,"h",(function(){return nr})),n.d(t,"p",(function(){return Ti})),n.d(t,"q",(function(){return Et})),n.d(t,"t",(function(){return Ot})),n.d(t,"r",(function(){return rr})),n.d(t,"s",(function(){return ar})),n.d(t,"K",(function(){return ne})),n.d(t,"P",(function(){return be})),n.d(t,"N",(function(){return Pe})),n.d(t,"Q",(function(){return Ne})),n.d(t,"M",(function(){return ae})),n.d(t,"O",(function(){return ge})),n.d(t,"R",(function(){return mr})),n.d(t,"x",(function(){return dr})),n.d(t,"y",(function(){return hr})),n.d(t,"v",(function(){return pr})),n.d(t,"w",(function(){return vr})),n.d(t,"J",(function(){return ti})),n.d(t,"u",(function(){return ni})),n.d(t,"z",(function(){return Jn})),n.d(t,"A",(function(){return Yn})),n.d(t,"B",(function(){return Hn})),n.d(t,"H",(function(){return Wn})),n.d(t,"I",(function(){return Kn})),n.d(t,"bb",(function(){return zn})),n.d(t,"V",(function(){return Mi})),n.d(t,"L",(function(){return Pi})),n.d(t,"Y",(function(){return ur})),n.d(t,"W",(function(){return cr})),n.d(t,"E",(function(){return zt})),n.d(t,"F",(function(){return Lt})),n.d(t,"G",(function(){return Ut})),n.d(t,"D",(function(){return qt})),n.d(t,"ab",(function(){return Xt})),n.d(t,"Z",(function(){return Zt})),n.d(t,"X",(function(){return Qt})),n.d(t,"T",(function(){return lt}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(316);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),a=(n(15),i.a.createContext(null));var o=function(e){e()},u={notify:function(){}};function c(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var s=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=u,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=c())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},e}();var l=function(e){var t=e.store,n=e.context,o=e.children,u=Object(r.useMemo)((function(){var e=new s(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=u.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[u,c]);var l=n||a;return i.a.createElement(l.Provider,{value:u},o)},f=(n(4),n(40),n(79),n(83),"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect);function d(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function h(e,t){if(d(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!d(e[n[i]],t[n[i]]))return!1;return!0}n(96);function p(){return Object(r.useContext)(a)}function v(e){void 0===e&&(e=a);var t=e===a?p:function(){return Object(r.useContext)(e)};return function(){return t().store}}var g=v();function m(e){void 0===e&&(e=a);var t=e===a?g:v(e);return function(){return t().dispatch}}var y=m(),b=function(e,t){return e===t};function x(e){void 0===e&&(e=a);var t=e===a?p:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=b);var i=t(),a=function(e,t,n,i){var a,o=Object(r.useReducer)((function(e){return e+1}),0)[1],u=Object(r.useMemo)((function(){return new s(n,i)}),[n,i]),c=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)(),h=Object(r.useRef)(),p=n.getState();try{a=e!==l.current||p!==d.current||c.current?e(p):h.current}catch(v){throw c.current&&(v.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),v}return f((function(){l.current=e,d.current=p,h.current=a,c.current=void 0})),f((function(){function e(){try{var e=l.current(n.getState());if(t(e,h.current))return;h.current=e}catch(v){c.current=v}o()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),a}(e,n,i.store,i.subscription);return Object(r.useDebugValue)(a),a}}var w,O=x(),k=n(28);n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return O})),n.d(t,"b",(function(){return h})),w=k.unstable_batchedUpdates,o=w},function(e,t,n){"use strict";var r,i=n(5),a=n(0),o="year",u="quarter",c="month",s="week",l="date",f="day",d="hours",h="minutes",p="seconds",v=[o,u,c,s,l,f,"dayofyear",d,h,p,"milliseconds"],g=v.reduce((function(e,t,n){return e[t]=1+n,e}),{});function m(e){var t=Object(a.i)(e).slice(),n={};return t.length||Object(a.n)("Missing time unit."),t.forEach((function(e){Object(a.v)(g,e)?n[e]=1:Object(a.n)("Invalid time unit: ".concat(e,"."))})),(n.week||n.day?1:0)+(n.quarter||n.month||n.date?1:0)+(n.dayofyear?1:0)>1&&Object(a.n)("Incompatible time units: ".concat(e)),t.sort((function(e,t){return g[e]-g[t]})),t}var y=(r={},Object(i.a)(r,o,"%Y "),Object(i.a)(r,u,"Q%q "),Object(i.a)(r,c,"%b "),Object(i.a)(r,l,"%d "),Object(i.a)(r,s,"W%U "),Object(i.a)(r,f,"%a "),Object(i.a)(r,"dayofyear","%j "),Object(i.a)(r,d,"%H:00"),Object(i.a)(r,h,"00:%M"),Object(i.a)(r,p,":%S"),Object(i.a)(r,"milliseconds",".%L"),Object(i.a)(r,"".concat(o,"-").concat(c),"%Y-%m "),Object(i.a)(r,"".concat(o,"-").concat(c,"-").concat(l),"%Y-%m-%d "),Object(i.a)(r,"".concat(d,"-").concat(h),"%H:%M"),r);function b(e,t){var n,r,i=Object(a.o)({},y,t),o=m(e),u=o.length,c="",s=0;for(s=0;s<u;)for(n=o.length;n>s;--n)if(null!=i[r=o.slice(s,n).join("-")]){c+=i[r],s=n;break}return c.trim()}var x,w,O,k,j=n(317),_=n(101),S=n(318),E=n(102),A=new Date;function C(e){return A.setFullYear(e),A.setMonth(0),A.setDate(1),A.setHours(0,0,0,0),A}function D(e){return T(new Date(e))}function F(e){return M(new Date(e))}function T(e){return j.a.count(C(e.getFullYear())-1,e)}function M(e){return _.b.count(C(e.getFullYear())-1,e)}function P(e){return C(e).getDay()}function N(e,t,n,r,i,a,o){if(0<=e&&e<100){var u=new Date(-1,t,n,r,i,a,o);return u.setFullYear(e),u}return new Date(e,t,n,r,i,a,o)}function B(e){return z(new Date(e))}function R(e){return L(new Date(e))}function z(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return S.a.count(t-1,e)}function L(e){var t=Date.UTC(e.getUTCFullYear(),0,1);return E.b.count(t-1,e)}function I(e){return A.setTime(Date.UTC(e,0,1)),A.getUTCDay()}function U(e,t,n,r,i,a,o){if(0<=e&&e<100){var u=new Date(Date.UTC(-1,t,n,r,i,a,o));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,r,i,a,o))}function q(e,t,n,r,i){var v=t||1,g=Object(a.U)(e),m=function(e,t,i){return function(e,t,n,r){var i=n<=1?e:r?function(t,i){return r+n*Math.floor((e(t,i)-r)/n)}:function(t,r){return n*Math.floor(e(t,r)/n)};return t?function(e,n){return t(i(e,n),n)}:i}(n[i=i||e],r[i],e===g&&v,t)},y=new Date,b=Object(a.db)(e),x=b.year?m(o):Object(a.l)(2012),w=b.month?m(c):b.quarter?m(u):a.kb,O=b.week&&b.day?m(f,1,s+f):b.week?m(s,1):b.day?m(f,1):b.date?m(l,1):b.dayofyear?m("dayofyear",1):a.O,k=b.hours?m(d):a.kb,j=b.minutes?m(h):a.kb,_=b.seconds?m(p):a.kb,S=b.milliseconds?m("milliseconds"):a.kb;return function(e){y.setTime(+e);var t=x(y);return i(t,w(y),O(y,t),k(y),j(y),_(y),S(y))}}function $(e,t,n){return t+7*e-(n+6)%7}var H=(x={},Object(i.a)(x,o,(function(e){return e.getFullYear()})),Object(i.a)(x,u,(function(e){return Math.floor(e.getMonth()/3)})),Object(i.a)(x,c,(function(e){return e.getMonth()})),Object(i.a)(x,l,(function(e){return e.getDate()})),Object(i.a)(x,d,(function(e){return e.getHours()})),Object(i.a)(x,h,(function(e){return e.getMinutes()})),Object(i.a)(x,p,(function(e){return e.getSeconds()})),Object(i.a)(x,"milliseconds",(function(e){return e.getMilliseconds()})),Object(i.a)(x,"dayofyear",(function(e){return T(e)})),Object(i.a)(x,s,(function(e){return M(e)})),Object(i.a)(x,s+f,(function(e,t){return $(M(e),e.getDay(),P(t))})),Object(i.a)(x,f,(function(e,t){return $(1,e.getDay(),P(t))})),x),W=(w={},Object(i.a)(w,u,(function(e){return 3*e})),Object(i.a)(w,s,(function(e,t){return $(e,0,P(t))})),w);function G(e,t){return q(e,t||1,H,W,N)}var K=(O={},Object(i.a)(O,o,(function(e){return e.getUTCFullYear()})),Object(i.a)(O,u,(function(e){return Math.floor(e.getUTCMonth()/3)})),Object(i.a)(O,c,(function(e){return e.getUTCMonth()})),Object(i.a)(O,l,(function(e){return e.getUTCDate()})),Object(i.a)(O,d,(function(e){return e.getUTCHours()})),Object(i.a)(O,h,(function(e){return e.getUTCMinutes()})),Object(i.a)(O,p,(function(e){return e.getUTCSeconds()})),Object(i.a)(O,"milliseconds",(function(e){return e.getUTCMilliseconds()})),Object(i.a)(O,"dayofyear",(function(e){return z(e)})),Object(i.a)(O,s,(function(e){return L(e)})),Object(i.a)(O,f,(function(e,t){return $(1,e.getUTCDay(),I(t))})),Object(i.a)(O,s+f,(function(e,t){return $(L(e),e.getUTCDay(),I(t))})),O),V=(k={},Object(i.a)(k,u,(function(e){return 3*e})),Object(i.a)(k,s,(function(e,t){return $(e,0,I(t))})),k);function Y(e,t){return q(e,t||1,K,V,U)}var J,X,Z=n(131),Q=n(598),ee=n(599),te=n(600),ne=n(601),re=n(602),ie=n(132),ae=n(603),oe=n(604),ue=n(605),ce=(J={},Object(i.a)(J,o,Z.a),Object(i.a)(J,u,Q.a.every(3)),Object(i.a)(J,c,Q.a),Object(i.a)(J,s,_.b),Object(i.a)(J,l,j.a),Object(i.a)(J,f,j.a),Object(i.a)(J,"dayofyear",j.a),Object(i.a)(J,d,ee.a),Object(i.a)(J,h,te.a),Object(i.a)(J,p,ne.a),Object(i.a)(J,"milliseconds",re.a),J),se=(X={},Object(i.a)(X,o,ie.a),Object(i.a)(X,u,ae.a.every(3)),Object(i.a)(X,c,ae.a),Object(i.a)(X,s,E.b),Object(i.a)(X,l,S.a),Object(i.a)(X,f,S.a),Object(i.a)(X,"dayofyear",S.a),Object(i.a)(X,d,oe.a),Object(i.a)(X,h,ue.a),Object(i.a)(X,p,ne.a),Object(i.a)(X,"milliseconds",re.a),X);function le(e){return ce[e]}function fe(e){return se[e]}function de(e,t,n){return e?e.offset(t,n):void 0}function he(e,t,n){return de(le(e),t,n)}function pe(e,t,n){return de(fe(e),t,n)}function ve(e,t,n,r){return e?e.range(t,n,r):void 0}function ge(e,t,n,r){return ve(le(e),t,n,r)}function me(e,t,n,r){return ve(fe(e),t,n,r)}var ye=n(287),be=n(593),xe=[o,c,l,d,h,p,"milliseconds"],we=xe.slice(0,-1),Oe=we.slice(0,-1),ke=Oe.slice(0,-1),je=ke.slice(0,-1),_e=[o,c],Se=[o],Ee=[[we,1,1e3],[we,5,5e3],[we,15,15e3],[we,30,3e4],[Oe,1,6e4],[Oe,5,3e5],[Oe,15,9e5],[Oe,30,18e5],[ke,1,36e5],[ke,3,108e5],[ke,6,216e5],[ke,12,432e5],[je,1,864e5],[[o,s],1,6048e5],[_e,1,2592e6],[_e,3,7776e6],[Se,1,31536e6]],Ae=function(e){var t,n,r=e.extent,i=e.maxbins||40,o=Math.abs(Object(a.X)(r))/i,u=Object(ye.a)((function(e){return e[2]})).right(Ee,o);return u===Ee.length?(t=Se,n=Object(be.c)(r[0]/31536e6,r[1]/31536e6,i)):u?(t=(u=Ee[o/Ee[u-1][2]<Ee[u][2]/o?u-1:u])[0],n=u[1]):(t=xe,n=Math.max(Object(be.c)(r[0],r[1],i),1)),{units:t,step:n}};n.d(t,"j",(function(){return v})),n.d(t,"l",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return"dayofyear"})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return"milliseconds"})),n.d(t,"s",(function(){return b})),n.d(t,"t",(function(){return m})),n.d(t,"m",(function(){return D})),n.d(t,"A",(function(){return F})),n.d(t,"y",(function(){return B})),n.d(t,"z",(function(){return R})),n.d(t,"o",(function(){return G})),n.d(t,"u",(function(){return Y})),n.d(t,"p",(function(){return le})),n.d(t,"q",(function(){return he})),n.d(t,"r",(function(){return ge})),n.d(t,"v",(function(){return fe})),n.d(t,"w",(function(){return pe})),n.d(t,"x",(function(){return me})),n.d(t,"n",(function(){return Ae}))},function(e,t,n){"use strict";var r=n(350),i=n(124),a=n(57),o=n(366),u=n(90),c=n(184),s=n(186),l=n(233),f=n(367),d=n(249),h=n(136),p=n(47),v=n(231),g=n(35),m=n(192),y=n(432),b=n(260),x=n(137),w=n(433),O=n(436),k=n(71),j=n(261),_=n(442),S={Editor:f,EditorBlock:d,EditorState:g,CompositeDecorator:o,Entity:h,EntityInstance:v,BlockMapBuilder:i,CharacterMetadata:a,ContentBlock:u,ContentState:c,RawDraftContentState:y,SelectionState:x,AtomicBlockUtils:r,KeyBindingUtil:m,Modifier:p,RichUtils:b,DefaultDraftBlockRenderMap:s,DefaultDraftInlineStyle:l,convertFromHTML:n(258),convertFromRaw:O,convertToRaw:w,genKey:k,getDefaultKeyBinding:j,getVisibleSelectionRect:_};e.exports=S},function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return o(e)?e:q(e)}function r(e){return u(e)?e:$(e)}function i(e){return c(e)?e:H(e)}function a(e){return o(e)&&!s(e)?e:W(e)}function o(e){return!(!e||!e[f])}function u(e){return!(!e||!e[d])}function c(e){return!(!e||!e[h])}function s(e){return u(e)||c(e)}function l(e){return!(!e||!e[p])}t(r,n),t(i,n),t(a,n),n.isIterable=o,n.isKeyed=u,n.isIndexed=c,n.isAssociative=s,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=a;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",v={},g={value:!1},m={value:!1};function y(e){return e.value=!1,e}function b(e){e&&(e.value=!0)}function x(){}function w(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function O(e){return void 0===e.size&&(e.size=e.__iterate(j)),e.size}function k(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?O(e)+t:t}function j(){return!0}function _(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function S(e,t){return A(e,t,0)}function E(e,t){return A(e,t,t)}function A(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var C,D,F,T="function"===typeof Symbol&&Symbol.iterator,M=T||"@@iterator";function P(e){this.next=e}function N(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function B(){return{value:void 0,done:!0}}function R(e){return!!I(e)}function z(e){return e&&"function"===typeof e.next}function L(e){var t=I(e);return t&&t.call(e)}function I(e){var t=e&&(T&&e[T]||e["@@iterator"]);if("function"===typeof t)return t}function U(e){return e&&"number"===typeof e.length}function q(e){return null===e||void 0===e?X():o(e)?e.toSeq():function(e){var t=ee(e)||"object"===typeof e&&new K(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function $(e){return null===e||void 0===e?X().toKeyedSeq():o(e)?u(e)?e.toSeq():e.fromEntrySeq():Z(e)}function H(e){return null===e||void 0===e?X():o(e)?u(e)?e.entrySeq():e.toIndexedSeq():Q(e)}function W(e){return(null===e||void 0===e?X():o(e)?u(e)?e.entrySeq():e:Q(e)).toSetSeq()}function G(e){this._array=e,this.size=e.length}function K(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function V(e){this._iterable=e,this.size=e.length||e.size}function Y(e){this._iterator=e,this._iteratorCache=[]}function J(e){return!(!e||!e["@@__IMMUTABLE_SEQ__@@"])}function X(){return C||(C=new G([]))}function Z(e){var t=Array.isArray(e)?new G(e).fromEntrySeq():z(e)?new Y(e).fromEntrySeq():R(e)?new V(e).fromEntrySeq():"object"===typeof e?new K(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function Q(e){var t=ee(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ee(e){return U(e)?new G(e):z(e)?new Y(e):R(e)?new V(e):void 0}function te(e,t,n,r){var i=e._cache;if(i){for(var a=i.length-1,o=0;o<=a;o++){var u=i[n?a-o:o];if(!1===t(u[1],r?u[0]:o,e))return o+1}return o}return e.__iterateUncached(t,n)}function ne(e,t,n,r){var i=e._cache;if(i){var a=i.length-1,o=0;return new P((function(){var e=i[n?a-o:o];return o++>a?{value:void 0,done:!0}:N(t,r?e[0]:o-1,e[1])}))}return e.__iteratorUncached(t,n)}function re(e,t){return t?function e(t,n,r,i){return Array.isArray(n)?t.call(i,r,H(n).map((function(r,i){return e(t,r,i,n)}))):ae(n)?t.call(i,r,$(n).map((function(r,i){return e(t,r,i,n)}))):n}(t,e,"",{"":e}):ie(e)}function ie(e){return Array.isArray(e)?H(e).map(ie).toList():ae(e)?$(e).map(ie).toMap():e}function ae(e){return e&&(e.constructor===Object||void 0===e.constructor)}function oe(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function ue(e,t){if(e===t)return!0;if(!o(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||u(e)!==u(t)||c(e)!==c(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!s(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&oe(i[1],e)&&(n||oe(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var f=!0,d=t.__iterate((function(t,r){if(n?!e.has(t):i?!oe(t,e.get(r,v)):!oe(e.get(r,v),t))return f=!1,!1}));return f&&e.size===d}function ce(e,t){if(!(this instanceof ce))return new ce(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(D)return D;D=this}}function se(e,t){if(!e)throw new Error(t)}function le(e,t,n){if(!(this instanceof le))return new le(e,t,n);if(se(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(F)return F;F=this}}function fe(){throw TypeError("Abstract")}function de(){}function he(){}function pe(){}P.prototype.toString=function(){return"[Iterator]"},P.KEYS=0,P.VALUES=1,P.ENTRIES=2,P.prototype.inspect=P.prototype.toSource=function(){return this.toString()},P.prototype[M]=function(){return this},t(q,n),q.of=function(){return q(arguments)},q.prototype.toSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq {","}")},q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},q.prototype.__iterate=function(e,t){return te(this,e,t,!0)},q.prototype.__iterator=function(e,t){return ne(this,e,t,!0)},t($,q),$.prototype.toKeyedSeq=function(){return this},t(H,q),H.of=function(){return H(arguments)},H.prototype.toIndexedSeq=function(){return this},H.prototype.toString=function(){return this.__toString("Seq [","]")},H.prototype.__iterate=function(e,t){return te(this,e,t,!1)},H.prototype.__iterator=function(e,t){return ne(this,e,t,!1)},t(W,q),W.of=function(){return W(arguments)},W.prototype.toSetSeq=function(){return this},q.isSeq=J,q.Keyed=$,q.Set=W,q.Indexed=H,q.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,t(G,H),G.prototype.get=function(e,t){return this.has(e)?this._array[k(this,e)]:t},G.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},G.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new P((function(){return i>r?{value:void 0,done:!0}:N(e,i,n[t?r-i++:i++])}))},t(K,$),K.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},K.prototype.has=function(e){return this._object.hasOwnProperty(e)},K.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,a=0;a<=i;a++){var o=r[t?i-a:a];if(!1===e(n[o],o,this))return a+1}return a},K.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,a=0;return new P((function(){var o=r[t?i-a:a];return a++>i?{value:void 0,done:!0}:N(e,o,n[o])}))},K.prototype[p]=!0,t(V,H),V.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=L(this._iterable),r=0;if(z(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},V.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=L(this._iterable);if(!z(n))return new P(B);var r=0;return new P((function(){var t=n.next();return t.done?t:N(e,r++,t.value)}))},t(Y,H),Y.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,a=0;a<i.length;)if(!1===e(i[a],a++,this))return a;for(;!(n=r.next()).done;){var o=n.value;if(i[a]=o,!1===e(o,a++,this))break}return a},Y.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new P((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return N(e,i,r[i++])}))},t(ce,H),ce.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ce.prototype.get=function(e,t){return this.has(e)?this._value:t},ce.prototype.includes=function(e){return oe(this._value,e)},ce.prototype.slice=function(e,t){var n=this.size;return _(e,t,n)?this:new ce(this._value,E(t,n)-S(e,n))},ce.prototype.reverse=function(){return this},ce.prototype.indexOf=function(e){return oe(this._value,e)?0:-1},ce.prototype.lastIndexOf=function(e){return oe(this._value,e)?this.size:-1},ce.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ce.prototype.__iterator=function(e,t){var n=this,r=0;return new P((function(){return r<n.size?N(e,r++,n._value):{value:void 0,done:!0}}))},ce.prototype.equals=function(e){return e instanceof ce?oe(this._value,e._value):ue(e)},t(le,H),le.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},le.prototype.get=function(e,t){return this.has(e)?this._start+k(this,e)*this._step:t},le.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},le.prototype.slice=function(e,t){return _(e,t,this.size)?this:(e=S(e,this.size),(t=E(t,this.size))<=e?new le(0,0):new le(this.get(e,this._end),this.get(t,this._end),this._step))},le.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},le.prototype.lastIndexOf=function(e){return this.indexOf(e)},le.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,a=0;a<=n;a++){if(!1===e(i,a,this))return a+1;i+=t?-r:r}return a},le.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,a=0;return new P((function(){var o=i;return i+=t?-r:r,a>n?{value:void 0,done:!0}:N(e,a++,o)}))},le.prototype.equals=function(e){return e instanceof le?this._start===e._start&&this._end===e._end&&this._step===e._step:ue(this,e)},t(fe,n),t(de,fe),t(he,fe),t(pe,fe),fe.Keyed=de,fe.Indexed=he,fe.Set=pe;var ve="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ge(e){return e>>>1&1073741824|3221225471&e}function me(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return ge(n)}if("string"===t)return e.length>_e?function(e){var t=Ae[e];return void 0===t&&(t=ye(e),Ee===Se&&(Ee=0,Ae={}),Ee++,Ae[e]=t),t}(e):ye(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Oe&&void 0!==(t=be.get(e)))return t;if(void 0!==(t=e[je]))return t;if(!we){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[je]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++ke,1073741824&ke&&(ke=0),Oe)be.set(e,t);else{if(void 0!==xe&&!1===xe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(we)Object.defineProperty(e,je,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[je]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[je]=t}}return t}(e);if("function"===typeof e.toString)return ye(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ye(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ge(t)}var be,xe=Object.isExtensible,we=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Oe="function"===typeof WeakMap;Oe&&(be=new WeakMap);var ke=0,je="__immutablehash__";"function"===typeof Symbol&&(je=Symbol(je));var _e=16,Se=255,Ee=0,Ae={};function Ce(e){se(e!==1/0,"Cannot perform this action with an infinite size.")}function De(e){return null===e||void 0===e?He():Fe(e)&&!l(e)?e:He().withMutations((function(t){var n=r(e);Ce(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Fe(e){return!(!e||!e[Me])}t(De,de),De.prototype.toString=function(){return this.__toString("Map {","}")},De.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},De.prototype.set=function(e,t){return We(this,e,t)},De.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},De.prototype.remove=function(e){return We(this,e,v)},De.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},De.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},De.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,i){var a=t===v,o=n.next();if(o.done){var u=a?r:t,c=i(u);return c===u?t:c}se(a||t&&t.set,"invalid keyPath");var s=o.value,l=a?v:t.get(s,v),f=e(l,n,r,i);return f===l?t:f===v?t.remove(s):(a?He():t).set(s,f)}(this,Yt(e),t,n);return r===v?void 0:r},De.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):He()},De.prototype.merge=function(){return Ye(this,void 0,arguments)},De.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Ye(this,t,n)},De.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,He(),(function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},De.prototype.mergeDeep=function(){return Ye(this,Je,arguments)},De.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ye(this,Xe(t),n)},De.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,He(),(function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},De.prototype.sort=function(e){return wt(zt(this,e))},De.prototype.sortBy=function(e,t){return wt(zt(this,t,e))},De.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},De.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new x)},De.prototype.asImmutable=function(){return this.__ensureOwner()},De.prototype.wasAltered=function(){return this.__altered},De.prototype.__iterator=function(e,t){return new Ie(this,e,t)},De.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},De.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?$e(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},De.isMap=Fe;var Te,Me="@@__IMMUTABLE_MAP__@@",Pe=De.prototype;function Ne(e,t){this.ownerID=e,this.entries=t}function Be(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Re(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Le(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ie(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&qe(e._root)}function Ue(e,t){return N(e,t[0],t[1])}function qe(e,t){return{node:e,index:0,__prev:t}}function $e(e,t,n,r){var i=Object.create(Pe);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function He(){return Te||(Te=$e(0))}function We(e,t,n){var r,i;if(e._root){var a=y(g),o=y(m);if(r=Ge(e._root,e.__ownerID,0,void 0,t,n,a,o),!o.value)return e;i=e.size+(a.value?n===v?-1:1:0)}else{if(n===v)return e;i=1,r=new Ne(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?$e(i,r):He()}function Ge(e,t,n,r,i,a,o,u){return e?e.update(t,n,r,i,a,o,u):a===v?e:(b(u),b(o),new Le(t,r,[i,a]))}function Ke(e){return e.constructor===Le||e.constructor===ze}function Ve(e,t,n,r,i){if(e.keyHash===r)return new ze(t,r,[e.entry,i]);var a,o=31&(0===n?e.keyHash:e.keyHash>>>n),u=31&(0===n?r:r>>>n);return new Be(t,1<<o|1<<u,o===u?[Ve(e,t,n+5,r,i)]:(a=new Le(t,r,i),o<u?[e,a]:[a,e]))}function Ye(e,t,n){for(var i=[],a=0;a<n.length;a++){var u=n[a],c=r(u);o(u)||(c=c.map((function(e){return re(e)}))),i.push(c)}return Ze(e,t,i)}function Je(e,t,n){return e&&e.mergeDeep&&o(t)?e.mergeDeep(t):oe(e,t)?e:t}function Xe(e){return function(t,n,r){if(t&&t.mergeDeepWith&&o(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return oe(t,i)?t:i}}function Ze(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function Qe(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function et(e,t,n,r){var i=r?e:w(e);return i[t]=n,i}Pe[Me]=!0,Pe.delete=Pe.remove,Pe.removeIn=Pe.deleteIn,Ne.prototype.get=function(e,t,n,r){for(var i=this.entries,a=0,o=i.length;a<o;a++)if(oe(n,i[a][0]))return i[a][1];return r},Ne.prototype.update=function(e,t,n,r,i,a,o){for(var u=i===v,c=this.entries,s=0,l=c.length;s<l&&!oe(r,c[s][0]);s++);var f=s<l;if(f?c[s][1]===i:u)return this;if(b(o),(u||!f)&&b(a),!u||1!==c.length){if(!f&&!u&&c.length>=tt)return function(e,t,n,r){e||(e=new x);for(var i=new Le(e,me(n),[n,r]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}(e,c,r,i);var d=e&&e===this.ownerID,h=d?c:w(c);return f?u?s===l-1?h.pop():h[s]=h.pop():h[s]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new Ne(e,h)}},Be.prototype.get=function(e,t,n,r){void 0===t&&(t=me(n));var i=1<<(31&(0===e?t:t>>>e)),a=this.bitmap;return 0===(a&i)?r:this.nodes[Qe(a&i-1)].get(e+5,t,n,r)},Be.prototype.update=function(e,t,n,r,i,a,o){void 0===n&&(n=me(r));var u=31&(0===t?n:n>>>t),c=1<<u,s=this.bitmap,l=0!==(s&c);if(!l&&i===v)return this;var f=Qe(s&c-1),d=this.nodes,h=l?d[f]:void 0,p=Ge(h,e,t+5,n,r,i,a,o);if(p===h)return this;if(!l&&p&&d.length>=nt)return function(e,t,n,r,i){for(var a=0,o=new Array(32),u=0;0!==n;u++,n>>>=1)o[u]=1&n?t[a++]:void 0;return o[r]=i,new Re(e,a+1,o)}(e,d,s,u,p);if(l&&!p&&2===d.length&&Ke(d[1^f]))return d[1^f];if(l&&p&&1===d.length&&Ke(p))return p;var g=e&&e===this.ownerID,m=l?p?s:s^c:s|c,y=l?p?et(d,f,p,g):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),a=0,o=0;o<r;o++)o===t&&(a=1),i[o]=e[o+a];return i}(d,f,g):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var a=new Array(i),o=0,u=0;u<i;u++)u===t?(a[u]=n,o=-1):a[u]=e[u+o];return a}(d,f,p,g);return g?(this.bitmap=m,this.nodes=y,this):new Be(e,m,y)},Re.prototype.get=function(e,t,n,r){void 0===t&&(t=me(n));var i=31&(0===e?t:t>>>e),a=this.nodes[i];return a?a.get(e+5,t,n,r):r},Re.prototype.update=function(e,t,n,r,i,a,o){void 0===n&&(n=me(r));var u=31&(0===t?n:n>>>t),c=i===v,s=this.nodes,l=s[u];if(c&&!l)return this;var f=Ge(l,e,t+5,n,r,i,a,o);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<rt)return function(e,t,n,r){for(var i=0,a=0,o=new Array(n),u=0,c=1,s=t.length;u<s;u++,c<<=1){var l=t[u];void 0!==l&&u!==r&&(i|=c,o[a++]=l)}return new Be(e,i,o)}(e,s,d,u)}else d++;var h=e&&e===this.ownerID,p=et(s,u,f,h);return h?(this.count=d,this.nodes=p,this):new Re(e,d,p)},ze.prototype.get=function(e,t,n,r){for(var i=this.entries,a=0,o=i.length;a<o;a++)if(oe(n,i[a][0]))return i[a][1];return r},ze.prototype.update=function(e,t,n,r,i,a,o){void 0===n&&(n=me(r));var u=i===v;if(n!==this.keyHash)return u?this:(b(o),b(a),Ve(this,e,t,n,[r,i]));for(var c=this.entries,s=0,l=c.length;s<l&&!oe(r,c[s][0]);s++);var f=s<l;if(f?c[s][1]===i:u)return this;if(b(o),(u||!f)&&b(a),u&&2===l)return new Le(e,this.keyHash,c[1^s]);var d=e&&e===this.ownerID,h=d?c:w(c);return f?u?s===l-1?h.pop():h[s]=h.pop():h[s]=[r,i]:h.push([r,i]),d?(this.entries=h,this):new ze(e,this.keyHash,h)},Le.prototype.get=function(e,t,n,r){return oe(n,this.entry[0])?this.entry[1]:r},Le.prototype.update=function(e,t,n,r,i,a,o){var u=i===v,c=oe(r,this.entry[0]);return(c?i===this.entry[1]:u)?this:(b(o),u?void b(a):c?e&&e===this.ownerID?(this.entry[1]=i,this):new Le(e,this.keyHash,[r,i]):(b(a),Ve(this,e,t,me(r),[r,i])))},Ne.prototype.iterate=ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Be.prototype.iterate=Re.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var a=n[t?i-r:r];if(a&&!1===a.iterate(e,t))return!1}},Le.prototype.iterate=function(e,t){return e(this.entry)},t(Ie,P),Ie.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return Ue(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return Ue(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var a=r.nodes[this._reverse?n-i:i];if(a){if(a.entry)return Ue(e,a.entry);t=this._stack=qe(a,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var tt=8,nt=16,rt=8;function it(e){var t=pt();if(null===e||void 0===e)return t;if(at(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ce(r),r>0&&r<32?ht(0,r,5,null,new ct(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function at(e){return!(!e||!e[ot])}t(it,he),it.of=function(){return this(arguments)},it.prototype.toString=function(){return this.__toString("List [","]")},it.prototype.get=function(e,t){if((e=k(this,e))>=0&&e<this.size){var n=mt(this,e+=this._origin);return n&&n.array[31&e]}return t},it.prototype.set=function(e,t){return function(e,t,n){if((t=k(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?yt(e,t).set(0,n):yt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,a=y(m);return t>=xt(e._capacity)?r=vt(r,e.__ownerID,0,t,n,a):i=vt(i,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):ht(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},it.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},it.prototype.insert=function(e,t){return this.splice(e,0,t)},it.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):pt()},it.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){yt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},it.prototype.pop=function(){return yt(this,0,-1)},it.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){yt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},it.prototype.shift=function(){return yt(this,1)},it.prototype.merge=function(){return bt(this,void 0,arguments)},it.prototype.mergeWith=function(t){var n=e.call(arguments,1);return bt(this,t,n)},it.prototype.mergeDeep=function(){return bt(this,Je,arguments)},it.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return bt(this,Xe(t),n)},it.prototype.setSize=function(e){return yt(this,0,e)},it.prototype.slice=function(e,t){var n=this.size;return _(e,t,n)?this:yt(this,S(e,n),E(t,n))},it.prototype.__iterator=function(e,t){var n=0,r=dt(this,t);return new P((function(){var t=r();return t===ft?{value:void 0,done:!0}:N(e,n++,t)}))},it.prototype.__iterate=function(e,t){for(var n,r=0,i=dt(this,t);(n=i())!==ft&&!1!==e(n,r++,this););return r},it.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?ht(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},it.isList=at;var ot="@@__IMMUTABLE_LIST__@@",ut=it.prototype;function ct(e,t){this.array=e,this.ownerID=t}ut[ot]=!0,ut.delete=ut.remove,ut.setIn=Pe.setIn,ut.deleteIn=ut.removeIn=Pe.removeIn,ut.update=Pe.update,ut.updateIn=Pe.updateIn,ut.mergeIn=Pe.mergeIn,ut.mergeDeepIn=Pe.mergeDeepIn,ut.withMutations=Pe.withMutations,ut.asMutable=Pe.asMutable,ut.asImmutable=Pe.asImmutable,ut.wasAltered=Pe.wasAltered,ct.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&31;if(r>=this.array.length)return new ct([],e);var i,a=0===r;if(t>0){var o=this.array[r];if((i=o&&o.removeBefore(e,t-5,n))===o&&a)return this}if(a&&!i)return this;var u=gt(this,e);if(!a)for(var c=0;c<r;c++)u.array[c]=void 0;return i&&(u.array[r]=i),u},ct.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&31;if(i>=this.array.length)return this;if(t>0){var a=this.array[i];if((r=a&&a.removeAfter(e,t-5,n))===a&&i===this.array.length-1)return this}var o=gt(this,e);return o.array.splice(i+1),r&&(o.array[i]=r),o};var st,lt,ft={};function dt(e,t){var n=e._origin,r=e._capacity,i=xt(r),a=e._tail;return o(e._root,e._level,0);function o(e,u,c){return 0===u?function(e,o){var u=o===i?a&&a.array:e&&e.array,c=o>n?0:n-o,s=r-o;return s>32&&(s=32),function(){if(c===s)return ft;var e=t?--s:c++;return u&&u[e]}}(e,c):function(e,i,a){var u,c=e&&e.array,s=a>n?0:n-a>>i,l=1+(r-a>>i);return l>32&&(l=32),function(){for(;;){if(u){var e=u();if(e!==ft)return e;u=null}if(s===l)return ft;var n=t?--l:s++;u=o(c&&c[n],i-5,a+(n<<i))}}}(e,u,c)}}function ht(e,t,n,r,i,a,o){var u=Object.create(ut);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=i,u.__ownerID=a,u.__hash=o,u.__altered=!1,u}function pt(){return st||(st=ht(0,0,5))}function vt(e,t,n,r,i,a){var o,u=r>>>n&31,c=e&&u<e.array.length;if(!c&&void 0===i)return e;if(n>0){var s=e&&e.array[u],l=vt(s,t,n-5,r,i,a);return l===s?e:((o=gt(e,t)).array[u]=l,o)}return c&&e.array[u]===i?e:(b(a),o=gt(e,t),void 0===i&&u===o.array.length-1?o.array.pop():o.array[u]=i,o)}function gt(e,t){return t&&e&&t===e.ownerID?e:new ct(e?e.array.slice():[],t)}function mt(e,t){if(t>=xt(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&31],r-=5;return n}}function yt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new x,i=e._origin,a=e._capacity,o=i+t,u=void 0===n?a:n<0?a+n:i+n;if(o===i&&u===a)return e;if(o>=u)return e.clear();for(var c=e._level,s=e._root,l=0;o+l<0;)s=new ct(s&&s.array.length?[void 0,s]:[],r),l+=1<<(c+=5);l&&(o+=l,i+=l,u+=l,a+=l);for(var f=xt(a),d=xt(u);d>=1<<c+5;)s=new ct(s&&s.array.length?[s]:[],r),c+=5;var h=e._tail,p=d<f?mt(e,u-1):d>f?new ct([],r):h;if(h&&d>f&&o<a&&h.array.length){for(var v=s=gt(s,r),g=c;g>5;g-=5){var m=f>>>g&31;v=v.array[m]=gt(v.array[m],r)}v.array[f>>>5&31]=h}if(u<a&&(p=p&&p.removeAfter(r,0,u)),o>=d)o-=d,u-=d,c=5,s=null,p=p&&p.removeBefore(r,0,o);else if(o>i||d<f){for(l=0;s;){var y=o>>>c&31;if(y!==d>>>c&31)break;y&&(l+=(1<<c)*y),c-=5,s=s.array[y]}s&&o>i&&(s=s.removeBefore(r,c,o-l)),s&&d<f&&(s=s.removeAfter(r,c,d-l)),l&&(o-=l,u-=l)}return e.__ownerID?(e.size=u-o,e._origin=o,e._capacity=u,e._level=c,e._root=s,e._tail=p,e.__hash=void 0,e.__altered=!0,e):ht(o,u,c,s,p)}function bt(e,t,n){for(var r=[],a=0,u=0;u<n.length;u++){var c=n[u],s=i(c);s.size>a&&(a=s.size),o(c)||(s=s.map((function(e){return re(e)}))),r.push(s)}return a>e.size&&(e=e.setSize(a)),Ze(e,t,r)}function xt(e){return e<32?0:e-1>>>5<<5}function wt(e){return null===e||void 0===e?jt():Ot(e)?e:jt().withMutations((function(t){var n=r(e);Ce(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ot(e){return Fe(e)&&l(e)}function kt(e,t,n,r){var i=Object.create(wt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function jt(){return lt||(lt=kt(He(),pt()))}function _t(e,t,n){var r,i,a=e._map,o=e._list,u=a.get(t),c=void 0!==u;if(n===v){if(!c)return e;o.size>=32&&o.size>=2*a.size?(r=(i=o.filter((function(e,t){return void 0!==e&&u!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=a.remove(t),i=u===o.size-1?o.pop():o.set(u,void 0))}else if(c){if(n===o.get(u)[1])return e;r=a,i=o.set(u,[t,n])}else r=a.set(t,o.size),i=o.set(o.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):kt(r,i)}function St(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Et(e){this._iter=e,this.size=e.size}function At(e){this._iter=e,this.size=e.size}function Ct(e){this._iter=e,this.size=e.size}function Dt(e){var t=Gt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Kt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new P((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function Ft(e,t,n){var r=Gt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var a=e.get(r,v);return a===v?i:t.call(n,a,r,e)},r.__iterateUncached=function(r,i){var a=this;return e.__iterate((function(e,i,o){return!1!==r(t.call(n,e,i,o),i,a)}),i)},r.__iteratorUncached=function(r,i){var a=e.__iterator(2,i);return new P((function(){var i=a.next();if(i.done)return i;var o=i.value,u=o[0];return N(r,u,t.call(n,o[1],u,e),i)}))},r}function Tt(e,t){var n=Gt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Dt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Kt,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Mt(e,t,n,r){var i=Gt(e);return r&&(i.has=function(r){var i=e.get(r,v);return i!==v&&!!t.call(n,i,r,e)},i.get=function(r,i){var a=e.get(r,v);return a!==v&&t.call(n,a,r,e)?a:i}),i.__iterateUncached=function(i,a){var o=this,u=0;return e.__iterate((function(e,a,c){if(t.call(n,e,a,c))return u++,i(e,r?a:u-1,o)}),a),u},i.__iteratorUncached=function(i,a){var o=e.__iterator(2,a),u=0;return new P((function(){for(;;){var a=o.next();if(a.done)return a;var c=a.value,s=c[0],l=c[1];if(t.call(n,l,s,e))return N(i,r?s:u++,l,a)}}))},i}function Pt(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),_(t,n,i))return e;var a=S(t,i),o=E(n,i);if(a!==a||o!==o)return Pt(e.toSeq().cacheResult(),t,n,r);var u,c=o-a;c===c&&(u=c<0?0:c);var s=Gt(e);return s.size=0===u?u:e.size&&u||void 0,!r&&J(e)&&u>=0&&(s.get=function(t,n){return(t=k(this,t))>=0&&t<u?e.get(t+a,n):n}),s.__iterateUncached=function(t,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(t,n);var o=0,c=!0,s=0;return e.__iterate((function(e,n){if(!c||!(c=o++<a))return s++,!1!==t(e,r?n:s-1,i)&&s!==u})),s},s.__iteratorUncached=function(t,n){if(0!==u&&n)return this.cacheResult().__iterator(t,n);var i=0!==u&&e.__iterator(t,n),o=0,c=0;return new P((function(){for(;o++<a;)i.next();if(++c>u)return{value:void 0,done:!0};var e=i.next();return r||1===t?e:N(t,c-1,0===t?void 0:e.value[1],e)}))},s}function Nt(e,t,n,r){var i=Gt(e);return i.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var u=!0,c=0;return e.__iterate((function(e,a,s){if(!u||!(u=t.call(n,e,a,s)))return c++,i(e,r?a:c-1,o)})),c},i.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var u=e.__iterator(2,a),c=!0,s=0;return new P((function(){var e,a,l;do{if((e=u.next()).done)return r||1===i?e:N(i,s++,0===i?void 0:e.value[1],e);var f=e.value;a=f[0],l=f[1],c&&(c=t.call(n,l,a,o))}while(c);return 2===i?e:N(i,a,l,e)}))},i}function Bt(e,t){var n=u(e),i=[e].concat(t).map((function(e){return o(e)?n&&(e=r(e)):e=n?Z(e):Q(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var a=i[0];if(a===e||n&&u(a)||c(e)&&c(a))return a}var s=new G(i);return n?s=s.toKeyedSeq():c(e)||(s=s.toSetSeq()),(s=s.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),s}function Rt(e,t,n){var r=Gt(e);return r.__iterateUncached=function(r,i){var a=0,u=!1;return function e(c,s){var l=this;c.__iterate((function(i,c){return(!t||s<t)&&o(i)?e(i,s+1):!1===r(i,n?c:a++,l)&&(u=!0),!u}),i)}(e,0),a},r.__iteratorUncached=function(r,i){var a=e.__iterator(r,i),u=[],c=0;return new P((function(){for(;a;){var e=a.next();if(!1===e.done){var s=e.value;if(2===r&&(s=s[1]),t&&!(u.length<t)||!o(s))return n?e:N(r,c++,s,e);u.push(a),a=s.__iterator(r,i)}else a=u.pop()}return{value:void 0,done:!0}}))},r}function zt(e,t,n){t||(t=Vt);var r=u(e),i=0,a=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return a.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?$(a):c(e)?H(a):W(a)}function Lt(e,t,n){if(t||(t=Vt),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return It(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return It(t,e,n)?n:e}))}function It(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function Ut(e,t,r){var i=Gt(e);return i.size=new G(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var a=r.map((function(e){return e=n(e),L(i?e.reverse():e)})),o=0,u=!1;return new P((function(){var n;return u||(n=a.map((function(e){return e.next()})),u=n.some((function(e){return e.done}))),u?{value:void 0,done:!0}:N(e,o++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function qt(e,t){return J(e)?t:e.constructor(t)}function $t(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ht(e){return Ce(e.size),O(e)}function Wt(e){return u(e)?r:c(e)?i:a}function Gt(e){return Object.create((u(e)?$:c(e)?H:W).prototype)}function Kt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function Vt(e,t){return e>t?1:e<t?-1:0}function Yt(e){var t=L(e);if(!t){if(!U(e))throw new TypeError("Expected iterable or array-like: "+e);t=L(n(e))}return t}function Jt(e,t){var n,r=function(a){if(a instanceof r)return a;if(!(this instanceof r))return new r(a);if(!n){n=!0;var o=Object.keys(e);!function(e,t){try{t.forEach(en.bind(void 0,e))}catch(n){}}(i,o),i.size=o.length,i._name=t,i._keys=o,i._defaultValues=e}this._map=De(a)},i=r.prototype=Object.create(Xt);return i.constructor=r,r}t(wt,De),wt.of=function(){return this(arguments)},wt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},wt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},wt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):jt()},wt.prototype.set=function(e,t){return _t(this,e,t)},wt.prototype.remove=function(e){return _t(this,e,v)},wt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},wt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},wt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},wt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?kt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},wt.isOrderedMap=Ot,wt.prototype[p]=!0,wt.prototype.delete=wt.prototype.remove,t(St,$),St.prototype.get=function(e,t){return this._iter.get(e,t)},St.prototype.has=function(e){return this._iter.has(e)},St.prototype.valueSeq=function(){return this._iter.valueSeq()},St.prototype.reverse=function(){var e=this,t=Tt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},St.prototype.map=function(e,t){var n=this,r=Ft(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},St.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Ht(this):0,function(i){return e(i,t?--n:n++,r)}),t)},St.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(1,t),r=t?Ht(this):0;return new P((function(){var i=n.next();return i.done?i:N(e,t?--r:r++,i.value,i)}))},St.prototype[p]=!0,t(Et,H),Et.prototype.includes=function(e){return this._iter.includes(e)},Et.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Et.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t),r=0;return new P((function(){var t=n.next();return t.done?t:N(e,r++,t.value,t)}))},t(At,W),At.prototype.has=function(e){return this._iter.includes(e)},At.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},At.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new P((function(){var t=n.next();return t.done?t:N(e,t.value,t.value,t)}))},t(Ct,$),Ct.prototype.entrySeq=function(){return this._iter.toSeq()},Ct.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){$t(t);var r=o(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Ct.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new P((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){$t(r);var i=o(r);return N(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Et.prototype.cacheResult=St.prototype.cacheResult=At.prototype.cacheResult=Ct.prototype.cacheResult=Kt,t(Jt,de),Jt.prototype.toString=function(){return this.__toString(Qt(this)+" {","}")},Jt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Jt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Jt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Zt(this,He()))},Jt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Qt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Zt(this,n)},Jt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Zt(this,t)},Jt.prototype.wasAltered=function(){return this._map.wasAltered()},Jt.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},Jt.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},Jt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Zt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Xt=Jt.prototype;function Zt(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Qt(e){return e._name||e.constructor.name||"Record"}function en(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){se(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function tn(e){return null===e||void 0===e?sn():nn(e)&&!l(e)?e:sn().withMutations((function(t){var n=a(e);Ce(n.size),n.forEach((function(e){return t.add(e)}))}))}function nn(e){return!(!e||!e[an])}Xt.delete=Xt.remove,Xt.deleteIn=Xt.removeIn=Pe.removeIn,Xt.merge=Pe.merge,Xt.mergeWith=Pe.mergeWith,Xt.mergeIn=Pe.mergeIn,Xt.mergeDeep=Pe.mergeDeep,Xt.mergeDeepWith=Pe.mergeDeepWith,Xt.mergeDeepIn=Pe.mergeDeepIn,Xt.setIn=Pe.setIn,Xt.update=Pe.update,Xt.updateIn=Pe.updateIn,Xt.withMutations=Pe.withMutations,Xt.asMutable=Pe.asMutable,Xt.asImmutable=Pe.asImmutable,t(tn,pe),tn.of=function(){return this(arguments)},tn.fromKeys=function(e){return this(r(e).keySeq())},tn.prototype.toString=function(){return this.__toString("Set {","}")},tn.prototype.has=function(e){return this._map.has(e)},tn.prototype.add=function(e){return un(this,this._map.set(e,!0))},tn.prototype.remove=function(e){return un(this,this._map.remove(e))},tn.prototype.clear=function(){return un(this,this._map.clear())},tn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)a(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},tn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return a(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},tn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return a(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},tn.prototype.merge=function(){return this.union.apply(this,arguments)},tn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},tn.prototype.sort=function(e){return ln(zt(this,e))},tn.prototype.sortBy=function(e,t){return ln(zt(this,t,e))},tn.prototype.wasAltered=function(){return this._map.wasAltered()},tn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},tn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},tn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},tn.isSet=nn;var rn,an="@@__IMMUTABLE_SET__@@",on=tn.prototype;function un(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function cn(e,t){var n=Object.create(on);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function sn(){return rn||(rn=cn(He()))}function ln(e){return null===e||void 0===e?vn():fn(e)?e:vn().withMutations((function(t){var n=a(e);Ce(n.size),n.forEach((function(e){return t.add(e)}))}))}function fn(e){return nn(e)&&l(e)}on[an]=!0,on.delete=on.remove,on.mergeDeep=on.merge,on.mergeDeepWith=on.mergeWith,on.withMutations=Pe.withMutations,on.asMutable=Pe.asMutable,on.asImmutable=Pe.asImmutable,on.__empty=sn,on.__make=cn,t(ln,tn),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},ln.isOrderedSet=fn;var dn,hn=ln.prototype;function pn(e,t){var n=Object.create(hn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function vn(){return dn||(dn=pn(jt()))}function gn(e){return null===e||void 0===e?On():mn(e)?e:On().unshiftAll(e)}function mn(e){return!(!e||!e[bn])}hn[p]=!0,hn.__empty=vn,hn.__make=pn,t(gn,he),gn.of=function(){return this(arguments)},gn.prototype.toString=function(){return this.__toString("Stack [","]")},gn.prototype.get=function(e,t){var n=this._head;for(e=k(this,e);n&&e--;)n=n.next;return n?n.value:t},gn.prototype.peek=function(){return this._head&&this._head.value},gn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):wn(e,t)},gn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ce(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):wn(t,n)},gn.prototype.pop=function(){return this.slice(1)},gn.prototype.unshift=function(){return this.push.apply(this,arguments)},gn.prototype.unshiftAll=function(e){return this.pushAll(e)},gn.prototype.shift=function(){return this.pop.apply(this,arguments)},gn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):On()},gn.prototype.slice=function(e,t){if(_(e,t,this.size))return this;var n=S(e,this.size);if(E(t,this.size)!==this.size)return he.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):wn(r,i)},gn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},gn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},gn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new P((function(){if(r){var t=r.value;return r=r.next,N(e,n++,t)}return{value:void 0,done:!0}}))},gn.isStack=mn;var yn,bn="@@__IMMUTABLE_STACK__@@",xn=gn.prototype;function wn(e,t,n,r){var i=Object.create(xn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function On(){return yn||(yn=wn(0))}function kn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}xn[bn]=!0,xn.withMutations=Pe.withMutations,xn.asMutable=Pe.asMutable,xn.asImmutable=Pe.asImmutable,xn.wasAltered=Pe.wasAltered,n.Iterator=P,kn(n,{toArray:function(){Ce(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Et(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new St(this,!0)},toMap:function(){return De(this.toKeyedSeq())},toObject:function(){Ce(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return wt(this.toKeyedSeq())},toOrderedSet:function(){return ln(u(this)?this.valueSeq():this)},toSet:function(){return tn(u(this)?this.valueSeq():this)},toSetSeq:function(){return new At(this)},toSeq:function(){return c(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return gn(u(this)?this.valueSeq():this)},toList:function(){return it(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return qt(this,Bt(this,t))},includes:function(e){return this.some((function(t){return oe(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){Ce(this.size);var n=!0;return this.__iterate((function(r,i,a){if(!e.call(t,r,i,a))return n=!1,!1})),n},filter:function(e,t){return qt(this,Mt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,a){if(e.call(t,r,i,a))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Ce(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ce(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return qt(this,Ft(this,e,t))},reduce:function(e,t,n){var r,i;return Ce(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,a,o){i?(i=!1,r=t):r=e.call(n,r,t,a,o)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return qt(this,Tt(this,!0))},slice:function(e,t){return qt(this,Pt(this,e,t,!0))},some:function(e,t){return!this.every(An(e),t)},sort:function(e){return qt(this,zt(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return O(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=De().asMutable();return e.__iterate((function(i,a){r.update(t.call(n,i,a,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return ue(this,e)},entrySeq:function(){var e=this;if(e._cache)return new G(e._cache);var t=e.toSeq().map(En).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(An(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(j)},flatMap:function(e,t){return qt(this,function(e,t,n){var r=Wt(e);return e.toSeq().map((function(i,a){return r(t.call(n,i,a,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return qt(this,Rt(this,e,!0))},fromEntrySeq:function(){return new Ct(this)},get:function(e,t){return this.find((function(t,n){return oe(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=Yt(e);!(n=i.next()).done;){var a=n.value;if((r=r&&r.get?r.get(a,v):v)===v)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=u(e),i=(l(e)?wt():De()).asMutable();e.__iterate((function(a,o){i.update(t.call(n,a,o,e),(function(e){return(e=e||[]).push(r?[o,a]:a),e}))}));var a=Wt(e);return i.map((function(t){return qt(e,a(t))}))}(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Sn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Lt(this,e)},maxBy:function(e,t){return Lt(this,t,e)},min:function(e){return Lt(this,e?Cn(e):Tn)},minBy:function(e,t){return Lt(this,t?Cn(t):Tn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return qt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return qt(this,Nt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(An(e),t)},sortBy:function(e,t){return qt(this,zt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return qt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return qt(this,function(e,t,n){var r=Gt(e);return r.__iterateUncached=function(r,i){var a=this;if(i)return this.cacheResult().__iterate(r,i);var o=0;return e.__iterate((function(e,i,u){return t.call(n,e,i,u)&&++o&&r(e,i,a)})),o},r.__iteratorUncached=function(r,i){var a=this;if(i)return this.cacheResult().__iterator(r,i);var o=e.__iterator(2,i),u=!0;return new P((function(){if(!u)return{value:void 0,done:!0};var e=o.next();if(e.done)return e;var i=e.value,c=i[0],s=i[1];return t.call(n,s,c,a)?2===r?e:N(r,c,s,e):(u=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(An(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),n=u(e),r=t?1:0;return function(e,t){return t=ve(t,3432918353),t=ve(t<<15|t>>>-15,461845907),t=ve(t<<13|t>>>-13,5),t=ve((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ge((t=ve(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Mn(me(e),me(t))|0}:function(e,t){r=r+Mn(me(e),me(t))|0}:t?function(e){r=31*r+me(e)|0}:function(e){r=r+me(e)|0}),r)}(this))}});var jn=n.prototype;jn[f]=!0,jn[M]=jn.values,jn.__toJS=jn.toArray,jn.__toStringMapper=Dn,jn.inspect=jn.toSource=function(){return this.toString()},jn.chain=jn.flatMap,jn.contains=jn.includes,function(){try{Object.defineProperty(jn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),kn(r,{flip:function(){return qt(this,Dt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return oe(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return oe(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return qt(this,this.toSeq().map((function(i,a){return e.call(t,[a,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return qt(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var _n=r.prototype;function Sn(e,t){return t}function En(e,t){return[t,e]}function An(e){return function(){return!e.apply(this,arguments)}}function Cn(e){return function(){return-e.apply(this,arguments)}}function Dn(e){return"string"===typeof e?JSON.stringify(e):e}function Fn(){return w(arguments)}function Tn(e,t){return e<t?1:e>t?-1:0}function Mn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return _n[d]=!0,_n[M]=jn.entries,_n.__toJS=jn.toObject,_n.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Dn(e)},kn(i,{toKeyedSeq:function(){return new St(this,!1)},filter:function(e,t){return qt(this,Mt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return qt(this,Tt(this,!1))},slice:function(e,t){return qt(this,Pt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=S(e,e<0?this.count():this.size);var r=this.slice(0,e);return qt(this,1===n?r:r.concat(w(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return qt(this,Rt(this,e,!1))},get:function(e,t){return(e=k(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=k(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return qt(this,function(e,t){var n=Gt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,a=0;return e.__iterate((function(e,r){return(!a||!1!==n(t,a++,i))&&!1!==n(e,a++,i)}),r),a},n.__iteratorUncached=function(n,r){var i,a=e.__iterator(1,r),o=0;return new P((function(){return(!i||o%2)&&(i=a.next()).done?i:o%2?N(n,o++,t):N(n,o++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(w(arguments)),t=Ut(this.toSeq(),H.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),qt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return qt(this,Nt(this,e,t,!1))},zip:function(){var e=[this].concat(w(arguments));return qt(this,Ut(this,Fn,e))},zipWith:function(e){var t=w(arguments);return t[0]=this,qt(this,Ut(this,e,t))}}),i.prototype[h]=!0,i.prototype[p]=!0,kn(a,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=jn.includes,kn($,r.prototype),kn(H,i.prototype),kn(W,a.prototype),kn(de,r.prototype),kn(he,i.prototype),kn(pe,a.prototype),{Iterable:n,Seq:q,Collection:fe,Map:De,OrderedMap:wt,List:it,Stack:gn,Set:tn,OrderedSet:ln,Record:Jt,Range:le,Repeat:ce,is:oe,fromJS:re}}()},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,c,"next",e)}function c(e){r(o,i,a,u,c,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l}));var r=n(2);function i(e){return[Object(r.e)(e[1],e[0]),Object(r.c)(e[2])]}function a(e){var t=e[0],n=e[1],i=Object(r.g)(n);return[i*Object(r.g)(t),i*Object(r.s)(t),Object(r.s)(n)]}function o(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function u(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function c(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function s(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function l(e){var t=Object(r.t)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(73);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},,function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(339)},function(e,t,n){"use strict";var r=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(r(t),!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;(o=new Error(t.replace(/%s/g,(function(){return String(i[u++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=new Date,i=new Date;function a(e,t,n,o){function u(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return u.floor=function(t){return e(t=new Date(+t)),t},u.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},u.round=function(e){var t=u(e),n=u.ceil(e);return e-t<n-e?t:n},u.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},u.range=function(n,r,i){var a,o=[];if(n=u.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;do{o.push(a=new Date(+n)),t(n,i),e(n)}while(a<n&&n<r);return o},u.filter=function(n){return a((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(u.count=function(t,a){return r.setTime(+t),i.setTime(+a),e(r),e(i),Math.floor(n(r,i))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?u.filter(o?function(t){return o(t)%e===0}:function(t){return u.count(0,t)%e===0}):u:null}),u}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return u}));var r=1e3,i=6e4,a=36e5,o=864e5,u=6048e5},function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return d}));var r=n(316);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function u(e,t){var n=c(e),r=c(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",l=[Math.round(255*c(0)),Math.round(255*c(8)),Math.round(255*c(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),o({type:s,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return c(e)>.5?f(e,t):d(e,t)}function l(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(116);function i(e,t){return function(n){return e+n*t}}function a(e,t){var n=t-e;return n?i(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(r.a)(isNaN(e)?t:e)}function o(e){return 1===(e=+e)?u:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Object(r.a)(isNaN(t)?n:t)}}function u(e,t){var n=t-e;return n?i(e,n):Object(r.a)(isNaN(e)?t:e)}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(361),o=n(184),u=n(363),c=n(137),s=n(23),l=s.OrderedSet,f=s.Record,d=s.Stack,h=s.OrderedMap,p=s.List,v=f({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:d(),selection:null,treeMap:null,undoStack:d()}),g=function(){t.createEmpty=function(e){return t.createWithContent(o.createFromText(""),e)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:d(),redoStack:d(),decorator:n||null,selection:c.createEmpty(r)})},t.create=function(e){var n=e.currentContent,i=r({},e,{treeMap:y(n,e.decorator),directionMap:u.getDirectionMap(n)});return new t(new v(i))},t.fromJS=function(e){return new t(new v(r({},e,{directionMap:null!=e.directionMap?h(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?l(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?o.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?d(e.redoStack.map((function(e){return o.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new c(e.selection):e.selection,treeMap:null!=e.treeMap?h(e.treeMap).map((function(e){return p(e).map((function(e){return a.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?d(e.undoStack.map((function(e){return o.fromJS(e)}))):e.undoStack,currentContent:o.fromJS(e.currentContent)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations((function(t){var r=t.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var o=n.currentContent||e.getCurrentContent();if(i!==r){var u,c=t.get("treeMap");return u=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)})).map((function(t){return a.generate(e,t,r)})))}(o,o.getBlockMap(),c,i,r):y(o,i),void t.merge({decorator:i,treeMap:u,nativelyRenderedContent:null})}o!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),o=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==o.get(t)})).map((function(e){return a.generate(i,e,r)})))}(e,o.getBlockMap(),o.getEntityMap(),i)),t.merge(n)})))};var e=t.prototype;function t(e){i(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r>0)return i.getInlineStyleAt(r-1);if(i.getLength())return i.getInlineStyleAt(0);return x(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r<i.getLength())return i.getInlineStyleAt(r);if(r>0)return i.getInlineStyleAt(r-1);return x(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return m(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),m(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),i=n.getLength();return t.acceptSelection(e,new c({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var a=u.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:a,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var o=e.getSelection(),c=e.getCurrentContent(),s=e.getUndoStack(),l=n;o!==c.getSelectionAfter()||b(e,r)?(s=s.push(c),l=l.set("selectionBefore",o)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(l=l.set("selectionBefore",c.getSelectionBefore()));var f=e.getInlineStyleOverride(),h=["adjust-depth","change-block-type","split-block"];-1===h.indexOf(r)&&(f=null);var p={currentContent:l,directionMap:a,undoStack:s,redoStack:d(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:f};return t.set(e,p)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),a=u.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:a,undoStack:n.shift(),redoStack:e.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),a=u.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:a,undoStack:e.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function m(e,t,n){return g.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function y(e,t){return e.getBlockMap().map((function(n){return a.generate(e,n,t)})).toOrderedMap()}function b(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function x(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(0);function i(e){var t=this.context.data[e];return t?t.values.value:[]}var a=function(e){return function(t,n){return this.context.dataflow.locale()[e](n)(t)}},o=a("format"),u=a("timeFormat"),c=a("utcFormat"),s=a("timeParse"),l=a("utcParse"),f=new Date(2e3,0,1);function d(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(f.setYear(2e3),f.setMonth(e),f.setDate(t),u.call(this,f,n)):""}var h=n(44);function p(e,t,n,i){t[0].type!==h.b&&Object(r.n)("First argument to data functions must be a string literal.");var a=t[0].value,o=":"+a;if(!Object(r.v)(o,i))try{i[o]=n.getData(a).tuplesRef()}catch(u){}}function v(e,t,n,r){if(t[0].type===h.b)g(n,r,t[0].value);else for(e in n.scales)g(n,r,e)}function g(e,t,n){var i="%"+n;if(!Object(r.v)(t,i))try{t[i]=e.scaleRef(n)}catch(a){}}function m(e,t){var n;return Object(r.D)(e)?e:Object(r.H)(e)?(n=t.scales[e])&&n.value:void 0}var y,b,x,w,O,k=n(63),j=n(2),_=n(38),S=n(52),E=Object(k.a)(),A=Object(k.a)(),C={point:_.a,lineStart:_.a,lineEnd:_.a,polygonStart:function(){E.reset(),C.lineStart=D,C.lineEnd=F},polygonEnd:function(){var e=+E;A.add(e<0?j.v+e:e),this.lineStart=this.lineEnd=this.point=_.a},sphere:function(){A.add(j.v)}};function D(){C.point=T}function F(){M(y,b)}function T(e,t){C.point=M,y=e,b=t,e*=j.q,t*=j.q,x=e,w=Object(j.g)(t=t/2+j.p),O=Object(j.s)(t)}function M(e,t){e*=j.q,t=(t*=j.q)/2+j.p;var n=e-x,r=n>=0?1:-1,i=r*n,a=Object(j.g)(t),o=Object(j.s)(t),u=O*o,c=w*a+u*Object(j.g)(i),s=u*r*Object(j.s)(i);E.add(Object(j.e)(s,c)),x=e,w=a,O=o}var P,N,B,R,z,L,I,U,q,$,H=n(25),W=Object(k.a)(),G={point:K,lineStart:Y,lineEnd:J,polygonStart:function(){G.point=X,G.lineStart=Z,G.lineEnd=Q,W.reset(),C.polygonStart()},polygonEnd:function(){C.polygonEnd(),G.point=K,G.lineStart=Y,G.lineEnd=J,E<0?(P=-(B=180),N=-(R=90)):W>j.i?R=90:W<-j.i&&(N=-90),$[0]=P,$[1]=B},sphere:function(){P=-(B=180),N=-(R=90)}};function K(e,t){q.push($=[P=e,B=e]),t<N&&(N=t),t>R&&(R=t)}function V(e,t){var n=Object(H.a)([e*j.q,t*j.q]);if(U){var r=Object(H.c)(U,n),i=[r[1],-r[0],0],a=Object(H.c)(i,r);Object(H.e)(a),a=Object(H.g)(a);var o,u=e-z,c=u>0?1:-1,s=a[0]*j.h*c,l=Object(j.a)(u)>180;l^(c*z<s&&s<c*e)?(o=a[1]*j.h)>R&&(R=o):l^(c*z<(s=(s+360)%360-180)&&s<c*e)?(o=-a[1]*j.h)<N&&(N=o):(t<N&&(N=t),t>R&&(R=t)),l?e<z?ee(P,e)>ee(P,B)&&(B=e):ee(e,B)>ee(P,B)&&(P=e):B>=P?(e<P&&(P=e),e>B&&(B=e)):e>z?ee(P,e)>ee(P,B)&&(B=e):ee(e,B)>ee(P,B)&&(P=e)}else q.push($=[P=e,B=e]);t<N&&(N=t),t>R&&(R=t),U=n,z=e}function Y(){G.point=V}function J(){$[0]=P,$[1]=B,G.point=K,U=null}function X(e,t){if(U){var n=e-z;W.add(Object(j.a)(n)>180?n+(n>0?360:-360):n)}else L=e,I=t;C.point(e,t),V(e,t)}function Z(){C.lineStart()}function Q(){X(L,I),C.lineEnd(),Object(j.a)(W)>j.i&&(P=-(B=180)),$[0]=P,$[1]=B,U=null}function ee(e,t){return(t-=e)<0?t+360:t}function te(e,t){return e[0]-t[0]}function ne(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var re,ie,ae,oe,ue,ce,se,le,fe,de,he,pe,ve,ge,me,ye,be={sphere:_.a,point:xe,lineStart:Oe,lineEnd:_e,polygonStart:function(){be.lineStart=Se,be.lineEnd=Ee},polygonEnd:function(){be.lineStart=Oe,be.lineEnd=_e}};function xe(e,t){e*=j.q,t*=j.q;var n=Object(j.g)(t);we(n*Object(j.g)(e),n*Object(j.s)(e),Object(j.s)(t))}function we(e,t,n){++re,ae+=(e-ae)/re,oe+=(t-oe)/re,ue+=(n-ue)/re}function Oe(){be.point=ke}function ke(e,t){e*=j.q,t*=j.q;var n=Object(j.g)(t);ge=n*Object(j.g)(e),me=n*Object(j.s)(e),ye=Object(j.s)(t),be.point=je,we(ge,me,ye)}function je(e,t){e*=j.q,t*=j.q;var n=Object(j.g)(t),r=n*Object(j.g)(e),i=n*Object(j.s)(e),a=Object(j.s)(t),o=Object(j.e)(Object(j.t)((o=me*a-ye*i)*o+(o=ye*r-ge*a)*o+(o=ge*i-me*r)*o),ge*r+me*i+ye*a);ie+=o,ce+=o*(ge+(ge=r)),se+=o*(me+(me=i)),le+=o*(ye+(ye=a)),we(ge,me,ye)}function _e(){be.point=xe}function Se(){be.point=Ae}function Ee(){Ce(pe,ve),be.point=xe}function Ae(e,t){pe=e,ve=t,e*=j.q,t*=j.q,be.point=Ce;var n=Object(j.g)(t);ge=n*Object(j.g)(e),me=n*Object(j.s)(e),ye=Object(j.s)(t),we(ge,me,ye)}function Ce(e,t){e*=j.q,t*=j.q;var n=Object(j.g)(t),r=n*Object(j.g)(e),i=n*Object(j.s)(e),a=Object(j.s)(t),o=me*a-ye*i,u=ye*r-ge*a,c=ge*i-me*r,s=Object(j.t)(o*o+u*u+c*c),l=Object(j.c)(s),f=s&&-l/s;fe+=f*o,de+=f*u,he+=f*c,ie+=l,ce+=l*(ge+(ge=r)),se+=l*(me+(me=i)),le+=l*(ye+(ye=a)),we(ge,me,ye)}function De(e,t){return function(n,r,i){if(n){var a=m(n,(i||this).context);return a&&a.path[e](r)}return t(r)}}var Fe=De("area",(function(e){return A.reset(),Object(S.a)(e,C),2*A})),Te=De("bounds",(function(e){var t,n,r,i,a,o,u;if(R=B=-(P=N=1/0),q=[],Object(S.a)(e,G),n=q.length){for(q.sort(te),t=1,a=[r=q[0]];t<n;++t)ne(r,(i=q[t])[0])||ne(r,i[1])?(ee(r[0],i[1])>ee(r[0],r[1])&&(r[1]=i[1]),ee(i[0],r[1])>ee(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(u=ee(r[1],i[0]))>o&&(o=u,P=i[0],B=r[1])}return q=$=null,P===1/0||N===1/0?[[NaN,NaN],[NaN,NaN]]:[[P,N],[B,R]]})),Me=De("centroid",(function(e){re=ie=ae=oe=ue=ce=se=le=fe=de=he=0,Object(S.a)(e,be);var t=fe,n=de,r=he,i=t*t+n*n+r*r;return i<j.j&&(t=ce,n=se,r=le,ie<j.i&&(t=ae,n=oe,r=ue),(i=t*t+n*n+r*r)<j.j)?[NaN,NaN]:[Object(j.e)(n,t)*j.h,Object(j.c)(r/Object(j.t)(i))*j.h]}));function Pe(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}var Ne=n(43);function Be(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Re(e){var t=Object(Ne.g)(e);return.2126*Be(t.r)+.7152*Be(t.g)+.0722*Be(t.b)}var ze=n(3);function Le(e,t){return e===t||e!==e&&t!==t||(Object(r.A)(e)?!(!Object(r.A)(t)||e.length!==t.length)&&function(e,t){for(var n=0,r=e.length;n<r;++n)if(!Le(e[n],t[n]))return!1;return!0}(e,t):!(!Object(r.F)(e)||!Object(r.F)(t))&&Ie(e,t))}function Ie(e,t){for(var n in e)if(!Le(e[n],t[n]))return!1;return!0}function Ue(e){return function(t){return Ie(e,t)}}var qe=n(12);var $e=n(18);var He=function(e){return e.data};function We(e,t){var n=i.call(t,e);return n.root&&n.root.lookup||{}}var Ge=function(){return"undefined"!==typeof window&&window||null};function Ke(e,t){for(var n,i,a=t.fields,o=t.values,u=a.length,c=0;c<u;++c)if((i=a[c]).getter=r.t.getter||Object(r.t)(i.field),n=i.getter(e),Object(r.C)(n)&&(n=Object(r.cb)(n)),Object(r.C)(o[c])&&(o[c]=Object(r.cb)(o[c])),Object(r.C)(o[c][0])&&(o[c]=o[c].map(r.cb)),"E"===i.type){if(Object(r.A)(o[c])?o[c].indexOf(n)<0:n!==o[c])return!1}else if("R"===i.type){if(!Object(r.z)(n,o[c]))return!1}else if("R-RE"===i.type){if(!Object(r.z)(n,o[c],!0,!1))return!1}else if("R-E"===i.type){if(!Object(r.z)(n,o[c],!1,!1))return!1}else if("R-LE"===i.type&&!Object(r.z)(n,o[c],!1,!0))return!1;return!0}var Ve=n(5);var Ye={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(r.cb)(t[0]),i=Object(r.cb)(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<i&&(e[1]=i),e):[n,i]},R_intersect:function(e,t){var n=Object(r.cb)(t[0]),i=Object(r.cb)(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?i<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>i&&(e[1]=i),e):[n,i]}};function Je(e,t,n,i){t[0].type!==h.b&&Object(r.n)("First argument to selection functions must be a string literal.");var a=t[0].value,o=":"+a;"intersect"!==(t.length>=2&&Object(r.U)(t).value)||Object(r.v)(i,"@unit")||(i["@unit"]=n.getData(a).indataRef(n,"unit")),Object(r.v)(i,o)||(i[o]=n.getData(a).tuplesRef())}var Xe=n(17),Ze=n(21),Qe=n(608),et=n(610),tt=n(14);var nt={random:function(){return Object(Xe.p)()},cumulativeNormal:Xe.e,cumulativeLogNormal:Xe.d,cumulativeUniform:Xe.f,densityNormal:Xe.h,densityLogNormal:Xe.g,densityUniform:Xe.i,quantileNormal:Xe.l,quantileLogNormal:Xe.k,quantileUniform:Xe.m,sampleNormal:Xe.G,sampleLogNormal:Xe.F,sampleUniform:Xe.H,isArray:r.A,isBoolean:r.B,isDate:r.C,isDefined:function(e){return void 0!==e},isNumber:r.E,isObject:r.F,isRegExp:r.G,isString:r.H,isTuple:ze.n,isValid:function(e){return null!=e&&e===e},toBoolean:r.ab,toDate:r.bb,toNumber:r.cb,toString:r.eb,flush:r.u,lerp:r.J,merge:function(){var e=[].slice.call(arguments);return e.unshift({}),r.o.apply(null,e)},pad:r.P,peek:r.U,span:r.X,inrange:r.z,truncate:r.fb,rgb:Ne.g,lab:et.a,hcl:et.b,hsl:Ne.f,luminance:Re,contrast:function(e,t){var n=Re(e),r=Re(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},sequence:Qe.a,format:o,utcFormat:c,utcParse:l,utcOffset:Ze.w,utcSequence:Ze.x,timeFormat:u,timeParse:s,timeOffset:Ze.q,timeSequence:Ze.r,timeUnitSpecifier:Ze.s,monthFormat:function(e){return d.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return d.call(this,e,1,"%b")},dayFormat:function(e){return d.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return d.call(this,0,2+e,"%a")},quarter:r.V,utcquarter:r.hb,week:Ze.A,utcweek:Ze.z,dayofyear:Ze.m,utcdayofyear:Ze.y,warn:function(){return Pe(this.context.dataflow,"warn",arguments)},info:function(){return Pe(this.context.dataflow,"info",arguments)},debug:function(){return Pe(this.context.dataflow,"debug",arguments)},extent:r.p,inScope:function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];var i=Object(tt.a)(e,2),a=i[0],o=i[1],u=(new $e.a).set(a[0],a[1],o[0],o[1]),c=n||this.context.dataflow.scenegraph().root;return Object($e.C)(c,u,function(e){var t=null;if(e){var n=Object(r.i)(e.marktype),i=Object(r.i)(e.markname);t=function(e){return(!n.length||n.some((function(t){return e.marktype===t})))&&(!i.length||i.some((function(t){return e.name===t})))}}return t}(t))},clampRange:r.j,pinchDistance:function(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)},pinchAngle:function(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){var e=Ge();return e?e.screen:{}},containerSize:function(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){var e=Ge();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return Object(qe.s)(e||0,t||0,n||0)},setdata:function(e,t){var n=this.context.dataflow,i=this.context.data[e].input;return n.pulse(i,n.changeset().remove(r.gb).insert(t)),1},pathShape:function(e){var t=null;return function(n){return n?Object($e.O)(n,t=t||Object($e.M)(e)):e}},panLinear:r.Q,panLog:r.R,panPow:r.S,panSymlog:r.T,zoomLinear:r.lb,zoomLog:r.mb,zoomPow:r.nb,zoomSymlog:r.ob,encode:function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,i,a,o){var u,c,s=this.context.dataflow,l=this.context.data[e],f=l.input,d=l.changes,h=s.stamp();if(!1===s._trigger||!(f.value.length||t||i))return 0;if((!d||d.stamp<h)&&(l.changes=d=s.changeset(),d.stamp=h,s.runAfter((function(){l.modified=!0,s.pulse(f,d).run()}),!0,1)),n&&(u=!0===n?r.gb:Object(r.A)(n)||Object(ze.n)(n)?n:Ue(n),d.remove(u)),t&&d.insert(t),i&&(u=Ue(i),f.value.some(u)?d.remove(u):d.insert(i)),a)for(c in o)d.modify(a,c,o[c]);return 1}},rt=["view","item","group","xy","x","y"],it={};function at(e,t,n){return 1===arguments.length?nt[e]:(nt[e]=t,n&&(it[e]=n),ut&&(ut.functions[e]="this."+e),this)}at("bandwidth",(function(e,t){var n=m(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),v),at("copy",(function(e,t){var n=m(e,(t||this).context);return n?n.copy():void 0}),v),at("domain",(function(e,t){var n=m(e,(t||this).context);return n?n.domain():[]}),v),at("range",(function(e,t){var n=m(e,(t||this).context);return n&&n.range?n.range():[]}),v),at("invert",(function(e,t,n){var i=m(e,(n||this).context);return i?Object(r.A)(t)?(i.invertRange||i.invert)(t):(i.invert||i.invertExtent)(t):void 0}),v),at("scale",(function(e,t,n){var r=m(e,(n||this).context);return r?r(t):void 0}),v),at("gradient",(function(e,t,n,i,a){e=m(e,(a||this).context);var o=Object($e.d)(t,n),u=e.domain(),c=u[0],s=Object(r.U)(u),l=r.x;return s-c?l=Object(qe.J)(e,c,s):e=(e.interpolator?Object(qe.I)("sequential")().interpolator(e.interpolator()):Object(qe.I)("linear")().interpolate(e.interpolate()).range(e.range())).domain([c=0,s=1]),e.ticks&&(c!==(u=e.ticks(+i||15))[0]&&u.unshift(c),s!==Object(r.U)(u)&&u.push(s)),u.forEach((function(t){return o.stop(l(t),e(t))})),o}),v),at("geoArea",Fe,v),at("geoBounds",Te,v),at("geoCentroid",Me,v),at("geoShape",(function(e,t,n){var r=m(e,(n||this).context);return function(e){return r?r.path.context(e)(t):""}}),v),at("indata",(function(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}),(function(e,t,n,i){t[0].type!==h.b&&Object(r.n)("First argument to indata must be a string literal."),t[1].type!==h.b&&Object(r.n)("Second argument to indata must be a string literal.");var a=t[0].value,o=t[1].value,u="@"+o;Object(r.v)(u,i)||(i[u]=n.getData(a).indataRef(n,o))})),at("data",i,p),at("treePath",(function(e,t,n){var r=We(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(He):void 0}),p),at("treeAncestors",(function(e,t){var n=We(e,this)[t];return n?n.ancestors().map(He):void 0}),p),at("vlSelectionTest",(function(e,t,n){for(var r,i,a,o,u,c=this.context.data[e],s=c?c.values.value:[],l=c?c["index:unit"]&&c["index:unit"].value:void 0,f="intersect"===n,d=s.length,h=0;h<d;++h)if(r=s[h],l&&f){if(-1===(a=(i=i||{})[o=r.unit]||0))continue;if(u=Ke(t,r),i[o]=u?-1:++a,u&&1===l.size)return!0;if(!u&&a===l.get(o).count)return!1}else if(f^(u=Ke(t,r)))return u;return d&&f}),Je),at("vlSelectionResolve",(function(e,t,n){for(var i,a,o,u,c,s,l,f,d,h,p,v=this.context.data[e],g=v?v.values.value:[],m={},y={},b={},x=g.length,w=0;w<x;++w){for(u=(i=g[w]).unit,a=i.fields,o=i.values,h=0,p=a.length;h<p;++h)c=a[h],l=(s=m[c.field]||(m[c.field]={}))[u]||(s[u]=[]),b[c.field]=f=c.type.charAt(0),d=Ye[f+"_union"],s[u]=d(l,Object(r.i)(o[h]));n&&(l=y[u]||(y[u]=[])).push(Object(r.i)(o).reduce((function(e,t,n){return e[a[n].field]=t,e}),{}))}return t=t||"union",Object.keys(m).forEach((function(e){m[e]=Object.keys(m[e]).map((function(t){return m[e][t]})).reduce((function(n,r){return void 0===n?r:Ye[b[e]+"_"+t](n,r)}))})),g=Object.keys(y),n&&g.length&&(m.vlMulti="union"===t?Object(Ve.a)({},"or",g.reduce((function(e,t){return e.push.apply(e,y[t]),e}),[])):Object(Ve.a)({},"and",g.map((function(e){return Object(Ve.a)({},"or",y[e])})))),m}),Je);var ot={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+Object(r.Z)("$"+e)+"]"},functions:function(e){var t=Object(h.e)(e);for(var n in rt.forEach((function(e){return t[e]="event.vega."+e})),nt)t[n]="this."+n;return Object(r.o)(t,function(e,t,n){t.__bandwidth=function(e){return e&&e.bandwidth?e.bandwidth():0},n._bandwidth=v,n._range=v,n._scale=v;var i=function(t){return"_["+(t.type===h.b?Object(r.Z)("%"+t.value):Object(r.Z)("%")+"+"+e(t))+"]"};return{_bandwidth:function(e){return"this.__bandwidth(".concat(i(e[0]),")")},_range:function(e){return"".concat(i(e[0]),".range()")},_scale:function(t){return"".concat(i(t[0]),"(").concat(e(t[1]),")")}}}(e,nt,it)),t},constants:h.d,visitors:it},ut=Object(h.c)(ot),ct=function(e,t){var n,i,a={};try{e=Object(r.H)(e)?e:Object(r.Z)(e)+"",n=Object(h.f)(e)}catch(o){Object(r.n)("Expression parse error: "+e)}return n.visit((function(e){if(e.type===h.a){var n=e.callee.name,r=ot.visitors[n];r&&r(n,e.arguments,t,a)}})),(i=ut(n)).globals.forEach((function(e){var n="$"+e;!Object(r.v)(a,n)&&t.getSignal(e)&&(a[n]=t.signalRef(e))})),{$expr:Object(r.o)({code:i.code},t.options.ast?{ast:n}:null),$fields:i.fields,$params:a}};n.d(t,"a",(function(){return at})),n.d(t,"b",(function(){return nt})),n.d(t,"c",(function(){return ct}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return E}));var r=n(42),i=n(1),a=n.n(i),o=(n(15),n(64)),u=n(204),c=n(56),s=n(4),l=n(205),f=n.n(l),d=(n(83),n(40)),h=(n(79),function(e){var t=Object(u.a)();return t.displayName=e,t}("Router-History")),p=function(e){var t=Object(u.a)();return t.displayName=e,t}("Router"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(h.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;a.a.Component;var g={},m=0;function y(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,c=n.sensitive,s=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=g[n]||(g[n]={});if(r[e])return r[e];var i=[],a={regexp:f()(e,i,t),keys:i};return m<1e4&&(r[e]=a,m++),a}(n,{end:a,strict:u,sensitive:s}),i=r.regexp,o=r.keys,c=i.exec(e);if(!c)return null;var l=c[0],d=c.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var b=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(p.Consumer,null,(function(t){t||Object(c.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?y(n.pathname,e.props):t.match,i=Object(s.a)({},t,{location:n,match:r}),o=e.props,u=o.children,l=o.component,f=o.render;return Array.isArray(u)&&0===u.length&&(u=null),a.a.createElement(p.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:l?a.a.createElement(l,i):f?f(i):null:"function"===typeof u?u(i):null)}))},t}(a.a.Component);function x(e){return"/"===e.charAt(0)?e:"/"+e}function w(e,t){if(!e)return t;var n=x(e);return 0!==t.pathname.indexOf(n)?t:Object(s.a)({},t,{pathname:t.pathname.substr(n.length)})}function O(e){return"string"===typeof e?e:Object(o.e)(e)}function k(e){return function(){Object(c.a)(!1)}}function j(){}a.a.Component;var _=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(p.Consumer,null,(function(t){t||Object(c.a)(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?y(i.pathname,Object(s.a)({},e.props,{path:o})):t.match}})),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.a.Component);var S=a.a.useContext;function E(){var e=S(p).match;return e?e.params:{}}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return x})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return _})),n.d(t,"f",(function(){return F}));var r=n(54);function i(){}var a=.7,o=1/a,u="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),d=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),h=new RegExp("^rgba\\("+[u,u,u,c]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,c]+"\\)$"),v=new RegExp("^hsl\\("+[c,s,s]+"\\)$"),g=new RegExp("^hsla\\("+[c,s,s,c]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?w(t):3===n?new _(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?O(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?O(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=f.exec(e))?new _(t[1],t[2],t[3],1):(t=d.exec(e))?new _(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?O(t[1],t[2],t[3],t[4]):(t=p.exec(e))?O(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?C(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?C(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?w(m[e]):"transparent"===e?new _(NaN,NaN,NaN,0):null}function w(e){return new _(e>>16&255,e>>8&255,255&e,1)}function O(e,t,n,r){return r<=0&&(e=t=n=NaN),new _(e,t,n,r)}function k(e){return e instanceof i||(e=x(e)),e?new _((e=e.rgb()).r,e.g,e.b,e.opacity):new _}function j(e,t,n,r){return 1===arguments.length?k(e):new _(e,t,n,null==r?1:r)}function _(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function S(){return"#"+A(this.r)+A(this.g)+A(this.b)}function E(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function A(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function C(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new T(e,t,n,r)}function D(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=x(e)),!e)return new T;if(e instanceof T)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),u=NaN,c=o-a,s=(o+a)/2;return c?(u=t===o?(n-r)/c+6*(n<r):n===o?(r-t)/c+2:(t-n)/c+4,c/=s<.5?o+a:2-o-a,u*=60):c=s>0&&s<1?0:u,new T(u,c,s,e.opacity)}function F(e,t,n,r){return 1===arguments.length?D(e):new T(e,t,n,null==r?1:r)}function T(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function M(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Object(r.a)(i,x,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return D(this).formatHsl()},formatRgb:b,toString:b}),Object(r.a)(_,j,Object(r.b)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new _(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new _(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:E,toString:E})),Object(r.a)(T,F,Object(r.b)(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new T(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _(M(e>=240?e-240:e+120,i,r),M(e,i,r),M(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},function(e,t,n){"use strict";var r,i,a,o,u;function c(e){this.type=e}c.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1};(r={})[1]="Boolean",r[2]="<end>",r[3]="Identifier",r[4]="Keyword",r[5]="Null",r[6]="Numeric",r[7]="Punctuator",r[8]="String",r[9]="RegularExpression";var s="ILLEGAL",l=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),f=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function d(e,t){if(!e)throw new Error("ASSERT: "+t)}function h(e){return e>=48&&e<=57}function p(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function v(e){return"01234567".indexOf(e)>=0}function g(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function m(e){return 10===e||13===e||8232===e||8233===e}function y(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&l.test(String.fromCharCode(e))}function b(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&f.test(String.fromCharCode(e))}var x={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function w(){for(var e;a<o&&(g(e=i.charCodeAt(a))||m(e));)++a}function O(e){var t,n,r,u=0;for(n="u"===e?4:2,t=0;t<n;++t)a<o&&p(i[a])?(r=i[a++],u=16*u+"0123456789abcdef".indexOf(r.toLowerCase())):z({},"Unexpected token %0",s);return String.fromCharCode(u)}function k(){var e,t,n,r;for(t=0,"}"===(e=i[a])&&z({},"Unexpected token %0",s);a<o&&p(e=i[a++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&z({},"Unexpected token %0",s),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function j(){var e,t;for(e=i.charCodeAt(a++),t=String.fromCharCode(e),92===e&&(117!==i.charCodeAt(a)&&z({},"Unexpected token %0",s),++a,(e=O("u"))&&"\\"!==e&&y(e.charCodeAt(0))||z({},"Unexpected token %0",s),t=e);a<o&&b(e=i.charCodeAt(a));)++a,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==i.charCodeAt(a)&&z({},"Unexpected token %0",s),++a,(e=O("u"))&&"\\"!==e&&b(e.charCodeAt(0))||z({},"Unexpected token %0",s),t+=e);return t}function _(){var e,t;return e=a,{type:1===(t=92===i.charCodeAt(a)?j():function(){var e,t;for(e=a++;a<o;){if(92===(t=i.charCodeAt(a)))return a=e,j();if(!b(t))break;++a}return i.slice(e,a)}()).length?3:x.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:a}}function S(){var e,t,n,r,o=a,u=i.charCodeAt(a),c=i[a];switch(u){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++a,{type:7,value:String.fromCharCode(u),start:o,end:a};default:if(61===(e=i.charCodeAt(a+1)))switch(u){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return a+=2,{type:7,value:String.fromCharCode(u)+String.fromCharCode(e),start:o,end:a};case 33:case 61:return a+=2,61===i.charCodeAt(a)&&++a,{type:7,value:i.slice(o,a),start:o,end:a}}}return">>>="===(r=i.substr(a,4))?{type:7,value:r,start:o,end:a+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:o,end:a+=3}:c===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(c)>=0||"=>"===t?{type:7,value:t,start:o,end:a+=2}:"<>=!+-*%&|^/".indexOf(c)>=0?{type:7,value:c,start:o,end:++a}:void z({},"Unexpected token %0",s)}function E(){var e,t,n;if(d(h((n=i[a]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=a,e="","."!==n){if(e=i[a++],n=i[a],"0"===e){if("x"===n||"X"===n)return++a,function(e){for(var t="";a<o&&p(i[a]);)t+=i[a++];return 0===t.length&&z({},"Unexpected token %0",s),y(i.charCodeAt(a))&&z({},"Unexpected token %0",s),{type:6,value:parseInt("0x"+t,16),start:e,end:a}}(t);if(v(n))return function(e){for(var t="0"+i[a++];a<o&&v(i[a]);)t+=i[a++];return(y(i.charCodeAt(a))||h(i.charCodeAt(a)))&&z({},"Unexpected token %0",s),{type:6,value:parseInt(t,8),octal:!0,start:e,end:a}}(t);n&&h(n.charCodeAt(0))&&z({},"Unexpected token %0",s)}for(;h(i.charCodeAt(a));)e+=i[a++];n=i[a]}if("."===n){for(e+=i[a++];h(i.charCodeAt(a));)e+=i[a++];n=i[a]}if("e"===n||"E"===n)if(e+=i[a++],"+"!==(n=i[a])&&"-"!==n||(e+=i[a++]),h(i.charCodeAt(a)))for(;h(i.charCodeAt(a));)e+=i[a++];else z({},"Unexpected token %0",s);return y(i.charCodeAt(a))&&z({},"Unexpected token %0",s),{type:6,value:parseFloat(e),start:t,end:a}}function A(){var e,t,n,r;return u=null,w(),e=a,t=function(){var e,t,n,r;for(d("/"===(e=i[a]),"Regular expression literal must start with a slash"),t=i[a++],n=!1,r=!1;a<o;)if(t+=e=i[a++],"\\"===e)m((e=i[a++]).charCodeAt(0))&&z({},"Invalid regular expression: missing /"),t+=e;else if(m(e.charCodeAt(0)))z({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||z({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";a<o&&b((e=i[a]).charCodeAt(0));)++a,"\\"===e&&a<o?z({},"Unexpected token %0",s):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&z({},"Invalid regular expression",n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";z({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){z({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(i){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:a}}function C(){var e;return w(),a>=o?{type:2,start:a,end:a}:y(e=i.charCodeAt(a))?_():40===e||41===e||59===e?S():39===e||34===e?function(){var e,t,n,r,u="",c=!1;for(d("'"===(e=i[a])||'"'===e,"String literal must starts with a quote"),t=a,++a;a<o;){if((n=i[a++])===e){e="";break}if("\\"===n)if((n=i[a++])&&m(n.charCodeAt(0)))"\r"===n&&"\n"===i[a]&&++a;else switch(n){case"u":case"x":"{"===i[a]?(++a,u+=k()):u+=O(n);break;case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="\t";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;default:v(n)?(0!==(r="01234567".indexOf(n))&&(c=!0),a<o&&v(i[a])&&(c=!0,r=8*r+"01234567".indexOf(i[a++]),"0123".indexOf(n)>=0&&a<o&&v(i[a])&&(r=8*r+"01234567".indexOf(i[a++]))),u+=String.fromCharCode(r)):u+=n}else{if(m(n.charCodeAt(0)))break;u+=n}}return""!==e&&z({},"Unexpected token %0",s),{type:8,value:u,octal:c,start:t,end:a}}():46===e?h(i.charCodeAt(a+1))?E():S():h(e)?E():S()}function D(){var e;return a=(e=u).end,u=C(),a=e.end,e}function F(){var e;e=a,u=C(),a=e}function T(e,t,n){var r=new c("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function M(e,t){var n=new c("CallExpression");return n.callee=e,n.arguments=t,n}function P(e){var t=new c("Identifier");return t.name=e,t}function N(e){var t=new c("Literal");return t.value=e.value,t.raw=i.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function B(e,t,n){var r=new c("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function R(e,t,n){var r=new c("Property");return r.key=t,r.value=n,r.kind=e,r}function z(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return d(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=a,n.description=i,n}function L(e){2===e.type&&z(e,"Unexpected end of input"),6===e.type&&z(e,"Unexpected number"),8===e.type&&z(e,"Unexpected string"),3===e.type&&z(e,"Unexpected identifier"),4===e.type&&z(e,"Unexpected reserved word"),z(e,"Unexpected token %0",e.value)}function I(e){var t=D();7===t.type&&t.value===e||L(t)}function U(e){return 7===u.type&&u.value===e}function q(e){return 4===u.type&&u.value===e}function $(){var e=[];for(a=u.start,I("[");!U("]");)U(",")?(D(),e.push(null)):(e.push(te()),U("]")||I(","));return D(),function(e){var t=new c("ArrayExpression");return t.elements=e,t}(e)}function H(){var e;return a=u.start,8===(e=D()).type||6===e.type?(e.octal&&z(e,"Octal literals are not allowed in strict mode."),N(e)):P(e.value)}function W(){var e,t,n;return a=u.start,3===(e=u).type?(n=H(),I(":"),R("init",n,te())):2!==e.type&&7!==e.type?(t=H(),I(":"),R("init",t,te())):void L(e)}function G(){var e,t,n=[],r={},i=String;for(a=u.start,I("{");!U("}");)t="$"+("Identifier"===(e=W()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?z({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),U("}")||I(",");return I("}"),function(e){var t=new c("ObjectExpression");return t.properties=e,t}(n)}var K={if:1};function V(){var e,t,n;if(U("("))return function(){var e;return I("("),e=ne(),I(")"),e}();if(U("["))return $();if(U("{"))return G();if(e=u.type,a=u.start,3===e||K[u.value])n=P(D().value);else if(8===e||6===e)u.octal&&z(u,"Octal literals are not allowed in strict mode."),n=N(D());else{if(4===e)throw new Error("Disabled.");1===e?((t=D()).value="true"===t.value,n=N(t)):5===e?((t=D()).value=null,n=N(t)):U("/")||U("/=")?(n=N(A()),F()):L(D())}return n}function Y(){var e=[];if(I("("),!U(")"))for(;a<o&&(e.push(te()),!U(")"));)I(",");return I(")"),e}function J(){return I("."),function(){var e;return a=u.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=D())||L(e),P(e.value)}()}function X(){var e;return I("["),e=ne(),I("]"),e}function Z(){var e=function(){var e;for(e=V();;)if(U("."))e=B(".",e,J());else if(U("("))e=M(e,Y());else{if(!U("["))break;e=B("[",e,X())}return e}();if(7===u.type&&(U("++")||U("--")))throw new Error("Disabled.");return e}function Q(){var e,t;if(7!==u.type&&4!==u.type)t=Z();else{if(U("++")||U("--"))throw new Error("Disabled.");if(U("+")||U("-")||U("~")||U("!"))e=D(),t=Q(),t=function(e,t){var n=new c("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(q("delete")||q("void")||q("typeof"))throw new Error("Disabled.");t=Z()}}return t}function ee(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function te(){var e,t;return e=function(){var e,t,n,r,i,a,o,c,s,l;if(e=u,s=Q(),0===(i=ee(r=u)))return s;for(r.prec=i,D(),t=[e,u],a=[s,r,o=Q()];(i=ee(u))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),c=a.pop().value,s=a.pop(),t.pop(),n=T(c,s,o),a.push(n);(r=D()).prec=i,a.push(r),t.push(u),n=Q(),a.push(n)}for(n=a[l=a.length-1],t.pop();l>1;)t.pop(),n=T(a[l-1].value,a[l-2],n),l-=2;return n}(),U("?")&&(D(),t=te(),I(":"),e=function(e,t,n){var r=new c("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,te())),e}function ne(){var e=te();if(U(","))throw new Error("Disabled.");return e}var re=function(e){a=0,o=(i=e).length,u=null,F();var t=ne();if(2!==u.type)throw new Error("Unexpect token after expression.");return t},ie={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},ae=n(0),oe=function(e){function t(t,n,r){return function(i){return function(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(ae.n)("Missing arguments to clamp function."),t.length>3&&Object(ae.n)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(ae.n)("Missing arguments to if function."),t.length>3&&Object(ae.n)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}};var ue=function(e){var t=(e=e||{}).whitelist?Object(ae.db)(e.whitelist):{},n=e.blacklist?Object(ae.db)(e.blacklist):{},r=e.constants||ie,i=(e.functions||oe)(f),a=e.globalvar,o=e.fieldvar,u={},c={},s=0,l=Object(ae.D)(a)?a:function(e){return a+'["'+e+'"]'};function f(e){if(Object(ae.H)(e))return e;var t=d[e.type];return null==t&&Object(ae.n)("Unsupported type: "+e.type),t(e)}var d={Literal:function(e){return e.raw},Identifier:function(e){var i=e.name;return s>0?i:Object(ae.v)(n,i)?Object(ae.n)("Illegal identifier: "+i):Object(ae.v)(r,i)?r[i]:Object(ae.v)(t,i)?i:(u[i]=1,l(i))},MemberExpression:function(e){var t=!e.computed,n=f(e.object);t&&(s+=1);var r=f(e.property);return n===o&&(c[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(s-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(ae.n)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(ae.v)(i,t)&&i[t];return r||Object(ae.n)("Unrecognized function: "+t),Object(ae.D)(r)?r(n):r+"("+n.map(f).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(f).join(",")+"]"},BinaryExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+f(e.argument)+")"},ConditionalExpression:function(e){return"("+f(e.test)+"?"+f(e.consequent)+":"+f(e.alternate)+")"},LogicalExpression:function(e){return"("+f(e.left)+e.operator+f(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(f).join(",")+"}"},Property:function(e){s+=1;var t=f(e.key);return s-=1,t+":"+f(e.value)}};function h(e){var t={code:f(e),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},t}return h.functions=i,h.constants=r,h};n.d(t,"b",(function(){return"Literal"})),n.d(t,"a",(function(){return"CallExpression"})),n.d(t,"f",(function(){return re})),n.d(t,"c",(function(){return ue})),n.d(t,"e",(function(){return oe})),n.d(t,"d",(function(){return ie}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(148),i=n(149),a=n(151),o=n(150),u=o.MAX_LENGTH,c=o.MAX_SAFE_INTEGER,s=n(106),l=s.re,f=s.t,d=n(193).compareIdentifiers,h=function(){"use strict";function e(t,n){if(r(this,e),n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!==typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>u)throw new TypeError("version is longer than ".concat(u," characters"));a("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var i=t.trim().match(n.loose?l[f.LOOSE]:l[f.FULL]);if(!i)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>c||this.major<0)throw new TypeError("Invalid major version");if(this.minor>c||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>c||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<c)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}return i(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(a("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"===typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),d(this.major,t.major)||d(this.minor,t.minor)||d(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(a("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return d(r,i)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(a("prerelease compare",n,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return d(r,i)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}();e.exports=h},function(e,t,n){"use strict";var r=n(57),i=n(351),a=n(352),o=n(354),u=n(135),c=n(23),s=n(357),l=n(358),f=n(29),d=n(228),h=n(226),p=n(359),v=n(360),g=c.OrderedSet,m={replaceText:function(e,t,n,i,a){var o=h(e,t),u=p(o,t),c=r.create({style:i||g(),entity:a||null});return l(u,u.getSelectionAfter(),n,c)},insertText:function(e,t,n,r,i){return t.isCollapsed()||f(!1),m.replaceText(e,t,n,r,i)},moveText:function(e,t,n){var r=u(e,t),i=m.removeRange(e,t,"backward");return m.replaceWithFragment(i,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=h(e,t),a=p(i,t);return s(a,a.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,i,a,u;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),i=t.getFocusKey(),a=e.getBlockForKey(r),u=e.getBlockForKey(i);var c=t.getStartOffset(),s=t.getEndOffset(),l=a.getEntityAt(c),f=u.getEntityAt(s-1);if(r===i&&l&&l===f){var d=o(e.getEntityMap(),a,u,t,n);return p(e,d)}var v=h(e,t);return p(v,t)},splitBlock:function(e,t){var n=h(e,t),r=p(n,t);return v(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return i.add(e,t,n)},removeInlineStyle:function(e,t,n){return i.remove(e,t,n)},setBlockType:function(e,t,n){return d(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return d(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return d(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=h(e,t);return a(r,t,n)}};e.exports=m},function(e,t,n){"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(41),i=n(42),a=n(1),o=n.n(a),u=n(64),c=(n(15),n(4)),s=n(40),l=n(56),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(u.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?Object(u.c)(e,null,null,t):e},p=function(e){return e},v=o.a.forwardRef;"undefined"===typeof v&&(v=p);var g=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(s.a)(e,["innerRef","navigate","onClick"]),u=a.target,l=Object(c.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,o.a.createElement("a",l)}));var m=v((function(e,t){var n=e.component,i=void 0===n?g:n,a=e.replace,u=e.to,f=e.innerRef,m=Object(s.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=h(d(u,e.location),e.location),s=r?n.createHref(r):"",g=Object(c.a)({},m,{href:s,navigate:function(){var t=d(u,e.location);(a?n.replace:n.push)(t)}});return p!==v?g.ref=t||f:g.innerRef=f,o.a.createElement(i,g)}))})),y=function(e){return e},b=o.a.forwardRef;"undefined"===typeof b&&(b=y);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,u=void 0===a?"active":a,f=e.activeStyle,p=e.className,v=e.exact,g=e.isActive,x=e.location,w=e.sensitive,O=e.strict,k=e.style,j=e.to,_=e.innerRef,S=Object(s.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(l.a)(!1);var n=x||e.location,a=h(d(j,n),n),s=a.pathname,E=s&&s.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=E?Object(r.e)(n.pathname,{path:E,exact:v,sensitive:w,strict:O}):null,C=!!(g?g(A,n):A),D=C?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,u):p,F=C?Object(c.a)({},k,{},f):k,T=Object(c.a)({"aria-current":C&&i||null,className:D,style:F,to:a},S);return y!==b?T.ref=t||_:T.innerRef=_,o.a.createElement(m,T)}))}))},function(e,t,n){"use strict";var r,i,a=function(e,t,n){return r=t||o,i=n||c,l(e.trim()).map(f)},o="view",u=/[[\]{}]/,c={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function s(e,t,n,r,i){for(var a,o=0,u=e.length;t<u;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function l(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=s(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function f(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=s(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=l(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;if(t=t.map(f),(n=f(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,a={source:r},o=[],c=[0,0],l=0,f=0,d=e.length,h=0;if("}"===e[d-1]){if(!((h=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{c=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(h+1,d-1))}catch(v){throw"Invalid throttle specification: "+e}e=e.slice(0,h).trim(),d=e.length,h=0}if(!d)throw e;"@"===e[0]&&(l=++h);(t=s(e,h,":"))<d&&(o.push(e.substring(f,t).trim()),f=h=++t);if((h=s(e,h,"["))===d)o.push(e.substring(f,d).trim());else if(o.push(e.substring(f,h).trim()),n=[],(f=++h)===d)throw"Unmatched left bracket: "+e;for(;h<d;){if((h=s(e,h,"]"))===d)throw"Unmatched left bracket: "+e;if(n.push(e.substring(f,h).trim()),h<d-1&&"["!==e[++h])throw"Expected left bracket: "+e;f=++h}if(!(d=o.length)||u.test(o[d-1]))throw"Invalid event selector: "+e;d>1?(a.type=o[1],l?a.markname=o[0].slice(1):(p=o[0],i[p]?a.marktype=o[0]:a.source=o[0])):a.type=o[0];var p;"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=n&&(a.filter=n);c[0]&&(a.throttle=c[0]);c[1]&&(a.debounce=c[1]);return a}(e)}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}},function(e,t,n){"use strict";function r(e,t){e&&a.hasOwnProperty(e.type)&&a[e.type](e,t)}var i={Feature:function(e,t){r(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,a=n.length;++i<a;)r(n[i].geometry,t)}},a={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){o(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)o(n[r],t,0)},Polygon:function(e,t){u(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)u(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,a=n.length;++i<a;)r(n[i],t)}};function o(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function u(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)o(e[n],t,1);t.polygonEnd()}t.a=function(e,t){e&&i.hasOwnProperty(e.type)?i[e.type](e,t):r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignBlockRightButton=t.AlignBlockLeftButton=t.AlignBlockCenterButton=t.AlignBlockDefaultButton=t.CodeBlockButton=t.BlockquoteButton=t.OrderedListButton=t.UnorderedListButton=t.HeadlineThreeButton=t.HeadlineTwoButton=t.HeadlineOneButton=t.UnderlineButton=t.CodeButton=t.SubButton=t.SupButton=t.BoldButton=t.ItalicButton=t.createInlineStyleButton=t.createBlockStyleButton=void 0;var r=O(n(82)),i=O(n(94)),a=O(n(456)),o=O(n(457)),u=O(n(458)),c=O(n(459)),s=O(n(460)),l=O(n(461)),f=O(n(462)),d=O(n(463)),h=O(n(464)),p=O(n(465)),v=O(n(466)),g=O(n(467)),m=O(n(468)),y=O(n(469)),b=O(n(470)),x=O(n(471)),w=O(n(472));function O(e){return e&&e.__esModule?e:{default:e}}t.createBlockStyleButton=r.default,t.createInlineStyleButton=i.default,t.ItalicButton=a.default,t.BoldButton=o.default,t.SupButton=w.default,t.SubButton=x.default,t.CodeButton=u.default,t.UnderlineButton=c.default,t.HeadlineOneButton=s.default,t.HeadlineTwoButton=l.default,t.HeadlineThreeButton=f.default,t.UnorderedListButton=d.default,t.OrderedListButton=h.default,t.BlockquoteButton=p.default,t.CodeBlockButton=v.default,t.AlignBlockDefaultButton=g.default,t.AlignBlockCenterButton=m.default,t.AlignBlockLeftButton=y.default,t.AlignBlockRightButton=b.default},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,"b",(function(){return r})),t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";var r=n(370),i=n(372),a=n(373),o=n(374);function u(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var a=n.slice(e.length);return!!t&&(a=r?r(a):a,i.contains(a,t))}function c(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var s={isBrowser:function(e){return u(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return u(r.browserArchitecture,null,e)},isDevice:function(e){return u(r.deviceName,null,e)},isEngine:function(e){return u(r.engineName,r.engineVersion,e)},isPlatform:function(e){return u(r.platformName,r.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return u(r.platformArchitecture,null,e)}};e.exports=a(s,o)},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Invariant failed")}},function(e,t,n){"use strict";var r=n(23),i=r.Map,a=r.OrderedSet,o=r.Record,u=a(),c={style:u,entity:null},s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getStyle=function(){return this.get("style")},o.getEntity=function(){return this.get("entity")},o.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return l;var t=i({style:u,entity:null}).merge(e),n=f.get(t);if(n)return n;var a=new r(t);return f=f.set(t,a),a},r.fromJS=function(e){var t=e.style,n=e.entity;return new r({style:Array.isArray(t)?a(t):t,entity:Array.isArray(n)?a(n):n})},r}(o(c)),l=new s,f=i([[i(c),l]]);s.EMPTY=l,e.exports=s},function(e,t,n){"use strict";var r=n(57),i=n(125),a=n(23),o=a.List,u=a.Map,c=a.OrderedSet,s=a.Record,l=a.Repeat,f=c(),d={parent:null,characterList:o(),data:u(),depth:0,key:"",text:"",type:"unstyled",children:o(),prevSibling:null,nextSibling:null},h=function(e,t){return e.getStyle()===t.getStyle()},p=function(e,t){return e.getEntity()===t.getEntity()},v=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=o(l(r.EMPTY,n.length))),e},g=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return e.call(this,v(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getKey=function(){return this.get("key")},a.getType=function(){return this.get("type")},a.getText=function(){return this.get("text")},a.getCharacterList=function(){return this.get("characterList")},a.getLength=function(){return this.getText().length},a.getDepth=function(){return this.get("depth")},a.getData=function(){return this.get("data")},a.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},a.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},a.getChildKeys=function(){return this.get("children")},a.getParentKey=function(){return this.get("parent")},a.getPrevSiblingKey=function(){return this.get("prevSibling")},a.getNextSiblingKey=function(){return this.get("nextSibling")},a.findStyleRanges=function(e,t){i(this.getCharacterList(),h,e,t)},a.findEntityRanges=function(e,t){i(this.getCharacterList(),p,e,t)},r}(s(d));e.exports=g},function(e,t,n){"use strict";var r,i=function(e){var t={};return function(n){return t[n]||(t[n]=e(n))}},a=n(593),o=n(208),u=n(594),c=n(595),s=n(596),l=n(597),f=n(311);function d(e){var t=i(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat:function(e){var n,r,i=Object(o.a)(e||",");if(null==i.precision){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1}return n=t(i),r=t(".1f")(1)[1],function(e){var t,i,a=n(e),o=a.indexOf(r);if(o<0)return a;for(i=(t=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(a,o))<a.length?a.slice(t):"";--t>o;)if("0"!==a[t]){++t;break}return a.slice(0,t)+i}}return t(i)},formatSpan:function(e,r,i,l){l=Object(o.a)(null==l?",f":l);var f,d=Object(a.c)(e,r,i),h=Math.max(Math.abs(e),Math.abs(r));if(null==l.precision)switch(l.type){case"s":return isNaN(f=Object(u.a)(d,h))||(l.precision=f),n(l,h);case"":case"e":case"g":case"p":case"r":isNaN(f=Object(c.a)(d,h))||(l.precision=f-("e"===l.type));break;case"f":case"%":isNaN(f=Object(s.a)(d))||(l.precision=f-2*("%"===l.type))}return t(l)}}}function h(){return r=d({format:l.a,formatPrefix:l.b})}function p(e){return d(Object(f.a)(e))}function v(e){return arguments.length?r=p(e):r}h();var g,m=n(21),y=n(0),b=n(606),x=n(288);function w(e,t,n){n=n||{},Object(y.F)(n)||Object(y.n)("Invalid time multi-format specifier: ".concat(n));var r=t(m.i),i=t(m.f),a=t(m.d),o=t(m.a),u=t(m.k),c=t(m.g),s=t(m.h),l=t(m.l),f=e(n[m.e]||".%L"),d=e(n[m.i]||":%S"),h=e(n[m.f]||"%I:%M"),p=e(n[m.d]||"%I %p"),v=e(n[m.a]||n[m.b]||"%a %d"),g=e(n[m.k]||"%b %d"),b=e(n[m.g]||"%B"),x=e(n[m.h]||"%B"),w=e(n[m.l]||"%Y");return function(e){return(r(e)<e?f:i(e)<e?d:a(e)<e?h:o(e)<e?p:c(e)<e?u(e)<e?v:g:l(e)<e?s(e)<e?b:x:w)(e)}}function O(e){var t=i(e.format),n=i(e.utcFormat);return{timeFormat:function(e){return Object(y.H)(e)?t(e):w(t,m.p,e)},utcFormat:function(e){return Object(y.H)(e)?n(e):w(n,m.v,e)},timeParse:i(e.parse),utcParse:i(e.utcParse)}}function k(){return g=O({format:b.a,parse:b.b,utcFormat:b.c,utcParse:b.d})}function j(e){return O(Object(x.a)(e))}function _(e){return arguments.length?g=j(e):g}k();var S=function(e,t){return Object(y.o)({},e,t)};function E(e,t){var n=e?p(e):v(),r=t?j(t):_();return S(n,r)}function A(e,t){var n=arguments.length;return n&&2!==n&&Object(y.n)("defaultLocale expects either zero or two arguments."),n?S(v(e),_(t)):S(v(),_())}function C(){return h(),k(),A()}n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return A})),n.d(t,"d",(function(){return C}))},function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if("undefined"!==typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function i(){return"undefined"!==typeof Image?Image:null}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";var r=n(1),i=r.createContext({});t.a=i},function(e,t,n){"use strict";function r(){this.reset()}t.a=function(){return new r},r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(e){a(i,e,this.t),a(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new r;function a(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}},function(e,t,n){"use strict";var r=n(4);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],u=e&&i(e),c=t&&i(t),s=u||c;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,d=o.length;d>=0;d--){var h=o[d];"."===h?a(o,d):".."===h?(a(o,d),f++):f&&(a(o,d),f--)}if(!s)for(;f--;f)o.unshift("..");!s||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=u(t),i=u(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},s=n(56);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=Object(r.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function m(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function x(){try{return window.history.state||{}}catch(e){return{}}}function w(e){void 0===e&&(e={}),y||Object(s.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,u=void 0!==o&&o,c=a.getUserConfirmation,f=void 0===c?b:c,g=a.keyLength,w=void 0===g?6:g,O=e.basename?h(l(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return O&&(a=d(a,O)),v(a,r,n)}function j(){return Math.random().toString(36).substr(2,w)}var _=m();function S(e){Object(r.a)(z,e),z.length=t.length,_.notifyListeners(z.location,z.action)}function E(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(k(e.state))}function A(){D(k(x()))}var C=!1;function D(e){if(C)C=!1,S();else{_.confirmTransitionTo(e,"POP",f,(function(t){t?S({action:"POP",location:e}):function(e){var t=z.location,n=T.indexOf(t.key);-1===n&&(n=0);var r=T.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(C=!0,P(i))}(e)}))}}var F=k(x()),T=[F.key];function M(e){return O+p(e)}function P(e){t.go(e)}var N=0;function B(e){1===(N+=e)&&1===e?(window.addEventListener("popstate",E),i&&window.addEventListener("hashchange",A)):0===N&&(window.removeEventListener("popstate",E),i&&window.removeEventListener("hashchange",A))}var R=!1;var z={length:t.length,action:"POP",location:F,createHref:M,push:function(e,r){var i=v(e,r,j(),z.location);_.confirmTransitionTo(i,"PUSH",f,(function(e){if(e){var r=M(i),a=i.key,o=i.state;if(n)if(t.pushState({key:a,state:o},null,r),u)window.location.href=r;else{var c=T.indexOf(z.location.key),s=T.slice(0,c+1);s.push(i.key),T=s,S({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=v(e,r,j(),z.location);_.confirmTransitionTo(i,"REPLACE",f,(function(e){if(e){var r=M(i),a=i.key,o=i.state;if(n)if(t.replaceState({key:a,state:o},null,r),u)window.location.replace(r);else{var c=T.indexOf(z.location.key);-1!==c&&(T[c]=i.key),S({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:P,goBack:function(){P(-1)},goForward:function(){P(1)},block:function(e){void 0===e&&(e=!1);var t=_.setPrompt(e);return R||(B(1),R=!0),function(){return R&&(R=!1,B(-1)),t()}},listen:function(e){var t=_.appendListener(e);return B(1),function(){B(-1),t()}}};return z}var O={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function k(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function _(e){window.location.replace(k(window.location.href)+"#"+e)}function S(e){void 0===e&&(e={}),y||Object(s.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?b:i,o=n.hashType,u=void 0===o?"slash":o,c=e.basename?h(l(e.basename)):"",f=O[u],g=f.encodePath,x=f.decodePath;function w(){var e=x(j());return c&&(e=d(e,c)),v(e)}var S=m();function E(e){Object(r.a)(L,e),L.length=t.length,S.notifyListeners(L.location,L.action)}var A=!1,C=null;function D(){var e,t,n=j(),r=g(n);if(n!==r)_(r);else{var i=w(),o=L.location;if(!A&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===p(i))return;C=null,function(e){if(A)A=!1,E();else{S.confirmTransitionTo(e,"POP",a,(function(t){t?E({action:"POP",location:e}):function(e){var t=L.location,n=P.lastIndexOf(p(t));-1===n&&(n=0);var r=P.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(A=!0,N(i))}(e)}))}}(i)}}var F=j(),T=g(F);F!==T&&_(T);var M=w(),P=[p(M)];function N(e){t.go(e)}var B=0;function R(e){1===(B+=e)&&1===e?window.addEventListener("hashchange",D):0===B&&window.removeEventListener("hashchange",D)}var z=!1;var L={length:t.length,action:"POP",location:M,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=k(window.location.href)),n+"#"+g(c+p(e))},push:function(e,t){var n=v(e,void 0,void 0,L.location);S.confirmTransitionTo(n,"PUSH",a,(function(e){if(e){var t=p(n),r=g(c+t);if(j()!==r){C=t,function(e){window.location.hash=e}(r);var i=P.lastIndexOf(p(L.location)),a=P.slice(0,i+1);a.push(t),P=a,E({action:"PUSH",location:n})}else E()}}))},replace:function(e,t){var n=v(e,void 0,void 0,L.location);S.confirmTransitionTo(n,"REPLACE",a,(function(e){if(e){var t=p(n),r=g(c+t);j()!==r&&(C=t,_(r));var i=P.indexOf(p(L.location));-1!==i&&(P[i]=t),E({action:"REPLACE",location:n})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return z||(R(1),z=!0),function(){return z&&(z=!1,R(-1)),t()}},listen:function(e){var t=S.appendListener(e);return R(1),function(){R(-1),t()}}};return L}function E(e,t,n){return Math.min(Math.max(e,t),n)}function A(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,u=void 0===o?0:o,c=t.keyLength,s=void 0===c?6:c,l=m();function f(e){Object(r.a)(x,e),x.length=x.entries.length,l.notifyListeners(x.location,x.action)}function d(){return Math.random().toString(36).substr(2,s)}var h=E(u,0,a.length-1),g=a.map((function(e){return v(e,void 0,"string"===typeof e?d():e.key||d())})),y=p;function b(e){var t=E(x.index+e,0,x.entries.length-1),r=x.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var x={length:g.length,action:"POP",location:g[h],index:h,entries:g,createHref:y,push:function(e,t){var r=v(e,t,d(),x.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=x.index+1,n=x.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=v(e,t,d(),x.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(x.entries[x.index]=r,f({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=x.index+e;return t>=0&&t<x.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return x}},function(e,t,n){"use strict";var r={encode:function(e,t,n){return e+"-"+t+"-"+n},decode:function(e){var t=e.split("-").reverse(),n=t[0],r=t[1];return{blockKey:t.slice(2).reverse().join("-"),decoratorKey:parseInt(r,10),leafKey:parseInt(n,10)}}};e.exports=r},function(e,t,n){var r=n(46);e.exports=function(e,t,n){return new r(e,n).compare(new r(t,n))}},function(e,t,n){var r=n(148),i=n(149),a=function(){"use strict";function e(t,n){var i=this;if(r(this,e),n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof e)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new e(t.raw,n);if(t instanceof o)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(e){return i.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));this.format()}return i(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this,n=this.options.loose;e=e.trim();var r=n?l[f.HYPHENRANGELOOSE]:l[f.HYPHENRANGE];e=e.replace(r,S(this.options.includePrerelease)),u("hyphen replace",e),e=e.replace(l[f.COMPARATORTRIM],d),u("comparator trim",e,l[f.COMPARATORTRIM]),e=(e=(e=e.replace(l[f.TILDETRIM],h)).replace(l[f.CARETTRIM],p)).split(/\s+/).join(" ");var i=n?l[f.COMPARATORLOOSE]:l[f.COMPARATOR];return e.split(" ").map((function(e){return g(e,t.options)})).join(" ").split(/\s+/).map((function(e){return _(e,t.options)})).filter(this.options.loose?function(e){return!!e.match(i)}:function(){return!0}).map((function(e){return new o(e,t.options)}))}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return v(e,n)&&t.set.some((function(t){return v(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"===typeof e)try{e=new c(e,this.options)}catch(n){return!1}for(var t=0;t<this.set.length;t++)if(E(this.set[t],e,this.options))return!0;return!1}}]),e}();e.exports=a;var o=n(153),u=n(151),c=n(46),s=n(106),l=s.re,f=s.t,d=s.comparatorTrimReplace,h=s.tildeTrimReplace,p=s.caretTrimReplace,v=function(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every((function(e){return i.intersects(e,t)})),i=r.pop();return n},g=function(e,t){return u("comp",e,t),e=x(e,t),u("caret",e),e=y(e,t),u("tildes",e),e=O(e,t),u("xrange",e),e=j(e,t),u("stars",e),e},m=function(e){return!e||"x"===e.toLowerCase()||"*"===e},y=function(e,t){return e.trim().split(/\s+/).map((function(e){return b(e,t)})).join(" ")},b=function(e,t){var n=t.loose?l[f.TILDELOOSE]:l[f.TILDE];return e.replace(n,(function(t,n,r,i,a){var o;return u("tilde",e,t,n,r,i,a),m(n)?o="":m(r)?o=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):m(i)?o=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):a?(u("replaceTilde pr",a),o=">=".concat(n,".").concat(r,".").concat(i,"-").concat(a," <").concat(n,".").concat(+r+1,".0-0")):o=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),u("tilde return",o),o}))},x=function(e,t){return e.trim().split(/\s+/).map((function(e){return w(e,t)})).join(" ")},w=function(e,t){u("caret",e,t);var n=t.loose?l[f.CARETLOOSE]:l[f.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,i,a,o){var c;return u("caret",e,t,n,i,a,o),m(n)?c="":m(i)?c=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):m(a)?c="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):o?(u("replaceCaret pr",o),c="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(o," <").concat(+n+1,".0.0-0")):(u("no pr"),c="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a," <").concat(+n+1,".0.0-0")),u("caret return",c),c}))},O=function(e,t){return u("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return k(e,t)})).join(" ")},k=function(e,t){e=e.trim();var n=t.loose?l[f.XRANGELOOSE]:l[f.XRANGE];return e.replace(n,(function(n,r,i,a,o,c){u("xRange",e,n,r,i,a,o,c);var s=m(i),l=s||m(a),f=l||m(o),d=f;return"="===r&&d&&(r=""),c=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(l&&(a=0),o=0,">"===r?(r=">=",l?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):"<="===r&&(r="<",l?i=+i+1:a=+a+1),"<"===r&&(c="-0"),n="".concat(r+i,".").concat(a,".").concat(o).concat(c)):l?n=">=".concat(i,".0.0").concat(c," <").concat(+i+1,".0.0-0"):f&&(n=">=".concat(i,".").concat(a,".0").concat(c," <").concat(i,".").concat(+a+1,".0-0")),u("xRange return",n),n}))},j=function(e,t){return u("replaceStars",e,t),e.trim().replace(l[f.STAR],"")},_=function(e,t){return u("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?f.GTE0PRE:f.GTE0],"")},S=function(e){return function(t,n,r,i,a,o,u,c,s,l,f,d,h){return n=m(r)?"":m(i)?">=".concat(r,".0.0").concat(e?"-0":""):m(a)?">=".concat(r,".").concat(i,".0").concat(e?"-0":""):o?">=".concat(n):">=".concat(n).concat(e?"-0":""),c=m(s)?"":m(l)?"<".concat(+s+1,".0.0-0"):m(f)?"<".concat(s,".").concat(+l+1,".0-0"):d?"<=".concat(s,".").concat(l,".").concat(f,"-").concat(d):e?"<".concat(s,".").concat(l,".").concat(+f+1,"-0"):"<=".concat(c),"".concat(n," ").concat(c).trim()}},E=function(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var i=0;i<e.length;i++)if(u(e[i].semver),e[i].semver!==o.ANY&&e[i].semver.prerelease.length>0){var a=e[i].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}},function(e,t,n){"use strict";var r=n(11),i=n.n(r),a=n(24),o=n(0),u=/^([A-Za-z]+:)?\/\//,c=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,s=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;function l(e,t){return f.apply(this,arguments)}function f(){return(f=Object(a.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sanitize(t,n);case 2:return r=e.sent,a=r.href,e.abrupt("return",r.localFile?this.file(a):this.http(a,n));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(i.a.mark((function e(t,n){var r,a,l,f,d,h,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(o.o)({},this.options,n),r=this.fileAccess,a={href:null},h=c.test(t.replace(s,"")),null!=t&&"string"===typeof t&&h||Object(o.n)("Sanitize failure, invalid URI: "+Object(o.Z)(t)),p=u.test(t),(d=n.baseURL)&&!p&&(t.startsWith("/")||"/"===d[d.length-1]||(t="/"+t),t=d+t),f=(l=t.startsWith("file://"))||"file"===n.mode||"http"!==n.mode&&!p&&r,l?t=t.slice("file://".length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),f=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(a,"localFile",{value:!!f}),a.href=t,n.target&&(a.target=n.target+""),n.rel&&(a.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin+""),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function p(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:v}function v(){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(o.n)("No file system access.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return e?function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,u,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(o.o)({},this.options.http,r),u=r&&r.response,t.next=4,e(n,a);case 4:return c=t.sent,t.abrupt("return",c.ok?Object(o.D)(c[u])?c[u]():c.text():Object(o.n)(c.status+""+c.statusText));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}():y}function y(){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(o.n)("No HTTP fetch method available.");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x={boolean:o.ab,integer:o.cb,number:o.cb,date:o.bb,string:o.eb,unknown:o.x},w=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return _(e)&&Number.isInteger(+e)},_,function(e){return!Number.isNaN(Date.parse(e))}],O=["boolean","integer","number","date"];function k(e,t){if(!e||!e.length)return"unknown";for(var n,r,i,a=e.length,o=w.length,u=w.map((function(e,t){return t+1})),c=0,s=0;c<a;++c)for(r=t?e[c][t]:e[c],n=0;n<o;++n)if(u[n]&&(null!=(i=r)&&i===i)&&!w[n](r)&&(u[n]=0,++s===w.length))return"string";return O[u.reduce((function(e,t){return 0===e?t:e}),0)-1]}function j(e,t){return t.reduce((function(t,n){return t[n]=k(e,n),t}),{})}function _(e){return!Number.isNaN(+e)&&!(e instanceof Date)}var S={},E={};function A(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function C(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function D(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function F(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+D(-t,6):t>9999?"+"+D(t,6):D(t,4))+"-"+D(e.getUTCMonth()+1,2)+"-"+D(e.getUTCDate(),2)+(a?"T"+D(n,2)+":"+D(r,2)+":"+D(i,2)+"."+D(a,3)+"Z":i?"T"+D(n,2)+":"+D(r,2)+":"+D(i,2)+"Z":r||n?"T"+D(n,2)+":"+D(r,2)+"Z":"")}var T=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,u=0,c=a<=0,s=!1;function l(){if(c)return E;if(s)return s=!1,S;var t,r,i=o;if(34===e.charCodeAt(i)){for(;o++<a&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=a?c=!0:10===(r=e.charCodeAt(o++))?s=!0:13===r&&(s=!0,10===e.charCodeAt(o)&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=e.charCodeAt(t=o++)))s=!0;else if(13===r)s=!0,10===e.charCodeAt(o)&&++o;else if(r!==n)continue;return e.slice(i,t)}return c=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=l())!==E;){for(var f=[];r!==S&&r!==E;)f.push(r),r=l();t&&null==(f=t(f,u++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?F(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=A(e);return function(r,i){return t(n(r),i,e)}}(e,t):A(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=C(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=C(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}};function M(e){var t=function(t,n){var r={delimiter:e};return P(t,n?Object(o.o)(n,r):r)};return t.responseType="text",t}function P(e,t){return t.header&&(e=t.header.map(o.Z).join(t.delimiter)+"\n"+e),T(t.delimiter).parse(e+"")}P.responseType="text";var N=n(176),B=function(e){return e},R=function(e){if(null==e)return B;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(e,u){u||(t=n=0);var c=2,s=e.length,l=new Array(s);for(l[0]=(t+=e[0])*r+a,l[1]=(n+=e[1])*i+o;c<s;)l[c]=e[c],++c;return l}},z=function(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return L(e,t)}))}:L(e,t)};function L(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,a=I(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function I(e,t){var n=R(e.transform),r=e.arcs;function i(e,t){t.length&&t.pop();for(var i=r[e<0?~e:e],a=0,o=i.length;a<o;++a)t.push(n(i[a],a));e<0&&function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}(t,o)}function a(e){return n(e)}function o(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function u(e){for(var t=o(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(u)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=o(t.arcs);break;case"MultiLineString":n=t.arcs.map(o);break;case"Polygon":n=c(t.arcs);break;case"MultiPolygon":n=t.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(t)}var U=function(e,t){var n={},r={},i={},a=[],o=-1;function u(e,t){for(var r in e){var i=e[r];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){n[e<0?~e:e]=1})),a.push(i)}}return t.forEach((function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++o],t[o]=n,t[r]=i)})),t.forEach((function(t){var n,a,o=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1];return t<0?[n,i]:[i,n]}(t),u=o[0],c=o[1];if(n=i[u])if(delete i[n.end],n.push(t),n.end=c,a=r[c]){delete r[a.start];var s=a===n?n:n.concat(a);r[s.start=n.start]=i[s.end=a.end]=s}else r[n.start]=i[n.end]=n;else if(n=r[c])if(delete r[n.start],n.unshift(t),n.start=u,a=i[u]){delete i[a.end];var l=a===n?n:a.concat(n);r[l.start=a.start]=i[l.end=n.end]=l}else r[n.start]=i[n.end]=n;else r[(n=[t]).start=u]=i[n.end=c]=n})),u(i,r),u(r,i),t.forEach((function(e){n[e<0?~e:e]||a.push([e])})),a},q=function(e){return I(e,$.apply(this,arguments))};function $(e,t,n){var r,i,a;if(arguments.length>1)r=H(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:U(e,r)}}function H(e,t,n){var r,i=[],a=[];function o(e){var t=e<0?~e:e;(a[t]||(a[t]=[])).push({i:e,g:r})}function u(e){e.forEach(o)}function c(e){e.forEach(u)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":c(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(c)}(t.arcs)}}(t),a.forEach(null==n?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)}),i}var W={interior:function(e,t){return e!==t},exterior:function(e,t){return e===t}};function G(e,t){var n,r,i,a;return e=Object(N.a)(e,t),t&&t.feature?(n=z,i=t.feature):t&&t.mesh?(n=q,i=t.mesh,a=W[t.filter]):Object(o.n)("Missing TopoJSON feature or mesh parameter."),(r=(r=e.objects[i])?n(e,r,a):Object(o.n)("Invalid TopoJSON object: "+i))&&r.features||[r]}G.responseType="json";var K={dsv:P,csv:M(","),tsv:M("\t"),json:N.a,topojson:G};function V(e,t){return arguments.length>1?(K[e]=t,this):Object(o.v)(K,e)?K[e]:null}function Y(e){var t=V(e);return t&&t.responseType||"text"}var J=n(59),X=function(e,t,n,r){var i=V((t=t||{}).type||"json");return i||Object(o.n)("Unknown data format type: "+t.type),e=i(e,t),t.parse&&function(e,t,n,r){if(!e.length)return;var i=Object(J.e)();n=n||i.timeParse,r=r||i.utcParse;var a,o,u,c,s,l,f,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=j(e,d));for(d=Object.keys(t),a=d.map((function(e){var i,a,o=t[e];if(o&&(o.startsWith("date:")||o.startsWith("utc:")))return("'"===(a=(i=o.split(/:(.+)?/,2))[1])[0]&&"'"===a[a.length-1]||'"'===a[0]&&'"'===a[a.length-1])&&(a=a.slice(1,-1)),("utc"===i[0]?r:n)(a);if(!x[o])throw Error("Illegal format pattern: "+e+":"+o);return x[o]})),c=0,l=e.length,f=d.length;c<l;++c)for(o=e[c],s=0;s<f;++s)u=d[s],o[u]=a[s](o[u])}(e,t.parse,n,r),Object(o.v)(e,"columns")&&delete e.columns,e};n.d(t,"e",(function(){return Z})),n.d(t,"f",(function(){return X})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return j})),n.d(t,"h",(function(){return x})),n.d(t,"a",(function(){return K})),n.d(t,"b",(function(){return V})),n.d(t,"g",(function(){return Y}));var Z=function(e,t){return function(n){return{options:n||{},sanitize:d,load:l,fileAccess:!!t,file:p(t),http:m(e)}}}("undefined"!==typeof fetch&&fetch,null)},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={},i=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*i).toString(32);return r[e]=!0,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(97);function a(){return r.useContext(i.a)}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(99);t.a=function(e){return(e=Object(r.a)(Math.abs(e)))?e[1]:NaN}},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,u,c=o(e),s=1;s<arguments.length;s++){for(var l in n=Object(arguments[s]))i.call(n,l)&&(c[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)a.call(n,u[f])&&(c[u[f]]=n[u[f]])}}return c}},function(e,t,n){"use strict";t.a=function(e,t){}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(83),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function c(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var s=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=c(t),v=c(n),g=0;g<o.length;++g){var m=o[g];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var y=d(n,m);try{s(t,m,y)}catch(b){}}}}return t}},,function(e,t,n){"use strict";e.exports=function(e){return!("undefined"===typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=c(i),o=n(22),u=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){var t=e.blockType,n=e.children;return function(e){function i(){var e,n,r;s(this,i);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=l(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(u))),r.toggleStyle=function(e){e.preventDefault(),r.props.setEditorState(o.RichUtils.toggleBlockType(r.props.getEditorState(),t))},r.preventBubblingUp=function(e){e.preventDefault()},r.blockTypeIsActive=function(){if(!r.props.getEditorState)return!1;var e=r.props.getEditorState();return e.getCurrentContent().getBlockForKey(e.getSelection().getStartKey()).getType()===t},l(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,e),r(i,[{key:"render",value:function(){var e=this.props.theme,t=this.blockTypeIsActive()?(0,u.default)(e.button,e.active):e.button;return a.default.createElement("div",{className:e.buttonWrapper,onMouseDown:this.preventBubblingUp},a.default.createElement("button",{className:t,onClick:this.toggleStyle,type:"button",children:n}))}}]),i}(i.Component)}},function(e,t,n){"use strict";e.exports=n(345)},function(e,t,n){"use strict";var r=n(0),i=function(e){return Object(r.F)(e)?e:{type:e||"pad"}},a=function(e){return+e||0},o=function(e){return Object(r.F)(e)?e.signal?e:{top:a(e.top),bottom:a(e.bottom),left:a(e.left),right:a(e.right)}:{top:t=a(e),bottom:t,left:t,right:t};var t},u=function(e){return Object(r.F)(e)&&!Object(r.A)(e)?Object(r.o)({},e):{value:e}};function c(e,t,n,i){return null!=n?(Object(r.F)(n)&&!Object(r.A)(n)?e.update[t]=n:e[i||"enter"][t]={value:n},1):0}function s(e,t,n){for(var r in t)c(e,r,t[r]);for(var i in n)c(e,i,n[i],"update")}function l(e,t,n){for(var i in t)n&&Object(r.v)(n,i)||(e[i]=Object(r.o)(e[i]||{},t[i]));return e}function f(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}function d(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}var h=function(e){return Object(r.H)(e)?Object(r.Z)(e):e.signal?"(".concat(e.signal,")"):m(e)};function p(e){if(null!=e.gradient)return function(e){var t=[e.start,e.stop,e.count].map((function(e){return null==e?null:Object(r.Z)(e)}));for(;t.length&&null==Object(r.U)(t);)t.pop();return t.unshift(h(e.gradient)),"gradient(".concat(t.join(","),")")}(e);var t=e.signal?"(".concat(e.signal,")"):e.color?function(e){return e.c?v("hcl",e.h,e.c,e.l):e.h||e.s?v("hsl",e.h,e.s,e.l):e.l||e.a?v("lab",e.l,e.a,e.b):e.r||e.g||e.b?v("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?m(e.field):void 0!==e.value?Object(r.Z)(e.value):void 0;return null!=e.scale&&(t=function(e,t){var n=h(e.scale);null!=e.range?t="lerp(_range(".concat(n,"), ").concat(+e.range,")"):(void 0!==t&&(t="_scale(".concat(n,", ").concat(t,")")),e.band&&(t=(t?t+"+":"")+"_bandwidth(".concat(n,")")+(1===+e.band?"":"*"+g(e.band)),e.extra&&(t="(datum.extra ? _scale(".concat(n,", datum.extra.value) : ").concat(t,")"))),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t="pow(".concat(t,",").concat(g(e.exponent),")")),null!=e.mult&&(t+="*".concat(g(e.mult))),null!=e.offset&&(t+="+".concat(g(e.offset))),e.round&&(t="round(".concat(t,")")),t}var v=function(e,t,n,r){return"(".concat(e,"(").concat([t,n,r].map(p).join(","),")+'')")};function g(e){return Object(r.F)(e)?"("+p(e)+")":e}function m(e){return function e(t){var n,i,a;if(t.signal)n="datum",a=t.signal;else if(t.group||t.parent){for(i=Math.max(1,t.level||1),n="item";i-- >0;)n+=".mark.group";t.parent?(a=t.parent,n+=".datum"):a=t.group}else t.datum?(n="datum",a=t.datum):Object(r.n)("Invalid field reference: "+Object(r.Z)(t));t.signal||(a=Object(r.H)(a)?Object(r.Y)(a).map(r.Z).join("]["):e(a));return n+"["+a+"]"}(Object(r.F)(e)?e:{datum:e})}var y=n(39),b=function(e,t,n,i,a,o){var u={};for(var c in(o=o||{}).encoders={$encode:u},e=function(e,t,n,i,a){var o,u,c,s={},l={};for(u in u="lineBreak","text"!==t||null==a[u]||f(u,e)||d(s,u,a[u]),("legend"==n||String(n).startsWith("axis"))&&(n=null),c="frame"===n?a.group:"mark"===n?Object(r.o)({},a.mark,a[t]):null)f(u,e)||("fill"===u||"stroke"===u)&&(f("fill",e)||f("stroke",e))||d(s,u,c[u]);for(u in Object(r.i)(i).forEach((function(t){var n=a.style&&a.style[t];for(var r in n)f(r,e)||d(s,r,n[r])})),e=Object(r.o)({},e),s)(c=s[u]).signal?(o=o||{})[u]=c:l[u]=c;return e.enter=Object(r.o)(l,e.enter),o&&(e.update=Object(r.o)(o,e.update)),e}(e,t,n,i,a.config))u[c]=x(e[c],t,o,a);return o};function x(e,t,n,i){var a,o={},u={};for(var c in e)null!=e[c]&&(o[c]=w((a=e[c],Object(r.A)(a)?function(e){var t="";return e.forEach((function(e){var n=p(e);t+=e.test?"(".concat(e.test,")?").concat(n,":"):n})),":"===Object(r.U)(t)&&(t+="null"),t}(a):p(a)),i,n,u));return{$expr:{marktype:t,channels:o},$fields:Object.keys(u),$output:Object.keys(e)}}function w(e,t,n,i){var a=Object(y.c)(e,t);return a.$fields.forEach((function(e){return i[e]=1})),Object(r.o)(n,a.$params),a.$expr}var O=["value","update","init","react","bind"];function k(e,t){Object(r.n)(e+' for "outer" push: '+Object(r.Z)(t))}var j=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||k("No prior signal definition",n),O.forEach((function(t){void 0!==e[t]&&k("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}};function _(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function S(e,t,n,r){return new _(e,t,n,r)}function E(e,t){return S("operator",e,t)}function A(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function C(e,t){return t?{$field:e,$name:t}:{$field:e}}var D=C("key");function F(e,t){return{$compare:e,$order:t}}function T(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function M(e){return e&&e.signal}function P(e){if(M(e))return!0;if(Object(r.F)(e))for(var t in e)if(P(e[t]))return!0;return!1}function N(e,t){return null!=e?e:t}function B(e){return e&&e.signal||e}function R(e,t){return(e.merge?z:e.stream?L:e.type?I:Object(r.n)("Invalid stream specification: "+Object(r.Z)(e)))(e,t)}function z(e,t){var n=U({merge:e.merge.map((function(e){return R(e,t)}))},e,t);return t.addStream(n).id}function L(e,t){var n=U({stream:R(e.stream,t)},e,t);return t.addStream(n).id}function I(e,t){var n,r,i;return"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event("scope"===(i=e.source)?"view":i||"view",e.type),r=U({stream:n},e,t),1===Object.keys(r).length?n:t.addStream(r).id}function U(e,t,n){var i=t.between;return i&&(2!==i.length&&Object(r.n)('Stream "between" parameter must have 2 entries: '+Object(r.Z)(t)),e.between=[R(i[0],n),R(i[1],n)]),i=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&i.push(function(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),"scope"===t.source&&i.push("inScope(event.item)"),i.length&&(e.filter=Object(y.c)("("+i.join(")&&(")+")",n).$expr),null!=(i=t.throttle)&&(e.throttle=+i),null!=(i=t.debounce)&&(e.debounce=+i),t.consume&&(e.consume=!0),e}var q=n(50),$={code:"_.$value",ast:{type:"Identifier",value:"value"}},H=function(e,t,n){var i=e.events,a=e.update,o=e.encode,u=[],c={target:n};i||Object(r.n)("Signal update missing events specification."),Object(r.H)(i)&&(i=Object(q.a)(i,t.isSubscope()?"scope":"view")),i=Object(r.i)(i).filter((function(e){return e.signal||e.scale?(u.push(e),0):1})),u.length>1&&(u=[W(u)]),i.length&&u.push(i.length>1?{merge:i}:i[0]),null!=o&&(a&&Object(r.n)("Signal encode and update are mutually exclusive."),a="encode(item(),"+Object(r.Z)(o)+")"),c.update=Object(r.H)(a)?Object(y.c)(a,t):null!=a.expr?Object(y.c)(a.expr,t):null!=a.value?a.value:null!=a.signal?{$expr:$,$params:{$value:t.signalRef(a.signal)}}:Object(r.n)("Invalid signal update specification."),e.force&&(c.options={force:!0}),u.forEach((function(e){t.addUpdate(Object(r.o)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):R(e,t)}}(e,t),c))}))};function W(e){return{signal:"["+e.map((function(e){return e.scale?'scale("'+e.scale+'")':e.signal}))+"]"}}var G=function(e){return function(t,n,r){return S(e,n,t||void 0,r)}},K=G("aggregate"),V=G("axisticks"),Y=G("bound"),J=G("collect"),X=G("compare"),Z=G("datajoin"),Q=G("encode"),ee=G("expression"),te=(G("extent"),G("facet")),ne=G("field"),re=G("key"),ie=G("legendentries"),ae=G("load"),oe=G("mark"),ue=G("multiextent"),ce=G("multivalues"),se=G("overlap"),le=G("params"),fe=G("prefacet"),de=G("projection"),he=G("proxy"),pe=G("relay"),ve=G("render"),ge=G("scale"),me=G("sieve"),ye=G("sortitems"),be=G("viewlayout"),xe=G("values"),we=n(12),Oe=0,ke={min:"min",max:"max",count:"sum"};function je(e,t){var n,i,a=t.getScale(e.name).params;for(n in a.domain=Ae(e.domain,e,t),null!=e.range&&(a.range=function e(t,n,i){var a=t.range,o=n.config.range;if(a.signal)return n.signalRef(a.signal);if(Object(r.H)(a)){if(o&&Object(r.v)(o,a))return t=Object(r.o)({},t,{range:o[a]}),e(t,n,i);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=Object(we.y)(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(r.n)("Unrecognized scale range value: "+Object(r.Z)(a))}else{if(a.scheme)return i.scheme=Object(r.A)(a.scheme)?Se(a.scheme,n):_e(a.scheme,n),a.extent&&(i.schemeExtent=Se(a.extent,n)),void(a.count&&(i.schemeCount=_e(a.count,n)));if(a.step)return void(i.rangeStep=_e(a.step,n));if(Object(we.y)(t.type)&&!Object(r.A)(a))return Ae(a,t,n);Object(r.A)(a)||Object(r.n)("Unsupported range type: "+Object(r.Z)(a))}return a.map((function(e){return(Object(r.A)(e)?Se:_e)(e,n)}))}(e,t,a)),null!=e.interpolate&&function(e,t){t.interpolate=_e(e.type||e),null!=e.gamma&&(t.interpolateGamma=_e(e.gamma))}(e.interpolate,a),null!=e.nice&&(a.nice=(i=e.nice,Object(r.F)(i)?{interval:_e(i.interval),step:_e(i.step)}:_e(i))),null!=e.bins&&(a.bins=function(e,t){return e.signal||Object(r.A)(e)?Se(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(r.v)(a,n)||"name"===n||(a[n]=_e(e[n],t))}function _e(e,t){return Object(r.F)(e)?e.signal?t.signalRef(e.signal):Object(r.n)("Unsupported object: "+Object(r.Z)(e)):e}function Se(e,t){return e.signal?t.signalRef(e.signal):e.map((function(e){return _e(e,t)}))}function Ee(e){Object(r.n)("Can not find data set: "+Object(r.Z)(e))}function Ae(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(r.A)(e)?Ce:e.fields?Fe:De)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(r.n)("No scale domain defined for domainMin/domainMax to override.")}function Ce(e,t,n){return e.map((function(e){return _e(e,n)}))}function De(e,t,n){var r=n.getData(e.data);return r||Ee(e.data),Object(we.y)(t.type)?r.valuesRef(n,e.field,Me(e.sort,!1)):Object(we.C)(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function Fe(e,t,n){var i=e.data,a=e.fields.reduce((function(e,t){return t=Object(r.H)(t)?{data:i,field:t}:Object(r.A)(t)||t.signal?function(e,t){var n="_:vega:_"+Oe++,i=J({});if(Object(r.A)(e))i.value={$ingest:e};else if(e.signal){var a="setdata("+Object(r.Z)(n)+","+e.signal+")";i.params.input=t.signalRef(a)}return t.addDataPipeline(n,[i,me({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Object(we.y)(t.type)?Te:Object(we.C)(t.type)?Pe:Ne)(e,n,a)}function Te(e,t,n){var r,i,a,o,u,c=Me(e.sort,!0);return r=n.map((function(e){var n=t.getData(e.data);return n||Ee(e.data),n.countsRef(t,e.field,c)})),i={groupby:D,pulse:r},c&&(a=c.op||"count",u=c.field?T(a,c.field):"count",i.ops=[ke[a]],i.fields=[t.fieldRef(u)],i.as=[u]),a=t.add(K(i)),o=t.add(J({pulse:A(a)})),u=t.add(xe({field:D,sort:t.sortRef(c),pulse:A(o)})),A(u)}function Me(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!ke[e.op]&&Object(r.n)("Multiple domain scales can not be sorted using "+e.op):Object(r.n)("No field provided for sort aggregate op: "+e.op):Object(r.F)(e)?e.field="key":e={field:"key"}),e}function Pe(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||Ee(e.data),n.domainRef(t,e.field)}));return A(t.add(ce({values:r})))}function Ne(e,t,n){var r=n.map((function(e){var n=t.getData(e.data);return n||Ee(e.data),n.extentRef(t,e.field)}));return A(t.add(ue({extents:r})))}function Be(e,t,n){return Object(r.A)(e)?e.map((function(e){return Be(e,t,n)})):Object(r.F)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(r.n)("Unsupported parameter object: "+Object(r.Z)(e)):e}var Re="top",ze="value",Le=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],Ie={name:1,style:1,interactive:1},Ue={value:0},qe={value:1},$e=function(e){return e.type="group",e.interactive=e.interactive||!1,e};function He(e,t){var n=function(n,r){return N(e[n],N(t[n],r))};return n.isVertical=function(n){return"vertical"===N(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection))},n.gradientLength=function(){return N(e.gradientLength,t.gradientLength||t.gradientWidth)},n.gradientThickness=function(){return N(e.gradientThickness,t.gradientThickness||t.gradientHeight)},n.entryColumns=function(){return N(e.columns,N(t.columns,+n.isVertical(!0)))},n}function We(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function Ge(e,t,n){return"item.anchor === '".concat("start","' ? ").concat(e," : item.anchor === '").concat("end","' ? ").concat(t," : ").concat(n)}var Ke=Ge(Object(r.Z)("left"),Object(r.Z)("right"),Object(r.Z)("center"));function Ve(e,t){return t?e?Object(r.F)(e)?Object.assign({},e,{offset:Ve(e.offset,t)}):{value:e,offset:t}:t:e}var Ye=function(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=l(e.encode,t,Ie)):e.interactive=!1,e},Je=function(e,t,n,i){var a,o,c,l,f,d,h=He(e,n),p=h.isVertical(),v=h.gradientThickness(),g=h.gradientLength();return p?(c=[0,1],l=[0,0],f=v,d=g):(c=[0,0],l=[1,0],f=g,d=v),s(a={enter:o={opacity:Ue,x:Ue,y:Ue,width:u(f),height:u(d)},update:Object(r.o)({},o,{opacity:qe,fill:{gradient:t,start:c,stop:l}}),exit:{opacity:Ue}},{stroke:h("gradientStrokeColor"),strokeWidth:h("gradientStrokeWidth")},{opacity:h("gradientOpacity")}),Ye({type:"rect",role:"legend-gradient",encode:a},i)},Xe=function(e,t,n,i,a){var o,c,l,f,d,h,p=He(e,n),v=p.isVertical(),g=p.gradientThickness(),m=p.gradientLength(),y="";return v?(l="y",d="y2",f="x",h="width",y="1-"):(l="x",d="x2",f="y",h="height"),(c={opacity:Ue,fill:{scale:t,field:ze}})[l]={signal:y+"datum.perc",mult:m},c[f]=Ue,c[d]={signal:y+"datum.perc2",mult:m},c[h]=u(g),s(o={enter:c,update:Object(r.o)({},c,{opacity:qe}),exit:{opacity:Ue}},{stroke:p("gradientStrokeColor"),strokeWidth:p("gradientStrokeWidth")},{opacity:p("gradientOpacity")}),Ye({type:"rect",role:"legend-band",key:ze,from:a,encode:o},i)},Ze="datum.".concat("perc",'<=0?"').concat("left",'":datum.').concat("perc",'>=1?"').concat("right",'":"').concat("center",'"'),Qe="datum.".concat("perc",'<=0?"').concat("bottom",'":datum.').concat("perc",'>=1?"').concat(Re,'":"').concat("middle",'"'),et=function(e,t,n,r){var i,a,o,c,l,f=He(e,t),d=f.isVertical(),h=u(f.gradientThickness()),p=f.gradientLength(),v=f("labelOverlap"),g="";return s(i={enter:a={opacity:Ue},update:o={opacity:qe,text:{field:"label"}},exit:{opacity:Ue}},{fill:f("labelColor"),fillOpacity:f("labelOpacity"),font:f("labelFont"),fontSize:f("labelFontSize"),fontStyle:f("labelFontStyle"),fontWeight:f("labelFontWeight"),limit:N(e.labelLimit,t.gradientLabelLimit)}),d?(a.align={value:"left"},a.baseline=o.baseline={signal:Qe},c="y",l="x",g="1-"):(a.align=o.align={signal:Ze},a.baseline={value:"top"},c="x",l="y"),a[c]=o[c]={signal:g+"datum.perc",mult:p},a[l]=o[l]=h,h.offset=N(e.labelOffset,t.gradientLabelOffset)||0,v=v?{separation:f("labelSeparation"),method:v,order:"datum.index"}:void 0,Ye({type:"text",role:"legend-label",style:"guide-label",key:ze,from:r,encode:i,overlap:v},n)},tt=function(e,t,n,r,i){var a,o,c,f,d,h,p,v=He(e,t),g=n.entries,m=!(!g||!g.interactive),y=g?g.name:void 0,b=v("clipHeight"),x=v("symbolOffset"),w={data:"value"},O={},k="(".concat(i,") ? datum.").concat("offset"," : datum.").concat("size"),j=b?u(b):{field:"size"},_="datum.".concat("index"),S="max(1, ".concat(i,")");j.mult=.5,O={enter:a={opacity:Ue,x:{signal:k,mult:.5,offset:x},y:j},update:o={opacity:qe,x:a.x,y:a.y},exit:{opacity:Ue}};var E=null,A=null;return e.fill||(E=t.symbolBaseFillColor,A=t.symbolBaseStrokeColor),s(O,{fill:v("symbolFillColor",E),shape:v("symbolType"),size:v("symbolSize"),stroke:v("symbolStrokeColor",A),strokeDash:v("symbolDash"),strokeDashOffset:v("symbolDashOffset"),strokeWidth:v("symbolStrokeWidth")},{opacity:v("symbolOpacity")}),Le.forEach((function(t){e[t]&&(o[t]=a[t]={scale:e[t],field:ze})})),f=Ye({type:"symbol",role:"legend-symbol",key:ze,from:w,clip:!!b||void 0,encode:O},n.symbols),(c=u(x)).offset=v("labelOffset"),s(O={enter:a={opacity:Ue,x:{signal:k,offset:c},y:j},update:o={opacity:qe,text:{field:"label"},x:a.x,y:a.y},exit:{opacity:Ue}},{align:v("labelAlign"),baseline:v("labelBaseline"),fill:v("labelColor"),fillOpacity:v("labelOpacity"),font:v("labelFont"),fontSize:v("labelFontSize"),fontStyle:v("labelFontStyle"),fontWeight:v("labelFontWeight"),limit:v("labelLimit")}),d=Ye({type:"text",role:"legend-label",style:"guide-label",key:ze,from:w,encode:O},n.labels),O={enter:{noBound:{value:!b},width:Ue,height:b?u(b):Ue,opacity:Ue},exit:{opacity:Ue},update:o={opacity:qe,row:{signal:null},column:{signal:null}}},v.isVertical(!0)?(h="ceil(item.mark.items.length / ".concat(S,")"),o.row.signal="".concat(_,"%").concat(h),o.column.signal="floor(".concat(_," / ").concat(h,")"),p={field:["row",_]}):(o.row.signal="floor(".concat(_," / ").concat(S,")"),o.column.signal="".concat(_," % ").concat(S),p={field:_}),o.column.signal="(".concat(i,")?").concat(o.column.signal,":").concat(_),$e({role:"scope",from:r={facet:{data:r,name:"value",groupby:"index"}},encode:l(O,g,Ie),marks:[f,d],name:y,interactive:m,sort:p})};var nt='item.orient === "left"',rt='item.orient === "right"',it="(".concat(nt," || ").concat(rt,")"),at="datum.vgrad && ".concat(it),ot=Ge('"top"','"bottom"','"middle"'),ut=Ge('"right"','"left"','"center"'),ct="datum.vgrad && ".concat(rt," ? (").concat(ut,") : (").concat(it," && !(datum.vgrad && ").concat(nt,')) ? "left" : ').concat(Ke),st="item._anchor || (".concat(it,' ? "middle" : "start")'),lt="".concat(at," ? (").concat(nt," ? -90 : 90) : 0"),ft="".concat(it," ? (datum.vgrad ? (").concat(rt,' ? "bottom" : "top") : ').concat(ot,') : "top"'),dt=function(e,t){var n;return Object(r.F)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+ht(e.path)+")":e.sphere&&(n="geoShape("+ht(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e};function ht(e){return Object(r.F)(e)&&e.signal?e.signal:Object(r.Z)(e)}var pt=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?"group"===e.type?"scope":t||"mark":t},vt=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||pt(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}},gt=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e},mt=n(3),yt=function(e,t){var n=Object(mt.j)(e.type);n||Object(r.n)("Unrecognized transform type: "+Object(r.Z)(e.type));var i=S(n.type.toLowerCase(),null,bt(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(i)),i.metadata=n.metadata||{},i};function bt(e,t,n){var r,i,a,o={};for(i=0,a=e.params.length;i<a;++i)o[(r=e.params[i]).name]=xt(r,t,n);return o}function xt(e,t,n){var i=e.type,a=t[e.name];return"index"===i?function(e,t,n){Object(r.H)(t.from)||Object(r.n)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==a?"param"===i?function(e,t,n){var i=t[e.name];return e.array?(Object(r.A)(i)||Object(r.n)("Expected an array of sub-parameters. Instead: "+Object(r.Z)(i)),i.map((function(t){return Ot(e,t,n)}))):Ot(e,i,n)}(e,t,n):"projection"===i?n.projectionRef(t[e.name]):e.array&&!M(a)?a.map((function(t){return wt(e,t,n)})):wt(e,a,n):void(e.required&&Object(r.n)("Missing required "+Object(r.Z)(t.type)+" parameter: "+Object(r.Z)(e.name)))}function wt(e,t,n){var i=e.type;if(M(t))return kt(i)?Object(r.n)("Expression references can not be signals."):jt(i)?n.fieldRef(t):_t(i)?n.compareRef(t):n.signalRef(t.signal);var a,o=e.expr||jt(i);return o&&((a=t)&&a.expr)?n.exprRef(t.expr,t.as):o&&function(e){return e&&e.field}(t)?C(t.field,t.as):kt(i)?Object(y.c)(t,n):function(e){return"data"===e}(i)?A(n.getData(t).values):jt(i)?C(t):_t(i)?n.compareRef(t):t}function Ot(e,t,n){var i,a,o,u,c;for(u=0,c=e.params.length;u<c;++u){for(o in(a=e.params[u]).key)if(a.key[o]!==t[o]){a=null;break}if(a)break}return a||Object(r.n)("Unsupported parameter: "+Object(r.Z)(t)),i=Object(r.o)(bt(a,t,n),a.key),A(n.add(le(i)))}function kt(e){return"expr"===e}function jt(e){return"field"===e}function _t(e){return"compare"===e}function St(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:A(t.getData(e.data).output)}function Et(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Et.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],a=t[n-1],o=t[n-2],u=null;for(i&&"load"===i.type&&(i=t[1]),e.add(t[0]);r<n;++r)t[r].params.pulse=A(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(u=t[r]);return new Et(e,i,o,a,u)};var At=Et.prototype;function Ct(e){return Object(r.H)(e)?e:null}function Dt(e,t,n){var r,i=T(n.op,n.field);if(t.ops){for(var a=0,o=t.as.length;a<o;++a)if(t.as[a]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function Ft(e,t,n,i,a,o,u){var c,s,l=t[n]||(t[n]={}),f=function(e){return Object(r.F)(e)?("descending"===e.order?"-":"+")+T(e.op,e.field):""}(o),d=Ct(a);if(null!=d&&(e=t.scope,c=l[d+=f?"|"+f:""]),!c){var h=o?{field:D,pulse:t.countsRef(e,a,o)}:{field:e.fieldRef(a),pulse:A(t.output)};f&&(h.sort=e.sortRef(o)),s=e.add(S(i,void 0,h)),u&&(t.index[a]=s),c=A(s),null!=d&&(l[d]=c)}return c}At.countsRef=function(e,t,n){var r,i,a,o=this.counts||(this.counts={}),u=Ct(t);return null!=u&&(e=this.scope,r=o[u]),r?n&&n.field&&Dt(e,r.agg.params,n):(a={groupby:e.fieldRef(t,"key"),pulse:A(this.output)},n&&n.field&&Dt(e,a,n),i=e.add(K(a)),r=e.add(J({pulse:A(i)})),r={agg:i,ref:A(r)},null!=u&&(o[u]=r)),r.ref},At.tuplesRef=function(){return A(this.values)},At.extentRef=function(e,t){return Ft(e,this,"extent","extent",t,!1)},At.domainRef=function(e,t){return Ft(e,this,"domain","values",t,!1)},At.valuesRef=function(e,t,n){return Ft(e,this,"vals","values",t,n||!0)},At.lookupRef=function(e,t){return Ft(e,this,"lookup","tupleindex",t,!1)},At.indataRef=function(e,t){return Ft(e,this,"indata","tupleindex",t,!0,!0)};var Tt=function(e,t,n){var r,i,a=e.remove,o=e.insert,u=e.toggle,c=e.modify,s=e.values,l=t.add(E());r="if("+e.trigger+',modify("'+n+'",'+[o,a,u,c,s].map((function(e){return null==e?"null":e})).join(",")+"),0)",i=Object(y.c)(r,t),l.update=i.$expr,l.params=i.$params},Mt=function(e,t){var n,i,a,o,u,c,s,l,f,d,h,p,v,g,m=pt(e),y="group"===e.type,x=e.from&&e.from.facet,w=e.layout||"scope"===m||"frame"===m,O="mark"===m||w||x,k=e.overlap;a=function(e,t,n){var i,a,o,u,c;return e?(i=e.facet)&&(t||Object(r.n)("Only group marks can be faceted."),null!=i.field?u=c=St(i,n):(e.data?c=A(n.getData(e.data).aggregate):((o=yt(Object(r.o)({type:"aggregate",groupby:Object(r.i)(i.groupby)},i.aggregate),n)).params.key=n.keyRef(i.groupby),o.params.pulse=St(i,n),u=c=A(n.add(o))),a=n.keyRef(i.groupby,!0))):u=A(n.add(J(null,[{}]))),u||(u=St(e,n)),{key:a,pulse:u,parent:c}}(e.from,y,t),d=A(i=t.add(Z({key:a.key||(e.key?C(e.key):void 0),pulse:a.pulse,clean:!y}))),i=o=t.add(J({pulse:d})),i=t.add(oe({markdef:vt(e),interactive:gt(e.interactive,t),clip:dt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:A(i)})),h=A(i),(i=u=t.add(Q(b(e.encode,e.type,m,e.style,t,{mod:!1,pulse:h})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){var n=yt(e,t),a=n.metadata;(a.generates||a.changes)&&Object(r.n)("Mark transforms should not generate new data."),a.nomod||(u.params.mod=!0),n.params.pulse=A(i),t.add(i=n)})),e.sort&&(i=t.add(ye({sort:t.compareRef(e.sort),pulse:A(i)}))),p=A(i),(x||w)&&(v=A(w=t.add(be({layout:t.objectProperty(e.layout),legends:t.legends,mark:h,pulse:p})))),g=A(c=t.add(Y({mark:h,pulse:v||p}))),y&&(O&&((n=t.operators).pop(),w&&n.pop()),t.pushState(p,v||g,d),x?function(e,t,n){var i,a,o,u,c=e.from.facet,s=c.name,l=St(c,t);c.name||Object(r.n)("Facet must have a name: "+Object(r.Z)(c)),c.data||Object(r.n)("Facet must reference a data set: "+Object(r.Z)(c)),c.field?u=t.add(fe({field:t.fieldRef(c.field),pulse:l})):c.groupby?u=t.add(te({key:t.keyRef(c.groupby),group:A(t.proxy(n.parent)),pulse:l})):Object(r.n)("Facet must specify groupby or field: "+Object(r.Z)(c)),a=(i=t.fork()).add(J()),o=i.add(me({pulse:A(a)})),i.addData(s,new Et(i,a,a,o)),i.addSignal("parent",null),u.params.subflow={$subflow:i.parse(e).toRuntime()}}(e,t,a):O?function(e,t,n){var r=t.add(fe({pulse:n.pulse})),i=t.fork();i.add(me()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}(e,t,a):t.parse(e),t.popState(),O&&(w&&n.push(w),n.push(c))),k&&(g=function(e,t,n){var r,i=e.method,a=e.bound,o=e.separation,u={separation:M(o)?n.signalRef(o.signal):o,method:M(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(u.sort=n.compareRef({field:e.order}));a&&(r=a.tolerance,u.boundTolerance=M(r)?n.signalRef(r.signal):+r,u.boundScale=n.scaleRef(a.scale),u.boundOrient=a.orient);return A(n.add(se(u)))}(k,g,t)),s=t.add(ve({pulse:g})),l=t.add(me({pulse:A(s)},void 0,t.parent())),null!=e.name&&(f=e.name,t.addData(f,new Et(t,o,s,l)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(r.n)("Marks only support modify triggers."),Tt(e,t,f)})))};var Pt=function(e,t){var n,i,a,o,u,c,f,d,h=t.config.legend,p=e.encode||{},v=p.legend||{},g=v.name||void 0,m=v.interactive,b=v.style,x=He(e,h),w={},O=0;return Le.forEach((function(t){return e[t]?(w[t]=e[t],O=O||e[t]):0})),O||Object(r.n)("Missing valid scale for legend."),u=function(e,t){var n=e.type||"symbol";e.type||1!==function(e){return Le.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Object(we.x)(t)?"gradient":Object(we.z)(t)?"discrete":"symbol");return"gradient"!==n?n:Object(we.z)(t)?"discrete":"gradient"}(e,t.scaleType(O)),c={title:null!=e.title,scales:w,type:u,vgrad:"symbol"!==u&&x.isVertical()},f=A(t.add(J(null,[c]))),v=l(function(e,t,n){var r={enter:{},update:{}};return s(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}(x,e,h),v,Ie),n={enter:{x:{value:0},y:{value:0}}},d=A(t.add(ie(a={type:u,scale:t.scaleRef(O),count:t.objectProperty(x("tickCount")),limit:t.property(x("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),"gradient"===u?(o=[Je(e,O,h,p.gradient),et(e,h,p.labels,d)],a.count=a.count||t.signalRef("max(2,2*floor((".concat(B(x.gradientLength()),")/100))"))):"discrete"===u?o=[Xe(e,O,h,p.gradient,d),et(e,h,p.labels,d)]:(i=function(e,t){var n=He(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,h),o=[tt(e,h,p,d,B(i.columns))],a.size=function(e,t,n){var r=B(Nt("size",e,n)),i=B(Nt("strokeWidth",e,n)),a=B(function(e,t,n){return We("fontSize",e)||function(e,t,n){var r=t.config.style[n];return r&&r[e]}("fontSize",t,n)}(n[1].encode,t,"guide-label"));return Object(y.c)("max(ceil(sqrt(".concat(r,")+").concat(i,"),").concat(a,")"),t)}(e,t,o[0].marks)),o=[$e({role:"legend-entry",from:f,encode:n,marks:o,layout:i,interactive:m})],c.title&&o.push(function(e,t,n,r){var i,a=He(e,t);return s(i={enter:{opacity:Ue},update:{opacity:qe,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Ue}},{orient:a("titleOrient"),_anchor:a("titleAnchor"),anchor:{signal:st},angle:{signal:lt},align:{signal:ct},baseline:{signal:ft},text:e.title,fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),baseline:a("titleBaseline")}),Ye({type:"text",role:"legend-title",style:"guide-title",from:r,encode:i},n)}(e,h,p.title,f)),Mt($e({role:"legend",from:f,encode:v,marks:o,aria:x("aria"),description:x("description"),zindex:x("zindex"),name:g,interactive:m,style:b}),t)};function Nt(e,t,n){return t[e]?'scale("'.concat(t[e],'",datum)'):We(e,n[0].encode)}var Bt='item.orient==="'.concat("left",'"?-90:item.orient==="').concat("right",'"?90:0'),Rt=function(e,t){var n,i,a=He(e=Object(r.H)(e)?{text:e}:e,t.config.title),o=e.encode||{},u=o.group||{},c=u.name||void 0,l=u.interactive,f=u.style,d=[];return n={},i=A(t.add(J(null,[n]))),d.push(function(e,t,n,r){var i={value:0},a=e.text,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return s(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ye({type:"text",role:"title-text",style:"group-title",from:r,encode:o},n)}(e,a,function(e){var t=e.encode;return t&&t.title||Object(r.o)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),i)),e.subtitle&&d.push(function(e,t,n,r){var i={value:0},a=e.subtitle,o={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return s(o,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ye({type:"text",role:"title-subtitle",style:"group-subtitle",from:r,encode:o},n)}(e,a,o.subtitle,i)),Mt($e({role:"title",from:i,encode:zt(a,u),marks:d,aria:a("aria"),description:a("description"),zindex:a("zindex"),name:c,interactive:l,style:f}),t)};function zt(e,t){var n={enter:{},update:{}};return s(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:Ke},angle:{signal:Bt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),l(n,t,Ie)}function Lt(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(yt(e,t))})),e.on&&e.on.forEach((function(n){Tt(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var i,a,o,u,c,s=[],l=null,f=!1,d=!1;e.values?P(e.values)||P(e.format)?(s.push(Ut(t,e)),s.push(l=It())):s.push(l=It({$ingest:e.values,$format:e.format})):e.url?P(e.url)||P(e.format)?(s.push(Ut(t,e)),s.push(l=It())):s.push(l=It({$request:e.url,$format:e.format})):e.source&&(l=i=Object(r.i)(e.source).map((function(e){return A(t.getData(e).output)})),s.push(null));for(a=0,o=n.length;a<o;++a)u=n[a],c=u.metadata,l||c.source||s.push(l=It()),s.push(u),c.generates&&(d=!0),c.modifies&&!d&&(f=!0),c.source?l=u:c.changes&&(l=null);i&&(o=i.length-1,s[0]=pe({derive:f,pulse:o?i:i[0]}),(f||o)&&s.splice(1,0,It()));l||s.push(It());return s.push(me({})),s}(e,t,n))}function It(e){var t=J({},e);return t.metadata={source:!0},t}function Ut(e,t){return ae({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}var qt=function(e){return"bottom"===e||e===Re},$t=function(e,t,n){return M(e)?Yt(e.signal,t,n):"left"===e||e===Re?t:n},Ht=function(e,t,n){return M(e)?Kt(e.signal,t,n):qt(e)?t:n},Wt=function(e,t,n){return M(e)?Vt(e.signal,t,n):qt(e)?n:t},Gt=function(e,t,n){return M(e)?Jt(e.signal,t,n):e===Re?{value:t}:{value:n}},Kt=function(e,t,n){return Zt("".concat(e," === '").concat(Re,"' || ").concat(e," === '").concat("bottom","'"),t,n)},Vt=function(e,t,n){return Zt("".concat(e," !== '").concat(Re,"' && ").concat(e," !== '").concat("bottom","'"),t,n)},Yt=function(e,t,n){return en("".concat(e," === '").concat("left","' || ").concat(e," === '").concat(Re,"'"),t,n)},Jt=function(e,t,n){return en("".concat(e," === '").concat(Re,"'"),t,n)},Xt=function(e,t,n){return en("".concat(e," === '").concat("right","'"),t,n)},Zt=function(e,t,n){return t=null!=t?u(t):t,n=null!=n?u(n):n,Qt(t)&&Qt(n)?(t=t?t.signal||Object(r.Z)(t.value):null,n=n?n.signal||Object(r.Z)(n.value):null,{signal:"".concat(e," ? (").concat(t,") : (").concat(n,")")}):[Object(r.o)({test:e},t)].concat(n||[])},Qt=function(e){return null==e||1===Object.keys(e).length},en=function(e,t,n){return{signal:"".concat(e," ? (").concat(tn(t),") : (").concat(tn(n),")")}},tn=function(e){return M(e)?e.signal:null==e?null:Object(r.Z)(e)},nn=function(e,t){var n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function rn(e,t,n,i){var a;if(t&&Object(r.v)(t,e))return t[e];if(Object(r.v)(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":a="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":a=e[5].toLowerCase()+e.slice(6)}return i["guide-title"][a]}if(e.startsWith("label")){switch(e){case"labelColor":a="fill";break;case"labelFont":case"labelFontSize":a=e[5].toLowerCase()+e.slice(6)}return i["guide-label"][a]}return null}function an(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(u)for(var c in u)t[c]=1}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return Object.keys(t)}function on(e,t){return{scale:e.scale,range:t}}var un=function(e,t,n,i,a){var o,u,c,l,f,d,h,p,v=He(e,t),g=e.orient,m=e.gridScale,y=$t(g,1,-1),b=function(e,t){if(1===t);else if(Object(r.F)(e)){for(var n=e=Object(r.o)({},e);null!=n.mult;){if(!Object(r.F)(n.mult))return n.mult=M(t)?{signal:"(".concat(n.mult,") * (").concat(t.signal,")")}:n.mult*t,e;n=n.mult=Object(r.o)({},n.mult)}n.mult=t}else e=M(t)?{signal:"(".concat(t.signal,") * (").concat(e||0,")")}:t*(e||0);return e}(e.offset,y);return s(o={enter:u={opacity:Ue},update:l={opacity:qe},exit:c={opacity:Ue}},{stroke:v("gridColor"),strokeCap:v("gridCap"),strokeDash:v("gridDash"),strokeDashOffset:v("gridDashOffset"),strokeOpacity:v("gridOpacity"),strokeWidth:v("gridWidth")}),f={scale:e.scale,field:ze,band:a.band,extra:a.extra,offset:a.offset,round:v("tickRound")},p=Ht(g,{signal:"height"},{signal:"width"}),d=m?{scale:m,range:0,mult:y,offset:b}:{value:0,offset:b},h=m?{scale:m,range:1,mult:y,offset:b}:Object(r.o)(p,{mult:y,offset:b}),u.x=l.x=Ht(g,f,d),u.y=l.y=Wt(g,f,d),u.x2=l.x2=Wt(g,h),u.y2=l.y2=Ht(g,h),c.x=Ht(g,f),c.y=Wt(g,f),Ye({type:"rule",role:"axis-grid",key:ze,from:i,encode:o},n)};function cn(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}var sn=function(e,t,n,r,i,a){var o,c,l,f,d,h,p,v,g,m,y=He(e,t),b=e.orient,x=e.scale,w=$t(b,-1,1),O=B(y("labelFlush")),k=B(y("labelFlushOffset")),j=0===O||!!O,_=y("labelAlign"),S=y("labelBaseline");return(f=u(i)).mult=w,f.offset=u(y("labelPadding")||0),f.offset.mult=w,d={scale:x,field:ze,band:.5,offset:Ve(a.offset,y("labelOffset"))},h=Ht(b,j?cn(x,O,'"left"','"right"','"center"'):{value:"center"},function(e,t,n){return M(e)?Xt(e.signal,t,n):"right"===e?{value:t}:{value:n}}(b,"left","right")),p=Ht(b,Gt(b,"bottom","top"),j?cn(x,O,'"top"','"bottom"','"middle"'):{value:"middle"}),m=cn(x,O,"-(".concat(k,")"),k,0),j=j&&k,s(o={enter:c={opacity:Ue,x:Ht(b,d,f),y:Wt(b,d,f)},update:l={opacity:qe,text:{field:"label"},x:c.x,y:c.y,align:h,baseline:p},exit:{opacity:Ue,x:c.x,y:c.y}},{dx:!_&&j?Ht(b,m):null,dy:!S&&j?Wt(b,m):null}),s(o,{angle:y("labelAngle"),fill:y("labelColor"),fillOpacity:y("labelOpacity"),font:y("labelFont"),fontSize:y("labelFontSize"),fontWeight:y("labelFontWeight"),fontStyle:y("labelFontStyle"),limit:y("labelLimit"),lineHeight:y("labelLineHeight")},{align:_,baseline:S}),v=y("labelBound"),g=(g=y("labelOverlap"))||v?{separation:y("labelSeparation"),method:g,order:"datum.index",bound:v?{scale:x,orient:b,tolerance:v}:null}:void 0,l.align!==h&&(l.align=nn(l.align,h)),l.baseline!==p&&(l.baseline=nn(l.baseline,p)),Ye({type:"text",role:"axis-label",style:"guide-label",key:ze,from:r,encode:o,overlap:g},n)},ln=function(e,t,n,i){var a,o,c,l,d=He(e,t),h=e.orient,p=$t(h,-1,1);return a={enter:o={opacity:Ue,anchor:u(d("titleAnchor",null)),align:{signal:Ke}},update:c=Object(r.o)({},o,{opacity:qe,text:u(e.title)}),exit:{opacity:Ue}},l={signal:'lerp(range("'.concat(e.scale,'"), ').concat(Ge(0,1,.5),")")},c.x=Ht(h,l),c.y=Wt(h,l),o.angle=Ht(h,Ue,function(e,t){return 0===t?0:M(e)?{signal:"(".concat(e.signal,") * ").concat(t)}:{value:e*t}}(p,90)),o.baseline=Ht(h,Gt(h,"bottom",Re),{value:"bottom"}),c.angle=o.angle,c.baseline=o.baseline,s(a,{fill:d("titleColor"),fillOpacity:d("titleOpacity"),font:d("titleFont"),fontSize:d("titleFontSize"),fontStyle:d("titleFontStyle"),fontWeight:d("titleFontWeight"),limit:d("titleLimit"),lineHeight:d("titleLineHeight")},{align:d("titleAlign"),angle:d("titleAngle"),baseline:d("titleBaseline")}),function(e,t,n,r){var i=function(e,t){return null!=e?(n.update[t]=nn(u(e),n.update[t]),!1):!f(t,r)},a=i(e("titleX"),"x"),o=i(e("titleY"),"y");n.enter.auto=o===a?u(o):Ht(t,u(o),u(a))}(d,h,a,n),a.update.align=nn(a.update.align,o.align),a.update.angle=nn(a.update.angle,o.angle),a.update.baseline=nn(a.update.baseline,o.baseline),Ye({type:"text",role:"axis-title",style:"guide-title",from:i,encode:a},n)};var fn=function(e,t){var n,i,a,o,c,f=function(e,t){var n,i,a,o,u,c,s,l,f=t.config,d=f.style,h=f.axis,p="band"===t.scaleType(e.scale)&&f.axisBand,v=e.orient;if(M(v)){var g=an([f.axisX,f.axisY]),m=an([f.axisTop,f.axisBottom,f.axisLeft,f.axisRight]);n={};var y=!0,b=!1,x=void 0;try{for(var w,O=g[Symbol.iterator]();!(y=(w=O.next()).done);y=!0)n[a=w.value]=Ht(v,rn(a,f.axisX,h,d),rn(a,f.axisY,h,d))}catch(A){b=!0,x=A}finally{try{y||null==O.return||O.return()}finally{if(b)throw x}}i={};var k=!0,j=!1,_=void 0;try{for(var S,E=m[Symbol.iterator]();!(k=(S=E.next()).done);k=!0)i[a=S.value]=(o=v.signal,u=rn(a,f.axisTop,h,d),c=rn(a,f.axisBottom,h,d),s=rn(a,f.axisLeft,h,d),l=rn(a,f.axisRight,h,d),{signal:(null!=s?"".concat(o," === '").concat("left","' ? (").concat(tn(s),") : "):"")+(null!=c?"".concat(o," === '").concat("bottom","' ? (").concat(tn(c),") : "):"")+(null!=l?"".concat(o," === '").concat("right","' ? (").concat(tn(l),") : "):"")+(null!=u?"".concat(o," === '").concat(Re,"' ? (").concat(tn(u),") : "):"")+"(null)"})}catch(A){j=!0,_=A}finally{try{k||null==E.return||E.return()}finally{if(j)throw _}}}else n=v===Re||"bottom"===v?f.axisX:f.axisY,i=f["axis"+v[0].toUpperCase()+v.slice(1)];return n||i||p?Object(r.o)({},h,n,i,p):h}(e,t),d=e.encode||{},h=d.axis||{},p=h.name||void 0,v=h.interactive,g=h.style,m=He(e,f),y=function(e){var t,n,i=e("tickBand"),a=e("tickOffset");return i?i.signal?(t={signal:"(".concat(i.signal,") === 'extent' ? 1 : 0.5")},n={signal:"(".concat(i.signal,") === 'extent'")},Object(r.F)(a)||(a={signal:"(".concat(i.signal,") === 'extent' ? 0 : ").concat(a)})):"extent"===i?(t=1,n=!0,a=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:a}}(m);return n={scale:e.scale,ticks:!!m("ticks"),labels:!!m("labels"),grid:!!m("grid"),domain:!!m("domain"),title:null!=e.title},i=A(t.add(J({},[n]))),h=l(function(e,t){var n={enter:{},update:{}};return s(n,{orient:e("orient"),offset:e("offset")||0,position:N(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:'abs(span(range("'.concat(t.scale,'")))')},translate:e("translate"),format:t.format,formatType:t.formatType}),n}(m,e),h,Ie),a=A(t.add(V({scale:t.scaleRef(e.scale),extra:t.property(y.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),c=[],n.grid&&c.push(un(e,f,d.grid,a,y)),n.ticks&&(o=m("tickSize"),c.push(function(e,t,n,r,i,a){var o,c,l,f,d,h,p=He(e,t),v=e.orient,g=$t(v,-1,1);return s(o={enter:c={opacity:Ue},update:f={opacity:qe},exit:l={opacity:Ue}},{stroke:p("tickColor"),strokeCap:p("tickCap"),strokeDash:p("tickDash"),strokeDashOffset:p("tickDashOffset"),strokeOpacity:p("tickOpacity"),strokeWidth:p("tickWidth")}),(d=u(i)).mult=g,h={scale:e.scale,field:ze,band:a.band,extra:a.extra,offset:a.offset,round:p("tickRound")},f.y=c.y=Ht(v,Ue,h),f.y2=c.y2=Ht(v,d),l.x=Ht(v,h),f.x=c.x=Wt(v,Ue,h),f.x2=c.x2=Wt(v,d),l.y=Wt(v,h),Ye({type:"rule",role:"axis-tick",key:ze,from:r,encode:o},n)}(e,f,d.ticks,a,o,y))),n.labels&&(o=n.ticks?o:0,c.push(sn(e,f,d.labels,a,o,y))),n.domain&&c.push(function(e,t,n,r){var i,a,o,u=He(e,t),c=e.orient;s(i={enter:a={opacity:Ue},update:o={opacity:qe},exit:{opacity:Ue}},{stroke:u("domainColor"),strokeCap:u("domainCap"),strokeDash:u("domainDash"),strokeDashOffset:u("domainDashOffset"),strokeWidth:u("domainWidth"),strokeOpacity:u("domainOpacity")});var l=on(e,0),f=on(e,1);return a.x=o.x=Ht(c,l,Ue),a.x2=o.x2=Ht(c,f),a.y=o.y=Wt(c,l,Ue),a.y2=o.y2=Wt(c,f),Ye({type:"rule",role:"axis-domain",from:r,encode:i},n)}(e,f,d.domain,i)),n.title&&c.push(ln(e,f,d.title,i)),Mt($e({role:"axis",from:i,encode:h,marks:c,aria:m("aria"),description:m("description"),zindex:m("zindex"),name:p,interactive:v,style:g}),t)};var dn=function(e,t,n){var i=Object(r.i)(e.signals),a=Object(r.i)(e.scales);return n||i.forEach((function(e){return j(e,t)})),Object(r.i)(e.projections).forEach((function(e){return function(e,t){var n=t.config.projection||{},r={};for(var i in e)"name"!==i&&(r[i]=Be(e[i],i,t));for(i in n)null==r[i]&&(r[i]=Be(n[i],i,t));t.addProjection(e.name,r)}(e,t)})),a.forEach((function(e){return function(e,t){var n=e.type||"linear";Object(we.D)(n)||Object(r.n)("Unrecognized scale type: "+Object(r.Z)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)})),Object(r.i)(e.data).forEach((function(e){return Lt(e,t)})),a.forEach((function(e){return je(e,t)})),(n||i).forEach((function(e){return function(e,t){var n=t.getSignal(e.name),i=e.update;e.init&&(i?Object(r.n)("Signals can not include both init and update expressions."):(i=e.init,n.initonly=!0)),i&&(i=Object(y.c)(i,t),n.update=i.$expr,n.params=i.$params),e.on&&e.on.forEach((function(e){H(e,t,n.id)}))}(e,t)})),Object(r.i)(e.axes).forEach((function(e){return fn(e,t)})),Object(r.i)(e.marks).forEach((function(e){return Mt(e,t)})),Object(r.i)(e.legends).forEach((function(e){return Pt(e,t)})),e.title&&Rt(e.title,t),t.parseLambdas(),t};function hn(e,t){var n=t.config,a=A(t.root=t.add(E())),u=function(e,t){var n=function(n){return N(e[n],t[n])},a=[pn("background",n("background")),pn("autosize",i(n("autosize"))),pn("padding",o(n("padding"))),pn("width",n("width")||0),pn("height",n("height")||0)],u=a.reduce((function(e,t){return e[t.name]=t,e}),{}),c={};return Object(r.i)(e.signals).forEach((function(e){Object(r.v)(u,e.name)?e=Object(r.o)(u[e.name],e):a.push(e),c[e.name]=e})),Object(r.i)(t.signals).forEach((function(e){Object(r.v)(c,e.name)||Object(r.v)(u,e.name)||a.push(e)})),a}(e,n);u.forEach((function(e){return j(e,t)})),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;var c=t.add(J()),s=t.add(Q(b(function(e){return l({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e)}(e.encode),"group","frame",e.style,t,{pulse:A(c)}))),f=t.add(be({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:a,pulse:A(s)}));t.operators.pop(),t.pushState(A(s),A(f),null),dn(e,t,u),t.operators.push(f);var d=t.add(Y({mark:a,pulse:A(f)}));return d=t.add(ve({pulse:A(d)})),d=t.add(me({pulse:A(d)})),t.addData("root",new Et(t,c,c,d)),t}function pn(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function vn(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function gn(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}var mn=vn.prototype=gn.prototype;function yn(e){return(Object(r.A)(e)?bn:xn)(e)}function bn(e){for(var t,n="[",i=0,a=e.length;i<a;++i)t=e[i],n+=(i>0?",":"")+(Object(r.F)(t)?t.signal||yn(t):Object(r.Z)(t));return n+"]"}function xn(e){var t,n,i="{",a=0;for(t in e)n=e[t],i+=(++a>1?",":"")+Object(r.Z)(t)+":"+(Object(r.F)(n)?n.signal||yn(n):Object(r.Z)(n));return i+"}"}mn.parse=function(e){return dn(e,this)},mn.fork=function(){return new gn(this)},mn.isSubscope=function(){return this._subid>0},mn.toRuntime=function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},mn.id=function(){return(this._subid?this._subid+":":0)+this._id++},mn.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},mn.proxy=function(e){var t=e instanceof _?A(e):e;return this.add(he({value:t}))},mn.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},mn.addUpdate=function(e){return this.updates.push(e),e},mn.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},mn.pushState=function(e,t,n){this._encode.push(A(this.add(me({pulse:e})))),this._parent.push(t),this._lookup.push(n?A(this.proxy(n)):null),this._markpath.push(-1)},mn.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},mn.parent=function(){return Object(r.U)(this._parent)},mn.encode=function(){return Object(r.U)(this._encode)},mn.lookup=function(){return Object(r.U)(this._lookup)},mn.markpath=function(){var e=this._markpath;return++e[e.length-1]},mn.fieldRef=function(e,t){if(Object(r.H)(e))return C(e,t);e.signal||Object(r.n)("Unsupported field reference: "+Object(r.Z)(e));var n,i=e.signal,a=this.field[i];return a||(n={name:this.signalRef(i)},t&&(n.as=t),this.field[i]=a=A(this.add(ne(n)))),a},mn.compareRef=function(e){function t(e){return M(e)?(i=!0,n.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(i=!0,n.exprRef(e.expr)):e}var n=this,i=!1,a=Object(r.i)(e.field).map(t),o=Object(r.i)(e.order).map(t);return i?A(this.add(X({fields:a,orders:o}))):F(a,o)},mn.keyRef=function(e,t){var n=this.signals,i=!1;return e=Object(r.i)(e).map((function(e){return M(e)?(i=!0,A(n[e.signal])):e})),i?A(this.add(re({fields:e,flat:t}))):function(e,t){var n={$key:e};return t&&(n.$flat=!0),n}(e,t)},mn.sortRef=function(e){if(!e)return e;var t=T(e.op,e.field),n=e.order||"ascending";return n.signal?A(this.add(X({fields:t,orders:this.signalRef(n.signal)}))):F(t,n)},mn.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},mn.hasOwnSignal=function(e){return Object(r.v)(this.signals,e)},mn.addSignal=function(e,t){this.hasOwnSignal(e)&&Object(r.n)("Duplicate signal name: "+Object(r.Z)(e));var n=t instanceof _?t:this.add(E(t));return this.signals[e]=n},mn.getSignal=function(e){return this.signals[e]||Object(r.n)("Unrecognized signal name: "+Object(r.Z)(e)),this.signals[e]},mn.signalRef=function(e){return this.signals[e]?A(this.signals[e]):(Object(r.v)(this.lambdas,e)||(this.lambdas[e]=this.add(E(null))),A(this.lambdas[e]))},mn.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=Object(y.c)(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},mn.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},mn.objectProperty=function(e){return e&&Object(r.F)(e)?this.signalRef(e.signal||yn(e)):e},mn.exprRef=function(e,t){var n={expr:Object(y.c)(e,this)};return t&&(n.expr.$name=t),A(this.add(ee(n)))},mn.addBinding=function(e,t){this.bindings||Object(r.n)("Nested signals do not support binding: "+Object(r.Z)(e)),this.bindings.push(Object(r.o)({signal:e},t))},mn.addScaleProj=function(e,t){Object(r.v)(this.scales,e)&&Object(r.n)("Duplicate scale or projection name: "+Object(r.Z)(e)),this.scales[e]=this.add(t)},mn.addScale=function(e,t){this.addScaleProj(e,ge(t))},mn.addProjection=function(e,t){this.addScaleProj(e,de(t))},mn.getScale=function(e){return this.scales[e]||Object(r.n)("Unrecognized scale name: "+Object(r.Z)(e)),this.scales[e]},mn.projectionRef=mn.scaleRef=function(e){return A(this.getScale(e))},mn.projectionType=mn.scaleType=function(e){return this.getScale(e).params.type},mn.addData=function(e,t){return Object(r.v)(this.data,e)&&Object(r.n)("Duplicate data set name: "+Object(r.Z)(e)),this.data[e]=t},mn.getData=function(e){return this.data[e]||Object(r.n)("Undefined data set name: "+Object(r.Z)(e)),this.data[e]},mn.addDataPipeline=function(e,t){return Object(r.v)(this.data,e)&&Object(r.n)("Duplicate data set name: "+Object(r.Z)(e)),this.addData(e,Et.fromEntries(this,t))};var wn=function(e,t,n){return Object(r.F)(e)||Object(r.n)("Input Vega specification must be an object."),hn(e,new vn(t=Object(r.N)({description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}},t,e.config),n)).toRuntime()};n.d(t,"a",(function(){return wn}))},function(e,t,n){"use strict";var r=n(11),i=n.n(r),a=n(24);function o(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}var u=n(0);function c(e,t){var n=e.globalCursor()?"undefined"!==typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}var s=n(3);function l(e,t){var n=e._runtime.data;return Object(u.v)(n,t)||Object(u.n)("Unrecognized data set: "+t),n[t]}function f(e,t){Object(s.m)(t)||Object(u.n)("Second argument to changes must be a changeset.");var n=l(this,e);return n.modified=!0,this.pulse(n.input,t)}function d(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function h(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function p(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function v(e){var t=p(e),n=d(e),r=h(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,r)}catch(i){e.error(i)}}))}var g=n(18),m=function(e,t,n){var r,i,a,o=e._renderer,c=o&&o.canvas();return c&&(a=p(e),i=t.changedTouches?t.changedTouches[0]:t,(r=Object(g.R)(i,c))[0]-=a[0],r[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function i(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function a(e){if(!e)return n;Object(u.H)(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(u.l)(e),item:Object(u.l)(t||{}),group:i,xy:a,x:function(e){return a(e)[0]},y:function(e){return a(e)[1]}}}(e,n,r),t};var y={trap:!1};function b(e,t,n){var r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(u.F)(r)&&!r[n])||(e.warn("Blocked ".concat(t," ").concat(n," event listener.")),!1)}function x(e){return e.item}function w(e){return e.item.mark.source}function O(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}var k=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r},j=n(593),_=function(e,t,n){if(t){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(t){t!==e.signal(r.signal)&&e.runAsync(null,(function(){i.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(i.update=Object(u.m)(r.debounce,i.update))),function(e,t,n,r){var i=k("div",{class:"vega-bind"}),a="radio"===n.input?i:i.appendChild(k("label"));a.appendChild(k("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(i);var o=S;switch(n.input){case"checkbox":o=E;break;case"select":o=A;break;case"radio":o=C;break;case"range":o=D}o(e,a,n,r)}(i,t,r,e.signal(r.signal)),i.active||(e.on(e._signals[r.signal],null,(function(){i.source?i.source=!1:i.set(e.signal(r.signal))})),i.active=!0),i}};function S(e,t,n,r){var i=k("input");for(var a in n)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",(function(){return e.update(i.value)})),e.elements=[i],e.set=function(e){return i.value=e}}function E(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var a=k("input",i);t.appendChild(a),a.addEventListener("change",(function(){return e.update(a.checked)})),e.elements=[a],e.set=function(e){return a.checked=!!e||null}}function A(e,t,n,r){var i=k("select",{name:n.signal}),a=n.labels||[];n.options.forEach((function(e,t){var n={value:e};F(e,r)&&(n.selected=!0),i.appendChild(k("option",n,(a[t]||e)+""))})),t.appendChild(i),i.addEventListener("change",(function(){e.update(n.options[i.selectedIndex])})),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(F(n.options[t],e))return void(i.selectedIndex=t)}}function C(e,t,n,r){var i=k("span",{class:"vega-bind-radio"}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((function(t,o){var u={type:"radio",name:n.signal,value:t};F(t,r)&&(u.checked=!0);var c=k("input",u);c.addEventListener("change",(function(){return e.update(t)}));var s=k("label",{},(a[o]||t)+"");return s.prepend(c),i.appendChild(s),c})),e.set=function(t){for(var n=e.elements,r=n.length,i=0;i<r;++i)F(n[i].value,t)&&(n[i].checked=!0)}}function D(e,t,n,r){r=void 0!==r?r:(+n.max+ +n.min)/2;var i=null!=n.max?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,o=n.step||Object(j.c)(a,i,100),u=k("input",{type:"range",name:n.signal,min:a,max:i,step:o});u.value=r;var c=k("span",{},+r);t.appendChild(u),t.appendChild(c);var s=function(){c.textContent=u.value,e.update(+u.value)};u.addEventListener("input",s),u.addEventListener("change",s),e.elements=[u],e.set=function(e){u.value=e,c.textContent=e}}function F(e,t){return e===t||e+""===t+""}var T=function(e,t,n,r,i,a){return(t=t||new r(e.loader())).initialize(n,d(e),h(e),p(e),i,a).background(e.background())},M=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null};function P(e,t){if("string"===typeof t){if("undefined"===typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}var N=function(e){return+e||0},B=function(e){return Object(u.F)(e)?{top:N(e.top),bottom:N(e.bottom),left:N(e.left),right:N(e.right)}:function(e){return{top:e,bottom:e,left:e,right:e}}(N(e))},R=function(e,t,n,r){return z.apply(this,arguments)};function z(){return(z=Object(a.a)(i.a.mark((function e(t,n,r,a){var o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(g.S)(n),(c=o&&o.headless)||Object(u.n)("Unrecognized renderer type: "+n),e.next=4,t.runAsync();case 4:return e.abrupt("return",T(t,null,null,c,r,a).renderAsync(t._scenegraph.root));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(a.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t!==g.i.Canvas&&t!==g.i.SVG&&t!==g.i.PNG&&Object(u.n)("Unrecognized image type: "+t),e.next=3,R(this,t,n);case 3:return r=e.sent,e.abrupt("return",t===g.i.SVG?I(r.svg(),"image/svg+xml"):r.canvas().toDataURL("image/png"));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function I(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function U(){return(U=Object(a.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(this,g.i.Canvas,t,n);case 2:return r=e.sent,e.abrupt("return",r.canvas());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function q(){return(q=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(this,g.i.SVG,t);case 2:return n=e.sent,e.abrupt("return",n.svg());case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var $=n(39),H=n(160);var W={skip:!0};function G(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.left+r.right:0)}function K(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.top+r.bottom:0)}function V(e,t){return t.modified&&Object(u.A)(t.input.value)&&e.indexOf("_:vega:_")}function Y(e,t){return!("parent"===e||t instanceof s.s.proxy)}var J=n(211),X=function(e,t,n,r){var i=e.element();i&&i.setAttribute("title",function(e){return null==e?"":Object(u.A)(e)?Z(e):Object(u.F)(e)&&!Object(u.C)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(u.A)(n)?Z(n):Q(n))})).join("\n")):e+"";var t}(r))};function Z(e){return"["+e.map(Q).join(", ")+"]"}function Q(e){return Object(u.A)(e)?"[\u2026]":Object(u.F)(e)&&!Object(u.C)(e)?"{\u2026}":e}var ee=n(59);function te(e,t){if(t=t||{},s.a.call(this),t.loader&&this.loader(t.loader),t.logger&&this.logger(t.logger),null!=t.logLevel&&this.logLevel(t.logLevel),t.locale||e.locale){var n=Object(u.o)({},e.locale,t.locale);this.locale(Object(ee.b)(n.number,n.time))}this._el=null,this._elBind=null,this._renderType=t.renderer||g.i.Canvas,this._scenegraph=new g.o;var r=this._scenegraph.root;this._renderer=null,this._tooltip=t.tooltip||X,this._redraw=!0,this._handler=(new g.b).scene(r),this._globalCursor=!1,this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[],this._eventConfig=function(e){var t=Object(u.o)({defaults:{}},e),n=function(e,t){t.forEach((function(t){Object(u.A)(e[t])&&(e[t]=Object(u.db)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),this.globalCursor(this._eventConfig.globalCursor);var i=function(e,t,n){return Object(H.a)(e,s.s,$.b,n).parse(t)}(this,e,t.expr);this._runtime=i,this._signals=i.signals,this._bind=(e.bindings||[]).map((function(e){return{state:null,param:Object(u.o)({},e)}})),i.root&&i.root.set(r),r.source=i.data.root.input,this.pulse(i.data.root.input,this.changeset().insert(r.items)),this._width=this.width(),this._height=this.height(),this._viewWidth=G(this,this._width),this._viewHeight=K(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(e){var t=e._signals,n=t.width,r=t.height,i=t.padding;function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=G(e,t.size),a()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=K(e,t.size),a()}),{size:r});var o=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}(this),function(e){e.add(null,(function(t){return e._background=t.bg,e._resize=1,t.bg}),{bg:e._signals.background})}(this),function(e){var t=e._signals.cursor||(e._signals.cursor=e.add({user:"default",item:null}));e.on(e.events("view","mousemove"),t,(function(e,n){var r=t.value,i=r?Object(u.H)(r)?r:r.user:"default",a=n.item&&n.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}})),e.add(null,(function(t){var n=t.cursor,r=this.value;return Object(u.H)(n)||(r=n.item,n=n.user),c(e,n&&"default"!==n?n:r||n),r}),{cursor:t})}(this),this.description(e.description),t.hover&&this.hover(),t.container&&this.initialize(t.container,t.bind)}var ne=Object(u.y)(te,s.a);function re(e,t){return Object(u.v)(e._signals,t)?e._signals[t]:Object(u.n)("Unrecognized signal name: "+Object(u.Z)(t))}function ie(e,t){var n=(e._targets||[]).filter((function(e){return e._update&&e._update.handler===t}));return n.length?n[0]:null}function ae(e,t,n,r){var i=ie(n,r);return i||((i=M(e,(function(){return r(t,n.value)}))).handler=r,e.on(n,null,i)),e}function oe(e,t,n){var r=ie(t,n);return r&&t._targets.remove(r),e}ne.evaluate=function(){var e=Object(a.a)(i.a.mark((function e(t,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.prototype.evaluate.call(this,t,n);case 2:if(!this._redraw&&!this._resize){e.next=14;break}if(e.prev=3,!this._renderer){e.next=8;break}return this._resize&&(this._resize=0,v(this)),e.next=8,this._renderer.renderAsync(this._scenegraph.root);case 8:this._redraw=!1,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.error(e.t0);case 14:return r&&Object(s.h)(this,r),e.abrupt("return",this);case 16:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ne.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},ne.description=function(e){if(arguments.length){var t=null!=e?e+"":null;return t!==this._desc&&o(this._el,this._desc=t),this}return this._desc},ne.container=function(){return this._el},ne.scenegraph=function(){return this._scenegraph},ne.origin=function(){return this._origin.slice()},ne.signal=function(e,t,n){var r=re(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},ne.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},ne.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},ne.padding=function(e){return arguments.length?this.signal("padding",B(e)):B(this.signal("padding"))},ne.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},ne.background=function(e){return arguments.length?this.signal("background",e):this.signal("background")},ne.renderer=function(e){return arguments.length?(Object(g.S)(e)||Object(u.n)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},ne.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},ne.loader=function(e){return arguments.length?(e!==this._loader&&(s.a.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},ne.resize=function(){return this._autosize=1,this.touch(re(this,"autosize"))},ne._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},ne._resizeView=function(e,t,n,r,i,a){this.runAfter((function(o){var u=0;o._autosize=0,o.width()!==n&&(u=1,o.signal("width",n,W),o._resizeWidth.skip(!0)),o.height()!==r&&(u=1,o.signal("height",r,W),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),u&&o.run("enter"),a&&o.runAfter((function(e){return e.resize()}))}),!1,1)},ne.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=M(this,t)).raw=t),this._handler.on(e,r),this},ne.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),a=i.length;--a>=0;)if(r=i[a].type,n=i[a].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},ne.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},ne.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},ne.addSignalListener=function(e,t){return ae(this,e,re(this,e),t)},ne.removeSignalListener=function(e,t){return oe(this,re(this,e),t)},ne.addDataListener=function(e,t){return ae(this,e,l(this,e).values,t)},ne.removeDataListener=function(e,t){return oe(this,l(this,e).values,t)},ne.globalCursor=function(e){if(arguments.length){if(this._globalCursor!==!!e){var t=c(this,null);this._globalCursor=!!e,t&&c(this,t)}return this}return this._globalCursor},ne.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},ne.timer=function(e,t){this._timers.push(function(e,t,n){var r=new J.a,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Object(J.b)():+n,r.restart((function a(o){o+=i,r.restart(a,i+=t,n),e(o)}),t,n),r)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},ne.events=function(e,t,n){var r,i=this,a=new s.b(n),o=function(n,r){i.runAsync(null,(function(){"view"===e&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(i,t)&&n.preventDefault(),a.receive(m(i,n,r))}))};if("timer"===e)b(i,"timer",t)&&i.timer(o,t);else if("view"===e)b(i,"view",t)&&i.addEventListener(t,o,y);else if("window"===e?b(i,"window",t)&&"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&b(i,"selector",t)&&(r=document.querySelectorAll(e)),r){for(var u=0,c=r.length;u<c;++u)r[u].addEventListener(t,o);i._eventListeners.push({type:t,sources:r,handler:o})}else i.warn("Can not resolve event source: "+e);return a},ne.finalize=function(){var e,t,n,r=this._tooltip,i=this._timers,a=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this},ne.hover=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",x),w,O(e)),this.on(this.events("view","mouseout",x),w,O(t)),this},ne.data=function(e,t){return arguments.length<2?l(this,e).values.value:f.call(this,e,Object(s.i)().remove(u.gb).insert(t))},ne.change=f,ne.insert=function(e,t){return f.call(this,e,Object(s.i)().insert(t))},ne.remove=function(e,t){return f.call(this,e,Object(s.i)().remove(t))},ne.scale=function(e){var t=this._runtime.scales;return Object(u.v)(t,e)||Object(u.n)("Unrecognized scale or projection: "+e),t[e].value},ne.initialize=function(e,t){var n=this,r=n._renderType,i=n._eventConfig.bind,a=Object(g.S)(r);e=n._el=e?P(n,e):null,function(e){var t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),o(t,e.description()))}(n),a||n.error("Unrecognized renderer type: "+r);var u=a.handler||g.b,c=e?a.renderer:a.headless;return n._renderer=c?T(n,n._renderer,e,c):null,n._handler=function(e,t,n,r){var i=new r(e.loader(),M(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,p(e),e);return t&&t.handlers().forEach((function(e){i.on(e.type,e.handler)})),i}(n,n._handler,e,u),n._redraw=!0,e&&"none"!==i&&(t=t?n._elBind=P(n,t):e.appendChild(k("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==i&&(e.element=P(n,e.param.element))})),n._bind.forEach((function(e){_(n,e.element||t,e)}))),n},ne.toImageURL=function(e,t){return L.apply(this,arguments)},ne.toCanvas=function(e,t){return U.apply(this,arguments)},ne.toSVG=function(e){return q.apply(this,arguments)},ne.getState=function(e){return this._runtime.getState(e||{data:V,signals:Y,recurse:!0})},ne.setState=function(e){return this.runAsync(null,(function(t){t._trigger=!1,t._runtime.setState(e)}),(function(e){e._trigger=!0})),this},n.d(t,"a",(function(){return te}))},function(e,t,n){"use strict";var r=n(309),i=Object(r.a)();t.a=i},function(e,t,n){"use strict";var r=n(540);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(217),i=(n(1),n(86));function a(){return Object(r.a)()||i.a}},function(e,t,n){"use strict";function r(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.d(t,"b",(function(){return r})),t.a=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}},function(e,t,n){"use strict";var r=n(57),i=n(125),a=n(23),o=a.List,u=a.Map,c=a.OrderedSet,s=a.Record,l=a.Repeat,f=c(),d=s({key:"",type:"unstyled",text:"",characterList:o(),depth:0,data:u()}),h=function(e){var t,n;function a(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=o(l(r.EMPTY,n.length))),e}(t))||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=a.prototype;return u.getKey=function(){return this.get("key")},u.getType=function(){return this.get("type")},u.getText=function(){return this.get("text")},u.getCharacterList=function(){return this.get("characterList")},u.getLength=function(){return this.getText().length},u.getDepth=function(){return this.get("depth")},u.getData=function(){return this.get("data")},u.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},u.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},u.findStyleRanges=function(e,t){i(this.getCharacterList(),p,e,t)},u.findEntityRanges=function(e,t){i(this.getCharacterList(),v,e,t)},a}(d);function p(e,t){return e.getStyle()===t.getStyle()}function v(e,t){return e.getEntity()===t.getEntity()}e.exports=h},function(e,t,n){"use strict";function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},function(e,t,n){"use strict";var r=n(29),i=/[\uD800-\uDFFF]/;function a(e){return 55296<=e&&e<=57343}function o(e){return i.test(e)}function u(e,t){return 1+a(e.charCodeAt(t))}function c(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!o(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var i=0;if(t>0){for(;t>0&&i<r;t--)i+=u(e,i);if(i>=r)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=u(e,i-1);i<0&&(i=0)}var a=r;if(n<r)for(a=i;n>0&&a<r;n--)a+=u(e,a);return e.substring(i,a)}var s={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=u(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:u,hasSurrogateUnit:o,isCodeUnitInSurrogateRange:a,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),i=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=i&&i<=57343},strlen:function(e){if(!o(e))return e.length;for(var t=0,n=0;n<e.length;n+=u(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return c(e,t=t<n?t:n,r)},substr:c};e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=c(i),o=n(22),u=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){var t=e.style,n=e.children;return function(e){function i(){var e,n,r;s(this,i);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=r=l(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(u))),r.toggleStyle=function(e){e.preventDefault(),r.props.setEditorState(o.RichUtils.toggleInlineStyle(r.props.getEditorState(),t))},r.preventBubblingUp=function(e){e.preventDefault()},r.styleIsActive=function(){return r.props.getEditorState&&r.props.getEditorState().getCurrentInlineStyle().has(t)},l(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,e),r(i,[{key:"render",value:function(){var e=this.props.theme,t=this.styleIsActive()?(0,u.default)(e.button,e.active):e.button;return a.default.createElement("div",{className:e.buttonWrapper,onMouseDown:this.preventBubblingUp},a.default.createElement("button",{className:t,onClick:this.toggleStyle,type:"button",children:n}))}}]),i}(i.Component)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(43),i=n(110),a=n(155),o=n(34);function u(e){return function(t){var n,i,a=t.length,o=new Array(a),u=new Array(a),c=new Array(a);for(n=0;n<a;++n)i=Object(r.g)(t[n]),o[n]=i.r||0,u[n]=i.g||0,c[n]=i.b||0;return o=e(o),u=e(u),c=e(c),i.opacity=1,function(e){return i.r=o(e),i.g=u(e),i.b=c(e),i+""}}}t.a=function e(t){var n=Object(o.b)(t);function i(e,t){var i=n((e=Object(r.g)(e)).r,(t=Object(r.g)(t)).r),a=n(e.g,t.g),u=n(e.b,t.b),c=Object(o.a)(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=u(t),e.opacity=c(t),e+""}}return i.gamma=e,i}(1);var c=u(i.b),s=u(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(202),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(u)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var c=e,s=t,l=[],f=l,d=!1;function h(){f===l&&(f=l.slice())}function p(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return s}function v(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=f.indexOf(e);f.splice(n,1),l=null}}}function g(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,s=c(s,e)}finally{d=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:a.REPLACE})}function y(){var e,t=v;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return g({type:a.INIT}),(i={dispatch:g,subscribe:v,getState:p,replaceReducer:m})[r.a]=y,i}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function s(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,u=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<u.length;a++){var s=u[a],l=n[s],f=e[s],d=l(f,t);if("undefined"===typeof d){var h=c(s,t);throw new Error(h)}i[s]=d,r=r||d!==f}return(r=r||u.length!==Object.keys(e).length)?i:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"===typeof e)return l(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=l(i,t))}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return p({},n,{dispatch:r=v.apply(void 0,a)(n.dispatch)})}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(1),i=r.createContext();function a(){return r.useContext(i)}t.a=i},function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function a(e){return e.startAdornment}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";t.a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=a.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(o="",n=0;n<c.length;n++){var s=c[n],l=e(t[s]);l&&(o&&(o+=","),o+=JSON.stringify(s)+":"+l)}return a.splice(u,1),"{"+o+"}"}}(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(30),i=n(32);function a(e){return Object(r.a)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.c)/i.e}))}var o=a(0),u=a(1),c=a(2),s=a(3),l=a(4),f=a(5),d=a(6);o.range,u.range,c.range,s.range,l.range,f.range,d.range},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(30),i=n(32);function a(e){return Object(r.a)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/i.e}))}var o=a(0),u=a(1),c=a(2),s=a(3),l=a(4),f=a(5),d=a(6);o.range,u.range,c.range,s.range,l.range,f.range,d.range},,,function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(150).MAX_SAFE_COMPONENT_LENGTH,i=n(151),a=(t=e.exports={}).re=[],o=t.src=[],u=t.t={},c=0,s=function(e,t,n){var r=c++;i(r,t),u[e]=r,o[r]=t,a[r]=new RegExp(t,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION","(".concat(o[u.NUMERICIDENTIFIER],")\\.")+"(".concat(o[u.NUMERICIDENTIFIER],")\\.")+"(".concat(o[u.NUMERICIDENTIFIER],")")),s("MAINVERSIONLOOSE","(".concat(o[u.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[u.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(o[u.NUMERICIDENTIFIERLOOSE],")")),s("PRERELEASEIDENTIFIER","(?:".concat(o[u.NUMERICIDENTIFIER],"|").concat(o[u.NONNUMERICIDENTIFIER],")")),s("PRERELEASEIDENTIFIERLOOSE","(?:".concat(o[u.NUMERICIDENTIFIERLOOSE],"|").concat(o[u.NONNUMERICIDENTIFIER],")")),s("PRERELEASE","(?:-(".concat(o[u.PRERELEASEIDENTIFIER],"(?:\\.").concat(o[u.PRERELEASEIDENTIFIER],")*))")),s("PRERELEASELOOSE","(?:-?(".concat(o[u.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(o[u.PRERELEASEIDENTIFIERLOOSE],")*))")),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD","(?:\\+(".concat(o[u.BUILDIDENTIFIER],"(?:\\.").concat(o[u.BUILDIDENTIFIER],")*))")),s("FULLPLAIN","v?".concat(o[u.MAINVERSION]).concat(o[u.PRERELEASE],"?").concat(o[u.BUILD],"?")),s("FULL","^".concat(o[u.FULLPLAIN],"$")),s("LOOSEPLAIN","[v=\\s]*".concat(o[u.MAINVERSIONLOOSE]).concat(o[u.PRERELEASELOOSE],"?").concat(o[u.BUILD],"?")),s("LOOSE","^".concat(o[u.LOOSEPLAIN],"$")),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE","".concat(o[u.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),s("XRANGEIDENTIFIER","".concat(o[u.NUMERICIDENTIFIER],"|x|X|\\*")),s("XRANGEPLAIN","[v=\\s]*(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIER],")")+"(?:".concat(o[u.PRERELEASE],")?").concat(o[u.BUILD],"?")+")?)?"),s("XRANGEPLAINLOOSE","[v=\\s]*(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(o[u.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(o[u.PRERELEASELOOSE],")?").concat(o[u.BUILD],"?")+")?)?"),s("XRANGE","^".concat(o[u.GTLT],"\\s*").concat(o[u.XRANGEPLAIN],"$")),s("XRANGELOOSE","^".concat(o[u.GTLT],"\\s*").concat(o[u.XRANGEPLAINLOOSE],"$")),s("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(r,"})")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:\\.(\\d{1,".concat(r,"}))?")+"(?:$|[^\\d])"),s("COERCERTL",o[u.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM","(\\s*)".concat(o[u.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",s("TILDE","^".concat(o[u.LONETILDE]).concat(o[u.XRANGEPLAIN],"$")),s("TILDELOOSE","^".concat(o[u.LONETILDE]).concat(o[u.XRANGEPLAINLOOSE],"$")),s("LONECARET","(?:\\^)"),s("CARETTRIM","(\\s*)".concat(o[u.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",s("CARET","^".concat(o[u.LONECARET]).concat(o[u.XRANGEPLAIN],"$")),s("CARETLOOSE","^".concat(o[u.LONECARET]).concat(o[u.XRANGEPLAINLOOSE],"$")),s("COMPARATORLOOSE","^".concat(o[u.GTLT],"\\s*(").concat(o[u.LOOSEPLAIN],")$|^$")),s("COMPARATOR","^".concat(o[u.GTLT],"\\s*(").concat(o[u.FULLPLAIN],")$|^$")),s("COMPARATORTRIM","(\\s*)".concat(o[u.GTLT],"\\s*(").concat(o[u.LOOSEPLAIN],"|").concat(o[u.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE","^\\s*(".concat(o[u.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(o[u.XRANGEPLAIN],")")+"\\s*$"),s("HYPHENRANGELOOSE","^\\s*(".concat(o[u.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(o[u.XRANGEPLAINLOOSE],")")+"\\s*$"),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0.0.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){var r=n(150).MAX_LENGTH,i=n(106),a=i.re,o=i.t,u=n(46);e.exports=function(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof u)return e;if("string"!==typeof e)return null;if(e.length>r)return null;if(!(t.loose?a[o.LOOSE]:a[o.FULL]).test(e))return null;try{return new u(e,t)}catch(n){return null}}},function(e,t,n){"use strict";n.r(t);var r,i,a,o,u=n(109),c=n(158),s=n(110),l=n(155),f=n(157),d=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},h=n(34),p=function(e,t){var n=Object(h.c)(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},v=n(51),g=n(89),m=n(159),y=n(273),b=n(156),x=180/Math.PI,w={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},O=function(e,t,n,r,i,a){var o,u,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*x,skewX:Math.atan(c)*x,scaleX:o,scaleY:u}};function k(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var u=[],c=[];return a=e(a),o=e(o),function(e,r,i,a,o,u){if(e!==i||r!==a){var c=o.push("translate(",null,t,null,n);u.push({i:c-4,x:Object(v.a)(e,i)},{i:c-2,x:Object(v.a)(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,u,c),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Object(v.a)(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,u,c),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Object(v.a)(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,u,c),function(e,t,n,r,a,o){if(e!==n||t!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:Object(v.a)(e,n)},{i:u-2,x:Object(v.a)(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,c),a=o=null,function(e){for(var t,n=-1,r=c.length;++n<r;)u[(t=c[n]).i]=t.x(e);return u.join("")}}}var j=k((function(e){return"none"===e?w:(r||(r=document.createElement("DIV"),i=document.documentElement,a=document.defaultView),r.style.transform=e,e=a.getComputedStyle(i.appendChild(r),null).getPropertyValue("transform"),i.removeChild(r),e=e.slice(7,-1).split(","),O(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),_=k((function(e){return null==e?w:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),(e=o.transform.baseVal.consolidate())?(e=e.matrix,O(e.a,e.b,e.c,e.d,e.e,e.f)):w)}),", ",")",")"),S=Math.SQRT2;function E(e){return((e=Math.exp(e))+1/e)/2}var A=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],u=t[0],c=t[1],s=t[2],l=u-i,f=c-a,d=l*l+f*f;if(d<1e-12)r=Math.log(s/o)/S,n=function(e){return[i+e*l,a+e*f,o*Math.exp(S*e*r)]};else{var h=Math.sqrt(d),p=(s*s-o*o+4*d)/(2*o*2*h),v=(s*s-o*o-4*d)/(2*s*2*h),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);r=(m-g)/S,n=function(e){var t,n=e*r,u=E(g),c=o/(2*h)*(u*(t=S*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+c*l,a+c*f,o*u/E(S*n+g)]}}return n.duration=1e3*r,n},C=n(95),D=n(43);function F(e){return function(t,n){var r=e((t=Object(D.f)(t)).h,(n=Object(D.f)(n)).h),i=Object(h.a)(t.s,n.s),a=Object(h.a)(t.l,n.l),o=Object(h.a)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+""}}}var T=F(h.c),M=F(h.a),P=n(610);function N(e,t){var n=Object(h.a)((e=Object(P.a)(e)).l,(t=Object(P.a)(t)).l),r=Object(h.a)(e.a,t.a),i=Object(h.a)(e.b,t.b),a=Object(h.a)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function B(e){return function(t,n){var r=e((t=Object(P.b)(t)).h,(n=Object(P.b)(n)).h),i=Object(h.a)(t.c,n.c),a=Object(h.a)(t.l,n.l),o=Object(h.a)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}var R=B(h.c),z=B(h.a),L=n(54),I=n(117),U=-.14861,q=1.78277,$=-.29227,H=-.90649,W=1.97294,G=W*H,K=W*q,V=q*$-H*U;function Y(e){if(e instanceof X)return new X(e.h,e.s,e.l,e.opacity);e instanceof D.b||(e=Object(D.h)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(V*r+G*t-K*n)/(V+G-K),a=r-i,o=(W*(n-i)-$*a)/H,u=Math.sqrt(o*o+a*a)/(W*i*(1-i)),c=u?Math.atan2(o,a)*I.b-120:NaN;return new X(c<0?c+360:c,u,i,e.opacity)}function J(e,t,n,r){return 1===arguments.length?Y(e):new X(e,t,n,null==r?1:r)}function X(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Z(e){return function t(n){function r(t,r){var i=e((t=J(t)).h,(r=J(r)).h),a=Object(h.a)(t.s,r.s),o=Object(h.a)(t.l,r.l),u=Object(h.a)(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}Object(L.a)(X,J,Object(L.b)(D.a,{brighter:function(e){return e=null==e?D.c:Math.pow(D.c,e),new X(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?D.d:Math.pow(D.d,e),new X(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*I.a,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new D.b(255*(t+n*(U*r+q*i)),255*(t+n*($*r+H*i)),255*(t+n*(W*r)),this.opacity)}}));var Q=Z(h.c),ee=Z(h.a),te=n(274),ne=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};n.d(t,"interpolate",(function(){return u.a})),n.d(t,"interpolateArray",(function(){return c.a})),n.d(t,"interpolateBasis",(function(){return s.b})),n.d(t,"interpolateBasisClosed",(function(){return l.a})),n.d(t,"interpolateDate",(function(){return f.a})),n.d(t,"interpolateDiscrete",(function(){return d})),n.d(t,"interpolateHue",(function(){return p})),n.d(t,"interpolateNumber",(function(){return v.a})),n.d(t,"interpolateNumberArray",(function(){return g.a})),n.d(t,"interpolateObject",(function(){return m.a})),n.d(t,"interpolateRound",(function(){return y.a})),n.d(t,"interpolateString",(function(){return b.a})),n.d(t,"interpolateTransformCss",(function(){return j})),n.d(t,"interpolateTransformSvg",(function(){return _})),n.d(t,"interpolateZoom",(function(){return A})),n.d(t,"interpolateRgb",(function(){return C.a})),n.d(t,"interpolateRgbBasis",(function(){return C.b})),n.d(t,"interpolateRgbBasisClosed",(function(){return C.c})),n.d(t,"interpolateHsl",(function(){return T})),n.d(t,"interpolateHslLong",(function(){return M})),n.d(t,"interpolateLab",(function(){return N})),n.d(t,"interpolateHcl",(function(){return R})),n.d(t,"interpolateHclLong",(function(){return z})),n.d(t,"interpolateCubehelix",(function(){return Q})),n.d(t,"interpolateCubehelixLong",(function(){return ee})),n.d(t,"piecewise",(function(){return te.a})),n.d(t,"quantize",(function(){return ne}))},function(e,t,n){"use strict";var r=n(43),i=n(95),a=n(158),o=n(157),u=n(51),c=n(159),s=n(156),l=n(116),f=n(89);t.a=function(e,t){var n,d=typeof t;return null==t||"boolean"===d?Object(l.a)(t):("number"===d?u.a:"string"===d?(n=Object(r.e)(t))?(t=n,i.a):s.a:t instanceof r.e?i.a:t instanceof Date?o.a:Object(f.b)(t)?f.a:Array.isArray(t)?a.b:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?c.a:u.a)(e,t)}},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}n.d(t,"a",(function(){return r})),t.b=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[i],o=e[i+1],u=i>0?e[i-1]:2*a-o,c=i<t-1?e[i+2]:2*o-a;return r((n-i/t)*t,u,a,o,c)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),i=n(28),a=!0,o=!1,u=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function f(){"hidden"===this.visibilityState&&o&&(a=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!c[t]||e.readOnly)||("TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable)}(t)}function h(){o=!0,window.clearTimeout(u),u=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:d,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"aggregate",(function(){return F})),n.d(r,"bin",(function(){return M})),n.d(r,"collect",(function(){return B})),n.d(r,"compare",(function(){return R})),n.d(r,"countpattern",(function(){return L})),n.d(r,"cross",(function(){return U})),n.d(r,"density",(function(){return $})),n.d(r,"dotbin",(function(){return V})),n.d(r,"expression",(function(){return Y})),n.d(r,"extent",(function(){return X})),n.d(r,"facet",(function(){return ee})),n.d(r,"field",(function(){return ne})),n.d(r,"filter",(function(){return ie})),n.d(r,"flatten",(function(){return ae})),n.d(r,"fold",(function(){return oe})),n.d(r,"formula",(function(){return ue})),n.d(r,"generate",(function(){return ce})),n.d(r,"impute",(function(){return pe})),n.d(r,"joinaggregate",(function(){return ve})),n.d(r,"kde",(function(){return me})),n.d(r,"key",(function(){return ye})),n.d(r,"load",(function(){return xe})),n.d(r,"lookup",(function(){return Oe})),n.d(r,"multiextent",(function(){return ke})),n.d(r,"multivalues",(function(){return _e})),n.d(r,"params",(function(){return Ee})),n.d(r,"pivot",(function(){return Ae})),n.d(r,"prefacet",(function(){return De})),n.d(r,"project",(function(){return Fe})),n.d(r,"proxy",(function(){return Te})),n.d(r,"quantile",(function(){return Pe})),n.d(r,"relay",(function(){return Be})),n.d(r,"sample",(function(){return Re})),n.d(r,"sequence",(function(){return ze})),n.d(r,"sieve",(function(){return Le})),n.d(r,"subflow",(function(){return Z})),n.d(r,"timeunit",(function(){return Ue})),n.d(r,"tupleindex",(function(){return He})),n.d(r,"values",(function(){return We})),n.d(r,"window",(function(){return Xe}));var i={};n.r(i),n.d(i,"bound",(function(){return ct})),n.d(i,"identifier",(function(){return lt})),n.d(i,"mark",(function(){return ft})),n.d(i,"overlap",(function(){return dt})),n.d(i,"render",(function(){return xt})),n.d(i,"viewlayout",(function(){return $t}));var a={};n.r(a),n.d(a,"axisticks",(function(){return Wt})),n.d(a,"datajoin",(function(){return Gt})),n.d(a,"encode",(function(){return Vt})),n.d(a,"legendentries",(function(){return Yt})),n.d(a,"linkpath",(function(){return tn})),n.d(a,"pie",(function(){return un})),n.d(a,"scale",(function(){return dn})),n.d(a,"sortitems",(function(){return gn})),n.d(a,"stack",(function(){return yn}));var o={};n.r(o),n.d(o,"contour",(function(){return qn})),n.d(o,"geojson",(function(){return $n})),n.d(o,"geopath",(function(){return _a})),n.d(o,"geopoint",(function(){return Sa})),n.d(o,"geoshape",(function(){return Ea})),n.d(o,"graticule",(function(){return Fa})),n.d(o,"heatmap",(function(){return Pa})),n.d(o,"isocontour",(function(){return Fn})),n.d(o,"kde2d",(function(){return zn})),n.d(o,"projection",(function(){return Ba}));var u={};n.r(u),n.d(u,"force",(function(){return po}));var c={};n.r(c),n.d(c,"nest",(function(){return Eo})),n.d(c,"pack",(function(){return tu})),n.d(c,"partition",(function(){return ou})),n.d(c,"stratify",(function(){return hu})),n.d(c,"tree",(function(){return _u})),n.d(c,"treelinks",(function(){return Eu})),n.d(c,"treemap",(function(){return Nu}));var s={};n.r(s),n.d(s,"loess",(function(){return zu})),n.d(s,"regression",(function(){return Iu}));var l={};n.r(l),n.d(l,"voronoi",(function(){return gc}));var f={};n.r(f),n.d(f,"wordcloud",(function(){return Dc}));var d={};n.r(d),n.d(d,"crossfilter",(function(){return zc})),n.d(d,"resolvefilter",(function(){return Ic}));var h=n(0),p=n(3);function v(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}function g(e,t,n){return n||e+(t?"_"+t:"")}var m=function(){},y={init:m,add:m,rem:m,idx:0},b={values:{init:function(e){return e.cell.store=!0},value:function(e){return e.cell.data.values()},idx:-1},count:{value:function(e){return e.cell.num}},__count__:{value:function(e){return e.missing+e.valid}},missing:{value:function(e){return e.missing}},valid:{value:function(e){return e.valid}},sum:{init:function(e){return e.sum=0},value:function(e){return e.sum},add:function(e,t){return e.sum+=+t},rem:function(e,t){return e.sum-=t}},product:{init:function(e){return e.product=1},value:function(e){return e.valid?e.product:void 0},add:function(e,t){return e.product*=t},rem:function(e,t){return e.product/=t}},mean:{init:function(e){return e.mean=0},value:function(e){return e.valid?e.mean:void 0},add:function(e,t){return e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid},rem:function(e,t){return e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean}},average:{value:function(e){return e.valid?e.mean:void 0},req:["mean"],idx:1},variance:{init:function(e){return e.dev=0},value:function(e){return e.valid>1?e.dev/(e.valid-1):void 0},add:function(e,t){return e.dev+=e.mean_d*(t-e.mean)},rem:function(e,t){return e.dev-=e.mean_d*(t-e.mean)},req:["mean"],idx:1},variancep:{value:function(e){return e.valid>1?e.dev/e.valid:void 0},req:["variance"],idx:2},stdev:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(e){return e.valid>1?Math.sqrt(e.dev/e.valid):void 0},req:["variance"],idx:2},stderr:{value:function(e){return e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(e){return e.cell.data.distinct(e.get)},req:["values"],idx:3},ci0:{value:function(e){return e.cell.data.ci0(e.get)},req:["values"],idx:3},ci1:{value:function(e){return e.cell.data.ci1(e.get)},req:["values"],idx:3},median:{value:function(e){return e.cell.data.q2(e.get)},req:["values"],idx:3},q1:{value:function(e){return e.cell.data.q1(e.get)},req:["values"],idx:3},q3:{value:function(e){return e.cell.data.q3(e.get)},req:["values"],idx:3},min:{init:function(e){return e.min=void 0},value:function(e){return e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min},add:function(e,t){(t<e.min||void 0===e.min)&&(e.min=t)},rem:function(e,t){t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:function(e){return e.max=void 0},value:function(e){return e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max},add:function(e,t){(t>e.max||void 0===e.max)&&(e.max=t)},rem:function(e,t){t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:function(e){return e.argmin=void 0},value:function(e){return e.argmin||e.cell.data.argmin(e.get)},add:function(e,t,n){t<e.min&&(e.argmin=n)},rem:function(e,t){t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(e){return e.argmax=void 0},value:function(e){return e.argmax||e.cell.data.argmax(e.get)},add:function(e,t,n){t>e.max&&(e.argmax=n)},rem:function(e,t){t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},x=Object.keys(b);function w(e,t){return b[e](t)}function O(e,t){return e.idx-t.idx}function k(){var e=this;this.valid=0,this.missing=0,this._ops.forEach((function(t){return t.init(e)}))}function j(e,t){var n=this;null!=e&&""!==e?e===e&&(++this.valid,this._ops.forEach((function(r){return r.add(n,e,t)}))):++this.missing}function _(e,t){var n=this;null!=e&&""!==e?e===e&&(--this.valid,this._ops.forEach((function(r){return r.rem(n,e,t)}))):--this.missing}function S(e){var t=this;return this._out.forEach((function(n){return e[n.out]=n.value(t)})),e}function E(e,t){var n=t||h.x,r=function(e){var t={};return e.forEach((function(e){return t[e.name]=e})),e.forEach((function e(n){n.req&&n.req.forEach((function(n){t[n]||e(t[n]=b[n]())}))})),Object.values(t).sort(O)}(e),i=e.slice().sort(O);function a(e){this._ops=r,this._out=i,this.cell=e,this.init()}return a.prototype.init=k,a.prototype.add=j,a.prototype.rem=_,a.prototype.set=S,a.prototype.get=n,a.fields=e.map((function(e){return e.out})),a}x.forEach((function(e){b[e]=function(e,t){return function(n){return Object(h.o)({name:e,out:n||e},y,t)}}(e,b[e])}));var A=n(17);function C(e){this._key=e?Object(h.t)(e):p.t,this.reset()}var D=C.prototype;function F(e){p.g.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}D.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},D.add=function(e){this._add.push(e)},D.rem=function(e){this._rem.push(e)},D.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,u=i.length,c=Array(o-u),s={};for(e=0;e<u;++e)s[a(i[e])]=1;for(e=0,t=0;e<o;++e)s[a(n=r[e])]?s[a(n)]=0:c[t++]=n;return this._rem=[],this._add=c},D.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},a=0;--r>=0;)t=e(n[r])+"",Object(h.v)(i,t)||(i[t]=1,++a);return a},D.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(h.q)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},D.argmin=function(e){return this.extent(e)[0]||{}},D.argmax=function(e){return this.extent(e)[1]||{}},D.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},D.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},D.quartile=function(e){return this._get===e&&this._q||(this._q=Object(A.o)(this.values(),e),this._get=e),this._q},D.q1=function(e){return this.quartile(e)[0]},D.q2=function(e){return this.quartile(e)[1]},D.q3=function(e){return this.quartile(e)[2]},D.ci=function(e){return this._get===e&&this._ci||(this._ci=Object(A.c)(this.values(),1e3,.05,e),this._get=e),this._ci},D.ci0=function(e){return this.ci(e)[0]},D.ci1=function(e){return this.ci(e)[1]},F.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:x},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var T=Object(h.y)(F,p.g);T.transform=function(e,t){var n=this,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=e.modified();return r.stamp=i.stamp,r.value&&(a||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=a?r.init(e):{},t.visit(t.SOURCE,(function(e){return r.add(e)}))):(r.value=r.value||r.init(e),t.visit(t.REM,(function(e){return r.rem(e)})),t.visit(t.ADD,(function(e){return r.add(e)}))),i.modifies(r._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&i.clean(!0).runAfter((function(){return n.clean()})),r.changes(i)},T.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function a(e){var t,a,o,u;for(t in e)for(o=e[t].tuple,a=0;a<i;++a)r[a][u=o[n[a]]]=u}a(e._prev),a(t),function a(o,u,c){var s,l,f=n[c],d=r[c++];for(s in d)u[f]=d[s],l=o?o+"|"+s:s,c<i?a(l,u,c):t[l]||e.cell(l,u)}("",{},0)},T.init=function(e){var t=this._inputs=[],n=this._outputs=[],r={};function i(e){for(var n,i=Object(h.i)(Object(h.g)(e)),a=0,o=i.length;a<o;++a)r[n=i[a]]||(r[n]=1,t.push(n))}this._dims=Object(h.i)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(h.h)(e);return i(e),n.push(t),t})),this.cellkey=e.key?e.key:v(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var a,o,u,c,s,l,f=e.fields||[null],d=e.ops||["count"],p=e.as||[],m=f.length,y={};for(m!==d.length&&Object(h.n)("Unmatched number of fields and aggregate ops."),l=0;l<m;++l)a=f[l],o=d[l],null==a&&"count"!==o&&Object(h.n)("Null aggregate field specified."),s=g(o,c=Object(h.h)(a),p[l]),n.push(s),"count"!==o?((u=y[c])||(i(a),(u=y[c]=[]).field=a,this._measures.push(u)),"count"!==o&&(this._countOnly=!1),u.push(w(o,s))):this._counts.push(s);return this._measures=this._measures.map((function(e){return E(e,e.field)})),{}},T.cellkey=v(),T.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},T.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(n.agg=Array(a),r=0;r<a;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new C),n},T.newtuple=function(e,t){var n,r,i=this._dnames,a=this._dims,o={};for(n=0,r=a.length;n<r;++n)o[i[n]]=a[n](e);return t?Object(p.p)(t.tuple,o):Object(p.l)(o)},T.clean=function(){var e=this.value;for(var t in e)0===e[t].num&&delete e[t]},T.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},T.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},T.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},T.changes=function(e){var t,n,r,i,a=this._adds,o=this._mods,u=this._prev,c=this._drop,s=e.add,l=e.rem,f=e.mod;if(u)for(n in u)t=u[n],c&&!t.num||l.push(t.tuple);for(r=0,i=this._alen;r<i;++r)s.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=o[r]).num&&c?l:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e};function M(e){p.g.call(this,null,e)}M.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var P=Object(h.y)(M,p.g);P.transform=function(e,t){var n,r=!1!==e.interval,i=this._bins(e),a=i.start,o=i.step,u=e.as||["bin0","bin1"],c=u[0],s=u[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(h.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[c]=t,e[s]=null==t?null:a+o*(1+(t-a)/o)}:function(e){e[c]=i(e)}),t.modifies(r?u:c)},P._bins=function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,i=Object(A.b)(e),a=i.step,o=i.start,u=o+Math.ceil((i.stop-o)/a)*a;null!=(t=e.anchor)&&(n=t-(o+a*Math.floor((t-o)/a)),o+=n,u+=n);var c=function(e){var t=Object(h.cb)(r(e));return null==t?null:t<o?-1/0:t>u?1/0:(t=Math.max(o,Math.min(t,u-a)),o+a*Math.floor(1e-14+(t-o)/a))};return c.start=o,c.stop=i.stop,c.step=a,this.value=Object(h.f)(c,Object(h.g)(r),e.name||"bin_"+Object(h.h)(r))};var N=function(e,t,n){var r=e,i=t||[],a=n||[],o={},u=0;return{add:function(e){a.push(e)},remove:function(e){o[r(e)]=++u},size:function(){return i.length},data:function(e,t){return u&&(i=i.filter((function(e){return!o[r(e)]})),o={},u=0),t&&e&&i.sort(e),a.length&&(i=e?Object(h.M)(e,i,a.sort(e)):i.concat(a),a=[]),i}}};function B(e){p.g.call(this,[],e)}function R(e){p.d.call(this,null,z,e)}function z(e){return this.value&&!e.modified()?this.value:Object(h.k)(e.fields,e.orders)}function L(e){p.g.call(this,null,e)}B.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(h.y)(B,p.g).transform=function(e,t){var n=t.fork(t.ALL),r=N(p.t,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(Object(p.q)(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n},Object(h.y)(R,p.d),L.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var I=Object(h.y)(L,p.g);function U(e){p.g.call(this,null,e)}I.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(u(n),e.case,a)||[],c=0,s=i.length;c<s;++c)o.test(r=i[c])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,u=e.field,c=e.as||["text","count"],s=n((function(e){i[e]=1+(i[e]||0)})),l=n((function(e){i[e]-=1}));return r?t.visit(t.SOURCE,s):(t.visit(t.ADD,s),t.visit(t.REM,l)),this._finish(t,c)},I._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},I._finish=function(e,t){var n,r,i,a=this._counts,o=this._tuples||(this._tuples={}),u=t[0],c=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in a)r=o[n],i=a[n]||0,!r&&i?(o[n]=r=Object(p.l)({}),r[u]=n,r[c]=i,s.add.push(r)):0===i?(r&&s.rem.push(r),a[n]=null,o[n]=null):r[c]!==i&&(r[c]=i,s.mod.push(r));return s.modifies(t)},U.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(h.y)(U,p.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=this.value,i=e.as||["a","b"],a=i[0],o=i[1];return!r||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(r&&(n.rem=r),r=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,r){for(var i,a,o=[],u={},c=e.length,s=0;s<c;++s)for(u[t]=a=e[s],i=0;i<c;++i)u[n]=e[i],r(u)&&(o.push(Object(p.l)(u)),(u={})[t]=a);return o}(r,a,o,e.filter||h.gb)):n.mod=r,n.source=this.value,n.modifies(i)};var q={kde:A.r,mixture:A.u,normal:A.v,lognormal:A.t,uniform:A.w};function $(e){p.g.call(this,null,e)}var H=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],W={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:H},{name:"weights",type:"number",array:!0}]};function G(e,t){return e?e.map((function(e,n){return t[n]||Object(h.h)(e)})):null}function K(e,t,n){var r,i,a,o,u,c,s=[],l=function(e){return e(o)};if(null==t)s.push(e.map(n));else for(r={},i=0,a=e.length;i<a;++i)o=e[i],(c=r[u=t.map(l)])||(r[u]=c=[],c.dims=u,s.push(c)),c.push(n(o));return s}$.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:H.concat(W)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(h.y)($,p.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=function e(t,n){var r=t.function;Object(h.v)(q,r)||Object(h.n)("Unknown distribution function: "+r);var i=q[r]();for(var a in t)"field"===a?i.data((t.from||n()).map(t[a])):"distributions"===a?i[a](t[a].map((function(t){return e(t,n)}))):"function"===typeof i[a]&&i[a](t[a]);return i}(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200,o=e.method||"pdf";"pdf"!==o&&"cdf"!==o&&Object(h.n)("Invalid density method: "+o),e.extent||r.data||Object(h.n)("Missing density extent parameter."),o=r[o];var u=e.as||["value","density"],c=e.extent||Object(h.p)(r.data()),s=Object(A.E)(o,c,i,a).map((function(e){var t={};return t[u[0]]=e[0],t[u[1]]=e[1],Object(p.l)(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n};function V(e){p.g.call(this,null,e)}function Y(e){p.d.call(this,null,J,e),this.modified(!0)}function J(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(h.f)((function(n){return t(n,e)}),Object(h.g)(t),Object(h.h)(t))}function X(e){p.g.call(this,[void 0,void 0],e)}function Z(e,t){p.d.call(this,e),this.parent=t,this.count=0}V.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},Object(h.y)(V,p.g).transform=function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;for(var n,r=t.materialize(t.SOURCE).source,i=K(t.source,e.groupby,h.x),a=e.smooth||!1,o=e.field,u=e.step||function(e,t){return Object(h.X)(Object(h.p)(e,t))/30}(r,o),c=Object(p.q)((function(e,t){return o(e)-o(t)})),s=e.as||"bin",l=i.length,f=1/0,d=-1/0,v=0;v<l;++v){var g=i[v].sort(c);n=-1;var m=!0,y=!1,b=void 0;try{for(var x,w=Object(A.j)(g,u,a,o)[Symbol.iterator]();!(m=(x=w.next()).done);m=!0){var O=x.value;O<f&&(f=O),O>d&&(d=O),g[++n][s]=O}}catch(k){y=!0,b=k}finally{try{m||null==w.return||w.return()}finally{if(y)throw b}}}return this.value={start:f,stop:d,step:u},t.reflow(!0).modifies(s)},Object(h.y)(Y,p.d),X.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(h.y)(X,p.g).transform=function(e,t){var n,r=this.value,i=e.field,a=r[0],o=r[1];if(((n=t.changed()||t.modified(i.fields)||e.modified("field"))||null==a)&&(a=1/0,o=-1/0),t.visit(n?t.SOURCE:t.ADD,(function(e){var t=Object(h.cb)(i(e));null!=t&&(t<a&&(a=t),t>o&&(o=t))})),!Number.isFinite(a)||!Number.isFinite(o)){var u=Object(h.h)(i);u&&(u=' for field "'.concat(u,'"')),t.dataflow.warn("Infinite extent".concat(u,": [").concat(a,", ").concat(o,"]")),a=o=void 0}this.value=[a,o]};var Q=Object(h.y)(Z,p.d);function ee(e){p.g.call(this,{},e),this._keys=Object(h.s)();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}Q.connect=function(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},Q.add=function(e){this.count+=1,this.value.add.push(e)},Q.rem=function(e){this.count-=1,this.value.rem.push(e)},Q.mod=function(e){this.value.mod.push(e)},Q.init=function(e){this.value.init(e,e.NO_SOURCE)},Q.evaluate=function(){return this.value};var te=Object(h.y)(ee,p.g);function ne(e){p.d.call(this,null,re,e)}function re(e){return this.value&&!e.modified()?this.value:Object(h.A)(e.name)?Object(h.i)(e.name).map((function(e){return Object(h.t)(e)})):Object(h.t)(e.name,e.as)}function ie(e){p.g.call(this,Object(h.s)(),e)}function ae(e){p.g.call(this,[],e)}function oe(e){p.g.call(this,[],e)}function ue(e){p.g.call(this,null,e)}function ce(e){p.g.call(this,[],e)}te.activate=function(e){this._targets[this._targets.active++]=e},te.subflow=function(e,t,n,r){var i,a,o=this.value,u=Object(h.v)(o,e)&&o[e];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(a=r||(a=this._group[e])&&a.tuple,i=n.dataflow,u=new Z(n.fork(n.NO_SOURCE),this),i.add(u).connect(t(i,e,a)),o[e]=u,this.activate(u)),u},te.clean=function(){var e=this.value;for(var t in e)if(0===e[t].count){var n=e[t].detachSubflow;n&&n(),delete e[t]}},te.initTargets=function(){for(var e=this._targets,t=e.length,n=0;n<t&&null!=e[n];++n)e[n]=null;e.active=0},te.transform=function(e,t){var n=this,r=t.dataflow,i=e.key,a=e.subflow,o=this._keys,u=e.modified("key"),c=function(e){return n.subflow(e,a,t)};return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(function(e){var t=Object(p.t)(e),n=o.get(t);void 0!==n&&(o.delete(t),c(n).rem(e))})),t.visit(t.ADD,(function(e){var t=i(e);o.set(Object(p.t)(e),t),c(t).add(e)})),u||t.modified(i.fields)?t.visit(t.MOD,(function(e){var t=Object(p.t)(e),n=o.get(t),r=i(e);n===r?c(r).mod(e):(o.set(t,r),c(n).rem(e),c(r).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(function(e){c(o.get(Object(p.t)(e))).mod(e)})),u&&t.visit(t.REFLOW,(function(e){var t=Object(p.t)(e),n=o.get(t),r=i(e);n!==r&&(o.set(t,r),c(n).rem(e),c(r).add(e))})),t.clean()?r.runAfter((function(){n.clean(),o.clean()})):o.empty>r.cleanThreshold&&r.runAfter(o.clean),t},Object(h.y)(ne,p.d),ie.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(h.y)(ie,p.g).transform=function(e,t){var n=t.dataflow,r=this.value,i=t.fork(),a=i.add,o=i.rem,u=i.mod,c=e.expr,s=!0;function l(t){var n=Object(p.t)(t),i=c(t,e),l=r.get(n);i&&l?(r.delete(n),a.push(t)):i||l?s&&i&&!l&&u.push(t):(r.set(n,1),o.push(t))}return t.visit(t.REM,(function(e){var t=Object(p.t)(e);r.has(t)?r.delete(t):o.push(e)})),t.visit(t.ADD,(function(t){c(t,e)?a.push(t):r.set(Object(p.t)(t),1)})),t.visit(t.MOD,l),e.modified()&&(s=!1,t.visit(t.REFLOW,l)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i},ae.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(h.y)(ae,p.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=G(r,e.as||[]),a=e.index||null,o=i.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,u,c,s=r.map((function(t){return t(e)})),l=s.reduce((function(e,t){return Math.max(e,t.length)}),0),f=0;f<l;++f){for(u=Object(p.k)(e),t=0;t<o;++t)u[i[t]]=null==(c=s[t][f])?null:c;a&&(u[a]=f),n.add.push(u)}})),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)},oe.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(h.y)(oe,p.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(h.h),a=e.as||["key","value"],o=a[0],u=a[1],c=r.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,a=0;a<c;++a)(t=Object(p.k)(e))[o]=i[a],t[u]=r[a](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(a)},ue.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(h.y)(ue,p.g).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,(function(t){return t[r]=n(t,e)}))},Object(h.y)(ce,p.g).transform=function(e,t){var n,r,i,a=this.value,o=t.fork(t.ALL),u=e.size-a.length,c=e.generator;if(u>0){for(n=[];--u>=0;)n.push(i=Object(p.l)(c(e))),a.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else r=a.slice(0,-u),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,a=a.slice(-u);return o.source=this.value=a,o};var se=n(607);var le=n(209),fe=n(210),de={value:"value",median:se.a,mean:function(e,t){var n=0,r=0;if(void 0===t){var i=!0,a=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;null!=s&&(s=+s)>=s&&(++n,r+=s)}}catch(m){a=!0,o=m}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}else{var l=-1,f=!0,d=!1,h=void 0;try{for(var p,v=e[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;null!=(g=t(g,++l,e))&&(g=+g)>=g&&(++n,r+=g)}}catch(m){d=!0,h=m}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}if(n)return r/n},min:le.a,max:fe.a},he=[];function pe(e){p.g.call(this,[],e)}function ve(e){F.call(this,e)}pe.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(h.y)(pe,p.g).transform=function(e,t){var n,r,i,a,o,u,c,s,l,f,d=t.fork(t.ALL),v=function(e){var t,n=e.method||de.value;if(null!=de[n])return n===de.value?(t=void 0!==e.value?e.value:0,function(){return t}):de[n];Object(h.n)("Unrecognized imputation method: "+n)}(e),g=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),m=Object(h.h)(e.field),y=Object(h.h)(e.key),b=(e.groupby||[]).map(h.h),x=function(e,t,n,r){var i,a,o,u,c,s,l,f,d=function(e){return e(f)},h=[],p=r?r.slice():[],v={},g={};for(p.forEach((function(e,t){v[e]=t+1})),u=0,l=e.length;u<l;++u)f=e[u],s=n(f),c=v[s]||(v[s]=p.push(s)),a=(i=t?t.map(d):he)+"",(o=g[a])||(o=g[a]=[],h.push(o),o.values=i),o[c-1]=f;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),w=[],O=this.value,k=x.domain.length;for(o=0,s=x.length;o<s;++o)for(i=(n=x[o]).values,r=NaN,c=0;c<k;++c)if(null==n[c]){for(a=x.domain[c],f={_impute:!0},u=0,l=i.length;u<l;++u)f[b[u]]=i[u];f[y]=a,f[m]=Number.isNaN(r)?r=v(n,g):r,w.push(Object(p.l)(f))}return w.length&&(d.add=d.materialize(d.ADD).add.concat(w)),O.length&&(d.rem=d.materialize(d.REM).rem.concat(O)),this.value=w,d},ve.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:x},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var ge=Object(h.y)(ve,F);function me(e){p.g.call(this,null,e)}function ye(e){p.d.call(this,null,be,e)}function be(e){return this.value&&!e.modified()?this.value:Object(h.I)(e.fields,e.flat)}function xe(e){p.g.call(this,[],e),this._pending=null}function we(e,t,n){n.forEach(p.l);var r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function Oe(e){p.g.call(this,{},e)}function ke(e){p.d.call(this,null,je,e)}function je(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,a=-1/0,o=e.extents;for(t=0,n=o.length;t<n;++t)(r=o[t])[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}function _e(e){p.d.call(this,null,Se,e)}function Se(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}function Ee(e){p.g.call(this,null,e)}function Ae(e){F.call(this,e)}ge.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){r.rem(e)})),t.visit(t.ADD,(function(e){r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(h.o)(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},ge.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},me.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(h.y)(me,p.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=K(r,e.groupby,e.field),a=(e.groupby||[]).map(h.h),o=e.bandwidth,u=e.cumulative?"cdf":"pdf",c=e.as||["value","density"],s=[],l=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;"pdf"!==u&&"cdf"!==u&&Object(h.n)("Invalid density method: "+u),"shared"===e.resolve&&(l||(l=Object(h.p)(r,e.field)),f=d=e.steps||d),i.forEach((function(t){var n=Object(A.r)(t,o)[u],r=e.counts?t.length:1,i=l||Object(h.p)(t);Object(A.E)(n,i,f,d).forEach((function(e){for(var n={},i=0;i<a.length;++i)n[a[i]]=t.dims[i];n[c[0]]=e[0],n[c[1]]=e[1]*r,s.push(Object(p.l)(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=s}return n},Object(h.y)(ye,p.d),Object(h.y)(xe,p.g).transform=function(e,t){var n=this,r=t.dataflow;return this._pending?we(this,t,this._pending):function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e)?t.StopPropagation:e.values?we(this,t,r.parse(e.values,e.format)):e.async?{async:r.request(e.url,e.format).then((function(e){return n._pending=Object(h.i)(e.data),function(e){return e.touch(n)}}))}:r.request(e.url,e.format).then((function(e){return we(n,t,Object(h.i)(e.data))}))},Oe.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(h.y)(Oe,p.g).transform=function(e,t){var n,r,i=t,a=e.as,o=e.fields,u=e.index,c=e.values,s=null==e.default?null:e.default,l=e.modified(),f=l?t.SOURCE:t.ADD,d=o.length;return c?(r=c.length,d>1&&!a&&Object(h.n)('Multi-field lookup requires explicit "as" parameter.'),a&&a.length!==d*r&&Object(h.n)('The "as" parameter has too few output field names.'),a=a||c.map(h.h),n=function(e){for(var t,n,i=0,l=0;i<d;++i)if(null==(n=u.get(o[i](e))))for(t=0;t<r;++t,++l)e[a[l]]=s;else for(t=0;t<r;++t,++l)e[a[l]]=c[t](n)}):(a||Object(h.n)("Missing output field names."),n=function(e){for(var t,n=0;n<d;++n)t=u.get(o[n](e)),e[a[n]]=null==t?s:t}),l?i=t.reflow(!0):f|=o.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(f,n),i.modifies(a)},Object(h.y)(ke,p.d),Object(h.y)(_e,p.d),Object(h.y)(Ee,p.g),Ee.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)},Ae.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:x,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var Ce=Object(h.y)(Ae,F);function De(e){ee.call(this,e)}function Fe(e){p.g.call(this,null,e)}function Te(e){p.g.call(this,null,e)}Ce._transform=Ce.transform,Ce.transform=function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",a=Object(h.g)(n).concat(Object(h.g)(r)),o=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort((function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0)})),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:o.map((function(){return i})),fields:o.map((function(e){return function(e,t,n,r){return Object(h.f)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,a)})),as:o.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)},Object(h.y)(De,ee).transform=function(e,t){var n=this,r=e.subflow,i=e.field,a=function(e){return n.subflow(Object(p.t)(e),r,t,e)};return(e.modified("field")||i&&t.modified(Object(h.g)(i)))&&Object(h.n)("PreFacet does not support field modification."),this.initTargets(),i?(t.visit(t.MOD,(function(e){var t=a(e);i(e).forEach((function(e){return t.mod(e)}))})),t.visit(t.ADD,(function(e){var t=a(e);i(e).forEach((function(e){return t.add(Object(p.l)(e))}))})),t.visit(t.REM,(function(e){var t=a(e);i(e).forEach((function(e){return t.rem(e)}))}))):(t.visit(t.MOD,(function(e){return a(e).mod(e)})),t.visit(t.ADD,(function(e){return a(e).add(e)})),t.visit(t.REM,(function(e){return a(e).rem(e)}))),t.clean()&&t.runAfter((function(){return n.clean()})),t},Fe.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(h.y)(Fe,p.g).transform=function(e,t){var n,r,i=e.fields,a=G(e.fields,e.as||[]),o=i?function(e,t){return function(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}(e,t,i,a)}:p.o;return this.value?r=this.value:(t=t.addAll(),r=this.value={}),n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=Object(p.t)(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=o(e,Object(p.l)({}));r[Object(p.t)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){n.mod.push(o(e,r[Object(p.t)(e)]))})),n},Object(h.y)(Te,p.g).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var Me=n(608);function Pe(e){p.g.call(this,null,e)}Pe.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};var Ne=Object(h.y)(Pe,p.g);function Be(e){p.g.call(this,null,e)}function Re(e){p.g.call(this,[],e),this.count=0}function ze(e){p.g.call(this,null,e)}function Le(e){p.g.call(this,null,e),this.modified(!0)}Ne.transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;var i=K(t.materialize(t.SOURCE).source,e.groupby,e.field),a=(e.groupby||[]).map(h.h),o=[],u=e.step||.01,c=e.probs||Object(Me.a)(u/2,1-1e-14,u),s=c.length;return i.forEach((function(e){for(var t=Object(A.n)(e,c),n=0;n<s;++n){for(var i={},u=0;u<a.length;++u)i[a[u]]=e.dims[u];i[r[0]]=c[n],i[r[1]]=t[n],o.push(Object(p.l)(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n},Object(h.y)(Be,p.g).transform=function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=Object(p.t)(e);n.rem.push(r[t]),r[t]=null})),t.visit(t.ADD,(function(e){var t=Object(p.k)(e);r[Object(p.t)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){var t,i=r[Object(p.t)(e)];for(t in e)i[t]=e[t],n.modifies(t);n.mod.push(i)}))),n},Re.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(h.y)(Re,p.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value,o=this.count,u=0,c=a.reduce((function(e,t){return e[Object(p.t)(t)]=1,e}),{});function s(e){var t,r;a.length<i?a.push(e):(r=~~((o+1)*Object(A.p)()))<a.length&&r>=u&&(t=a[r],c[Object(p.t)(t)]&&n.rem.push(t),a[r]=e),++o}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=Object(p.t)(e);c[t]&&(c[t]=-1,n.rem.push(e)),--o})),a=a.filter((function(e){return-1!==c[Object(p.t)(e)]}))),(t.rem.length||r)&&a.length<i&&t.source&&(u=o=a.length,t.visit(t.SOURCE,(function(e){c[Object(p.t)(e)]||s(e)})),u=-1),r&&a.length>i){for(var l=0,f=a.length-i;l<f;++l)c[Object(p.t)(a[l])]=-1,n.rem.push(a[l]);a=a.slice(f)}return t.mod.length&&t.visit(t.MOD,(function(e){c[Object(p.t)(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,s),(t.add.length||u<0)&&(n.add=a.filter((function(e){return!c[Object(p.t)(e)]}))),this.count=o,this.value=n.source=a,n},ze.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(h.y)(ze,p.g).transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Object(Me.a)(e.start,e.stop,e.step||1).map((function(e){var t={};return t[r]=e,Object(p.l)(t)})),n.add=t.add.concat(this.value),n}},Object(h.y)(Le,p.g).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var Ie=n(21);function Ue(e){p.g.call(this,null,e)}var qe=["unit0","unit1"];Ue.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:Ie.j,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:qe}]};var $e=Object(h.y)(Ue,p.g);function He(e){p.g.call(this,Object(h.s)(),e)}function We(e){p.g.call(this,null,e)}$e.transform=function(e,t){var n=e.field,r=!1!==e.interval,i="utc"===e.timezone,a=this._floor(e,t),o=(i?Ie.v:Ie.p)(a.unit).offset,u=e.as||qe,c=u[0],s=u[1],l=a.start||1/0,f=a.stop||-1/0,d=a.step,p=t.ADD;return(e.modified()||t.modified(Object(h.g)(n)))&&(p=(t=t.reflow(!0)).SOURCE,l=1/0,f=-1/0),t.visit(p,(function(e){var t,i,u=n(e);null==u?(e[c]=null,r&&(e[s]=null)):(e[c]=t=i=a(u),r&&(e[s]=i=o(t,d)),t<l&&(l=t),i>f&&(f=i))})),a.start=l,a.stop=f,t.modifies(r?u:c)},$e._floor=function(e,t){var n="utc"===e.timezone,r=e.units?{units:e.units,step:e.step||1}:Object(Ie.n)({extent:e.extent||Object(h.p)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),i=r.units,a=r.step;i=Object(Ie.t)(i);var o=this.value||{},u=(n?Ie.u:Ie.o)(i,a);return u.unit=Object(h.U)(i),u.units=i,u.step=a,u.start=o.start,u.stop=o.stop,this.value=u},Object(h.y)(He,p.g).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,a=!0;function o(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,(function(e){i.delete(r(e))})),t.visit(t.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()},Object(h.y)(We,p.g).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Object(p.q)(e.sort)):t.source).map(e.field))};var Ge={row_number:function(){return{next:function(e){return e.index+1}}},rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){return e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=Ge.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){return e=0},next:function(t){var n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Object(h.n)("ntile num must be greater than zero.");var n=Ge.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return(t=+t)>0||Object(h.n)("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){var t;return{init:function(){return t=null},next:function(n){var r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){var t,n;return{init:function(){return t=null,n=-1},next:function(r){var i=r.data;return r.index<=n?t:(n=function(e,t,n){for(var r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var Ke=Object.keys(Ge);function Ve(e){var t=Object(h.i)(e.ops),n=Object(h.i)(e.fields),r=Object(h.i)(e.params),i=Object(h.i)(e.as),a=this.outputs=[],o=this.windows=[],u={},c={},s=!0,l=[],f=[];function d(e){Object(h.i)(Object(h.g)(e)).forEach((function(e){return u[e]=1}))}d(e.sort),t.forEach((function(e,t){var u=n[t],p=Object(h.h)(u),v=g(e,p,i[t]);if(d(u),a.push(v),Object(h.v)(Ge,e))o.push(function(e,t,n,r){var i=Ge[e](t,n);return{init:i.init||h.kb,update:function(e,t){t[r]=i.next(e)}}}(e,n[t],r[t],v));else{if(null==u&&"count"!==e&&Object(h.n)("Null aggregate field specified."),"count"===e)return void l.push(v);s=!1;var m=c[p];m||((m=c[p]=[]).field=u,f.push(m)),m.push(w(e,v))}})),(l.length||f.length)&&(this.cell=function(e,t,n){e=e.map((function(e){return E(e,e.field)}));var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var u=r.data=new C;return r.add=function(e){if(r.num+=1,!n){u&&u.add(e);for(var t=0;t<i;++t)a[t].add(a[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){u&&u.rem(e);for(var t=0;t<i;++t)a[t].rem(a[t].get(e),e)}},r.set=function(e){var i,o;for(u&&u.values(),i=0,o=t.length;i<o;++i)e[t[i]]=r.num;if(!n)for(i=0,o=a.length;i<o;++i)a[i].set(e)},r.init=function(){r.num=0,u&&u.reset();for(var e=0;e<i;++e)a[e].init()},r}(f,l,s)),this.inputs=Object.keys(u)}var Ye=Ve.prototype;Ye.init=function(){this.windows.forEach((function(e){return e.init()})),this.cell&&this.cell.init()},Ye.update=function(e,t){var n,r=this.cell,i=this.windows,a=e.data,o=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(a[n]);for(n=e.p1;n<e.i1;++n)r.add(a[n]);r.set(t)}for(n=0;n<o;++n)i[n].update(e,t)};var Je=n(287);function Xe(e){p.g.call(this,{},e),this._mlen=0,this._mods=[]}Xe.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ke.concat(x)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var Ze=Object(h.y)(Xe,p.g);function Qe(e,t,n,r){var i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],u=e.data(n),c=u.length,s=0,l=a?Object(Je.a)(i):null,f={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:i||Object(h.l)(-1)};for(t.init();s<c;++s)et(f,o,s,c),a&&tt(f,l),t.update(f,u[s])}function et(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function tt(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}Ze.transform=function(e,t){var n,r,i=this,a=i.state,o=e.modified(),u=Object(p.q)(e.sort);this.stamp=t.stamp,a&&!o||(a=i.state=new Ve(e));var c=v(e.groupby);function s(e){return i.group(c(e))}for(o||t.modified(a.inputs)?(i.value={},t.visit(t.SOURCE,(function(e){s(e).add(e)}))):(t.visit(t.REM,(function(e){s(e).remove(e)})),t.visit(t.ADD,(function(e){s(e).add(e)}))),n=0,r=i._mlen;n<r;++n)Qe(i._mods[n],a,u,e);return i._mlen=0,i._mods=[],t.reflow(o).modifies(a.outputs)},Ze.group=function(e){var t=this.value[e];return t||((t=this.value[e]=N(p.t)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t};var nt="top",rt="left",it="right",at="end",ot="row",ut=n(18);function ct(e){p.g.call(this,null,e)}function st(e,t,n){return t(e.bounds.clear(),e,n)}Object(h.y)(ct,p.g).transform=function(e,t){var n,r=t.dataflow,i=e.mark,a=i.marktype,o=ut.h[a],u=o.bound,c=i.bounds;if(o.nested)i.items.length&&r.dirty(i.items[0]),c=st(i,u),i.items.forEach((function(e){e.bounds.clear().union(c)}));else if("group"===a||e.modified())switch(t.visit(t.MOD,(function(e){return r.dirty(e)})),c.clear(),i.items.forEach((function(e){return c.union(st(e,u))})),i.role){case"axis":case"legend":case"title":t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,(function(e){c.union(st(e,u))})),t.visit(t.MOD,(function(e){n=n||c.alignsWith(e.bounds),r.dirty(e),c.union(st(e,u))})),n&&(c.clear(),i.items.forEach((function(e){return c.union(e.bounds)})));return Object(ut.p)(i),t.modifies("bounds")};function lt(e){p.g.call(this,0,e)}function ft(e){p.g.call(this,null,e)}function dt(e){p.g.call(this,null,e)}lt.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(h.y)(lt,p.g).transform=function(e,t){var n=function(e){var t=e._signals[":vega_identifier:"];t||(e._signals[":vega_identifier:"]=t=e.add(0));return t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,(function(e){e[i]||(e[i]=++r)})),n.set(this.value=r),t},Object(h.y)(ft,p.g).transform=function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var r="group"===n.marktype?ut.e:ut.g;return t.visit(t.ADD,(function(e){return r.call(e,n)})),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t};var ht=Object(h.y)(dt,p.g),pt={parity:function(e){return e.filter((function(e,t){return t%2?e.opacity=0:1}))},greedy:function(e,t){var n;return e.filter((function(e,r){return r&&vt(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)}))}};function vt(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function gt(e,t){for(var n,r=1,i=e.length,a=e[0].bounds;r<i;a=n,++r)if(vt(a,n=e[r].bounds,t))return!0}function mt(e){var t=e.bounds;return t.width()>1&&t.height()>1}function yt(e){return e.forEach((function(e){return e.opacity=1})),e}function bt(e,t){return e.reflow(t.modified()).modifies("opacity")}function xt(e){p.g.call(this,null,e)}ht.transform=function(e,t){var n,r,i,a=pt[e.method]||pt.parity,o=t.materialize(t.SOURCE).source,u=e.separation||0;if(o&&o.length){if(!e.method)return e.modified("method")&&(yt(o),t=bt(t,e)),t;if((o=o.filter(mt)).length){if(e.sort&&(o=o.slice().sort(e.sort)),n=yt(o),t=bt(t,e),n.length>=3&&gt(n,u)){do{n=a(n,u)}while(n.length>=3&&gt(n,u));n.length<3&&!Object(h.U)(o).opacity&&(n.length>1&&(Object(h.U)(n).opacity=0),Object(h.U)(o).opacity=1)}return e.boundScale&&e.boundTolerance>=0&&(r=function(e,t,n){var r=e.range(),i=new ut.a;return t===nt||"bottom"===t?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}(e.boundScale,e.boundOrient,+e.boundTolerance),o.forEach((function(e){r(e)||(e.opacity=0)}))),i=n[0].mark.bounds.clear(),o.forEach((function(e){e.opacity&&i.union(e.bounds)})),t}}},Object(h.y)(xt,p.g).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,(function(e){return n.dirty(e)})),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};var wt=new ut.a;function Ot(e,t,n){return e[t]===n?0:(e[t]=n,1)}function kt(e){var t=e.items[0].orient;return t===rt||t===it}function jt(e,t,n,r){var i,a,o=t.items[0],u=o.datum,c=null!=o.translate?o.translate:.5,s=o.orient,l=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(u),f=o.range,d=o.offset,h=o.position,p=o.minExtent,v=o.maxExtent,g=u.title&&o.items[l[2]].items[0],m=o.titlePadding,y=o.bounds,b=g&&Object(ut.I)(g),x=0,w=0;switch(wt.clear().union(y),y.clear(),(i=l[0])>-1&&y.union(o.items[i].bounds),(i=l[1])>-1&&y.union(o.items[i].bounds),s){case nt:x=h||0,w=-d,a=Math.max(p,Math.min(v,-y.y1)),y.add(0,-a).add(f,0),g&&_t(e,g,a,m,b,0,-1,y);break;case rt:x=-d,w=h||0,a=Math.max(p,Math.min(v,-y.x1)),y.add(-a,0).add(0,f),g&&_t(e,g,a,m,b,1,-1,y);break;case it:x=n+d,w=h||0,a=Math.max(p,Math.min(v,y.x2)),y.add(0,0).add(a,f),g&&_t(e,g,a,m,b,1,1,y);break;case"bottom":x=h||0,w=r+d,a=Math.max(p,Math.min(v,y.y2)),y.add(0,0).add(f,a),g&&_t(e,g,a,m,0,0,1,y);break;default:x=o.x,w=o.y}return Object(ut.t)(y.translate(x,w),o),Ot(o,"x",x+c)|Ot(o,"y",w+c)&&(o.bounds=wt,e.dirty(o),o.bounds=y,e.dirty(o)),o.mark.bounds.clear().union(y)}function _t(e,t,n,r,i,a,o,u){var c=t.bounds;if(t.auto){var s=o*(n+i+r),l=0,f=0;e.dirty(t),a?l=(t.x||0)-(t.x=s):f=(t.y||0)-(t.y=s),t.mark.bounds.clear().union(c.translate(-l,-f)),e.dirty(t)}u.union(c)}var St=n(6),Et=function(e,t){return Math.floor(Math.min(e,t))},At=function(e,t){return Math.ceil(Math.max(e,t))};function Ct(e){return(new ut.a).set(0,0,e.width||0,e.height||0)}function Dt(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Ft(e,t,n){var r=Object(h.F)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function Tt(e){return e<0?Math.ceil(-e):0}function Mt(e,t,n){var r,i,a,o,u,c,s,l,f,d,h,p=!n.nodirty,v="flush"===n.bounds?Ct:Dt,g=wt.set(0,0,0,0),m=Ft(n.align,"column"),y=Ft(n.align,ot),b=Ft(n.padding,"column"),x=Ft(n.padding,ot),w=n.columns||t.length,O=w<=0?1:Math.ceil(t.length/w),k=t.length,j=Array(k),_=Array(w),S=0,E=Array(k),A=Array(O),C=0,D=Array(k),F=Array(k),T=Array(k);for(i=0;i<w;++i)_[i]=0;for(i=0;i<O;++i)A[i]=0;for(i=0;i<k;++i)c=t[i],u=T[i]=v(c),c.x=c.x||0,D[i]=0,c.y=c.y||0,F[i]=0,a=i%w,o=~~(i/w),S=Math.max(S,s=Math.ceil(u.x2)),C=Math.max(C,l=Math.ceil(u.y2)),_[a]=Math.max(_[a],s),A[o]=Math.max(A[o],l),j[i]=b+Tt(u.x1),E[i]=x+Tt(u.y1),p&&e.dirty(t[i]);for(i=0;i<k;++i)i%w===0&&(j[i]=0),i<w&&(E[i]=0);if("each"===m)for(a=1;a<w;++a){for(h=0,i=a;i<k;i+=w)h<j[i]&&(h=j[i]);for(i=a;i<k;i+=w)j[i]=h+_[a-1]}else if("all"===m){for(h=0,i=0;i<k;++i)i%w&&h<j[i]&&(h=j[i]);for(i=0;i<k;++i)i%w&&(j[i]=h+S)}else for(m=!1,a=1;a<w;++a)for(i=a;i<k;i+=w)j[i]+=_[a-1];if("each"===y)for(o=1;o<O;++o){for(h=0,r=(i=o*w)+w;i<r;++i)h<E[i]&&(h=E[i]);for(i=o*w;i<r;++i)E[i]=h+A[o-1]}else if("all"===y){for(h=0,i=w;i<k;++i)h<E[i]&&(h=E[i]);for(i=w;i<k;++i)E[i]=h+C}else for(y=!1,o=1;o<O;++o)for(r=(i=o*w)+w;i<r;++i)E[i]+=A[o-1];for(f=0,i=0;i<k;++i)f=j[i]+(i%w?f:0),D[i]+=f-t[i].x;for(a=0;a<w;++a)for(d=0,i=a;i<k;i+=w)d+=E[i],F[i]+=d-t[i].y;if(m&&Ft(n.center,"column")&&O>1)for(i=0;i<k;++i)(f=(u="all"===m?S:_[i%w])-T[i].x2-t[i].x-D[i])>0&&(D[i]+=f/2);if(y&&Ft(n.center,ot)&&1!==w)for(i=0;i<k;++i)(d=(u="all"===y?C:A[~~(i/w)])-T[i].y2-t[i].y-F[i])>0&&(F[i]+=d/2);for(i=0;i<k;++i)g.union(T[i].translate(D[i],F[i]));switch(f=Ft(n.anchor,"x"),d=Ft(n.anchor,"y"),Ft(n.anchor,"column")){case at:f-=g.width();break;case"middle":f-=g.width()/2}switch(Ft(n.anchor,ot)){case at:d-=g.height();break;case"middle":d-=g.height()/2}for(f=Math.round(f),d=Math.round(d),g.clear(),i=0;i<k;++i)t[i].mark.bounds.clear();for(i=0;i<k;++i)(c=t[i]).x+=D[i]+=f,c.y+=F[i]+=d,g.union(c.mark.bounds.union(c.bounds.translate(D[i],F[i]))),p&&e.dirty(c);return g}function Pt(e,t,n){var r,i,a,o,u,c,s,l=function(e){for(var t,n,r,i,a,o,u,c=e.items,s=c.length,l=0,f={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};l<s;++l)if(u=(o=c[l]).items,"group"===o.marktype)switch(o.role){case"axis":case"legend":case"title":break;case"row-header":(t=f.rowheaders).push.apply(t,Object(St.a)(u));break;case"row-footer":(n=f.rowfooters).push.apply(n,Object(St.a)(u));break;case"column-header":(r=f.colheaders).push.apply(r,Object(St.a)(u));break;case"column-footer":(i=f.colfooters).push.apply(i,Object(St.a)(u));break;case"row-title":f.rowtitle=u[0];break;case"column-title":f.coltitle=u[0];break;default:(a=f.marks).push.apply(a,Object(St.a)(u))}return f}(t),f=l.marks,d="flush"===n.bounds?Nt:Bt,h=n.offset,p=n.columns||f.length,v=p<=0?1:Math.ceil(f.length/p),g=v*p,m=Mt(e,f,n);m.empty()&&m.set(0,0,0,0),l.rowheaders&&(c=Ft(n.headerBand,ot,null),r=Rt(e,l.rowheaders,f,p,v,-Ft(h,"rowHeader"),Et,0,d,"x1",0,p,1,c)),l.colheaders&&(c=Ft(n.headerBand,"column",null),i=Rt(e,l.colheaders,f,p,p,-Ft(h,"columnHeader"),Et,1,d,"y1",0,1,p,c)),l.rowfooters&&(c=Ft(n.footerBand,ot,null),a=Rt(e,l.rowfooters,f,p,v,Ft(h,"rowFooter"),At,0,d,"x2",p-1,p,1,c)),l.colfooters&&(c=Ft(n.footerBand,"column",null),o=Rt(e,l.colfooters,f,p,p,Ft(h,"columnFooter"),At,1,d,"y2",g-p,1,p,c)),l.rowtitle&&(u=Ft(n.titleAnchor,ot),s=Ft(h,"rowTitle"),s=u===at?a+s:r-s,c=Ft(n.titleBand,ot,.5),zt(e,l.rowtitle,s,0,m,c)),l.coltitle&&(u=Ft(n.titleAnchor,"column"),s=Ft(h,"columnTitle"),s=u===at?o+s:i-s,c=Ft(n.titleBand,"column",.5),zt(e,l.coltitle,s,1,m,c))}function Nt(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function Bt(e,t){return e.bounds[t]}function Rt(e,t,n,r,i,a,o,u,c,s,l,f,d,h){var p,v,g,m,y,b,x,w,O,k=n.length,j=0,_=0;if(!k)return j;for(p=l;p<k;p+=f)n[p]&&(j=o(j,c(n[p],s)));if(!t.length)return j;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),j+=a,v=0,m=t.length;v<m;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(p=l,v=0,m=t.length;v<m;++v,p+=f){for(y=(b=t[v]).mark.bounds,g=p;g>=0&&null==(x=n[g]);g-=d);u?(w=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),O=j):(w=j,O=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),O-(b.y||0))),b.x=w,b.y=O,e.dirty(b),_=o(_,y[s])}return _}function zt(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,u=n;r?o=Math.round(i.x1+a*i.width()):u=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=u,e.dirty(t)}}function Lt(e,t,n,r,i,a,o){var u=function(e,t){var n=e[t]||{};return function(t,r){return null!=n[t]?n[t]:null!=e[t]?e[t]:r}}(n,t),c=function(e,t){var n=-1/0;return e.forEach((function(e){null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,u("offset",0)),s=u("anchor","start"),l=s===at?1:"middle"===s?.5:0,f={align:"each",bounds:u("bounds","flush"),columns:"vertical"===u("direction")?1:e.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(t){case rt:f.anchor={x:Math.floor(r.x1)-c,column:at,y:l*(o||r.height()+2*r.y1),row:s};break;case it:f.anchor={x:Math.ceil(r.x2)+c,y:l*(o||r.height()+2*r.y1),row:s};break;case nt:f.anchor={y:Math.floor(i.y1)-c,row:at,x:l*(a||i.width()+2*i.x1),column:s};break;case"bottom":f.anchor={y:Math.ceil(i.y2)+c,x:l*(a||i.width()+2*i.x1),column:s};break;case"top-left":f.anchor={x:c,y:c};break;case"top-right":f.anchor={x:a-c,y:c,column:at};break;case"bottom-left":f.anchor={x:c,y:o-c,row:at};break;case"bottom-right":f.anchor={x:a-c,y:o-c,column:at,row:at}}return f}function It(e,t){var n,r,i=t.items[0],a=i.datum,o=i.orient,u=i.bounds,c=i.x,s=i.y;return i._bounds?i._bounds.clear().union(u):i._bounds=u.clone(),u.clear(),function(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(t.datum.title){var o=t.items[1].items[0],u=o.anchor,c=t.titlePadding||0,s=r-o.x,l=r-o.y;switch(o.orient){case rt:i+=Math.ceil(o.bounds.width())+c;break;case it:case"bottom":break;default:a+=o.bounds.height()+c}switch((i||a)&&qt(e,n,i,a),o.orient){case rt:l+=Ut(t,n,o,u,1,1);break;case it:s+=Ut(t,n,o,at,0,0)+c,l+=Ut(t,n,o,u,1,1);break;case"bottom":s+=Ut(t,n,o,u,0,0),l+=Ut(t,n,o,at,-1,0,1)+c;break;default:s+=Ut(t,n,o,u,0,0)}(s||l)&&qt(e,o,s,l),(s=Math.round(o.bounds.x1-r))<0&&(qt(e,n,-s,0),qt(e,o,-s,0))}else(i||a)&&qt(e,n,i,a)}(e,i,i.items[0].items[0]),u=function(e,t){return e.items.forEach((function(e){return t.union(e.bounds)})),t.x1=e.padding,t.y1=e.padding,t}(i,u),n=2*i.padding,r=2*i.padding,u.empty()||(n=Math.ceil(u.width()+n),r=Math.ceil(u.height()+r)),"symbol"===a.type&&function(e){var t=e.reduce((function(e,t){return e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e}),{});e.forEach((function(e){e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(i.items[0].items[0].items[0].items),"none"!==o&&(i.x=c=0,i.y=s=0),i.width=n,i.height=r,Object(ut.t)(u.set(c,s,c+n,s+r),i),i.mark.bounds.clear().union(u),i}function Ut(e,t,n,r,i,a,o){var u="symbol"!==e.datum.type,c=n.datum.vgrad,s=(!u||!a&&c||o?t:t.items[0]).bounds[i?"y2":"x2"]-e.padding,l=c&&a?s:0,f=c&&a?0:s,d=i<=0?0:Object(ut.I)(n);return Math.round("start"===r?l:r===at?f-d:.5*(s-d))}function qt(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function $t(e){p.g.call(this,null,e)}Object(h.y)($t,p.g).transform=function(e,t){var n,r=t.dataflow;return e.mark.items.forEach((function(t){e.layout&&Pt(r,t,e.layout),function(e,t,n){var r,i,a,o,u,c=t.items,s=Math.max(0,t.width||0),l=Math.max(0,t.height||0),f=(new ut.a).set(0,0,s,l),d=f.clone(),h=f.clone(),p=[];for(o=0,u=c.length;o<u;++o)switch((i=c[o]).role){case"axis":(kt(i)?d:h).union(jt(e,i,s,l));break;case"title":r=i;break;case"legend":p.push(It(e,i));break;case"frame":case"scope":case"row-header":case"row-footer":case"row-title":case"column-header":case"column-footer":case"column-title":d.union(i.bounds),h.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){var v={};for(var g in p.forEach((function(e){"none"!==(a=e.orient||it)&&(v[a]||(v[a]=[])).push(e)})),v){var m=v[g];Mt(e,m,Lt(m,g,n.legends,d,h,s,l))}p.forEach((function(t){var r=t.bounds;if(r.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=r,e.dirty(t)),n.autosize&&"fit"===n.autosize.type)switch(t.orient){case rt:case it:f.add(r.x1,0).add(r.x2,0);break;case nt:case"bottom":f.add(0,r.y1).add(0,r.y2)}else f.union(r)}))}f.union(d).union(h),r&&f.union(function(e,t,n,r,i){var a,o=t.items[0],u=o.frame,c=o.orient,s=o.anchor,l=o.offset,f=o.padding,d=o.items[0].items[0],h=o.items[1]&&o.items[1].items[0],p=c===rt||c===it?r:n,v=0,g=0,m=0,y=0,b=0;if("group"!==u?c===rt?(v=i.y2,p=i.y1):c===it?(v=i.y1,p=i.y2):(v=i.x1,p=i.x2):c===rt&&(v=r,p=0),a="start"===s?v:s===at?p:(v+p)/2,h&&h.text){switch(c){case nt:case"bottom":b=d.bounds.height()+f;break;case rt:y=d.bounds.width()+f;break;case it:y=-d.bounds.width()-f}wt.clear().union(h.bounds),wt.translate(y-(h.x||0),b-(h.y||0)),Ot(h,"x",y)|Ot(h,"y",b)&&(e.dirty(h),h.bounds.clear().union(wt),h.mark.bounds.clear().union(wt),e.dirty(h)),wt.clear().union(h.bounds)}else wt.clear();switch(wt.union(d.bounds),c){case nt:g=a,m=i.y1-wt.height()-l;break;case rt:g=i.x1-wt.width()-l,m=a;break;case it:g=i.x2+wt.width()+l,m=a;break;case"bottom":g=a,m=i.y2+l;break;default:g=o.x,m=o.y}return Ot(o,"x",g)|Ot(o,"y",m)&&(wt.translate(g,m),e.dirty(o),o.bounds.clear().union(wt),t.bounds.clear().union(wt),e.dirty(o)),o.bounds}(e,r,s,l,f));t.clip&&f.set(0,0,t.width||0,t.height||0);!function(e,t,n,r){var i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;var o=e._width,u=e._height,c=Math.max(0,t.width||0),s=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,Math.ceil(n.x2-c)),f=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1)),h=Math.max(0,Math.ceil(n.y2-f));if("padding"===i.contains){var p=e.padding();o-=p.left+p.right,u-=p.top+p.bottom}"none"===a?(s=0,d=0,c=o,f=u):"fit"===a?(c=Math.max(0,o-s-l),f=Math.max(0,u-d-h)):"fit-x"===a?(c=Math.max(0,o-s-l),u=f+d+h):"fit-y"===a?(o=c+s+l,f=Math.max(0,u-d-h)):"pad"===a&&(o=c+s+l,u=f+d+h);e._resizeView(o,u,c,f,[s,d],i.resize)}(e,t,f,n)}(r,t,e)})),(n=e.mark.group)&&"legend-entry"!==n.mark.role?t.reflow():t};var Ht=n(12);function Wt(e){p.g.call(this,null,e)}function Gt(e){p.g.call(this,null,e)}function Kt(){return Object(p.l)({})}function Vt(e){p.g.call(this,null,e)}function Yt(e){p.g.call(this,[],e)}Object(h.y)(Wt,p.g).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,o=null==e.count?e.values?e.values.length:10:e.count,u=Object(Ht.M)(a,o,e.minstep),c=e.format||Object(Ht.N)(n,a,u,e.formatSpecifier,e.formatType,!!e.values),s=e.values?Object(Ht.P)(a,e.values,u):Object(Ht.O)(a,u);return i&&(r.rem=i),i=s.map((function(e,t){return Object(p.l)({index:t/(s.length-1||1),value:e,label:c(e)})})),e.extra&&i.length&&i.push(Object(p.l)({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r},Object(h.y)(Gt,p.g).transform=function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Kt,a=e.key||p.t,o=this.value;return Object(h.A)(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&Object(h.n)("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=function(e){var t=Object(h.s)().test((function(e){return e.exit}));return t.lookup=function(n){return t.get(e(n))},t}(a)),t.visit(t.ADD,(function(e){var t=a(e),n=o.get(t);n?n.exit?(o.empty--,r.add.push(n)):r.mod.push(n):(n=i(e),o.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(function(e){var t=a(e),n=o.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(function(e){var t=a(e),n=o.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++o.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&o.empty>n.cleanThreshold)&&n.runAfter(o.clean),r},Object(h.y)(Vt,p.g).transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(Object(h.A)(a)){if(!n.changed()&&!a.every((function(e){return i[e]})))return t.StopPropagation;a=a[0],n.encode=null}var o="enter"===a,u=i.update||h.r,c=i.enter||h.r,s=i.exit||h.r,l=(a&&!o?i[a]:u)||h.r;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){c(t,e),u(t,e)})),n.modifies(c.output),n.modifies(u.output),l!==h.r&&l!==u&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&s!==h.r&&(t.visit(t.REM,(function(t){s(t,e)})),n.modifies(s.output)),o||l!==h.r){var f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,(function(t){var i=c(t,e)||r;(l(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(c.output)):t.visit(f,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation},Object(h.y)(Yt,p.g).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,r,i,a,o,u=t.dataflow.locale(),c=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=this.value,l=e.type||Ht.n,f=e.scale,d=+e.limit,v=Object(Ht.M)(f,null==e.count?5:e.count,e.minstep),g=!!e.values||l===Ht.n,m=e.format||Object(Ht.E)(u,f,v,l,e.formatSpecifier,e.formatType,g),y=e.values||Object(Ht.G)(f,v);return s&&(c.rem=s),l===Ht.n?(d&&y.length>d?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),s=y.slice(0,d-1),o=!0):s=y,Object(h.D)(i=e.size)?(e.values||0!==f(s[0])||(s=s.slice(1)),a=s.reduce((function(t,n){return Math.max(t,i(n,e))}),0)):i=Object(h.l)(a=i||8),s=s.map((function(t,n){return Object(p.l)({index:n,label:m(t,n,s),value:t,offset:a,size:i(t,e)})})),o&&(o=y[s.length],s.push(Object(p.l)({index:s.length,label:"\u2026".concat(y.length-s.length," entries"),value:o,offset:a,size:i(o,e)})))):l===Ht.d?(n=f.domain(),r=Object(Ht.J)(f,n[0],Object(h.U)(n)),y.length<3&&!e.values&&n[0]!==Object(h.U)(n)&&(y=[n[0],Object(h.U)(n)]),s=y.map((function(e,t){return Object(p.l)({index:t,label:m(e,t,y),value:e,perc:r(e)})}))):(i=y.length-1,r=Object(Ht.F)(f),s=y.map((function(e,t){return Object(p.l)({index:t,label:m(e,t,y),value:e,perc:t?r(e):0,perc2:t===i?1:r(y[t+1])})}))),c.source=s,c.add=s,this.value=s,c};var Jt=Object(h.s)({line:nn,"line-radial":function(e,t,n,r){return nn(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:rn,"arc-radial":function(e,t,n,r){return rn(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:an,"curve-radial":function(e,t,n,r){return an(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n),c=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(c?1:0)+" "+t*o+","+t*u+"L"+r*o+","+r*u},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n),c=(t+r)/2;return"M"+t*i+","+t*a+"C"+c*i+","+c*a+" "+c*o+","+c*u+" "+r*o+","+r*u}});function Xt(e){return e.source.x}function Zt(e){return e.source.y}function Qt(e){return e.target.x}function en(e){return e.target.y}function tn(e){p.g.call(this,{},e)}function nn(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function rn(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+n+","+r}function an(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),u=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(r-o)+" "+n+","+r}function on(e,t){var n=0;if(void 0===t){var r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;(c=+c)&&(n+=c)}}catch(g){i=!0,a=g}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}else{var s=-1,l=!0,f=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;(v=+t(v,++s,e))&&(n+=v)}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}return n}function un(e){p.g.call(this,null,e)}tn.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(h.y)(tn,p.g).transform=function(e,t){var n=e.sourceX||Xt,r=e.sourceY||Zt,i=e.targetX||Qt,a=e.targetY||en,o=e.as||"path",u=e.orient||"vertical",c=e.shape||"line",s=Jt.get(c+"-"+u)||Jt.get(c);return s||Object(h.n)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[o]=s(n(e),r(e),i(e),a(e))})),t.reflow(e.modified()).modifies(o)},un.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(h.y)(un,p.g).transform=function(e,t){var n,r,i,a=e.as||["startAngle","endAngle"],o=a[0],u=a[1],c=e.field||h.O,s=e.startAngle||0,l=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(c),p=d.length,v=s,g=(l-s)/on(d),m=Object(Me.a)(p);for(e.sort&&m.sort((function(e,t){return d[e]-d[t]})),n=0;n<p;++n)i=d[m[n]],(r=f[m[n]])[o]=v,r[u]=v+=i*g;return this.value=d,t.reflow(e.modified()).modifies(a)};var cn=n(273),sn=n(109);function ln(e){return Object(Ht.x)(e)&&e!==Ht.l}var fn=Object(h.db)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function dn(e){p.g.call(this,null,e),this.modified(!0)}function hn(e,t,n){Object(Ht.B)(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(h.Z)(t)));return t}function pn(e,t,n){return Object(h.D)(e)&&(t||n)?Object(Ht.w)(e,vn(t||[0,1],n)):e}function vn(e,t){return t?e.slice().reverse():e}function gn(e){p.g.call(this,null,e)}Object(h.y)(dn,p.g).transform=function(e,t){var n=t.dataflow,r=this.value,i=function(e){var t,n=e.type,r="";if(n===Ht.l)return Ht.l+"-"+Ht.e;(function(e){var t=e.type;return Object(Ht.x)(t)&&t!==Ht.q&&t!==Ht.r&&(e.scheme||e.range&&e.range.length&&e.range.every(h.H))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?Ht.l+"-":3===t?Ht.c+"-":"");return(r+n||Ht.e).toLowerCase()}(e);for(i in r&&i===r.type||(this.value=r=Object(Ht.I)(i)()),e)if(!fn[i]){if("padding"===i&&ln(r.type))continue;Object(h.D)(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return function(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(null!=t.rangeStep)a=function(e,t,n){e!==Ht.a&&e!==Ht.h&&Object(h.n)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===Ht.h?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Object(Ht.s)(n,i,r)]}(r,t,n);else if(t.scheme&&(a=function(e,t,n){var r,i,a=t.schemeExtent;Object(h.A)(t.scheme)?i=Object(Ht.v)(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(i=Object(Ht.L)(r))||Object(h.n)("Unrecognized scheme name: ".concat(t.scheme)));return n=e===Ht.p?n+1:e===Ht.b?n-1:e===Ht.j||e===Ht.k?+t.schemeCount||5:n,Object(Ht.A)(e)?pn(i,a,t.reverse):Object(h.D)(i)?Object(Ht.H)(pn(i,a),n):e===Ht.g?i:i.slice(0,n)}(r,t,n),Object(h.D)(a))){if(e.interpolator)return e.interpolator(a);Object(h.n)("Scale type ".concat(r," does not support interpolating color schemes."))}if(a&&Object(Ht.A)(r))return e.interpolator(Object(Ht.v)(vn(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(Object(Ht.u)(t.interpolate,t.interpolateGamma)):Object(h.D)(e.round)?e.round(i):Object(h.D)(e.rangeRound)&&e.interpolate(i?cn.a:sn.a);a&&e.range(vn(a,t.reverse))}(r,e,function(e,t,n){var r=t.bins;if(r&&!Object(h.A)(r)){var i=e.domain(),a=i[0],o=Object(h.U)(i),u=null==r.start?a:r.start,c=null==r.stop?o:r.stop,s=r.step;s||Object(h.n)("Scale bins parameter missing step property."),u<a&&(u=s*Math.ceil(a/s)),c>o&&(c=s*Math.floor(o/s)),r=Object(Me.a)(u,c+s/2,s)}r?e.bins=r:e.bins&&delete e.bins;e.type===Ht.b&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(hn(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var i,a,o=t.domain,u=e.type,c=t.zero||void 0===t.zero&&function(e){var t=e.type;return!e.bins&&(t===Ht.e||t===Ht.i||t===Ht.m)}(e);if(!o)return 0;ln(u)&&t.padding&&o[0]!==Object(h.U)(o)&&(o=function(e,t,n,r,i,a){var o=Math.abs(Object(h.U)(n)-n[0]),u=o/(o-2*r),c=e===Ht.f?Object(h.mb)(t,null,u):e===Ht.m?Object(h.nb)(t,null,u,.5):e===Ht.i?Object(h.nb)(t,null,u,i||1):e===Ht.o?Object(h.ob)(t,null,u,a||1):Object(h.lb)(t,null,u);return(t=t.slice())[0]=c[0],t[t.length-1]=c[1],t}(u,o,t.range,t.padding,t.exponent,t.constant));if((c||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(o=o.slice()).length-1||1,c&&(o[0]>0&&(o[0]=0),o[i]<0&&(o[i]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[i]=t.domainMax),null!=t.domainMid)){var s=(a=t.domainMid)>o[i]?i+1:a<o[0]?0:i;s!==i&&n.warn("Scale domainMid exceeds domain min or max.",a),o.splice(s,0,a)}e.domain(hn(u,o,n)),u===Ht.g&&e.unknown(t.domainImplicit?Ht.K:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&Object(Ht.M)(e,t.nice)||null);return o.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)},Object(h.y)(gn,p.g).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Object(p.q)(e.sort)),this.modified(n),t};var mn=["y0","y1"];function yn(e){p.g.call(this,null,e)}function bn(e,t,n,r,i){for(var a,o=(t-e.sum)/2,u=e.length,c=0;c<u;++c)(a=e[c])[r]=o,a[i]=o+=Math.abs(n(a))}function xn(e,t,n,r,i){for(var a,o=1/e.sum,u=0,c=e.length,s=0,l=0;s<c;++s)(a=e[s])[r]=u,a[i]=u=o*(l+=Math.abs(n(a)))}function wn(e,t,n,r,i){for(var a,o,u=0,c=0,s=e.length,l=0;l<s;++l)(a=+n(o=e[l]))<0?(o[r]=c,o[i]=c+=a):(o[r]=u,o[i]=u+=a)}yn.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:mn}]},Object(h.y)(yn,p.g).transform=function(e,t){var n,r,i,a,o=e.as||mn,u=o[0],c=o[1],s=Object(p.q)(e.sort),l=e.field||h.O,f="center"===e.offset?bn:"normalize"===e.offset?xn:wn;for(n=function(e,t,n,r){var i,a,o,u,c,s,l,f,d,h=[],p=function(e){return e(c)};if(null==t)h.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)c=e[a],s=t.map(p),(l=i[s])||(i[s]=l=[],h.push(l)),l.push(c);for(s=0,d=0,u=h.length;s<u;++s){for(l=h[s],a=0,f=0,o=l.length;a<o;++a)f+=Math.abs(r(l[a]));l.sum=f,f>d&&(d=f),n&&l.sort(n)}return h.max=d,h}(t.source,e.groupby,s,l),r=0,i=n.length,a=n.max;r<i;++r)f(n[r],a,l,u,c);return t.reflow(e.modified()).modifies(o)};var On=n(5);function kn(){}var jn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],_n=function(){var e=1,t=1,n=o;function r(e,t){return t.map((function(t){return i(e,t)}))}function i(r,i){var o=[],u=[];return function(n,r,i){var o,u,c,s,l,f,d=new Array,h=new Array;o=u=-1,s=n[0]>=r,jn[s<<1].forEach(p);for(;++o<e-1;)c=s,s=n[o+1]>=r,jn[c|s<<1].forEach(p);jn[s<<0].forEach(p);for(;++u<t-1;){for(o=-1,s=n[u*e+e]>=r,l=n[u*e]>=r,jn[s<<1|l<<2].forEach(p);++o<e-1;)c=s,s=n[u*e+e+o+1]>=r,f=l,l=n[u*e+o+1]>=r,jn[c|s<<1|l<<2|f<<3].forEach(p);jn[s|l<<3].forEach(p)}o=-1,l=n[u*e]>=r,jn[l<<2].forEach(p);for(;++o<e-1;)f=l,l=n[u*e+o+1]>=r,jn[l<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+o,e[0][1]+u],c=[e[1][0]+o,e[1][1]+u],s=a(r),l=a(c);(t=h[s])?(n=d[l])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(c),i(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(c),h[t.end=l]=t):(t=d[l])?(n=h[s])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(c),i(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(r),d[t.start=s]=t):d[s]=h[l]={start:s,end:l,ring:[r,c]}}jn[l<<3].forEach(p)}(r,i,(function(e){n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?o.push([e]):u.push(e)})),u.forEach((function(e){for(var t,n=0,r=o.length;n<r;++n)if(-1!==Sn((t=o[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(t){return 2*t[0]+t[1]*(e+1)*4}function o(n,r,i){n.forEach((function(n){var a,o=n[0],u=n[1],c=0|o,s=0|u,l=r[s*e+c];o>0&&o<e&&c===o&&(a=r[s*e+c-1],n[0]=o+(i-a)/(l-a)-.5),u>0&&u<t&&s===u&&(a=r[(s-1)*e+c],n[1]=u+(i-a)/(l-a)-.5)}))}return r.contour=i,r.size=function(n){if(!arguments.length)return[e,t];var i=Math.floor(n[0]),a=Math.floor(n[1]);return i>=0&&a>=0||Object(h.n)("invalid size"),e=i,t=a,r},r.smooth=function(e){return arguments.length?(n=e?o:kn,r):n===o},r};function Sn(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=En(e,t[r]))return n;return 0}function En(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,u=o-1;a<o;u=a++){var c=e[a],s=c[0],l=c[1],f=e[u],d=f[0],h=f[1];if(An(c,f,t))return 0;l>r!==h>r&&n<(d-s)*(r-l)/(h-l)+s&&(i=-i)}return i}function An(e,t,n){var r,i,a,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],o=t[r],i<=a&&a<=o||o<=a&&a<=i)}var Cn=n(593),Dn=function(e,t,n){return function(r){var i=Object(h.p)(r),a=n?Math.min(i[0],0):i[0],o=i[1],u=o-a,c=t?Object(Cn.c)(a,o,e):u/(e+1);return Object(Me.a)(c,o,c)}};function Fn(e){p.g.call(this,null,e)}function Tn(e,t,n,r,i){var a=e.x1||0,o=e.y1||0,u=t*n<0;function c(e){e.forEach(s)}function s(e){u&&e.reverse(),e.forEach(l)}function l(e){e[0]=(e[0]-a)*t+r,e[1]=(e[1]-o)*n+i}return function(e){return e.coordinates.forEach(c),e}}function Mn(e,t,n){var r=e>=0?e:Object(A.a)(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function Pn(e){return Object(h.D)(e)?e:Object(h.l)(+e)}Fn.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(h.y)(Fn,p.g).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||h.x,a=_n().smooth(!1!==e.smooth),o=e.thresholds||function(e,t,n){var r=Dn(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?r:r(e.map((function(e){return Object(fe.a)(t(e).values)})))}(r,i,e),u=null===e.as?null:e.as||"contour",c=[];return r.forEach((function(t){var n=i(t),r=a.size([n.width,n.height])(n.values,Object(h.A)(o)?o:o(n.values));!function(e,t,n,r){var i=r.scale||t.scale,a=r.translate||t.translate;Object(h.D)(i)&&(i=i(n,r));Object(h.D)(a)&&(a=a(n,r));if((1===i||null==i)&&!a)return;var o=(Object(h.E)(i)?i:i[0])||1,u=(Object(h.E)(i)?i:i[1])||1,c=a&&a[0]||0,s=a&&a[1]||0;e.forEach(Tn(t,o,u,c,s))}(r,n,t,e),r.forEach((function(e){c.push(Object(p.o)(t,Object(p.l)(null!=u?Object(On.a)({},u,e):e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=c,n};var Nn=function(){var e=function(e){return e[0]},t=function(e){return e[1]},n=h.O,r=[-1,-1],i=960,a=500,o=2;function u(u,c){var s=Mn(r[0],u,e)>>o,l=Mn(r[1],u,t)>>o,f=s?s+2:0,d=l?l+2:0,h=2*f+(i>>o),p=2*d+(a>>o),v=new Float32Array(h*p),g=new Float32Array(h*p),m=v;u.forEach((function(r){var i=f+(+e(r)>>o),a=d+(+t(r)>>o);i>=0&&i<h&&a>=0&&a<p&&(v[i+a*h]+=+n(r))})),s>0&&l>0?(Bn(h,p,v,g,s),Rn(h,p,g,v,l),Bn(h,p,v,g,s),Rn(h,p,g,v,l),Bn(h,p,v,g,s),Rn(h,p,g,v,l)):s>0?(Bn(h,p,v,g,s),Bn(h,p,g,v,s),Bn(h,p,v,g,s),m=g):l>0&&(Rn(h,p,v,g,l),Rn(h,p,g,v,l),Rn(h,p,v,g,l),m=g);for(var y=c?Math.pow(2,-2*o):1/on(m),b=0,x=h*p;b<x;++b)m[b]*=y;return{values:m,scale:1<<o,width:h,height:p,x1:f,y1:d,x2:f+(i>>o),y2:d+(a>>o)}}return u.x=function(t){return arguments.length?(e=Pn(t),u):e},u.y=function(e){return arguments.length?(t=Pn(e),u):t},u.weight=function(e){return arguments.length?(n=Pn(e),u):n},u.size=function(e){if(!arguments.length)return[i,a];var t=+e[0],n=+e[1];return t>=0&&n>=0||Object(h.n)("invalid size"),i=t,a=n,u},u.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(h.n)("invalid cell size"),o=Math.floor(Math.log(e)/Math.LN2),u):1<<o},u.bandwidth=function(e){return arguments.length?(1===(e=Object(h.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(h.n)("invalid bandwidth"),r=e,u):r},u};function Bn(e,t,n,r,i){for(var a=1+(i<<1),o=0;o<t;++o)for(var u=0,c=0;u<e+i;++u)u<e&&(c+=n[u+o*e]),u>=i&&(u>=a&&(c-=n[u-a+o*e]),r[u-i+o*e]=c/Math.min(u+1,e-1+a-u,a))}function Rn(e,t,n,r,i){for(var a=1+(i<<1),o=0;o<e;++o)for(var u=0,c=0;u<t+i;++u)u<t&&(c+=n[o+u*e]),u>=i&&(u>=a&&(c-=n[o+(u-a)*e]),r[o+(u-i)*e]=c/Math.min(u+1,t-1+a-u,a))}function zn(e){p.g.call(this,null,e)}zn.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var Ln=Object(h.y)(zn,p.g),In=["x","y","weight","size","cellSize","bandwidth"];function Un(e,t){return In.forEach((function(n){return null!=t[n]?e[n](t[n]):0})),e}function qn(e){p.g.call(this,null,e)}Ln.transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=function(e,t){var n,r,i,a,o,u,c=[],s=function(e){return e(a)};if(null==t)c.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],o=t.map(s),(u=n[o])||(n[o]=u=[],u.dims=o,c.push(u)),u.push(a);return c}(t.materialize(t.SOURCE).source,e.groupby),a=(e.groupby||[]).map(h.h),o=Un(Nn(),e),u=e.as||"grid";return n=i.map((function(t){return Object(p.l)(function(e,t){for(var n=0;n<a.length;++n)e[a[n]]=t[n];return e}(Object(On.a)({},u,o(t,e.counts)),t.dims))})),this.value&&(r.rem=this.value),this.value=r.source=r.add=n,r},qn.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(h.y)(qn,p.g).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=_n().smooth(!1!==e.smooth),o=e.values,u=e.thresholds||Dn(e.count||10,e.nice,!!o),c=e.size;return o||(o=t.materialize(t.SOURCE).source,r=Tn(n=Un(Nn(),e)(o,!0),n.scale||1,n.scale||1,0,0),c=[n.width,n.height],o=n.values),u=Object(h.A)(u)?u:u(o),o=a.size(c)(o,u),r&&o.forEach(r),this.value&&(i.rem=this.value),this.value=i.source=i.add=(o||[]).map(p.l),i};function $n(e){p.g.call(this,null,e)}$n.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(h.y)($n,p.g).transform=function(e,t){var n,r=this._features,i=this._points,a=e.fields,o=a&&a[0],u=a&&a[1],c=e.geojson||!a&&h.x,s=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(h.g)(c))||o&&t.modified(Object(h.g)(o))||u&&t.modified(Object(h.g)(u)),this.value&&!n||(s=t.SOURCE,this._features=r=[],this._points=i=[]),c&&t.visit(s,(function(e){r.push(c(e))})),o&&u&&(t.visit(s,(function(e){var t=o(e),n=u(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&i.push([t,n])})),r=r.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:i}})),this.value={type:"FeatureCollection",features:r}};var Hn,Wn,Gn,Kn,Vn=function(e){return e},Yn=n(52),Jn=n(63),Xn=n(2),Zn=n(38),Qn=Object(Jn.a)(),er=Object(Jn.a)(),tr={point:Zn.a,lineStart:Zn.a,lineEnd:Zn.a,polygonStart:function(){tr.lineStart=nr,tr.lineEnd=ar},polygonEnd:function(){tr.lineStart=tr.lineEnd=tr.point=Zn.a,Qn.add(Object(Xn.a)(er)),er.reset()},result:function(){var e=Qn/2;return Qn.reset(),e}};function nr(){tr.point=rr}function rr(e,t){tr.point=ir,Hn=Gn=e,Wn=Kn=t}function ir(e,t){er.add(Kn*e-Gn*t),Gn=e,Kn=t}function ar(){ir(Hn,Wn)}var or=tr,ur=1/0,cr=ur,sr=-ur,lr=sr;var fr,dr,hr,pr,vr={point:function(e,t){e<ur&&(ur=e);e>sr&&(sr=e);t<cr&&(cr=t);t>lr&&(lr=t)},lineStart:Zn.a,lineEnd:Zn.a,polygonStart:Zn.a,polygonEnd:Zn.a,result:function(){var e=[[ur,cr],[sr,lr]];return sr=lr=-(cr=ur=1/0),e}},gr=0,mr=0,yr=0,br=0,xr=0,wr=0,Or=0,kr=0,jr=0,_r={point:Sr,lineStart:Er,lineEnd:Dr,polygonStart:function(){_r.lineStart=Fr,_r.lineEnd=Tr},polygonEnd:function(){_r.point=Sr,_r.lineStart=Er,_r.lineEnd=Dr},result:function(){var e=jr?[Or/jr,kr/jr]:wr?[br/wr,xr/wr]:yr?[gr/yr,mr/yr]:[NaN,NaN];return gr=mr=yr=br=xr=wr=Or=kr=jr=0,e}};function Sr(e,t){gr+=e,mr+=t,++yr}function Er(){_r.point=Ar}function Ar(e,t){_r.point=Cr,Sr(hr=e,pr=t)}function Cr(e,t){var n=e-hr,r=t-pr,i=Object(Xn.t)(n*n+r*r);br+=i*(hr+e)/2,xr+=i*(pr+t)/2,wr+=i,Sr(hr=e,pr=t)}function Dr(){_r.point=Sr}function Fr(){_r.point=Mr}function Tr(){Pr(fr,dr)}function Mr(e,t){_r.point=Pr,Sr(fr=hr=e,dr=pr=t)}function Pr(e,t){var n=e-hr,r=t-pr,i=Object(Xn.t)(n*n+r*r);br+=i*(hr+e)/2,xr+=i*(pr+t)/2,wr+=i,Or+=(i=pr*e-hr*t)*(hr+e),kr+=i*(pr+t),jr+=3*i,Sr(hr=e,pr=t)}var Nr=_r;function Br(e){this._context=e}Br.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Xn.v)}},result:Zn.a};var Rr,zr,Lr,Ir,Ur,qr=Object(Jn.a)(),$r={point:Zn.a,lineStart:function(){$r.point=Hr},lineEnd:function(){Rr&&Wr(zr,Lr),$r.point=Zn.a},polygonStart:function(){Rr=!0},polygonEnd:function(){Rr=null},result:function(){var e=+qr;return qr.reset(),e}};function Hr(e,t){$r.point=Wr,zr=Ir=e,Lr=Ur=t}function Wr(e,t){Ir-=e,Ur-=t,qr.add(Object(Xn.t)(Ir*Ir+Ur*Ur)),Ir=e,Ur=t}var Gr=$r;function Kr(){this._string=[]}function Vr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Kr.prototype={_radius:4.5,_circle:Vr(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Vr(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Yr=function(e,t){var n,r,i=4.5;function a(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Object(Yn.a)(e,n(r))),r.result()}return a.area=function(e){return Object(Yn.a)(e,n(or)),or.result()},a.measure=function(e){return Object(Yn.a)(e,n(Gr)),Gr.result()},a.bounds=function(e){return Object(Yn.a)(e,n(vr)),vr.result()},a.centroid=function(e){return Object(Yn.a)(e,n(Nr)),Nr.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,Vn):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new Kr):new Br(t=e),"function"!==typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)},Jr=function(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:Zn.a,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},Xr=function(e,t){return Object(Xn.a)(e[0]-t[0])<Xn.i&&Object(Xn.a)(e[1]-t[1])<Xn.i};function Zr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Qr=function(e,t,n,r,i){var a,o,u=[],c=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(Xr(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*Xn.i}u.push(n=new Zr(r,e,null,!0)),c.push(n.o=new Zr(r,null,n,!1)),u.push(n=new Zr(o,e,null,!1)),c.push(n.o=new Zr(o,null,n,!0))}})),u.length){for(c.sort(t),ei(u),ei(c),a=0,o=c.length;a<o;++a)c[a].e=n=!n;for(var s,l,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;s=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=s.length;a<o;++a)i.point((l=s[a])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(s=d.p.z,a=s.length-1;a>=0;--a)i.point((l=s[a])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}s=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}};function ei(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var ti=n(25),ni=Object(Jn.a)();function ri(e){return Object(Xn.a)(e[0])<=Xn.n?e[0]:Object(Xn.r)(e[0])*((Object(Xn.a)(e[0])+Xn.n)%Xn.v-Xn.n)}var ii=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};var ai=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return ii(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}(ii);ai.right,ai.left;var oi=Array.prototype,ui=(oi.slice,oi.map,function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var ci=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n};var si=function(e,t,n,r){return function(i){var a,o,u,c=t(i),s=Jr(),l=t(s),f=!1,d={point:h,lineStart:v,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,o=[],a=[]},polygonEnd:function(){d.point=h,d.lineStart=v,d.lineEnd=g,o=ci(o);var e=function(e,t){var n=ri(t),r=t[1],i=Object(Xn.s)(r),a=[Object(Xn.s)(n),-Object(Xn.g)(n),0],o=0,u=0;ni.reset(),1===i?r=Xn.l+Xn.i:-1===i&&(r=-Xn.l-Xn.i);for(var c=0,s=e.length;c<s;++c)if(f=(l=e[c]).length)for(var l,f,d=l[f-1],h=ri(d),p=d[1]/2+Xn.p,v=Object(Xn.s)(p),g=Object(Xn.g)(p),m=0;m<f;++m,h=b,v=w,g=O,d=y){var y=l[m],b=ri(y),x=y[1]/2+Xn.p,w=Object(Xn.s)(x),O=Object(Xn.g)(x),k=b-h,j=k>=0?1:-1,_=j*k,S=_>Xn.n,E=v*w;if(ni.add(Object(Xn.e)(E*j*Object(Xn.s)(_),g*O+E*Object(Xn.g)(_))),o+=S?k+j*Xn.v:k,S^h>=n^b>=n){var A=Object(ti.c)(Object(ti.a)(d),Object(ti.a)(y));Object(ti.e)(A);var C=Object(ti.c)(a,A);Object(ti.e)(C);var D=(S^k>=0?-1:1)*Object(Xn.c)(C[2]);(r>D||r===D&&(A[0]||A[1]))&&(u+=S^k>=0?1:-1)}}return(o<-Xn.i||o<Xn.i&&ni<-Xn.i)^1&u}(a,r);o.length?(f||(i.polygonStart(),f=!0),Qr(o,fi,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function p(e,t){c.point(e,t)}function v(){d.point=p,c.lineStart()}function g(){d.point=h,c.lineEnd()}function m(e,t){u.push([e,t]),l.point(e,t)}function y(){l.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),l.lineEnd();var e,t,n,r,c=l.clean(),d=s.result(),h=d.length;if(u.pop(),a.push(u),u=null,h)if(1&c){if((t=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&c&&d.push(d.pop().concat(d.shift())),o.push(d.filter(li))}return d}};function li(e){return e.length>1}function fi(e,t){return((e=e.x)[0]<0?e[1]-Xn.l-Xn.i:Xn.l-e[1])-((t=t.x)[0]<0?t[1]-Xn.l-Xn.i:Xn.l-t[1])}var di=si((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var u=a>0?Xn.n:-Xn.n,c=Object(Xn.a)(a-n);Object(Xn.a)(c-Xn.n)<Xn.i?(e.point(n,r=(r+o)/2>0?Xn.l:-Xn.l),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(a,r),t=0):i!==u&&c>=Xn.n&&(Object(Xn.a)(n-i)<Xn.i&&(n-=i*Xn.i),Object(Xn.a)(a-u)<Xn.i&&(a-=u*Xn.i),r=function(e,t,n,r){var i,a,o=Object(Xn.s)(e-n);return Object(Xn.a)(o)>Xn.i?Object(Xn.d)((Object(Xn.s)(t)*(a=Object(Xn.g)(r))*Object(Xn.s)(n)-Object(Xn.s)(r)*(i=Object(Xn.g)(t))*Object(Xn.s)(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=a,r=o),i=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Xn.l,r.point(-Xn.n,i),r.point(0,i),r.point(Xn.n,i),r.point(Xn.n,0),r.point(Xn.n,-i),r.point(0,-i),r.point(-Xn.n,-i),r.point(-Xn.n,0),r.point(-Xn.n,i);else if(Object(Xn.a)(e[0]-t[0])>Xn.i){var a=e[0]<t[0]?Xn.n:-Xn.n;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-Xn.n,-Xn.l]);var hi=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function pi(e,t){return[Object(Xn.a)(e)>Xn.n?e+Math.round(-e/Xn.v)*Xn.v:e,t]}function vi(e,t,n){return(e%=Xn.v)?t||n?hi(mi(e),yi(t,n)):mi(e):t||n?yi(t,n):pi}function gi(e){return function(t,n){return[(t+=e)>Xn.n?t-Xn.v:t<-Xn.n?t+Xn.v:t,n]}}function mi(e){var t=gi(e);return t.invert=gi(-e),t}function yi(e,t){var n=Object(Xn.g)(e),r=Object(Xn.s)(e),i=Object(Xn.g)(t),a=Object(Xn.s)(t);function o(e,t){var o=Object(Xn.g)(t),u=Object(Xn.g)(e)*o,c=Object(Xn.s)(e)*o,s=Object(Xn.s)(t),l=s*n+u*r;return[Object(Xn.e)(c*i-l*a,u*n-s*r),Object(Xn.c)(l*i+c*a)]}return o.invert=function(e,t){var o=Object(Xn.g)(t),u=Object(Xn.g)(e)*o,c=Object(Xn.s)(e)*o,s=Object(Xn.s)(t),l=s*i-c*a;return[Object(Xn.e)(c*i+s*a,u*n+l*r),Object(Xn.c)(l*n-u*r)]},o}pi.invert=pi;function bi(e,t,n,r,i,a){if(n){var o=Object(Xn.g)(t),u=Object(Xn.s)(t),c=r*n;null==i?(i=t+r*Xn.v,a=t-c/2):(i=xi(o,i),a=xi(o,a),(r>0?i<a:i>a)&&(i+=r*Xn.v));for(var s,l=i;r>0?l>a:l<a;l-=c)s=Object(ti.g)([o,-u*Object(Xn.g)(l),-u*Object(Xn.s)(l)]),e.point(s[0],s[1])}}function xi(e,t){(t=Object(ti.a)(t))[0]-=e,Object(ti.e)(t);var n=Object(Xn.b)(-t[1]);return((-t[2]<0?-n:n)+Xn.v-Xn.i)%Xn.v}var wi=function(e){var t=Object(Xn.g)(e),n=6*Xn.q,r=t>0,i=Object(Xn.a)(t)>Xn.i;function a(e,n){return Object(Xn.g)(e)*Object(Xn.g)(n)>t}function o(e,n,r){var i=Object(ti.a)(e),a=Object(ti.a)(n),o=[1,0,0],u=Object(ti.c)(i,a),c=Object(ti.d)(u,u),s=u[0],l=c-s*s;if(!l)return!r&&e;var f=t*c/l,d=-t*s/l,h=Object(ti.c)(o,u),p=Object(ti.f)(o,f),v=Object(ti.f)(u,d);Object(ti.b)(p,v);var g=h,m=Object(ti.d)(p,g),y=Object(ti.d)(g,g),b=m*m-y*(Object(ti.d)(p,p)-1);if(!(b<0)){var x=Object(Xn.t)(b),w=Object(ti.f)(g,(-m-x)/y);if(Object(ti.b)(w,p),w=Object(ti.g)(w),!r)return w;var O,k=e[0],j=n[0],_=e[1],S=n[1];j<k&&(O=k,k=j,j=O);var E=j-k,A=Object(Xn.a)(E-Xn.n)<Xn.i;if(!A&&S<_&&(O=_,_=S,S=O),A||E<Xn.i?A?_+S>0^w[1]<(Object(Xn.a)(w[0]-k)<Xn.i?_:S):_<=w[1]&&w[1]<=S:E>Xn.n^(k<=w[0]&&w[0]<=j)){var C=Object(ti.f)(g,(-m+x)/y);return Object(ti.b)(C,p),[w,Object(ti.g)(C)]}}}function u(t,n){var i=r?e:Xn.n-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return si(a,(function(e){var t,n,c,s,l;return{lineStart:function(){s=c=!1,l=1},point:function(f,d){var h,p=[f,d],v=a(f,d),g=r?v?0:u(f,d):v?u(f+(f<0?Xn.n:-Xn.n),d):0;if(!t&&(s=c=v)&&e.lineStart(),v!==c&&(!(h=o(t,p))||Xr(t,h)||Xr(p,h))&&(p[2]=1),v!==c)l=0,v?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1],2),e.lineEnd()),t=h;else if(i&&t&&r^v){var m;g&n||!(m=o(p,t,!0))||(l=0,r?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1],3)))}!v||t&&Xr(t,p)||e.point(p[0],p[1]),t=p,c=v,n=g},lineEnd:function(){c&&e.lineEnd(),t=null},clean:function(){return l|(s&&c)<<1}}}),(function(t,r,i,a){bi(a,e,n,i,t,r)}),r?[0,-e]:[-Xn.n,e-Xn.n])};function Oi(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,u,s){var l=0,f=0;if(null==i||(l=o(i,u))!==(f=o(a,u))||c(i,a)<0^u>0)do{s.point(0===l||3===l?e:n,l>1?r:t)}while((l=(l+u+4)%4)!==f);else s.point(a[0],a[1])}function o(r,i){return Object(Xn.a)(r[0]-e)<Xn.i?i>0?0:3:Object(Xn.a)(r[0]-n)<Xn.i?i>0?2:1:Object(Xn.a)(r[1]-t)<Xn.i?i>0?1:0:i>0?3:2}function u(e,t){return c(e.x,t.x)}function c(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var c,s,l,f,d,h,p,v,g,m,y,b=o,x=Jr(),w={point:O,lineStart:function(){w.point=k,s&&s.push(l=[]);m=!0,g=!1,p=v=NaN},lineEnd:function(){c&&(k(f,d),h&&g&&x.rejoin(),c.push(x.result()));w.point=O,g&&b.lineEnd()},polygonStart:function(){b=x,c=[],s=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=s.length;n<i;++n)for(var a,o,u=s[n],c=1,l=u.length,f=u[0],d=f[0],h=f[1];c<l;++c)a=d,o=h,f=u[c],d=f[0],h=f[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(e-a)&&++t:h<=r&&(d-a)*(r-o)<(h-o)*(e-a)&&--t;return t}(),n=y&&t,i=(c=ci(c)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&Qr(c,u,t,a,o),o.polygonEnd());b=o,c=s=l=null}};function O(e,t){i(e,t)&&b.point(e,t)}function k(a,o){var u=i(a,o);if(s&&l.push([a,o]),m)f=a,d=o,h=u,m=!1,u&&(b.lineStart(),b.point(a,o));else if(u&&g)b.point(a,o);else{var c=[p=Math.max(-1e9,Math.min(1e9,p)),v=Math.max(-1e9,Math.min(1e9,v))],x=[a=Math.max(-1e9,Math.min(1e9,a)),o=Math.max(-1e9,Math.min(1e9,o))];!function(e,t,n,r,i,a){var o,u=e[0],c=e[1],s=0,l=1,f=t[0]-u,d=t[1]-c;if(o=n-u,f||!(o>0)){if(o/=f,f<0){if(o<s)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>s&&(s=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>s&&(s=o)}else if(f>0){if(o<s)return;o<l&&(l=o)}if(o=r-c,d||!(o>0)){if(o/=d,d<0){if(o<s)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>s&&(s=o)}if(o=a-c,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>s&&(s=o)}else if(d>0){if(o<s)return;o<l&&(l=o)}return s>0&&(e[0]=u+s*f,e[1]=c+s*d),l<1&&(t[0]=u+l*f,t[1]=c+l*d),!0}}}}}(c,x,e,t,n,r)?u&&(b.lineStart(),b.point(a,o),y=!1):(g||(b.lineStart(),b.point(c[0],c[1])),b.point(x[0],x[1]),u||b.lineEnd(),y=!1)}p=a,v=o,g=u}return w}}function ki(e){return function(t){var n=new ji;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ji(){}function _i(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Object(Yn.a)(n,e.stream(vr)),t(vr.result()),null!=r&&e.clipExtent(r),e}function Si(e,t,n){return _i(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,u])}),n)}function Ei(e,t,n){return Si(e,[[0,0],t],n)}function Ai(e,t,n){return _i(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}function Ci(e,t,n){return _i(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}ji.prototype={constructor:ji,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Di=Object(Xn.g)(30*Xn.q),Fi=function(e,t){return+t?function(e,t){function n(r,i,a,o,u,c,s,l,f,d,h,p,v,g){var m=s-r,y=l-i,b=m*m+y*y;if(b>4*t&&v--){var x=o+d,w=u+h,O=c+p,k=Object(Xn.t)(x*x+w*w+O*O),j=Object(Xn.c)(O/=k),_=Object(Xn.a)(Object(Xn.a)(O)-1)<Xn.i||Object(Xn.a)(a-f)<Xn.i?(a+f)/2:Object(Xn.e)(w,x),S=e(_,j),E=S[0],A=S[1],C=E-r,D=A-i,F=y*C-m*D;(F*F/b>t||Object(Xn.a)((m*C+y*D)/b-.5)>.3||o*d+u*h+c*p<Di)&&(n(r,i,a,o,u,c,E,A,_,x/=k,w/=k,O,v,g),g.point(E,A),n(E,A,_,x,w,O,s,l,f,d,h,p,v,g))}}return function(t){var r,i,a,o,u,c,s,l,f,d,h,p,v={point:g,lineStart:m,lineEnd:b,polygonStart:function(){t.polygonStart(),v.lineStart=x},polygonEnd:function(){t.polygonEnd(),v.lineStart=m}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function m(){l=NaN,v.point=y,t.lineStart()}function y(r,i){var a=Object(ti.a)([r,i]),o=e(r,i);n(l,f,s,d,h,p,l=o[0],f=o[1],s=r,d=a[0],h=a[1],p=a[2],16,t),t.point(l,f)}function b(){v.point=g,t.lineEnd()}function x(){m(),v.point=w,v.lineEnd=O}function w(e,t){y(r=e,t),i=l,a=f,o=d,u=h,c=p,v.point=y}function O(){n(l,f,s,d,h,p,i,a,r,o,u,c,16,t),v.lineEnd=b,b()}return v}}(e,t):function(e){return ki({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var Ti=ki({point:function(e,t){this.stream.point(e*Xn.q,t*Xn.q)}});function Mi(e,t,n,r,i){function a(a,o){return[t+e*(a*=r),n-e*(o*=i)]}return a.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},a}function Pi(e,t,n,r,i,a){var o=Object(Xn.g)(a),u=Object(Xn.s)(a),c=o*e,s=u*e,l=o/e,f=u/e,d=(u*n-o*t)/e,h=(u*t+o*n)/e;function p(e,a){return[c*(e*=r)-s*(a*=i)+t,n-s*e-c*a]}return p.invert=function(e,t){return[r*(l*e-f*t+d),i*(h-f*e-l*t)]},p}function Ni(e){return Bi((function(){return e}))()}function Bi(e){var t,n,r,i,a,o,u,c,s,l,f=150,d=480,h=250,p=0,v=0,g=0,m=0,y=0,b=0,x=1,w=1,O=null,k=di,j=null,_=Vn,S=.5;function E(e){return c(e[0]*Xn.q,e[1]*Xn.q)}function A(e){return(e=c.invert(e[0],e[1]))&&[e[0]*Xn.h,e[1]*Xn.h]}function C(){var e=Pi(f,0,0,x,w,b).apply(null,t(p,v)),r=(b?Pi:Mi)(f,d-e[0],h-e[1],x,w,b);return n=vi(g,m,y),u=hi(t,r),c=hi(n,u),o=Fi(u,S),D()}function D(){return s=l=null,E}return E.stream=function(e){return s&&l===e?s:s=Ti(function(e){return ki({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(k(o(_(l=e)))))},E.preclip=function(e){return arguments.length?(k=e,O=void 0,D()):k},E.postclip=function(e){return arguments.length?(_=e,j=r=i=a=null,D()):_},E.clipAngle=function(e){return arguments.length?(k=+e?wi(O=e*Xn.q):(O=null,di),D()):O*Xn.h},E.clipExtent=function(e){return arguments.length?(_=null==e?(j=r=i=a=null,Vn):Oi(j=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),D()):null==j?null:[[j,r],[i,a]]},E.scale=function(e){return arguments.length?(f=+e,C()):f},E.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],C()):[d,h]},E.center=function(e){return arguments.length?(p=e[0]%360*Xn.q,v=e[1]%360*Xn.q,C()):[p*Xn.h,v*Xn.h]},E.rotate=function(e){return arguments.length?(g=e[0]%360*Xn.q,m=e[1]%360*Xn.q,y=e.length>2?e[2]%360*Xn.q:0,C()):[g*Xn.h,m*Xn.h,y*Xn.h]},E.angle=function(e){return arguments.length?(b=e%360*Xn.q,C()):b*Xn.h},E.reflectX=function(e){return arguments.length?(x=e?-1:1,C()):x<0},E.reflectY=function(e){return arguments.length?(w=e?-1:1,C()):w<0},E.precision=function(e){return arguments.length?(o=Fi(u,S=e*e),D()):Object(Xn.t)(S)},E.fitExtent=function(e,t){return Si(E,e,t)},E.fitSize=function(e,t){return Ei(E,e,t)},E.fitWidth=function(e,t){return Ai(E,e,t)},E.fitHeight=function(e,t){return Ci(E,e,t)},function(){return t=e.apply(this,arguments),E.invert=t.invert&&A,C()}}function Ri(e){var t=0,n=Xn.n/3,r=Bi(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Xn.q,n=e[1]*Xn.q):[t*Xn.h,n*Xn.h]},i}function zi(e,t){var n=Object(Xn.s)(e),r=(n+Object(Xn.s)(t))/2;if(Object(Xn.a)(r)<Xn.i)return function(e){var t=Object(Xn.g)(e);function n(e,n){return[e*t,Object(Xn.s)(n)/t]}return n.invert=function(e,n){return[e/t,Object(Xn.c)(n*t)]},n}(e);var i=1+n*(2*r-n),a=Object(Xn.t)(i)/r;function o(e,t){var n=Object(Xn.t)(i-2*r*Object(Xn.s)(t))/r;return[n*Object(Xn.s)(e*=r),a-n*Object(Xn.g)(e)]}return o.invert=function(e,t){var n=a-t,o=Object(Xn.e)(e,Object(Xn.a)(n))*Object(Xn.r)(n);return n*r<0&&(o-=Xn.n*Object(Xn.r)(e)*Object(Xn.r)(n)),[o/r,Object(Xn.c)((i-(e*e+n*n)*r*r)/(2*r))]},o}var Li=function(){return Ri(zi).scale(155.424).center([0,33.6442])},Ii=function(){return Li().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function Ui(e){return function(t,n){var r=Object(Xn.g)(t),i=Object(Xn.g)(n),a=e(r*i);return[a*i*Object(Xn.s)(t),a*Object(Xn.s)(n)]}}function qi(e){return function(t,n){var r=Object(Xn.t)(t*t+n*n),i=e(r),a=Object(Xn.s)(i),o=Object(Xn.g)(i);return[Object(Xn.e)(t*a,r*o),Object(Xn.c)(r&&n*a/r)]}}var $i=Ui((function(e){return Object(Xn.t)(2/(1+e))}));$i.invert=qi((function(e){return 2*Object(Xn.c)(e/2)}));var Hi=Ui((function(e){return(e=Object(Xn.b)(e))&&e/Object(Xn.s)(e)}));Hi.invert=qi((function(e){return e}));function Wi(e,t){return[e,Object(Xn.m)(Object(Xn.u)((Xn.l+t)/2))]}Wi.invert=function(e,t){return[e,2*Object(Xn.d)(Object(Xn.k)(t))-Xn.l]};function Gi(e){var t,n,r,i=Ni(e),a=i.center,o=i.scale,u=i.translate,c=i.clipExtent,s=null;function l(){var a=Xn.n*o(),u=i(function(e){function t(t){return(t=e(t[0]*Xn.q,t[1]*Xn.q))[0]*=Xn.h,t[1]*=Xn.h,t}return e=vi(e[0]*Xn.q,e[1]*Xn.q,e.length>2?e[2]*Xn.q:0),t.invert=function(t){return(t=e.invert(t[0]*Xn.q,t[1]*Xn.q))[0]*=Xn.h,t[1]*=Xn.h,t},t}(i.rotate()).invert([0,0]));return c(null==s?[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]:e===Wi?[[Math.max(u[0]-a,s),t],[Math.min(u[0]+a,n),r]]:[[s,Math.max(u[1]-a,t)],[n,Math.min(u[1]+a,r)]])}return i.scale=function(e){return arguments.length?(o(e),l()):o()},i.translate=function(e){return arguments.length?(u(e),l()):u()},i.center=function(e){return arguments.length?(a(e),l()):a()},i.clipExtent=function(e){return arguments.length?(null==e?s=t=n=r=null:(s=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),l()):null==s?null:[[s,t],[n,r]]},l()}function Ki(e){return Object(Xn.u)((Xn.l+e)/2)}function Vi(e,t){var n=Object(Xn.g)(e),r=e===t?Object(Xn.s)(e):Object(Xn.m)(n/Object(Xn.g)(t))/Object(Xn.m)(Ki(t)/Ki(e)),i=n*Object(Xn.o)(Ki(e),r)/r;if(!r)return Wi;function a(e,t){i>0?t<-Xn.l+Xn.i&&(t=-Xn.l+Xn.i):t>Xn.l-Xn.i&&(t=Xn.l-Xn.i);var n=i/Object(Xn.o)(Ki(t),r);return[n*Object(Xn.s)(r*e),i-n*Object(Xn.g)(r*e)]}return a.invert=function(e,t){var n=i-t,a=Object(Xn.r)(r)*Object(Xn.t)(e*e+n*n),o=Object(Xn.e)(e,Object(Xn.a)(n))*Object(Xn.r)(n);return n*r<0&&(o-=Xn.n*Object(Xn.r)(e)*Object(Xn.r)(n)),[o/r,2*Object(Xn.d)(Object(Xn.o)(i/a,1/r))-Xn.l]},a}function Yi(e,t){return[e,t]}Yi.invert=Yi;function Ji(e,t){var n=Object(Xn.g)(e),r=e===t?Object(Xn.s)(e):(n-Object(Xn.g)(t))/(t-e),i=n/r+e;if(Object(Xn.a)(r)<Xn.i)return Yi;function a(e,t){var n=i-t,a=r*e;return[n*Object(Xn.s)(a),i-n*Object(Xn.g)(a)]}return a.invert=function(e,t){var n=i-t,a=Object(Xn.e)(e,Object(Xn.a)(n))*Object(Xn.r)(n);return n*r<0&&(a-=Xn.n*Object(Xn.r)(e)*Object(Xn.r)(n)),[a/r,i-Object(Xn.r)(r)*Object(Xn.t)(e*e+n*n)]},a}var Xi=1.340264,Zi=-.081106,Qi=893e-6,ea=.003796,ta=Object(Xn.t)(3)/2;function na(e,t){var n=Object(Xn.c)(ta*Object(Xn.s)(t)),r=n*n,i=r*r*r;return[e*Object(Xn.g)(n)/(ta*(Xi+3*Zi*r+i*(7*Qi+9*ea*r))),n*(Xi+Zi*r+i*(Qi+ea*r))]}na.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(Xi+Zi*i+a*(Qi+ea*i))-t)/(Xi+3*Zi*i+a*(7*Qi+9*ea*i)))*r)*i*i,!(Object(Xn.a)(n)<Xn.j));++o);return[ta*e*(Xi+3*Zi*i+a*(7*Qi+9*ea*i))/Object(Xn.g)(r),Object(Xn.c)(Object(Xn.s)(r)/ta)]};function ra(e,t){var n=Object(Xn.g)(t),r=Object(Xn.g)(e)*n;return[n*Object(Xn.s)(e)/r,Object(Xn.s)(t)/r]}ra.invert=qi(Xn.d);function ia(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}ia.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(Object(Xn.a)(n)>Xn.i&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};function aa(e,t){return[Object(Xn.g)(t)*Object(Xn.s)(e),Object(Xn.s)(t)]}aa.invert=qi(Xn.c);function oa(e,t){var n=Object(Xn.g)(t),r=1+Object(Xn.g)(e)*n;return[n*Object(Xn.s)(e)/r,Object(Xn.s)(t)/r]}oa.invert=qi((function(e){return 2*Object(Xn.d)(e)}));function ua(e,t){return[Object(Xn.m)(Object(Xn.u)((Xn.l+t)/2)),-e]}ua.invert=function(e,t){return[-t,2*Object(Xn.d)(Object(Xn.k)(e))-Xn.l]};var ca=Math.abs,sa=(Math.atan,Math.atan2,Math.ceil,Math.cos),la=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),fa=(Math.tan,Math.PI),da=fa/2,ha=(Math.SQRT1_2,va(2));va(fa);function pa(e){return e>1?da:e<-1?-da:Math.asin(e)}function va(e){return e>0?Math.sqrt(e):0}function ga(e,t){var n,r=e*la(t),i=30;do{t-=n=(t+la(t)-r)/(1+sa(t))}while(ca(n)>1e-6&&--i>0);return t/2}var ma=function(e,t,n){function r(r,i){return[e*r*sa(i=ga(n,i)),t*la(i)]}return r.invert=function(r,i){return i=pa(i/t),[r/(e*sa(i)),pa((2*i+la(2*i))/n)]},r}(ha/da,ha,fa),ya=Yr(),ba=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function xa(e,t){return function n(){var r=t();return r.type=e,r.path=Yr().projection(r),r.copy=r.copy||function(){var e=n();return ba.forEach((function(t){r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function wa(e,t){if(!e||"string"!==typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(ka[e]=xa(e,t),this):ka[e]||null}function Oa(e){return e&&e.path||ya}var ka={albers:Ii,albersusa:function(){var e,t,n,r,i,a,o=Ii(),u=Li().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Li().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,t){a=[e,t]}};function l(e){var t=e[0],o=e[1];return a=null,n.point(t,o),a||(r.point(t,o),a)||(i.point(t,o),a)}function f(){return e=t=null,l}return l.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:o).invert(e)},l.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([o.stream(t=n),u.stream(n),c.stream(n)])},l.precision=function(e){return arguments.length?(o.precision(e),u.precision(e),c.precision(e),f()):o.precision()},l.scale=function(e){return arguments.length?(o.scale(e),u.scale(.35*e),c.scale(e),l.translate(o.translate())):o.scale()},l.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),a=+e[0],l=+e[1];return n=o.translate(e).clipExtent([[a-.455*t,l-.238*t],[a+.455*t,l+.238*t]]).stream(s),r=u.translate([a-.307*t,l+.201*t]).clipExtent([[a-.425*t+Xn.i,l+.12*t+Xn.i],[a-.214*t-Xn.i,l+.234*t-Xn.i]]).stream(s),i=c.translate([a-.205*t,l+.212*t]).clipExtent([[a-.214*t+Xn.i,l+.166*t+Xn.i],[a-.115*t-Xn.i,l+.234*t-Xn.i]]).stream(s),f()},l.fitExtent=function(e,t){return Si(l,e,t)},l.fitSize=function(e,t){return Ei(l,e,t)},l.fitWidth=function(e,t){return Ai(l,e,t)},l.fitHeight=function(e,t){return Ci(l,e,t)},l.scale(1070)},azimuthalequalarea:function(){return Ni($i).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Ni(Hi).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Ri(Vi).scale(109.5).parallels([30,30])},conicequalarea:Li,conicequidistant:function(){return Ri(Ji).scale(131.154).center([0,13.9389])},equalEarth:function(){return Ni(na).scale(177.158)},equirectangular:function(){return Ni(Yi).scale(152.63)},gnomonic:function(){return Ni(ra).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,r,i,a,o,u=1,c=0,s=0,l=1,f=1,d=0,h=null,p=1,v=1,g=ki({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),m=Vn;function y(){return p=u*l,v=u*f,a=o=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(d){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+c,i+s]}return b.invert=function(n){var r=n[0]-c,i=n[1]-s;if(d){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/p,i/v]},b.stream=function(e){return a&&o===e?a:a=g(m(o=e))},b.postclip=function(e){return arguments.length?(m=e,h=n=r=i=null,y()):m},b.clipExtent=function(e){return arguments.length?(m=null==e?(h=n=r=i=null,Vn):Oi(h=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==h?null:[[h,n],[r,i]]},b.scale=function(e){return arguments.length?(u=+e,y()):u},b.translate=function(e){return arguments.length?(c=+e[0],s=+e[1],y()):[c,s]},b.angle=function(n){return arguments.length?(d=n%360*Xn.q,t=Object(Xn.s)(d),e=Object(Xn.g)(d),y()):d*Xn.h},b.reflectX=function(e){return arguments.length?(l=e?-1:1,y()):l<0},b.reflectY=function(e){return arguments.length?(f=e?-1:1,y()):f<0},b.fitExtent=function(e,t){return Si(b,e,t)},b.fitSize=function(e,t){return Ei(b,e,t)},b.fitWidth=function(e,t){return Ai(b,e,t)},b.fitHeight=function(e,t){return Ci(b,e,t)},b},mercator:function(){return Gi(Wi).scale(961/Xn.v)},mollweide:function(){return Ni(ma).scale(169.529)},naturalEarth1:function(){return Ni(ia).scale(175.295)},orthographic:function(){return Ni(aa).scale(249.5).clipAngle(90+Xn.i)},stereographic:function(){return Ni(oa).scale(250).clipAngle(142)},transversemercator:function(){var e=Gi(ua),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(var ja in ka)wa(ja,ka[ja]);function _a(e){p.g.call(this,null,e)}function Sa(e){p.g.call(this,null,e)}function Ea(e){p.g.call(this,null,e)}function Aa(e,t,n){var r=ui(e,t-Xn.i,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Ca(e,t,n){var r=ui(e,t-Xn.i,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Da(){var e,t,n,r,i,a,o,u,c,s,l,f,d=10,h=d,p=90,v=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return ui(Object(Xn.f)(r/p)*p,n,p).map(l).concat(ui(Object(Xn.f)(u/v)*v,o,v).map(f)).concat(ui(Object(Xn.f)(t/d)*d,e,d).filter((function(e){return Object(Xn.a)(e%p)>Xn.i})).map(c)).concat(ui(Object(Xn.f)(a/h)*h,i,h).filter((function(e){return Object(Xn.a)(e%v)>Xn.i})).map(s))}return m.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},m.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(n).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(e){return arguments.length?m.extentMajor(e).extentMinor(e):m.extentMinor()},m.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],u=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),u>o&&(e=u,u=o,o=e),m.precision(g)):[[r,u],[n,o]]},m.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),m.precision(g)):[[t,a],[e,i]]},m.step=function(e){return arguments.length?m.stepMajor(e).stepMinor(e):m.stepMinor()},m.stepMajor=function(e){return arguments.length?(p=+e[0],v=+e[1],m):[p,v]},m.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],m):[d,h]},m.precision=function(d){return arguments.length?(g=+d,c=Aa(a,i,90),s=Ca(t,e,g),l=Aa(u,o,90),f=Ca(r,n,g),m):g},m.extentMajor([[-180,-90+Xn.i],[180,90-Xn.i]]).extentMinor([[-180,-80-Xn.i],[180,80+Xn.i]])}function Fa(e){p.g.call(this,[],e),this.generator=Da()}_a.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(h.y)(_a,p.g).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||h.x,a=e.as||"path",o=n.SOURCE;!r||e.modified()?(this.value=r=Oa(e.projection),n.materialize().reflow()):o=i===h.x||t.modified(i.fields)?n.ADD_MOD:n.ADD;var u=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(o,(function(e){e[a]=r(i(e))})),r.pointRadius(u),n.modifies(a)},Sa.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(h.y)(Sa,p.g).transform=function(e,t){var n,r=e.projection,i=e.fields[0],a=e.fields[1],o=e.as||["x","y"],u=o[0],c=o[1];function s(e){var t=r([i(e),a(e)]);t?(e[u]=t[0],e[c]=t[1]):(e[u]=void 0,e[c]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,s):(n=t.modified(i.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,s)),t.modifies(o)},Ea.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(h.y)(Ea,p.g).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),a=e.pointRadius(n)(t(r));return e.pointRadius(i),a};return r.context=function(t){return e.context(t),r},r}(Oa(e.projection),e.field||Object(h.t)("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,(function(e){e[i]=r})),n.modifies(i)},Fa.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(h.y)(Fa,p.g).transform=function(e,t){var n,r=this.value,i=this.generator;if(!r.length||e.modified())for(var a in e)Object(h.D)(i[a])&&i[a](e[a]);return n=i(),r.length?t.mod.push(Object(p.p)(r[0],n)):t.add.push(Object(p.l)(n)),r[0]=n,t};var Ta=n(43),Ma=n(61);function Pa(e){p.g.call(this,null,e)}function Na(e){if(!Object(h.D)(e))return!1;var t=Object(h.db)(Object(h.g)(e));return t.$x||t.$y||t.$value||t.$max}function Ba(e){p.g.call(this,null,e),this.modified(!0)}function Ra(e,t,n){Object(h.D)(e[t])&&e[t](n)}Pa.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(h.y)(Pa,p.g).transform=function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r="shared"===e.resolve,i=e.field||h.x,a=function(e,t){var n;Object(h.D)(e)?(n=function(n){return e(n,t)}).dep=Na(e):e?n=Object(h.l)(e):(n=function(e){return e.$value/e.$max||0}).dep=!0;return n}(e.opacity,e),o=function(e,t){var n;Object(h.D)(e)?(n=function(n){return Object(Ta.g)(e(n,t))}).dep=Na(e):n=Object(h.l)(Object(Ta.g)(e||"#888"));return n}(e.color,e),u=e.as||"image",c={$x:0,$y:0,$value:0,$max:r?Object(fe.a)(n.map((function(e){return Object(fe.a)(i(e).values)}))):0};return n.forEach((function(e){var t=i(e),n=Object(h.o)({},e,c);r||(n.$max=Object(fe.a)(t.values||[])),e[u]=function(e,t,n,r){for(var i=e.width,a=e.height,o=e.x1||0,u=e.y1||0,c=e.x2||i,s=e.y2||a,l=e.values,f=l?function(e){return l[e]}:h.kb,d=Object(Ma.a)(c-o,s-u),p=d.getContext("2d"),v=p.getImageData(0,0,c-o,s-u),g=v.data,m=u,y=0;m<s;++m){t.$y=m-u;for(var b=o,x=m*i;b<c;++b,y+=4){t.$x=b-o,t.$value=f(b+x);var w=n(t);g[y+0]=w.r,g[y+1]=w.g,g[y+2]=w.b,g[y+3]=~~(255*r(t))}}return p.putImageData(v,0,0),d}(t,n,o.dep?o:Object(h.l)(o(n)),a.dep?a:Object(h.l)(a(n)))})),t.reflow(!0).modifies(u)},Object(h.y)(Ba,p.g).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=wa((e||"mercator").toLowerCase());t||Object(h.n)("Unrecognized projection type: "+e);return t()}(e.type),ba.forEach((function(t){null!=e[t]&&Ra(n,t,e[t])}))):ba.forEach((function(t){e.modified(t)&&Ra(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(h.i)(e)).length?e[0]:{type:"FeatureCollection",features:e.reduce((function(e,t){return e.concat(function(e){return"FeatureCollection"===e.type?e.features:Object(h.i)(e).filter((function(e){return null!=e})).map((function(e){return"Feature"===e.type?e:{type:"Feature",geometry:e}}))}(t))}),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)};function za(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,u,c,s,l,f,d,h=e._root,p={data:r},v=e._x0,g=e._y0,m=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((s=t>=(a=(v+m)/2))?v=a:m=a,(l=n>=(o=(g+y)/2))?g=o:y=o,i=h,!(h=h[f=l<<1|s]))return i[f]=p,e;if(u=+e._x.call(null,h.data),c=+e._y.call(null,h.data),t===u&&n===c)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(s=t>=(a=(v+m)/2))?v=a:m=a,(l=n>=(o=(g+y)/2))?g=o:y=o}while((f=l<<1|s)===(d=(c>=o)<<1|u>=a));return i[d]=h,i[f]=p,e}var La=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function Ia(e){return e[0]}function Ua(e){return e[1]}function qa(e,t,n){var r=new $a(null==t?Ia:t,null==n?Ua:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function $a(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Ha(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Wa=qa.prototype=$a.prototype;Wa.copy=function(){var e,t,n=new $a(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ha(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Ha(t));return n},Wa.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return za(this.cover(t,n),t,n,e)},Wa.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),u=new Array(a),c=1/0,s=1/0,l=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,u[n]=i,r<c&&(c=r),r>l&&(l=r),i<s&&(s=i),i>f&&(f=i));if(c>l||s>f)return this;for(this.cover(c,s).cover(l,f),n=0;n<a;++n)za(this,o[n],u[n],e[n]);return this},Wa.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,u,c=i-n,s=this._root;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,(o=new Array(4))[u]=s,s=o,c*=2,u){case 0:i=n+c,a=r+c;break;case 1:n=i-c,a=r+c;break;case 2:i=n+c,r=a-c;break;case 3:n=i-c,r=a-c}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},Wa.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Wa.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Wa.find=function(e,t,n){var r,i,a,o,u,c,s,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new La(v,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);c=p.pop();)if(!(!(v=c.node)||(i=c.x0)>d||(a=c.y0)>h||(o=c.x1)<l||(u=c.y1)<f))if(v.length){var g=(i+o)/2,m=(a+u)/2;p.push(new La(v[3],g,m,o,u),new La(v[2],i,m,g,u),new La(v[1],g,a,o,m),new La(v[0],i,a,g,m)),(s=(t>=m)<<1|e>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=c)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),x=y*y+b*b;if(x<n){var w=Math.sqrt(n=x);l=e-w,f=t-w,d=e+w,h=t+w,r=v.data}}return r},Wa.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,u,c,s,l,f,d,h=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((s=a>=(u=(p+g)/2))?p=u:g=u,(l=o>=(c=(v+m)/2))?v=c:m=c,t=h,!(h=h[f=l<<1|s]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},Wa.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Wa.root=function(){return this._root},Wa.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Wa.visit=function(e){var t,n,r,i,a,o,u=[],c=this._root;for(c&&u.push(new La(c,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&c.length){var s=(r+a)/2,l=(i+o)/2;(n=c[3])&&u.push(new La(n,s,l,a,o)),(n=c[2])&&u.push(new La(n,r,l,s,o)),(n=c[1])&&u.push(new La(n,s,i,a,l)),(n=c[0])&&u.push(new La(n,r,i,s,l))}return this},Wa.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new La(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,u=t.y0,c=t.x1,s=t.y1,l=(o+c)/2,f=(u+s)/2;(a=i[0])&&n.push(new La(a,o,u,l,f)),(a=i[1])&&n.push(new La(a,l,u,c,f)),(a=i[2])&&n.push(new La(a,o,f,l,s)),(a=i[3])&&n.push(new La(a,l,f,c,s))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Wa.x=function(e){return arguments.length?(this._x=e,this):this._x},Wa.y=function(e){return arguments.length?(this._y=e,this):this._y};var Ga=function(e){return function(){return e}},Ka=function(){return 1e-6*(Math.random()-.5)};function Va(e){return e.x+e.vx}function Ya(e){return e.y+e.vy}function Ja(e){return e.index}function Xa(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var Za={value:function(){}};function Qa(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new eo(r)}function eo(e){this._=e}function to(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function no(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function ro(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Za,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}eo.prototype=Qa.prototype={constructor:eo,on:function(e,t){var n,r=this._,i=to(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=ro(r[n],e.name,t);else if(null==t)for(n in r)r[n]=ro(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=no(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new eo(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var io=Qa,ao=n(211);function oo(e){return e.x}function uo(e){return e.y}var co=Math.PI*(3-Math.sqrt(5)),so={center:function(e,t){var n;function r(){var r,i,a=n.length,o=0,u=0;for(r=0;r<a;++r)o+=(i=n[r]).x,u+=i.y;for(o=o/a-e,u=u/a-t,r=0;r<a;++r)(i=n[r]).x-=o,i.y-=u}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},collide:function(e){var t,n,r=1,i=1;function a(){for(var e,a,u,c,s,l,f,d=t.length,h=0;h<i;++h)for(a=qa(t,Va,Ya).visitAfter(o),e=0;e<d;++e)u=t[e],l=n[u.index],f=l*l,c=u.x+u.vx,s=u.y+u.vy,a.visit(p);function p(e,t,n,i,a){var o=e.data,d=e.r,h=l+d;if(!o)return t>c+h||i<c-h||n>s+h||a<s-h;if(o.index>u.index){var p=c-o.x-o.vx,v=s-o.y-o.vy,g=p*p+v*v;g<h*h&&(0===p&&(g+=(p=Ka())*p),0===v&&(g+=(v=Ka())*v),g=(h-(g=Math.sqrt(g)))/g*r,u.vx+=(p*=g)*(h=(d*=d)/(f+d)),u.vy+=(v*=g)*h,o.vx-=p*(h=1-h),o.vy-=v*h)}}}function o(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=Ga(null==e?1:+e)),a.initialize=function(e){t=e,u()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(r=+e,a):r},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:Ga(+t),u(),a):e},a},nbody:function(){var e,t,n,r,i=Ga(-30),a=1,o=1/0,u=.81;function c(r){var i,a=e.length,o=qa(e,oo,uo).visitAfter(l);for(n=r,i=0;i<a;++i)t=e[i],o.visit(f)}function s(){if(e){var t,n,a=e.length;for(r=new Array(a),t=0;t<a;++t)n=e[t],r[n.index]=+i(n,t,e)}}function l(e){var t,n,i,a,o,u=0,c=0;if(e.length){for(i=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(u+=t.value,c+=n,i+=n*t.x,a+=n*t.y);e.x=i/c,e.y=a/c}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=r[t.data.index]}while(t=t.next)}e.value=u}function f(e,i,c,s){if(!e.value)return!0;var l=e.x-t.x,f=e.y-t.y,d=s-i,h=l*l+f*f;if(d*d/u<h)return h<o&&(0===l&&(h+=(l=Ka())*l),0===f&&(h+=(f=Ka())*f),h<a&&(h=Math.sqrt(a*h)),t.vx+=l*e.value*n/h,t.vy+=f*e.value*n/h),!0;if(!(e.length||h>=o)){(e.data!==t||e.next)&&(0===l&&(h+=(l=Ka())*l),0===f&&(h+=(f=Ka())*f),h<a&&(h=Math.sqrt(a*h)));do{e.data!==t&&(d=r[e.data.index]*n/h,t.vx+=l*d,t.vy+=f*d)}while(e=e.next)}}return c.initialize=function(t){e=t,s()},c.strength=function(e){return arguments.length?(i="function"===typeof e?e:Ga(+e),s(),c):i},c.distanceMin=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.distanceMax=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.theta=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c},link:function(e){var t,n,r,i,a,o=Ja,u=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=Ga(30),s=1;function l(r){for(var i=0,o=e.length;i<s;++i)for(var u,c,l,f,d,h,p,v=0;v<o;++v)c=(u=e[v]).source,f=(l=u.target).x+l.vx-c.x-c.vx||Ka(),d=l.y+l.vy-c.y-c.vy||Ka(),f*=h=((h=Math.sqrt(f*f+d*d))-n[v])/h*r*t[v],d*=h,l.vx-=f*(p=a[v]),l.vy-=d*p,c.vx+=f*(p=1-p),c.vy+=d*p}function f(){if(r){var u,c,s=r.length,l=e.length,f=new Map(r.map((function(e,t){return[o(e,t,r),e]})));for(u=0,i=new Array(s);u<l;++u)(c=e[u]).index=u,"object"!==typeof c.source&&(c.source=Xa(f,c.source)),"object"!==typeof c.target&&(c.target=Xa(f,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(u=0,a=new Array(l);u<l;++u)c=e[u],a[u]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);t=new Array(l),d(),n=new Array(l),h()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function h(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),l.initialize=function(e){r=e,f()},l.links=function(t){return arguments.length?(e=t,f(),l):e},l.id=function(e){return arguments.length?(o=e,l):o},l.iterations=function(e){return arguments.length?(s=+e,l):s},l.strength=function(e){return arguments.length?(u="function"===typeof e?e:Ga(+e),d(),l):u},l.distance=function(e){return arguments.length?(c="function"===typeof e?e:Ga(+e),h(),l):c},l},x:function(e){var t,n,r,i=Ga(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=Ga(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:Ga(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:Ga(+t),o(),a):e},a},y:function(e){var t,n,r,i=Ga(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=Ga(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:Ga(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:Ga(+t),o(),a):e},a}},lo=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],fo=["static","iterations"],ho=["x","y","vx","vy"];function po(e){p.g.call(this,null,e)}po.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:ho}]};var vo=Object(h.y)(po,p.g);function go(e,t,n,r){var i,a,o,u,c=Object(h.i)(t.forces);for(i=0,a=lo.length;i<a;++i)"forces"!==(o=lo[i])&&t.modified(o)&&e[o](t[o]);for(i=0,a=c.length;i<a;++i)u="forces"+i,(o=n||t.modified("forces",i)?yo(c[i]):r&&mo(c[i],r)?e.force(u):null)&&e.force(u,o);for(a=e.numForces||0;i<a;++i)e.force("forces"+i,null);return e.numForces=c.length,e}function mo(e,t){var n,r;for(n in e)if(Object(h.D)(r=e[n])&&t.modified(Object(h.g)(r)))return 1;return 0}function yo(e){var t,n;for(n in Object(h.v)(so,e.force)||Object(h.n)("Unrecognized force: "+e.force),t=so[e.force](),e)Object(h.D)(t[n])&&bo(t[n],e[n],e);return t}function bo(e,t,n){e(Object(h.D)(t)?function(e){return t(e,n)}:t)}vo.transform=function(e,t){var n,r,i=this.value,a=t.changed(t.ADD_REM),o=e.modified(lo),u=e.iterations||300;if(i?(a&&(t.modifies("index"),i.nodes(t.source)),(o||t.changed(t.MOD))&&go(i,e,0,t)):(this.value=i=function(e,t){var n=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,u=new Map,c=Object(ao.c)(l),s=io("tick","end");function l(){f(),s.call("tick",t),n<r&&(c.stop(),s.call("end",t))}function f(r){var c,s,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(a-n)*i,u.forEach((function(e){e(n)})),c=0;c<l;++c)null==(s=e[c]).fx?s.x+=s.vx*=o:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=o:(s.y=s.fy,s.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(n),a=n*co;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),d(),t={tick:f,restart:function(){return c.restart(l),t},stop:function(){return c.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),u.forEach(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},force:function(e,n){return arguments.length>1?(null==n?u.delete(e):u.set(e,h(n)),t):u.get(e)},find:function(t,n,r){var i,a,o,u,c,s=0,l=e.length;for(null==r?r=1/0:r*=r,s=0;s<l;++s)(o=(i=t-(u=e[s]).x)*i+(a=n-u.y)*a)<r&&(c=u,r=o);return c},on:function(e,n){return arguments.length>1?(s.on(e,n),t):s.on(e)}}}(e),r=!1,i=n.stop,a=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,a()},n.stop=function(){return r=!0,i()},go(n,t,!0).on("end",(function(){r=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){n.touch(r).run()})),e.static||(a=!0,i.tick()),t.modifies("index")),o||a||e.modified(fo)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/u)),e.static)for(i.stop();--u>=0;)i.tick();else if(i.stopped()&&i.restart(),!a)return t.StopPropagation;return this.finish(e,t)},vo.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if("forces"===(n=i[a]).name&&"link"===n.op._argval.force)for(var u,c=n.op._argops,s=0,l=c.length;s<l;++s)if("links"===c[s].name&&(u=c[s].op.source)){r.pulse(u,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(ho)};var xo=function(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e};function wo(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Oo(e,t){var n,r,i,a,o,u=new So(e),c=+e.value&&(u.value=e.value),s=[u];for(null==t&&(t=ko);n=s.pop();)if(c&&(n.value=+n.data.value),(i=t(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)s.push(r=n.children[a]=new So(i[a])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(_o)}function ko(e){return e.children}function jo(e){e.data=e.data.data}function _o(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function So(e){this.data=e,this.depth=this.height=0,this.parent=null}function Eo(e){p.g.call(this,null,e)}function Ao(e){return e.values}function Co(){var e,t=[];return e={entries:function(e){return function e(n,r){if(++r>t.length)return n;var i,a=[];for(i in n)a.push({key:i,values:e(n[i],r)});return a}(function e(n,r){if(r>=t.length)return n;for(var i,a,o,u=-1,c=n.length,s=t[r++],l={},f={};++u<c;)(o=l[i=s(a=n[u])+""])?o.push(a):l[i]=[a];for(i in l)f[i]=e(l[i],r);return f}(e,0),0)},key:function(n){return t.push(n),e}}}function Do(e){p.g.call(this,null,e)}function Fo(e,t){return e.parent===t.parent?1:2}So.prototype=Oo.prototype={constructor:So,count:function(){return this.eachAfter(wo)},each:function(e){var t,n,r,i,a=this,o=[a];do{for(t=o.reverse(),o=[];a=t.pop();)if(e(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(e){for(var t,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);for(;i=o.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Oo(this).eachBefore(jo)}},Eo.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(h.y)(Eo,p.g).transform=function(e,t){t.source||Object(h.n)("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each((function(e){e.children&&Object(p.n)(e.data)&&i.rem.push(e.data)})),this.value=a=Oo({values:Object(h.i)(e.keys).reduce((function(e,t){return e.key(t),e}),Co()).entries(i.source)},Ao),n&&a.each((function(e){e.children&&(e=Object(p.l)(e.data),i.add.push(e),i.source.push(e))})),xo(a,p.t,p.t)),i.source.root=a,i},Object(h.y)(Do,p.g).transform=function(e,t){t.source&&t.source.root||Object(h.n)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(Object(p.q)(e.sort,(function(e){return e.data}))),function(e,t,n){for(var r,i=0,a=t.length;i<a;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?Fo:h.O);try{this.value=n(i)}catch(o){Object(h.n)(o)}return i.each((function(e){!function(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}(e,r,a)})),t.reflow(e.modified()).modifies(a).modifies("leaf")};var To=Array.prototype.slice;var Mo=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(To.call(e))).length,a=[];r<i;)t=e[r],n&&Bo(n,t)?++r:(n=zo(a=Po(a,t)),r=0);return n};function Po(e,t){var n,r;if(Ro(t,e))return[t];for(n=0;n<e.length;++n)if(No(t,e[n])&&Ro(Lo(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(No(Lo(e[n],e[r]),t)&&No(Lo(e[n],t),e[r])&&No(Lo(e[r],t),e[n])&&Ro(Io(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function No(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Bo(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Ro(e,t){for(var n=0;n<t.length;++n)if(!Bo(e,t[n]))return!1;return!0}function zo(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return Lo(e[0],e[1]);case 3:return Io(e[0],e[1],e[2])}var t}function Lo(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,u=t.r,c=a-n,s=o-r,l=u-i,f=Math.sqrt(c*c+s*s);return{x:(n+a+c/f*l)/2,y:(r+o+s/f*l)/2,r:(f+i+u)/2}}function Io(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,u=t.y,c=t.r,s=n.x,l=n.y,f=n.r,d=r-o,h=r-s,p=i-u,v=i-l,g=c-a,m=f-a,y=r*r+i*i-a*a,b=y-o*o-u*u+c*c,x=y-s*s-l*l+f*f,w=h*p-d*v,O=(p*x-v*b)/(2*w)-r,k=(v*g-p*m)/w,j=(h*b-d*x)/(2*w)-i,_=(d*m-h*g)/w,S=k*k+_*_-1,E=2*(a+O*k+j*_),A=O*O+j*j-a*a,C=-(S?(E+Math.sqrt(E*E-4*S*A))/(2*S):A/E);return{x:r+O+k*C,y:i+j+_*C,r:C}}function Uo(e,t,n){var r,i,a,o,u=e.x-t.x,c=e.y-t.y,s=u*u+c*c;s?(i=t.r+n.r,i*=i,o=e.r+n.r,i>(o*=o)?(r=(s+o-i)/(2*s),a=Math.sqrt(Math.max(0,o/s-r*r)),n.x=e.x-r*u-a*c,n.y=e.y-r*c+a*u):(r=(s+i-o)/(2*s),a=Math.sqrt(Math.max(0,i/s-r*r)),n.x=t.x+r*u-a*c,n.y=t.y+r*c+a*u)):(n.x=t.x+n.r,n.y=t.y)}function qo(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function $o(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function Ho(e){this._=e,this.next=null,this.previous=null}function Wo(e){if(!(i=e.length))return 0;var t,n,r,i,a,o,u,c,s,l,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;Uo(n,t,r=e[2]),t=new Ho(t),n=new Ho(n),r=new Ho(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(u=3;u<i;++u){Uo(t._,n._,r=e[u]),r=new Ho(r),c=n.next,s=t.previous,l=n._.r,f=t._.r;do{if(l<=f){if(qo(c._,r._)){n=c,t.next=n,n.previous=t,--u;continue e}l+=c._.r,c=c.next}else{if(qo(s._,r._)){(t=s).next=n,n.previous=t,--u;continue e}f+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=$o(t);(r=r.next)!==n;)(o=$o(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=Mo(t),u=0;u<i;++u)(t=e[u]).x-=r.x,t.y-=r.y;return r.r}function Go(e){return null==e?null:Ko(e)}function Ko(e){if("function"!==typeof e)throw new Error;return e}function Vo(){return 0}var Yo=function(e){return function(){return e}};function Jo(e){return Math.sqrt(e.value)}function Xo(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Zo(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,u=e(n)*t||0;if(u)for(i=0;i<o;++i)r[i].r+=u;if(a=Wo(r),u)for(i=0;i<o;++i)r[i].r-=u;n.r=a+u}}}function Qo(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var eu=["x","y","r","depth","children"];function tu(e){Do.call(this,e)}tu.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:eu.length,default:eu}]};var nu=Object(h.y)(tu,Do);nu.layout=function(){var e=null,t=1,n=1,r=Vo;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Xo(e)).eachAfter(Zo(r,.5)).eachBefore(Qo(1)):i.eachBefore(Xo(Jo)).eachAfter(Zo(Vo,1)).eachAfter(Zo(r,i.r/Math.min(t,n))).eachBefore(Qo(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=Go(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:Yo(+e),i):r},i},nu.params=["radius","size","padding"],nu.fields=eu;var ru=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},iu=function(e,t,n,r,i){for(var a,o=e.children,u=-1,c=o.length,s=e.value&&(r-t)/e.value;++u<c;)(a=o[u]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*s},au=["x0","y0","x1","y1","depth","children"];function ou(e){Do.call(this,e)}ou.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:au.length,default:au}]};var uu=Object(h.y)(ou,Do);uu.layout=function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&iu(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,u=r.y1-n;o<i&&(i=o=(i+o)/2),u<a&&(a=u=(a+u)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=u}}(t,a)),r&&i.eachBefore(ru),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},uu.params=["size","round","padding"],uu.fields=au;var cu={depth:-1},su={};function lu(e){return e.id}function fu(e){return e.parentId}var du=function(){var e=lu,t=fu;function n(n){var r,i,a,o,u,c,s,l=n.length,f=new Array(l),d={};for(i=0;i<l;++i)r=n[i],u=f[i]=new So(r),null!=(c=e(r,i,n))&&(c+="")&&(d[s="$"+(u.id=c)]=s in d?su:u);for(i=0;i<l;++i)if(u=f[i],null!=(c=t(n[i],i,n))&&(c+="")){if(!(o=d["$"+c]))throw new Error("missing: "+c);if(o===su)throw new Error("ambiguous: "+c);o.children?o.children.push(u):o.children=[u],u.parent=o}else{if(a)throw new Error("multiple roots");a=u}if(!a)throw new Error("no root");if(a.parent=cu,a.eachBefore((function(e){e.depth=e.parent.depth+1,--l})).eachBefore(_o),a.parent=null,l>0)throw new Error("cycle");return a}return n.id=function(t){return arguments.length?(e=Ko(t),n):e},n.parentId=function(e){return arguments.length?(t=Ko(e),n):t},n};function hu(e){p.g.call(this,null,e)}function pu(e,t){return e.parent===t.parent?1:2}function vu(e){var t=e.children;return t?t[0]:e.t}function gu(e){var t=e.children;return t?t[t.length-1]:e.t}function mu(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function yu(e,t,n){return e.a.parent===t.parent?e.a:n}function bu(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}hu.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(h.y)(hu,p.g).transform=function(e,t){t.source||Object(h.n)("Stratify transform requires an upstream data source.");var n=this.value,r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!this.value||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?xo(du().id(e.key).parentId(e.parentKey)(i.source),e.key,h.gb):xo(du()([{}]),e.key,e.key)),i.source.root=this.value=n,i},bu.prototype=Object.create(So.prototype);function xu(e,t){return e.parent===t.parent?1:2}function wu(e,t){return e+t.x}function Ou(e,t){return Math.max(e,t.y)}var ku={tidy:function(){var e=pu,t=1,n=1,r=null;function i(i){var c=function(e){for(var t,n,r,i,a,o=new bu(e,0),u=[o];t=u.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)u.push(n=t.children[i]=new bu(r[i],i)),n.parent=t;return(o.parent=new bu(null,0)).children=[o],o}(i);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),r)i.eachBefore(u);else{var s=i,l=i,f=i;i.eachBefore((function(e){e.x<s.x&&(s=e),e.x>l.x&&(l=e),e.depth>f.depth&&(f=e)}));var d=s===l?1:e(s,l)/2,h=d-s.x,p=t/(l.x+d+h),v=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*v}))}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,u=n,c=a.parent.children[0],s=a.m,l=o.m,f=u.m,d=c.m;u=gu(u),a=vu(a),u&&a;)c=vu(c),(o=gu(o)).a=t,(i=u.z+f-a.z-s+e(u._,a._))>0&&(mu(yu(u,t,r),t,i),s+=i,l+=i),f+=u.m,s+=a.m,d+=c.m,l+=o.m;u&&!gu(o)&&(o.t=u,o.m+=f-l),a&&!vu(c)&&(c.t=a,c.m+=s-d,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},cluster:function(){var e=xu,t=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(wu,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Ou,0)}(n)):(t.x=a?o+=e(t,a):0,t.y=0,a=t)}));var u=function(e){for(var t;t=e.children;)e=t[0];return e}(i),c=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),s=u.x-e(u,c)/2,l=c.x+e(c,u)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-s)/(l-s)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}},ju=["x","y","depth","children"];function _u(e){Do.call(this,e)}_u.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:ju.length,default:ju}]};var Su=Object(h.y)(_u,Do);function Eu(e){p.g.call(this,[],e)}Su.layout=function(e){var t=e||"tidy";if(Object(h.v)(ku,t))return ku[t]();Object(h.n)("Unrecognized Tree layout method: "+t)},Su.params=["size","nodeSize"],Su.fields=ju,Eu.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(h.y)(Eu,p.g).transform=function(e,t){var n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||Object(h.n)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,(function(e){a[Object(p.t)(e)]=1})),r.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&a[Object(p.t)(t)]&&a[Object(p.t)(n)]&&i.add.push(Object(p.l)({source:n,target:t}))})),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){a[Object(p.t)(e)]=1})),n.forEach((function(e){(a[Object(p.t)(e.source)]||a[Object(p.t)(e.target)])&&i.mod.push(e)}))),i};var Au=function(e,t,n,r,i){for(var a,o=e.children,u=-1,c=o.length,s=e.value&&(i-n)/e.value;++u<c;)(a=o[u]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*s},Cu=(1+Math.sqrt(5))/2;function Du(e,t,n,r,i,a){for(var o,u,c,s,l,f,d,h,p,v,g,m=[],y=t.children,b=0,x=0,w=y.length,O=t.value;b<w;){c=i-n,s=a-r;do{l=y[x++].value}while(!l&&x<w);for(f=d=l,g=l*l*(v=Math.max(s/c,c/s)/(O*e)),p=Math.max(d/g,g/f);x<w;++x){if(l+=u=y[x].value,u<f&&(f=u),u>d&&(d=u),g=l*l*v,(h=Math.max(d/g,g/f))>p){l-=u;break}p=h}m.push(o={value:l,dice:c<s,children:y.slice(b,x)}),o.dice?iu(o,n,r,i,O?r+=s*l/O:a):Au(o,n,r,O?n+=c*l/O:i,a),O-=l,b=x}return m}var Fu=function e(t){function n(e,n,r,i,a){Du(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Cu),Tu=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,u,c,s,l,f=-1,d=o.length,h=e.value;++f<d;){for(c=(u=o[f]).children,s=u.value=0,l=c.length;s<l;++s)u.value+=c[s].value;u.dice?iu(u,n,r,i,r+=(a-r)*u.value/h):Au(u,n,r,n+=(i-n)*u.value/h,a),h-=u.value}else e._squarify=o=Du(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Cu),Mu={binary:function(e,t,n,r,i){var a,o,u=e.children,c=u.length,s=new Array(c+1);for(s[0]=o=a=0;a<c;++a)s[a+1]=o+=u[a].value;!function e(t,n,r,i,a,o,c){if(t>=n-1){var l=u[t];return l.x0=i,l.y0=a,l.x1=o,void(l.y1=c)}var f=s[t],d=r/2+f,h=t+1,p=n-1;for(;h<p;){var v=h+p>>>1;s[v]<d?h=v+1:p=v}d-s[h-1]<s[h]-d&&t+1<h&&--h;var g=s[h]-f,m=r-g;if(o-i>c-a){var y=(i*m+o*g)/r;e(t,h,g,i,a,y,c),e(h,n,m,y,a,o,c)}else{var b=(a*m+c*g)/r;e(t,h,g,i,a,o,b),e(h,n,m,i,b,o,c)}}(0,c,e.value,t,n,r,i)},dice:iu,slice:Au,slicedice:function(e,t,n,r,i){(1&e.depth?Au:iu)(e,t,n,r,i)},squarify:Fu,resquarify:Tu},Pu=["x0","y0","x1","y1","depth","children"];function Nu(e){Do.call(this,e)}Nu.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Pu.length,default:Pu}]};var Bu=Object(h.y)(Nu,Do);Bu.layout=function(){var e=function(){var e=Fu,t=!1,n=1,r=1,i=[0],a=Vo,o=Vo,u=Vo,c=Vo,s=Vo;function l(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(ru),e}function f(t){var n=i[t.depth],r=t.x0+n,l=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=d,t.children&&(n=i[t.depth+1]=a(t)/2,r+=s(t)-n,l+=o(t)-n,(f-=u(t)-n)<r&&(r=f=(r+f)/2),(d-=c(t)-n)<l&&(l=d=(l+d)/2),e(t,r,l,f,d))}return l.round=function(e){return arguments.length?(t=!!e,l):t},l.size=function(e){return arguments.length?(n=+e[0],r=+e[1],l):[n,r]},l.tile=function(t){return arguments.length?(e=Ko(t),l):e},l.padding=function(e){return arguments.length?l.paddingInner(e).paddingOuter(e):l.paddingInner()},l.paddingInner=function(e){return arguments.length?(a="function"===typeof e?e:Yo(+e),l):a},l.paddingOuter=function(e){return arguments.length?l.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):l.paddingTop()},l.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:Yo(+e),l):o},l.paddingRight=function(e){return arguments.length?(u="function"===typeof e?e:Yo(+e),l):u},l.paddingBottom=function(e){return arguments.length?(c="function"===typeof e?e:Yo(+e),l):c},l.paddingLeft=function(e){return arguments.length?(s="function"===typeof e?e:Yo(+e),l):s},l}();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(h.v)(Mu,t)?e.tile(Mu[t]):Object(h.n)("Unrecognized Treemap layout method: "+t)},e},Bu.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],Bu.fields=Pu;var Ru=function(e,t){var n,r,i,a,o,u,c=[],s=function(e){return e(a)};if(null==t)c.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(u=n[o=t.map(s)])||(n[o]=u=[],u.dims=o,c.push(u)),u.push(a);return c};function zu(e){p.g.call(this,null,e)}zu.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(h.y)(zu,p.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=Ru(r,e.groupby),a=(e.groupby||[]).map(h.h),o=a.length,u=e.as||[Object(h.h)(e.x),Object(h.h)(e.y)],c=[];i.forEach((function(t){Object(A.z)(t,e.x,e.y,e.bandwidth||.3).forEach((function(e){for(var n={},r=0;r<o;++r)n[a[r]]=t.dims[r];n[u[0]]=e[0],n[u[1]]=e[1],c.push(Object(p.l)(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n};var Lu={linear:A.y,log:A.A,exp:A.x,pow:A.C,quad:A.D,poly:A.B};function Iu(e){p.g.call(this,null,e)}Iu.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Lu)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(h.y)(Iu,p.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=t.materialize(t.SOURCE).source,i=Ru(r,e.groupby),a=(e.groupby||[]).map(h.h),o=e.method||"linear",u=e.order||3,c=function(e,t){return"poly"===e?t:"quad"===e?2:1}(o,u),s=e.as||[Object(h.h)(e.x),Object(h.h)(e.y)],l=Lu[o],f=[],d=e.extent;Object(h.v)(Lu,o)||Object(h.n)("Invalid regression method: "+o),null!=d&&"log"===o&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach((function(n){if(n.length<=c)t.dataflow.warn("Skipping regression with more parameters than data points.");else{var r=l(n,e.x,e.y,u);if(e.params)f.push(Object(p.l)({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));else{var i=d||Object(h.p)(n,e.x),v=function(e){for(var t={},r=0;r<a.length;++r)t[a[r]]=n.dims[r];t[s[0]]=e[0],t[s[1]]=e[1],f.push(Object(p.l)(t))};"linear"===o?i.forEach((function(e){return v([e,r.predict(e)])})):Object(A.E)(r.predict,i,25,200).forEach(v)}}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n};var Uu=n(11),qu=n.n(Uu),$u=n(8),Hu=n(7),Wu=Math.pow(2,-52),Gu=new Uint32Array(512),Ku=function(){function e(t){Object($u.a)(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return Object(Hu.a)(e,null,[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tc,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc,i=t.length,a=new Float64Array(2*i),o=0;o<i;o++){var u=t[o];a[2*o]=n(u),a[2*o+1]=r(u)}return new e(a)}}]),Object(Hu.a)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,a=e.length>>1,o=1/0,u=1/0,c=-1/0,s=-1/0,l=0;l<a;l++){var f=e[2*l],d=e[2*l+1];f<o&&(o=f),d<u&&(u=d),f>c&&(c=f),d>s&&(s=d),this._ids[l]=l}for(var h,p,v,g=(o+c)/2,m=(u+s)/2,y=1/0,b=0;b<a;b++){var x=Vu(g,m,e[2*b],e[2*b+1]);x<y&&(h=b,y=x)}var w=e[2*h],O=e[2*h+1];y=1/0;for(var k=0;k<a;k++)if(k!==h){var j=Vu(w,O,e[2*k],e[2*k+1]);j<y&&j>0&&(p=k,y=j)}for(var _=e[2*p],S=e[2*p+1],E=1/0,A=0;A<a;A++)if(A!==h&&A!==p){var C=Zu(w,O,_,S,e[2*A],e[2*A+1]);C<E&&(v=A,E=C)}var D=e[2*v],F=e[2*v+1];if(E===1/0){for(var T=0;T<a;T++)this._dists[T]=e[2*T]-e[0]||e[2*T+1]-e[1];Qu(this._ids,this._dists,0,a-1);for(var M=new Uint32Array(a),P=0,N=0,B=-1/0;N<a;N++){var R=this._ids[N];this._dists[R]>B&&(M[P++]=R,B=this._dists[R])}return this.hull=M.subarray(0,P),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Ju(w,O,_,S,D,F)){var z=p,L=_,I=S;p=v,_=D,S=F,v=z,D=L,F=I}var U=function(e,t,n,r,i,a){var o=n-e,u=r-t,c=i-e,s=a-t,l=o*o+u*u,f=c*c+s*s,d=.5/(o*s-u*c);return{x:e+(s*l-u*f)*d,y:t+(o*f-c*l)*d}}(w,O,_,S,D,F);this._cx=U.x,this._cy=U.y;for(var q=0;q<a;q++)this._dists[q]=Vu(e[2*q],e[2*q+1],U.x,U.y);Qu(this._ids,this._dists,0,a-1),this._hullStart=h;var $=3;n[h]=t[v]=p,n[p]=t[h]=v,n[v]=t[p]=h,r[h]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(w,O)]=h,i[this._hashKey(_,S)]=p,i[this._hashKey(D,F)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(var H,W,G=0;G<this._ids.length;G++){var K=this._ids[G],V=e[2*K],Y=e[2*K+1];if(!(G>0&&Math.abs(V-H)<=Wu&&Math.abs(Y-W)<=Wu)&&(H=V,W=Y,K!==h&&K!==p&&K!==v)){for(var J=0,X=0,Z=this._hashKey(V,Y);X<this._hashSize&&(-1===(J=i[(Z+X)%this._hashSize])||J===n[J]);X++);for(var Q=J=t[J],ee=void 0;ee=n[Q],!Ju(V,Y,e[2*Q],e[2*Q+1],e[2*ee],e[2*ee+1]);)if((Q=ee)===J){Q=-1;break}if(-1!==Q){var te=this._addTriangle(Q,K,n[Q],-1,-1,r[Q]);r[K]=this._legalize(te+2),r[Q]=te,$++;for(var ne=n[Q];ee=n[ne],Ju(V,Y,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,K,ee,r[K],-1,r[ne]),r[K]=this._legalize(te+2),n[ne]=ne,$--,ne=ee;if(Q===J)for(;Ju(V,Y,e[2*(ee=t[Q])],e[2*ee+1],e[2*Q],e[2*Q+1]);)te=this._addTriangle(ee,K,Q,-1,r[Q],r[ee]),this._legalize(te+2),r[ee]=te,n[Q]=Q,$--,Q=ee;this._hullStart=t[K]=Q,n[Q]=t[ne]=K,n[K]=ne,i[this._hashKey(V,Y)]=K,i[this._hashKey(e[2*Q],e[2*Q+1])]=Q}}}this.hull=new Uint32Array($);for(var re=0,ie=this._hullStart;re<$;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,a=0;;){var o=n[e],u=e-e%3;if(a=u+(e+2)%3,-1!==o){var c=o-o%3,s=u+(e+1)%3,l=c+(o+2)%3,f=t[a],d=t[e],h=t[s],p=t[l];if(Xu(r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*h],r[2*h+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=f;var v=n[l];if(-1===v){var g=this._hullStart;do{if(this._hullTri[g]===l){this._hullTri[g]=e;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(e,v),this._link(o,n[a]),this._link(a,l);var m=c+(o+1)%3;i<Gu.length&&(Gu[i++]=m)}else{if(0===i)break;e=Gu[--i]}}else{if(0===i)break;e=Gu[--i]}}return a}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,a){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}]),e}();function Vu(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}function Yu(e,t,n,r,i,a){var o=(r-t)*(i-e),u=(n-e)*(a-t);return Math.abs(o-u)>=33306690738754716e-32*Math.abs(o+u)?o-u:0}function Ju(e,t,n,r,i,a){return(Yu(i,a,e,t,n,r)||Yu(e,t,n,r,i,a)||Yu(n,r,i,a,e,t))<0}function Xu(e,t,n,r,i,a,o,u){var c=e-o,s=t-u,l=n-o,f=r-u,d=i-o,h=a-u,p=l*l+f*f,v=d*d+h*h;return c*(f*v-p*h)-s*(l*v-p*d)+(c*c+s*s)*(l*h-f*d)<0}function Zu(e,t,n,r,i,a){var o=n-e,u=r-t,c=i-e,s=a-t,l=o*o+u*u,f=c*c+s*s,d=.5/(o*s-u*c),h=(s*l-u*f)*d,p=(o*f-c*l)*d;return h*h+p*p}function Qu(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var a=e[i],o=t[a],u=i-1;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=a}else{var c=n+1,s=r;ec(e,n+r>>1,c),t[e[n]]>t[e[r]]&&ec(e,n,r),t[e[c]]>t[e[r]]&&ec(e,c,r),t[e[n]]>t[e[c]]&&ec(e,n,c);for(var l=e[c],f=t[l];;){do{c++}while(t[e[c]]<f);do{s--}while(t[e[s]]>f);if(s<c)break;ec(e,c,s)}e[n+1]=e[s],e[s]=l,r-c+1>=s-n?(Qu(e,t,c,r),Qu(e,t,n,s-1)):(Qu(e,t,n,s-1),Qu(e,t,c,r))}}function ec(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function tc(e){return e[0]}function nc(e){return e[1]}var rc=function(){function e(){Object($u.a)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return Object(Hu.a)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),ic=function(){function e(){Object($u.a)(this,e),this._=[]}return Object(Hu.a)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),ac=n(14),oc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=Object(ac.a)(n,4),i=r[0],a=r[1],o=r[2],u=r[3];if(Object($u.a)(this,e),!((o=+o)>=(i=+i))||!((u=+u)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=i,this.ymax=u,this.ymin=a,this._init()}return Object(Hu.a)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,a=n.triangles,o=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),c=0,s=0,l=a.length;c<l;c+=3,s+=2){var f=2*a[c],d=2*a[c+1],h=2*a[c+2],p=r[f],v=r[f+1],g=r[d],m=r[d+1],y=r[h],b=r[h+1],x=g-p,w=m-v,O=y-p,k=b-v,j=x*x+w*w,_=O*O+k*k,S=2*(x*k-w*O);if(S)if(Math.abs(S)<1e-8)e=(p+y)/2,t=(v+b)/2;else{var E=1/S;e=p+(k*j-w*_)*E,t=v+(x*_-O*j)*E}else e=(p+y)/2-1e8*k,t=(v+b)/2+1e8*O;u[s]=e,u[s+1]=t}var A,C,D,F=i[i.length-1],T=4*F,M=r[2*F],P=r[2*F+1];o.fill(0);for(var N=0;N<i.length;++N)A=T,C=M,D=P,T=4*(F=i[N]),M=r[2*F],P=r[2*F+1],o[A+2]=o[T]=D-P,o[A+3]=o[T+1]=M-C}},{key:"render",value:function(e){var t=null==e?e=new rc:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,a=n.hull,o=this.circumcenters,u=this.vectors;if(a.length<=1)return null;for(var c=0,s=r.length;c<s;++c){var l=r[c];if(!(l<c)){var f=2*Math.floor(c/3),d=2*Math.floor(l/3),h=o[f],p=o[f+1],v=o[d],g=o[d+1];this._renderSegment(h,p,v,g,e)}}for(var m,y=a[a.length-1],b=0;b<a.length;++b){m=y,y=a[b];var x=2*Math.floor(i[y]/3),w=o[x],O=o[x+1],k=4*m,j=this._project(w,O,u[k+2],u[k+3]);j&&this._renderSegment(w,O,j[0],j[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new rc:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new rc:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:qu.a.mark((function e(){var t,n,r,i;return qu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(i=this.cellPolygon(n))){e.next=8;break}return i.index=n,e.next=8,i;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new ic;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var a,o=this._regioncode(e,t),u=this._regioncode(n,r);0===o&&0===u?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,o,u))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:qu.a.mark((function e(t){var n,r,i,a,o,u,c,s,l,f,d,h;return qu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=42;break}r=!0,i=!1,a=void 0,e.prev=5,o=this.delaunay.neighbors(t)[Symbol.iterator]();case 7:if(r=(u=o.next()).done){e.next=28;break}if(c=u.value,!(s=this._clip(c))){e.next=25;break}l=0,f=n.length;case 12:if(!(l<f)){e.next=25;break}d=0,h=s.length;case 14:if(!(d<h)){e.next=22;break}if(n[l]!=s[d]||n[l+1]!=s[d+1]||n[(l+2)%f]!=s[(d+h-2)%h]||n[(l+3)%f]!=s[(d+h-1)%h]){e.next=19;break}return e.next=18,c;case 18:return e.abrupt("break",25);case 19:d+=2,e.next=14;break;case 22:l+=2,e.next=12;break;case 25:r=!0,e.next=7;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(5),i=!0,a=e.t0;case 34:e.prev=34,e.prev=35,r||null==o.return||o.return();case 37:if(e.prev=37,!i){e.next=40;break}throw a;case 40:return e.finish(37);case 41:return e.finish(34);case 42:case"end":return e.stop()}}),e,this,[[5,30,34,42],[35,,37,41]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,a=n.triangles,o=r[e];if(-1===o)return null;var u=[],c=o;do{var s=Math.floor(c/3);if(u.push(t[2*s],t[2*s+1]),a[c=c%3===2?c-2:c+1]!==e)break;c=i[c]}while(c!==o&&-1!==c);return u}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,a,o,u=t.length,c=null,s=t[u-2],l=t[u-1],f=this._regioncode(s,l),d=0;d<u;d+=2)if(n=s,r=l,s=t[d],l=t[d+1],i=f,f=this._regioncode(s,l),0===i&&0===f)a=o,o=0,c?c.push(s,l):c=[s,l];else{var h=void 0,p=void 0,v=void 0,g=void 0,m=void 0;if(0===i){if(null===(h=this._clipSegment(n,r,s,l,i,f)))continue;var y=h,b=Object(ac.a)(y,4);p=b[0],v=b[1],g=b[2],m=b[3]}else{if(null===(h=this._clipSegment(s,l,n,r,f,i)))continue;var x=h,w=Object(ac.a)(x,4);g=w[0],m=w[1],p=w[2],v=w[3],a=o,o=this._edgecode(p,v),a&&o&&this._edge(e,a,o,c,c.length),c?c.push(p,v):c=[p,v]}a=o,o=this._edgecode(g,m),a&&o&&this._edge(e,a,o,c,c.length),c?c.push(g,m):c=[g,m]}if(c)a=o,o=this._edgecode(c[0],c[1]),a&&o&&this._edge(e,a,o,c,c.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return c}},{key:"_clipSegment",value:function(e,t,n,r,i,a){for(;;){if(0===i&&0===a)return[e,t,n,r];if(i&a)return null;var o=void 0,u=void 0,c=i||a;8&c?(o=e+(n-e)*(this.ymax-t)/(r-t),u=this.ymax):4&c?(o=e+(n-e)*(this.ymin-t)/(r-t),u=this.ymin):2&c?(u=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(u=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),i?(e=o,t=u,i=this._regioncode(e,t)):(n=o,r=u,a=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,a){var o,u=Array.from(t);if((o=this._project(u[0],u[1],n,r))&&u.unshift(o[0],o[1]),(o=this._project(u[u.length-2],u[u.length-1],i,a))&&u.push(o[0],o[1]),u=this._clipFinite(e,u))for(var c,s=0,l=u.length,f=this._edgecode(u[l-2],u[l-1]);s<l;s+=2)c=f,f=this._edgecode(u[s],u[s+1]),c&&f&&(s=this._edge(e,c,f,u,s),l=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var a=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin}r[i]===a&&r[i+1]===o||!this.contains(e,a,o)||(r.splice(i,0,a,o),i+=2)}if(r.length>4)for(var u=0;u<r.length;u+=2){var c=(u+2)%r.length,s=(u+4)%r.length;(r[u]===r[c]&&r[c]===r[s]||r[u+1]===r[c+1]&&r[c+1]===r[s+1])&&(r.splice(c,2),u-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,a,o,u=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<u&&(o=this.ymin,a=e+(u=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<u&&(o=this.ymax,a=e+(u=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<u&&(a=this.xmax,o=t+(u=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<u&&(a=this.xmin,o=t+(u=i)*r)}return[a,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),uc=qu.a.mark(vc),cc=2*Math.PI,sc=Math.pow;function lc(e){return e[0]}function fc(e){return e[1]}function dc(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var hc=function(){function e(t){Object($u.a)(this,e),this._delaunator=new Ku(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return Object(Hu.a)(e,null,[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lc,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fc,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?pc(t,n,r,i):Float64Array.from(vc(t,n,r,i)))}}]),Object(Hu.a)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],a=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),o=0,u=t.length/2;o<u;++o){var c=dc(t[2*o],t[2*o+1],a);t[2*o]=c[0],t[2*o+1]=c[1]}this._delaunator=new Ku(t)}else delete this.collinear;for(var s=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,d=this.inedges.fill(-1),h=this._hullIndex.fill(-1),p=0,v=s.length;p<v;++p){var g=f[p%3===2?p-2:p+1];-1!==s[p]&&-1!==d[g]||(d[g]=p)}for(var m=0,y=l.length;m<y;++m)h[l[m]]=m;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],d[l[0]]=1,2===l.length&&(d[l[1]]=0))}},{key:"voronoi",value:function(e){return new oc(this,e)}},{key:"neighbors",value:qu.a.mark((function e(t){var n,r,i,a,o,u,c,s,l,f,d;return qu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,a=this.halfedges,o=this.triangles,!(u=this.collinear)){e.next=10;break}if(!((c=u.indexOf(t))>0)){e.next=6;break}return e.next=6,u[c-1];case 6:if(!(c<u.length-1)){e.next=9;break}return e.next=9,u[c+1];case 9:return e.abrupt("return");case 10:if(-1!==(s=n[t])){e.next=13;break}return e.abrupt("return");case 13:l=s,f=-1;case 14:return e.next=16,f=o[l];case 16:if(o[l=l%3===2?l-2:l+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(l=a[l])){e.next=26;break}if((d=r[(i[t]+1)%r.length])===f){e.next=25;break}return e.next=25,d;case 25:return e.abrupt("return");case 26:if(l!==s){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,a=this._hullIndex,o=this.halfedges,u=this.triangles,c=this.points;if(-1===r[e]||!c.length)return(e+1)%(c.length>>1);var s=e,l=sc(t-c[2*e],2)+sc(n-c[2*e+1],2),f=r[e],d=f;do{var h=u[d],p=sc(t-c[2*h],2)+sc(n-c[2*h+1],2);if(p<l&&(l=p,s=h),u[d=d%3===2?d-2:d+1]!==e)break;if(-1===(d=o[d])){if((d=i[(a[e]+1)%i.length])!==h&&sc(t-c[2*d],2)+sc(n-c[2*d+1],2)<l)return d;break}}while(d!==f);return s}},{key:"render",value:function(e){for(var t=null==e?e=new rc:void 0,n=this.points,r=this.halfedges,i=this.triangles,a=0,o=r.length;a<o;++a){var u=r[a];if(!(u<a)){var c=2*i[a],s=2*i[u];e.moveTo(n[c],n[c+1]),e.lineTo(n[s],n[s+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new rc:void 0,r=this.points,i=0,a=r.length;i<a;i+=2){var o=r[i],u=r[i+1];e.moveTo(o+t,u),e.arc(o,u,t,0,cc)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new rc:void 0,n=this.hull,r=this.points,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(var o=1;o<a;++o){var u=2*n[o];e.lineTo(r[u],r[u+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new ic;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new rc:void 0,r=this.points,i=this.triangles,a=2*i[e*=3],o=2*i[e+1],u=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[u],r[u+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:qu.a.mark((function e(){var t,n,r;return qu.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new ic;return this.renderTriangle(e,t),t.value()}}]),e}();function pc(e,t,n,r){for(var i=e.length,a=new Float64Array(2*i),o=0;o<i;++o){var u=e[o];a[2*o]=t.call(r,u,o,e),a[2*o+1]=n.call(r,u,o,e)}return a}function vc(e,t,n,r){var i,a,o,u,c,s,l;return qu.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:i=0,a=!0,o=!1,u=void 0,f.prev=4,c=e[Symbol.iterator]();case 6:if(a=(s=c.next()).done){f.next=16;break}return l=s.value,f.next=10,t.call(r,l,i,e);case 10:return f.next=12,n.call(r,l,i,e);case 12:++i;case 13:a=!0,f.next=6;break;case 16:f.next=22;break;case 18:f.prev=18,f.t0=f.catch(4),o=!0,u=f.t0;case 22:f.prev=22,f.prev=23,a||null==c.return||c.return();case 25:if(f.prev=25,!o){f.next=28;break}throw u;case 28:return f.finish(25);case 29:return f.finish(22);case 30:case"end":return f.stop()}}),uc,null,[[4,18,22,30],[23,,25,29]])}function gc(e){p.g.call(this,null,e)}gc.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var mc=Object(h.y)(gc,p.g),yc=[-1e5,-1e5,1e5,1e5];function bc(e){for(var t=e[0][0],n=e[0][1],r=e.length-1;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}mc.transform=function(e,t){var n=e.as||"path",r=t.source;if(!r||!r.length)return t;var i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:yc;for(var a=this.value=hc.from(r,e.x,e.y).voronoi(i),o=0,u=r.length;o<u;++o){var c=a.cellPolygon(o);r[o][n]=c?bc(c):null}return t.reflow(e.modified()).modifies(n)};var xc=Math.PI/180,wc=function(){var e,t,n,r,i,a,o,u=[256,256],c=_c,s=[],l=Math.random,f={};function d(e,t,n){for(var r,i,a,o,s,f=t.x,d=t.y,h=Math.sqrt(u[0]*u[0]+u[1]*u[1]),p=c(u),v=l()<.5?1:-1,g=-v;(r=p(g+=v))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=h));)if(t.x=f+i,t.y=d+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>u[0]||t.y+t.y1>u[1])&&(!n||!kc(t,e,u[0]))&&(!n||(s=n,(o=t).x+o.x1>s[0].x&&o.x+o.x0<s[1].x&&o.y+o.y1>s[0].y&&o.y+o.y0<s[1].y))){for(var m,y=t.sprite,b=t.width>>5,x=u[0]>>5,w=t.x-(b<<4),O=127&w,k=32-O,j=t.y1-t.y0,_=(t.y+t.y0)*x+(w>>5),S=0;S<j;S++){m=0;for(var E=0;E<=b;E++)e[_+E]|=m<<k|(E<b?(m=y[S*b+E])>>>O:0);_+=x}return t.sprite=null,!0}return!1}return f.layout=function(){for(var c=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Object(Ma.a)()),f=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((u[0]>>5)*u[1]),h=null,p=s.length,v=-1,g=[],m=s.map((function(u){return{text:e(u),font:t(u),style:r(u),weight:i(u),rotate:a(u),size:~~(n(u)+1e-14),padding:o(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}})).sort((function(e,t){return t.size-e.size}));++v<p;){var y=m[v];y.x=u[0]*(l()+.5)>>1,y.y=u[1]*(l()+.5)>>1,Oc(c,y,m,v),y.hasText&&d(f,y,h)&&(g.push(y),h?jc(h,y):h=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=u[0]>>1,y.y-=u[1]>>1)}return g},f.words=function(e){return arguments.length?(s=e,f):s},f.size=function(e){return arguments.length?(u=[+e[0],+e[1]],f):u},f.font=function(e){return arguments.length?(t=Sc(e),f):t},f.fontStyle=function(e){return arguments.length?(r=Sc(e),f):r},f.fontWeight=function(e){return arguments.length?(i=Sc(e),f):i},f.rotate=function(e){return arguments.length?(a=Sc(e),f):a},f.text=function(t){return arguments.length?(e=Sc(t),f):e},f.spiral=function(e){return arguments.length?(c=Ec[e]||e,f):c},f.fontSize=function(e){return arguments.length?(n=Sc(e),f):n},f.padding=function(e){return arguments.length?(o=Sc(e),f):o},f.random=function(e){return arguments.length?(l=e,f):l},f};function Oc(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,2048/a,2048/a);var o,u,c,s,l,f=0,d=0,h=0,p=n.length;for(--r;++r<p;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=i.measureText(t.text+"m").width*a,c=t.size<<1,t.rotate){var v=Math.sin(t.rotate*xc),g=Math.cos(t.rotate*xc),m=o*g,y=o*v,b=c*g,x=c*v;o=Math.max(Math.abs(m+x),Math.abs(m-x))+31>>5<<5,c=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else o=o+31>>5<<5;if(c>h&&(h=c),f+o>=2048&&(f=0,d+=h,h=0),d+c>=2048)break;i.translate((f+(o>>1))/a,(d+(c>>1))/a),t.rotate&&i.rotate(t.rotate*xc),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=o,t.height=c,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=c>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var w=i.getImageData(0,0,2048/a,2048/a).data,O=[];--r>=0;)if((t=n[r]).hasText){for(u=(o=t.width)>>5,c=t.y1-t.y0,s=0;s<c*u;s++)O[s]=0;if(null==(f=t.xoff))return;d=t.yoff;var k=0,j=-1;for(l=0;l<c;l++){for(s=0;s<o;s++){var _=u*l+(s>>5),S=w[2048*(d+l)+(f+s)<<2]?1<<31-s%32:0;O[_]|=S,k|=S}k?j=l:(t.y0++,c--,l--,d++)}t.y1=t.y0+j,t.sprite=O.slice(0,(t.y1-t.y0)*u)}}}function kc(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),u=127&o,c=32-u,s=e.y1-e.y0,l=(e.y+e.y0)*n+(o>>5),f=0;f<s;f++){r=0;for(var d=0;d<=a;d++)if((r<<c|(d<a?(r=i[f*a+d])>>>u:0))&t[l+d])return!0;l+=n}return!1}function jc(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function _c(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function Sc(e){return"function"===typeof e?e:function(){return e}}var Ec={archimedean:_c,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}},Ac=["x","y","font","fontSize","fontStyle","fontWeight","angle"],Cc=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Dc(e){p.g.call(this,wc(),e)}function Fc(e){return new Uint8Array(e)}function Tc(e){return new Uint16Array(e)}function Mc(e){return new Uint32Array(e)}function Pc(e,t,n){var r=(t<257?Fc:t<65537?Tc:Mc)(e);return n&&r.set(n),r}Dc.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:Ac}]},Object(h.y)(Dc,p.g).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||Object(h.n)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||Cc.some((function(n){var r=e[n];return Object(h.D)(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,a=this.value,o=e.as||Ac,u=e.fontSize||14;if(Object(h.D)(u)?r=e.fontSizeRange:u=Object(h.l)(u),r){var c=u,s=Object(Ht.I)("sqrt")().domain(Object(h.p)(i,c)).range(r);u=function(e){return s(c(e))}}i.forEach((function(e){e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0}));for(var l,f,d=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(u).random(A.p).layout(),p=a.size(),v=p[0]>>1,g=p[1]>>1,m=0,y=d.length;m<y;++m)(f=(l=d[m]).datum)[o[0]]=l.x+v,f[o[1]]=l.y+g,f[o[2]]=l.font,f[o[3]]=l.size,f[o[4]]=l.style,f[o[5]]=l.weight,f[o[6]]=l.rotate;return t.reflow(n).modifies(o)}};var Nc=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),a=e.index,o=i[0],u=i[1],c=a.length;for(n=0;n<o;++n)t[a[n]]|=r;for(n=u;n<c;++n)t[a[n]]|=r;return this}}},Bc=n(609);function Rc(){var e=Mc(0),t=[],n=0;return{insert:function(r,i,a){if(!i.length)return[];var o,u,c,s,l,f,d,h=n,p=i.length,v=Array(p),g=Mc(p);for(c=0;c<p;++c)v[c]=r(i[c]),g[c]=c;if(d=g,(f=v).sort.call(d,(function(e,t){var n=f[e],r=f[t];return n<r?-1:n>r?1:0})),s=f,l=d,v=Array.from(l,(function(e){return s[e]})),h)o=t,u=e,t=Array(h+p),e=Mc(h+p),function(e,t,n,r,i,a,o,u,c){var s,l=0,f=0;for(s=0;l<r&&f<o;++s)t[l]<i[f]?(u[s]=t[l],c[s]=n[l++]):(u[s]=i[f],c[s]=a[f++]+e);for(;l<r;++l,++s)u[s]=t[l],c[s]=n[l];for(;f<o;++f,++s)u[s]=i[f],c[s]=a[f]+e}(a,o,u,h,v,g,p,t,e);else{if(a>0)for(c=0;c<p;++c)g[c]+=a;t=v,e=g}return n=h+p,{index:g,value:v}},remove:function(r,i){var a,o,u,c=n;for(o=0;!i[e[o]]&&o<c;++o);for(u=o;o<c;++o)i[a=e[o]]||(e[u]=a,t[u]=t[o],++u);n=c-r},bisect:function(e,r){var i;return r?i=r.length:(r=t,i=n),[Object(Bc.a)(r,e[0],0,i),Object(Bc.b)(r,e[1],0,i)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}function zc(e){p.g.call(this,function(){var e=8,t=[],n=Mc(0),r=Pc(0,e),i=Pc(0,e);return{data:function(){return t},seen:function(){return e=n,r=t.length,n=e.length>=r?e:((i=i||new e.constructor(r)).set(e),i);var e,r,i},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var a,o,u,c=t.length,s=Array(c-e),l=t;for(o=0;!n[o]&&o<c;++o)s[o]=t[o],l[o]=o;for(u=o;o<c;++o)a=t[o],n[o]?l[o]=-1:(l[o]=u,r[u]=r[o],i[u]=i[o],s[u]=a,a._index=u++),r[o]=0;return t=s,l},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){(t>r.length||n>e)&&(e=Math.max(n,e),r=Pc(t,e,r),i=Pc(t,e))}}}(),e),this._indices=null,this._dims=null}zc.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var Lc=Object(h.y)(zc,p.g);function Ic(e){p.g.call(this,null,e)}Lc.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},Lc.init=function(e,t){for(var n,r,i=e.fields,a=e.query,o=this._indices={},u=this._dims=[],c=a.length,s=0;s<c;++s)r=o[n=i[s].fname]||(o[n]=Rc()),u.push(Nc(r,s,a[s]));return this.eval(e,t)},Lc.reinit=function(e,t){var n,r,i,a,o,u,c,s,l,f=t.materialize().fork(),d=e.fields,h=e.query,p=this._indices,v=this._dims,g=this.value,m=g.curr(),y=g.prev(),b=g.all(),x=f.rem=f.add,w=f.mod,O=h.length,k={};if(y.set(m),t.rem.length&&(o=this.remove(e,t,f)),t.add.length&&g.add(t.add),t.mod.length)for(u={},c=0,s=(a=t.mod).length;c<s;++c)u[a[c]._index]=1;for(c=0;c<O;++c)l=d[c],(!v[c]||e.modified("fields",c)||t.modified(l.fields))&&((n=k[i=l.fname])||(p[i]=r=Rc(),k[i]=n=r.insert(l,t.source,0)),v[c]=Nc(r,c,h[c]).onAdd(n,m));for(c=0,s=g.data().length;c<s;++c)o[c]||(y[c]!==m[c]?x.push(c):u[c]&&m[c]!==b&&w.push(c));return g.mask=(1<<O)-1,f},Lc.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},Lc.insert=function(e,t,n){var r,i,a,o=t.add,u=this.value,c=this._dims,s=this._indices,l=e.fields,f={},d=n.add,h=u.size(),p=h+o.length,v=c.length;u.resize(p,v),u.add(o);var g=u.curr(),m=u.prev(),y=u.all();for(r=0;r<v;++r)a=f[i=l[r].fname]||(f[i]=s[i].insert(l[r],o,h)),c[r].onAdd(a,g);for(;h<p;++h)m[h]=y,g[h]!==y&&d.push(h)},Lc.modify=function(e,t){var n,r,i,a=t.mod,o=this.value,u=o.curr(),c=o.all(),s=e.mod;for(n=0,r=s.length;n<r;++n)u[i=s[n]._index]!==c&&a.push(i)},Lc.remove=function(e,t,n){var r,i,a,o,u=this._indices,c=this.value,s=c.curr(),l=c.prev(),f=c.all(),d={},h=n.rem,p=t.rem;for(r=0,i=p.length;r<i;++r)d[a=p[r]._index]=1,l[a]=o=s[a],s[a]=f,o!==f&&h.push(a);for(a in u)u[a].remove(i,d);return this.reindex(t,i,d),d},Lc.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)}))},Lc.update=function(e,t,n){var r,i,a=this._dims,o=e.query,u=t.stamp,c=a.length,s=0;for(n.filters=0,i=0;i<c;++i)e.modified("query",i)&&(r=i,++s);if(1===s)s=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,s=0;i<c;++i)e.modified("query",i)&&(s|=a[i].one,this.incrementAll(a[i],o[i],u,n.add),n.rem=n.add);return s},Lc.incrementAll=function(e,t,n,r){var i,a,o,u=this.value,c=u.seen(),s=u.curr(),l=u.prev(),f=e.index(),d=e.bisect(e.range),h=e.bisect(t),p=h[0],v=h[1],g=d[0],m=d[1],y=e.one;if(p<g)for(i=p,a=Math.min(g,v);i<a;++i)c[o=f[i]]!==n&&(l[o]=s[o],c[o]=n,r.push(o)),s[o]^=y;else if(p>g)for(i=g,a=Math.min(p,m);i<a;++i)c[o=f[i]]!==n&&(l[o]=s[o],c[o]=n,r.push(o)),s[o]^=y;if(v>m)for(i=Math.max(p,m),a=v;i<a;++i)c[o=f[i]]!==n&&(l[o]=s[o],c[o]=n,r.push(o)),s[o]^=y;else if(v<m)for(i=Math.max(g,v),a=m;i<a;++i)c[o=f[i]]!==n&&(l[o]=s[o],c[o]=n,r.push(o)),s[o]^=y;e.range=t.slice()},Lc.incrementOne=function(e,t,n,r){var i,a,o,u=this.value.curr(),c=e.index(),s=e.bisect(e.range),l=e.bisect(t),f=l[0],d=l[1],h=s[0],p=s[1],v=e.one;if(f<h)for(i=f,a=Math.min(h,d);i<a;++i)u[o=c[i]]^=v,n.push(o);else if(f>h)for(i=h,a=Math.min(f,p);i<a;++i)u[o=c[i]]^=v,r.push(o);if(d>p)for(i=Math.max(f,p),a=d;i<a;++i)u[o=c[i]]^=v,n.push(o);else if(d<p)for(i=Math.max(h,d),a=p;i<a;++i)u[o=c[i]]^=v,r.push(o);e.range=t.slice()},Ic.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(h.y)(Ic,p.g).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),u=r.curr(),c=r.prev(),s=function(e){return u[e]&n?null:o[e]};return a.filter(a.MOD,s),i&i-1?(a.filter(a.ADD,(function(e){var t=u[e]&n;return!t&&t^c[e]&n?o[e]:null})),a.filter(a.REM,(function(e){var t=u[e]&n;return t&&!(t^t^c[e]&n)?o[e]:null}))):(a.filter(a.ADD,s),a.filter(a.REM,(function(e){return(u[e]&n)===i?o[e]:null}))),a.filter(a.SOURCE,(function(e){return s(e._index)}))};var Uc=n(275),qc=n(68),$c=n(85),Hc=n(59),Wc=n(39),Gc=n(84),Kc=n(160);n.d(t,"version",(function(){return Uc.a})),n.d(t,"bandwidthNRD",(function(){return A.a})),n.d(t,"bin",(function(){return A.b})),n.d(t,"bootstrapCI",(function(){return A.c})),n.d(t,"dotbin",(function(){return A.j})),n.d(t,"quantiles",(function(){return A.n})),n.d(t,"quartiles",(function(){return A.o})),n.d(t,"random",(function(){return A.p})),n.d(t,"setRandom",(function(){return A.I})),n.d(t,"randomLCG",(function(){return A.s})),n.d(t,"randomInteger",(function(){return A.q})),n.d(t,"randomKDE",(function(){return A.r})),n.d(t,"randomLogNormal",(function(){return A.t})),n.d(t,"sampleLogNormal",(function(){return A.F})),n.d(t,"densityLogNormal",(function(){return A.g})),n.d(t,"cumulativeLogNormal",(function(){return A.d})),n.d(t,"quantileLogNormal",(function(){return A.k})),n.d(t,"randomMixture",(function(){return A.u})),n.d(t,"randomNormal",(function(){return A.v})),n.d(t,"sampleNormal",(function(){return A.G})),n.d(t,"densityNormal",(function(){return A.h})),n.d(t,"cumulativeNormal",(function(){return A.e})),n.d(t,"quantileNormal",(function(){return A.l})),n.d(t,"randomUniform",(function(){return A.w})),n.d(t,"sampleUniform",(function(){return A.H})),n.d(t,"densityUniform",(function(){return A.i})),n.d(t,"cumulativeUniform",(function(){return A.f})),n.d(t,"quantileUniform",(function(){return A.m})),n.d(t,"regressionLinear",(function(){return A.y})),n.d(t,"regressionLog",(function(){return A.A})),n.d(t,"regressionExp",(function(){return A.x})),n.d(t,"regressionPow",(function(){return A.C})),n.d(t,"regressionQuad",(function(){return A.D})),n.d(t,"regressionPoly",(function(){return A.B})),n.d(t,"regressionLoess",(function(){return A.z})),n.d(t,"sampleCurve",(function(){return A.E})),n.d(t,"TIME_UNITS",(function(){return Ie.j})),n.d(t,"YEAR",(function(){return Ie.l})),n.d(t,"QUARTER",(function(){return Ie.h})),n.d(t,"MONTH",(function(){return Ie.g})),n.d(t,"WEEK",(function(){return Ie.k})),n.d(t,"DATE",(function(){return Ie.a})),n.d(t,"DAY",(function(){return Ie.b})),n.d(t,"DAYOFYEAR",(function(){return Ie.c})),n.d(t,"HOURS",(function(){return Ie.d})),n.d(t,"MINUTES",(function(){return Ie.f})),n.d(t,"SECONDS",(function(){return Ie.i})),n.d(t,"MILLISECONDS",(function(){return Ie.e})),n.d(t,"timeUnitSpecifier",(function(){return Ie.s})),n.d(t,"timeUnits",(function(){return Ie.t})),n.d(t,"dayofyear",(function(){return Ie.m})),n.d(t,"week",(function(){return Ie.A})),n.d(t,"utcdayofyear",(function(){return Ie.y})),n.d(t,"utcweek",(function(){return Ie.z})),n.d(t,"timeFloor",(function(){return Ie.o})),n.d(t,"utcFloor",(function(){return Ie.u})),n.d(t,"timeInterval",(function(){return Ie.p})),n.d(t,"timeOffset",(function(){return Ie.q})),n.d(t,"timeSequence",(function(){return Ie.r})),n.d(t,"utcInterval",(function(){return Ie.v})),n.d(t,"utcOffset",(function(){return Ie.w})),n.d(t,"utcSequence",(function(){return Ie.x})),n.d(t,"timeBin",(function(){return Ie.n})),n.d(t,"accessor",(function(){return h.f})),n.d(t,"accessorName",(function(){return h.h})),n.d(t,"accessorFields",(function(){return h.g})),n.d(t,"id",(function(){return h.w})),n.d(t,"identity",(function(){return h.x})),n.d(t,"zero",(function(){return h.kb})),n.d(t,"one",(function(){return h.O})),n.d(t,"truthy",(function(){return h.gb})),n.d(t,"falsy",(function(){return h.r})),n.d(t,"logger",(function(){return h.K})),n.d(t,"None",(function(){return h.d})),n.d(t,"Error",(function(){return h.b})),n.d(t,"Warn",(function(){return h.e})),n.d(t,"Info",(function(){return h.c})),n.d(t,"Debug",(function(){return h.a})),n.d(t,"mergeConfig",(function(){return h.N})),n.d(t,"writeConfig",(function(){return h.jb})),n.d(t,"panLinear",(function(){return h.Q})),n.d(t,"panLog",(function(){return h.R})),n.d(t,"panPow",(function(){return h.S})),n.d(t,"panSymlog",(function(){return h.T})),n.d(t,"zoomLinear",(function(){return h.lb})),n.d(t,"zoomLog",(function(){return h.mb})),n.d(t,"zoomPow",(function(){return h.nb})),n.d(t,"zoomSymlog",(function(){return h.ob})),n.d(t,"quarter",(function(){return h.V})),n.d(t,"utcquarter",(function(){return h.hb})),n.d(t,"array",(function(){return h.i})),n.d(t,"clampRange",(function(){return h.j})),n.d(t,"compare",(function(){return h.k})),n.d(t,"constant",(function(){return h.l})),n.d(t,"debounce",(function(){return h.m})),n.d(t,"error",(function(){return h.n})),n.d(t,"extend",(function(){return h.o})),n.d(t,"extent",(function(){return h.p})),n.d(t,"extentIndex",(function(){return h.q})),n.d(t,"fastmap",(function(){return h.s})),n.d(t,"field",(function(){return h.t})),n.d(t,"flush",(function(){return h.u})),n.d(t,"hasOwnProperty",(function(){return h.v})),n.d(t,"inherits",(function(){return h.y})),n.d(t,"inrange",(function(){return h.z})),n.d(t,"isArray",(function(){return h.A})),n.d(t,"isBoolean",(function(){return h.B})),n.d(t,"isDate",(function(){return h.C})),n.d(t,"isFunction",(function(){return h.D})),n.d(t,"isNumber",(function(){return h.E})),n.d(t,"isObject",(function(){return h.F})),n.d(t,"isRegExp",(function(){return h.G})),n.d(t,"isString",(function(){return h.H})),n.d(t,"key",(function(){return h.I})),n.d(t,"lerp",(function(){return h.J})),n.d(t,"lruCache",(function(){return h.L})),n.d(t,"merge",(function(){return h.M})),n.d(t,"pad",(function(){return h.P})),n.d(t,"peek",(function(){return h.U})),n.d(t,"repeat",(function(){return h.W})),n.d(t,"span",(function(){return h.X})),n.d(t,"splitAccessPath",(function(){return h.Y})),n.d(t,"stringValue",(function(){return h.Z})),n.d(t,"toBoolean",(function(){return h.ab})),n.d(t,"toDate",(function(){return h.bb})),n.d(t,"toNumber",(function(){return h.cb})),n.d(t,"toString",(function(){return h.eb})),n.d(t,"toSet",(function(){return h.db})),n.d(t,"truncate",(function(){return h.fb})),n.d(t,"visitArray",(function(){return h.ib})),n.d(t,"loader",(function(){return qc.e})),n.d(t,"read",(function(){return qc.f})),n.d(t,"inferType",(function(){return qc.c})),n.d(t,"inferTypes",(function(){return qc.d})),n.d(t,"typeParsers",(function(){return qc.h})),n.d(t,"format",(function(){return qc.a})),n.d(t,"formats",(function(){return qc.b})),n.d(t,"responseType",(function(){return qc.g})),n.d(t,"Bounds",(function(){return ut.a})),n.d(t,"Gradient",(function(){return ut.d})),n.d(t,"GroupItem",(function(){return ut.e})),n.d(t,"ResourceLoader",(function(){return ut.k})),n.d(t,"Item",(function(){return ut.g})),n.d(t,"Scenegraph",(function(){return ut.o})),n.d(t,"Handler",(function(){return ut.f})),n.d(t,"Renderer",(function(){return ut.j})),n.d(t,"CanvasHandler",(function(){return ut.b})),n.d(t,"CanvasRenderer",(function(){return ut.c})),n.d(t,"SVGHandler",(function(){return ut.l})),n.d(t,"SVGRenderer",(function(){return ut.m})),n.d(t,"SVGStringRenderer",(function(){return ut.n})),n.d(t,"RenderType",(function(){return ut.i})),n.d(t,"renderModule",(function(){return ut.S})),n.d(t,"intersect",(function(){return ut.C})),n.d(t,"Marks",(function(){return ut.h})),n.d(t,"boundClip",(function(){return ut.p})),n.d(t,"boundContext",(function(){return ut.q})),n.d(t,"boundStroke",(function(){return ut.t})),n.d(t,"boundItem",(function(){return ut.r})),n.d(t,"boundMark",(function(){return ut.s})),n.d(t,"pathCurves",(function(){return ut.K})),n.d(t,"pathSymbols",(function(){return ut.P})),n.d(t,"pathRectangle",(function(){return ut.N})),n.d(t,"pathTrail",(function(){return ut.Q})),n.d(t,"pathParse",(function(){return ut.M})),n.d(t,"pathRender",(function(){return ut.O})),n.d(t,"point",(function(){return ut.R})),n.d(t,"domCreate",(function(){return ut.x})),n.d(t,"domFind",(function(){return ut.y})),n.d(t,"domChild",(function(){return ut.v})),n.d(t,"domClear",(function(){return ut.w})),n.d(t,"openTag",(function(){return ut.J})),n.d(t,"closeTag",(function(){return ut.u})),n.d(t,"font",(function(){return ut.z})),n.d(t,"fontFamily",(function(){return ut.A})),n.d(t,"fontSize",(function(){return ut.B})),n.d(t,"lineHeight",(function(){return ut.H})),n.d(t,"multiLineOffset",(function(){return ut.I})),n.d(t,"textMetrics",(function(){return ut.bb})),n.d(t,"sceneEqual",(function(){return ut.V})),n.d(t,"pathEqual",(function(){return ut.L})),n.d(t,"sceneToJSON",(function(){return ut.Y})),n.d(t,"sceneFromJSON",(function(){return ut.W})),n.d(t,"intersectPath",(function(){return ut.E})),n.d(t,"intersectPoint",(function(){return ut.F})),n.d(t,"intersectRule",(function(){return ut.G})),n.d(t,"intersectBoxLine",(function(){return ut.D})),n.d(t,"sceneZOrder",(function(){return ut.ab})),n.d(t,"sceneVisit",(function(){return ut.Z})),n.d(t,"scenePickVisit",(function(){return ut.X})),n.d(t,"resetSVGClipId",(function(){return ut.T})),n.d(t,"resetSVGDefIds",(function(){return ut.U})),n.d(t,"Dataflow",(function(){return p.a})),n.d(t,"EventStream",(function(){return p.b})),n.d(t,"Parameters",(function(){return p.e})),n.d(t,"Pulse",(function(){return p.f})),n.d(t,"MultiPulse",(function(){return p.c})),n.d(t,"Operator",(function(){return p.d})),n.d(t,"Transform",(function(){return p.g})),n.d(t,"changeset",(function(){return p.i})),n.d(t,"ingest",(function(){return p.l})),n.d(t,"isTuple",(function(){return p.n})),n.d(t,"definition",(function(){return p.j})),n.d(t,"transform",(function(){return p.r})),n.d(t,"transforms",(function(){return p.s})),n.d(t,"tupleid",(function(){return p.t})),n.d(t,"scale",(function(){return Ht.I})),n.d(t,"scheme",(function(){return Ht.L})),n.d(t,"interpolate",(function(){return Ht.u})),n.d(t,"interpolateColors",(function(){return Ht.v})),n.d(t,"interpolateRange",(function(){return Ht.w})),n.d(t,"quantizeInterpolator",(function(){return Ht.H})),n.d(t,"projection",(function(){return wa})),n.d(t,"View",(function(){return $c.a})),n.d(t,"formatLocale",(function(){return Hc.c})),n.d(t,"timeFormatLocale",(function(){return Hc.e})),n.d(t,"locale",(function(){return Hc.b})),n.d(t,"defaultLocale",(function(){return Hc.a})),n.d(t,"resetDefaultLocale",(function(){return Hc.d})),n.d(t,"expressionFunction",(function(){return Wc.a})),n.d(t,"parse",(function(){return Gc.a})),n.d(t,"runtimeContext",(function(){return Kc.a})),Object(h.o)(p.s,r,i,a,o,u,c,s,l,f,d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},function(e,t,n){"use strict";var r=n(1),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=Math.PI/180,i=180/Math.PI},,,,,,function(e,t,n){"use strict";var r=n(105);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a.default.memo(a.default.forwardRef((function(t,n){return a.default.createElement(o.default,(0,i.default)({ref:n},t),e)})));0;return n.muiName=o.default.muiName,n};var i=r(n(348)),a=r(n(1)),o=r(n(224))},function(e,t,n){"use strict";var r=n(23).OrderedMap,i={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(e.size){var i=0;e.reduce((function(e,a,o){return t(e,a)||(n(e)&&r(i,o),i=o),a})),n(e.last())&&r(i,e.count())}}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},function(e,t,n){"use strict";var r=n(47),i=n(81)("draft_tree_data_support");e.exports=function(e,t,n){var a=e.getSelection(),o=e.getCurrentContent(),u=a,c=a.getAnchorKey(),s=a.getFocusKey(),l=o.getBlockForKey(c);if(i&&"forward"===n&&c!==s)return o;if(a.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return o;if(i)if(a.getAnchorOffset()===o.getBlockForKey(c).getLength()){var f=o.getBlockForKey(l.nextSibling);if(!f||0===f.getLength())return o}}else if(e.isSelectionAtStartOfContent())return o;if((u=t(e))===a)return o}return r.removeRange(o,u,n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(9),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.a={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,u=void 0===n?a.standard:n,c=t.easing,s=void 0===c?i.easeInOut:c,l=t.delay,f=void 0===l?0:l;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof u?u:o(u)," ").concat(s," ").concat("string"===typeof f?f:o(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(t){a(t)}}function u(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,u)}c((r=r.apply(e,t||[])).next())}))}},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(19),s={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},l=a.forwardRef((function(e,t){var n=e.align,u=void 0===n?"inherit":n,l=e.classes,f=e.className,d=e.color,h=void 0===d?"initial":d,p=e.component,v=e.display,g=void 0===v?"initial":v,m=e.gutterBottom,y=void 0!==m&&m,b=e.noWrap,x=void 0!==b&&b,w=e.paragraph,O=void 0!==w&&w,k=e.variant,j=void 0===k?"body1":k,_=e.variantMapping,S=void 0===_?s:_,E=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),A=p||(O?"p":S[j]||s[j])||"span";return a.createElement(A,Object(r.a)({className:Object(o.default)(l.root,f,"inherit"!==j&&l[j],"initial"!==h&&l["color".concat(Object(c.a)(h))],x&&l.noWrap,y&&l.gutterBottom,O&&l.paragraph,"inherit"!==u&&l["align".concat(Object(c.a)(u))],"initial"!==g&&l["display".concat(Object(c.a)(g))]),ref:t},E))}));t.a=Object(u.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(l)},function(e,t,n){"use strict";var r=n(30),i=Object(r.a)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},t.a=i;i.range},function(e,t,n){"use strict";var r=n(30),i=Object(r.a)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null},t.a=i;i.range},,,function(e,t,n){"use strict";var r=n(225),i=n(226);e.exports=function(e,t){var n=t.getStartKey(),a=t.getStartOffset(),o=t.getEndKey(),u=t.getEndOffset(),c=i(e,t).getBlockMap(),s=c.keySeq(),l=s.indexOf(n),f=s.indexOf(o)+1;return r(c.slice(l,f).map((function(e,t){var r=e.getText(),i=e.getCharacterList();return n===o?e.merge({text:r.slice(a,u),characterList:i.slice(a,u)}):t===n?e.merge({text:r.slice(a),characterList:i.slice(a)}):t===o?e.merge({text:r.slice(0,u),characterList:i.slice(0,u)}):e})))}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(231),a=n(23),o=n(29),u=n(362),c=(0,a.Map)(),s=u();function l(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var f={getLastCreatedEntityKey:function(){return l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),f.__getLastCreatedEntityKey()},create:function(e,t,n){return l("DraftEntity.create","contentState.createEntity"),f.__create(e,t,n)},add:function(e){return l("DraftEntity.add","contentState.addEntity"),f.__add(e)},get:function(e){return l("DraftEntity.get","contentState.getEntity"),f.__get(e)},__getAll:function(){return c},__loadWithEntities:function(e){c=e,s=u()},mergeData:function(e,t){return l("DraftEntity.mergeData","contentState.mergeEntityData"),f.__mergeData(e,t)},replaceData:function(e,t){return l("DraftEntity.replaceData","contentState.replaceEntityData"),f.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return s},__create:function(e,t,n){return f.__add(new i({type:e,mutability:t,data:n||{}}))},__add:function(e){return s=u(),c=c.set(s,e),s},__get:function(e){var t=c.get(e);return t||o(!1),t},__mergeData:function(e,t){var n=f.__get(e),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n.getData(),t),a=n.set("data",i);return c=c.set(e,a),a},__replaceData:function(e,t){var n=f.__get(e).set("data",t);return c=c.set(e,n),n}};e.exports=f},function(e,t,n){"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get("anchorKey")},i.getAnchorOffset=function(){return this.get("anchorOffset")},i.getFocusKey=function(){return this.get("focusKey")},i.getFocusOffset=function(){return this.get("focusOffset")},i.getIsBackward=function(){return this.get("isBackward")},i.getHasFocus=function(){return this.get("hasFocus")},i.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===e){var a=this.getStartOffset(),o=this.getEndOffset();return t<=a&&a<=n||t<=o&&o<=n}if(e!==r&&e!==i)return!1;var u=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=u&&n>=u},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n(23).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},function(e,t,n){"use strict";var r=n(29),i=null;function a(e){return"LTR"===e||"RTL"===e}function o(e){return a(e)||r(!1),"LTR"===e?"ltr":"rtl"}function u(e){i=e}var c={NEUTRAL:"NEUTRAL",LTR:"LTR",RTL:"RTL",isStrong:a,getHTMLDir:o,getHTMLDirIfDifferent:function(e,t){return a(e)||r(!1),a(t)||r(!1),e===t?null:o(e)},setGlobalDir:u,initGlobalDir:function(){u("LTR")},getGlobalDir:function(){return i||this.initGlobalDir(),i||r(!1),i}};e.exports=c},function(e,t,n){"use strict";var r=n(140),i=n(234);e.exports=function(e){for(var t=e;t&&t!==r(e).documentElement;){var n=i(t);if(null!=n)return n;t=t.parentNode}return null}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var i={get:n(384),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},function(e,t,n){"use strict";var r=n(388),i=n(389);e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),a=e===t?e.ownerDocument.documentElement:e,o=e.scrollWidth-a.clientWidth,u=e.scrollHeight-a.clientHeight;return n.x=Math.max(0,Math.min(n.x,o)),n.y=Math.max(0,Math.min(n.y,u)),n}},function(e,t,n){"use strict";e.exports=function(e){return"handled"===e||!0===e}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,s=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=s.length;t;){for(c=s,s=[];++f<t;)c&&c[f].run();f=-1,t=s.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new p(e,t)),1!==s.length||l||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=u(i),o=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){var t=e.alignment,n=e.children;return function(e){function i(){var e,n,r;c(this,i);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=s(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(o))),r.activate=function(e){e.preventDefault(),r.props.setAlignment({alignment:t})},r.preventBubblingUp=function(e){e.preventDefault()},r.isActive=function(){return r.props.alignment===t},s(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,e),r(i,[{key:"render",value:function(){var e=this.props.theme,t=this.isActive()?(0,o.default)(e.button,e.active):e.button;return a.default.createElement("div",{className:e.buttonWrapper,onMouseDown:this.preventBubblingUp},a.default.createElement("button",{className:t,onClick:this.activate,type:"button",children:n}))}}]),i}(i.Component)}},function(e,t,n){"use strict";(function(e){var r=n(489),i=n(490),a=n(491);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=u(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=u(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?u(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=u(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return I(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,u=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,u/=2,c/=2,n/=2}function s(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<u;a++)if(s(e,a)===s(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+c>u&&(n=u-c),a=n;a>=0;a--){for(var f=!0,d=0;d<c;d++)if(s(e,a+d)!==s(t,d)){f=!1;break}if(f)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var u=parseInt(t.substr(2*o,2),16);if(isNaN(u))return o;e[n+o]=u}return o}function x(e,t,n,r){return q(I(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return w(e,t,n,r)}function k(e,t,n,r){return q(U(t),e,n,r)}function j(e,t,n,r){return q(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,u,c,s=e[i],l=null,f=s>239?4:s>223?3:s>191?2:1;if(i+f<=n)switch(f){case 1:s<128&&(l=s);break;case 2:128===(192&(a=e[i+1]))&&(c=(31&s)<<6|63&a)>127&&(l=c);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(c=(15&s)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[i+1],o=e[i+2],u=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&u)&&(c=(15&s)<<18|(63&a)<<12|(63&o)<<6|63&u)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return s(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?u(e,t):void 0!==n?"string"===typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),u=Math.min(a,o),s=this.slice(r,i),l=e.slice(t,n),f=0;f<u;++f)if(s[f]!==l[f]){a=s[f],o=l[f];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=L(e[a]);return i}function D(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function F(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,a){return a||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,a){return a||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var a=0,o=1,u=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===u&&0!==this[t+a-1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);T(this,e,t,n,i-1,-i)}var a=n-1,o=1,u=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===u&&0!==this[t+a+1]&&(u=1),this[t+a]=(e/o>>0)-u&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:I(new c(e,r).toString()),u=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%u]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function I(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(70))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){var n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){(function(t){var n="object"===typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:"/vis-text-editor"})&&Object({NODE_ENV:"production",PUBLIC_URL:"/vis-text-editor"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:"/vis-text-editor"}).NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){};e.exports=n}).call(this,n(145))},function(e,t,n){var r=n(66);e.exports=function(e,t,n){return r(e,t,n)>0}},function(e,t,n){var r=n(148),i=n(149),a=Symbol("SemVer ANY"),o=function(){"use strict";function e(t,n){if(r(this,e),n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),t instanceof e){if(t.loose===!!n.loose)return t;t=t.value}f("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===a?this.value="":this.value=this.operator+this.semver.version,f("comp",this)}return i(e,null,[{key:"ANY",get:function(){return a}}]),i(e,[{key:"parse",value:function(e){var t=this.options.loose?c[s.COMPARATORLOOSE]:c[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new d(n[2],this.options.loose):this.semver=a}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(f("Comparator.test",e,this.options.loose),this.semver===a||e===a)return!0;if("string"===typeof e)try{e=new d(e,this.options)}catch(t){return!1}return l(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Comparator is required");if(n&&"object"===typeof n||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new h(t.value,n).test(this.value);if(""===t.operator)return""===t.value||new h(this.value,n).test(t.semver);var r=(">="===this.operator||">"===this.operator)&&(">="===t.operator||">"===t.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===t.operator||"<"===t.operator),a=this.semver.version===t.semver.version,o=(">="===this.operator||"<="===this.operator)&&(">="===t.operator||"<="===t.operator),u=l(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=l(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||a&&o||u||c}}]),e}();e.exports=o;var u=n(106),c=u.re,s=u.t,l=n(272),f=n(151),d=n(46),h=n(67)},function(e,t,n){var r=n(67);e.exports=function(e,t,n){try{t=new r(t,n)}catch(i){return!1}return t.test(e)}},function(e,t,n){"use strict";var r=n(110);t.a=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),a=e[(i+t-1)%t],o=e[i%t],u=e[(i+1)%t],c=e[(i+2)%t];return Object(r.a)((n-i/t)*t,a,o,u,c)}}},function(e,t,n){"use strict";var r=n(51),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(i.source,"g");t.a=function(e,t){var n,o,u,c=i.lastIndex=a.lastIndex=0,s=-1,l=[],f=[];for(e+="",t+="";(n=i.exec(e))&&(o=a.exec(t));)(u=o.index)>c&&(u=t.slice(c,u),l[s]?l[s]+=u:l[++s]=u),(n=n[0])===(o=o[0])?l[s]?l[s]+=o:l[++s]=o:(l[++s]=null,f.push({i:s,x:Object(r.a)(n,o)})),c=a.lastIndex;return c<t.length&&(u=t.slice(c),l[s]?l[s]+=u:l[++s]=u),l.length<2?f[0]?function(e){return function(t){return e(t)+""}}(f[0].x):function(e){return function(){return e}}(t):(t=f.length,function(e){for(var n,r=0;r<t;++r)l[(n=f[r]).i]=n.x(e);return l.join("")})}},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(109),i=n(89);function a(e,t){var n,i=t?t.length:0,a=e?Math.min(i,e.length):0,o=new Array(a),u=new Array(i);for(n=0;n<a;++n)o[n]=Object(r.a)(e[n],t[n]);for(;n<i;++n)u[n]=t[n];return function(e){for(n=0;n<a;++n)u[n]=o[n](e);return u}}t.a=function(e,t){return(Object(i.b)(t)?i.a:a)(e,t)}},function(e,t,n){"use strict";var r=n(109);t.a=function(e,t){var n,i={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?i[n]=Object(r.a)(e[n],t[n]):a[n]=t[n];return function(e){for(n in i)a[n]=i[n](e);return a}}},function(e,t,n){"use strict";var r=n(0),i=Object(r.db)(["rule"]),a=Object(r.db)(["group","image","rect"]);function o(e){return(e+"").toLowerCase()}function u(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(null,t.concat(n));return e&&e.functions?r.bind(e.functions):r}var c={operator:function(e,t){return u(e,["_"],t.code)},parameter:function(e,t){return u(e,["datum","_"],t.code)},event:function(e,t){return u(e,["event"],t.code)},handler:function(e,t){return u(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";"))},encode:function(e,t){var n=t.marktype,o=t.channels,c="var o=item,datum=o.datum,m=0,$;";for(var s in o){var l="o["+Object(r.Z)(s)+"]";c+="$=".concat(o[s].code,";if(").concat(l,"!==$)").concat(l,"=$,m=1;")}return c+=function(e,t){var n="";return i[t]?n:(e.x2&&(e.x?(a[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(a[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)}(o,n),u(e,["item","_"],c+="return m;")},codegen:{get:function(e){var t="[".concat(e.map(r.Z).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator:function(e,t){var n,r=Function("a","b","var u, v; return "+e.map((function(e,r){var i,a,o=t[r];return e.path?(i="a".concat(e.path),a="b".concat(e.path)):((n=n||{})["f"+r]=e,i="this.f".concat(r,"(a)"),a="this.f".concat(r,"(b)")),function(e,t,n,r){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(r,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(r," : ")}(i,a,-o,o)})).join("")+"0;");return n?r.bind(n):r}}};var s=n(3);function l(e,t,n){if(!e||!Object(r.F)(e))return e;for(var i,a=0,o=f.length;a<o;++a)if(i=f[a],Object(r.v)(e,i.key))return i.parse(e,t,n);return e}var f=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(r.n)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(r.I)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);var i="e:"+e.$expr.code+"_"+e.$name;return t.fn[i]||(t.fn[i]=Object(r.f)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(r.t)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){var n=e.$encode,i={};for(var a in n){var o=n[a];i[a]=Object(r.f)(t.encodeExpression(o.$expr),o.$fields),i[a].output=o.$output}return i}},{key:"$compare",parse:function(e,t){var n="c:"+e.$compare+"_"+e.$order,i=Object(r.i)(e.$compare).map((function(e){return e&&e.$tupleid?s.t:e}));return t.fn[n]||(t.fn[n]=Object(r.k)(i,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){var n=e.$subflow;return function(e,r,i){var a=t.fork().parse(n),o=a.get(n.operators[0].id),u=a.signals.parent;return u&&u.set(i),o.detachSubflow=function(){return t.detach(a)},o}}},{key:"$tupleid",parse:function(){return s.t}}];var d={skip:!0};var h=function(e,t,n,r){return new p(e,t,n,r)};function p(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||c,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function v(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}p.prototype=v.prototype={fork:function(){var e=new v(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach:function(e){this.subcontext=this.subcontext.filter((function(t){return t!==e}));for(var t=Object.keys(e.nodes),n=0,r=t;n<r.length;n++){var i=r[n];e.nodes[i]._targets=null}for(var a=0,o=t;a<o.length;a++){var u=o[a];e.nodes[u].detach()}e.nodes=null},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),"collect"===o(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){var a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push((function(){a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data){var u=function(r){var i=n.data[r]||(n.data[r]={});e.data[r].forEach((function(e){return i[e]=t}))};for(var c in e.data)u(c)}},resolve:function(){return(this.unresolved||[]).forEach((function(e){return e()})),delete this.unresolved,this},operator:function(e,t){this.add(e,this.dataflow.add(e.value,t))},transform:function(e,t){this.add(e,this.dataflow.add(this.transforms[o(t)]))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression:function(e){return this.expr.operator(this,e)},parameterExpression:function(e){return this.expr.parameter(this,e)},eventExpression:function(e){return this.expr.event(this,e)},handlerExpression:function(e){return this.expr.handler(this,e)},encodeExpression:function(e){return this.expr.encode(this,e)},parse:function(e){var t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((function(e){return t.parseOperator(e)})),n.forEach((function(e){return t.parseOperatorParameters(e)})),(e.streams||[]).forEach((function(e){return t.parseStream(e)})),(e.updates||[]).forEach((function(e){return t.parseUpdate(e)})),t.resolve()},parseOperator:function(e){"operator"!==o(e.type)&&e.type?this.transform(e,e.type):this.operator(e,e.update?this.operatorExpression(e.update):null)},parseOperatorParameters:function(e){if(e.params){var t=this.get(e.id);t||Object(r.n)("Invalid operator id: "+e.id),this.dataflow.connect(t,t.parameters(this.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};var n=this;for(var i in e){var a=e[i];t[i]=Object(r.A)(a)?a.map((function(e){return l(e,n,t)})):l(a,n,t)}return t},parseStream:function(e){var t,n=this,i=null!=e.filter?n.eventExpression(e.filter):void 0,a=null!=e.stream?n.get(e.stream):void 0;e.source?a=n.events(e.source,e.type,i):e.merge&&(a=(t=e.merge.map((function(e){return n.get(e)})))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((function(e){return n.get(e)})),a=a.between(t[0],t[1])),e.filter&&(a=a.filter(i)),null!=e.throttle&&(a=a.throttle(+e.throttle)),null!=e.debounce&&(a=a.debounce(+e.debounce)),null==a&&Object(r.n)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&a.consume(!0),n.stream(e,a)},parseUpdate:function(e){var t,n=Object(r.F)(n=e.source)?n.$ref:n,i=this.get(n),a=e.update,o=void 0;i||Object(r.n)("Source not defined: "+e.source),t=e.target&&e.target.$expr?this.eventExpression(e.target.$expr):this.get(e.target),a&&a.$expr&&(a.$params&&(o=this.parseParameters(a.$params)),a=this.handlerExpression(a.$expr)),this.update(e,i,t,a,o)},getState:function(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach((function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)}))}if(e.data){var i=n.data={};Object.keys(t.data).forEach((function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((function(t){return t.getState(e)}))),n},setState:function(e){var t=this,n=t.dataflow,i=e.data,a=e.signals;Object.keys(a||{}).forEach((function(e){n.update(t.signals[e],a[e],d)})),Object.keys(i||{}).forEach((function(e){n.pulse(t.data[e].input,n.changeset().remove(r.gb).insert(i[e]))})),(e.subcontext||[]).forEach((function(e,n){var r=t.subcontext[n];r&&r.setState(e)}))}},n.d(t,"a",(function(){return h}))},function(e,t,n){"use strict";var r=n(1),i=n.n(r).a.createContext(null);t.a=i},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for;t.a=r?Symbol.for("mui.nested"):"__THEME_NESTED__"},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(6),n(4);var r=n(78),i=(n(15),n(87),{xs:0,sm:600,md:960,lg:1280,xl:1920}),a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===Object(r.a)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),i=n(1),a=n.n(i),o=n(170);function u(e,t){var n=function(t,n){return a.a.createElement(o.a,Object(r.a)({ref:n},t),e)};return n.muiName=o.a.muiName,a.a.memo(a.a.forwardRef(n))}},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(19),s=a.forwardRef((function(e,t){var n=e.children,u=e.classes,s=e.className,l=e.color,f=void 0===l?"inherit":l,d=e.component,h=void 0===d?"svg":d,p=e.fontSize,v=void 0===p?"default":p,g=e.htmlColor,m=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,x=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return(a.createElement(h,Object(r.a)({className:Object(o.default)(u.root,s,"inherit"!==f&&u["color".concat(Object(c.a)(f))],"default"!==v&&u["fontSize".concat(Object(c.a)(v))]),focusable:"false",viewBox:b,color:g,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},x),n,m?a.createElement("title",null,m):null))}));s.muiName="SvgIcon",t.a=Object(u.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(s)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],u=a[1];return[i?t:o,r.useCallback((function(e){i||u(e)}),[])]}},function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.composeDecorators=t.createEditorStateWithText=t.default=void 0;var r=o(n(444)),i=o(n(445)),a=o(n(446));function o(e){return e&&e.__esModule?e:{default:e}}t.default=a.default;t.createEditorStateWithText=r.default,t.composeDecorators=i.default},function(e,t,n){(function(e){var r=n(492),i=n(267),a=n(493),o=n(268),u=n(495),c=n(497),s=n(498),l=n(499),f=n(148),d=n(149),h=n(270),p=n(501);!function(t){"use strict";function n(e,t,n){return e.fields=t||[],e.fname=n,e}function v(e){return 1===e.length?g(e[0]):m(e)}var g=function(e){return function(t){return t[e]}},m=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function y(e){throw Error(e)}function b(e){var t,n,r,i=[],a=null,o=0,u=e.length,c="";function s(){i.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),c+=e.substring(++n,++n),t=n;else if(r===a)s(),a=null,o=-1;else{if(a)continue;t===o&&'"'===r?(t=n+1,a=r):t===o&&"'"===r?(t=n+1,a=r):"."!==r||o?"["===r?(n>t&&s(),o=t=n+1):"]"===r&&(o||y("Access path missing open bracket: "+e),o>0&&s(),o=0,t=n+1):n>t?s():t=n+1}return o&&y("Access path missing closing bracket: "+e),a&&y("Access path missing closing quote: "+e),n>t&&(n++,s()),i}var x=[],w=(function(e,t,r){var i=b(e);e=1===i.length?i[0]:e,n((r&&r.get||v)(i),[e],t||e)}("id"),n((function(e){return e}),x,"identity"));function O(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}n((function(){return 0}),x,"zero"),n((function(){return 1}),x,"one"),n((function(){return!0}),x,"true"),n((function(){return!1}),x,"false");var k=Array.isArray;function j(e){return e===Object(e)}var _=function(e){return"__proto__"!==e};function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)if("signals"===n)e.signals=A(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;E(e,n,t[n],r)}return e}),{})}function E(e,t,n,r){var i,a;if(_(t))if(j(n)&&!k(n))for(i in a=j(e[t])?e[t]:e[t]={},n)r&&(!0===r||r[i])?E(a,i,n[i]):_(i)&&(a[i]=n[i]);else e[t]=n}function A(e,t){if(null==e)return t;var n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}function C(e){return null!=e?k(e)?e:[e]:[]}var D=Object.prototype.hasOwnProperty;function F(e,t){return D.call(e,t)}function T(e){return"boolean"===typeof e}function M(e){return"number"===typeof e}function P(e){return"string"===typeof e}function N(e){return k(e)?"["+e.map(N)+"]":j(e)||P(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function B(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}function R(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var z=function(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}((function(t){var n=function(){function t(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(c){n=function(){}}try{r=Set}catch(c){r=function(){}}try{i=Promise}catch(c){i=function(){}}function a(o,c,s,l,f){"object"===typeof c&&(s=c.depth,l=c.prototype,f=c.includeNonEnumerable,c=c.circular);var d=[],h=[],p="undefined"!=typeof e;return"undefined"==typeof c&&(c=!0),"undefined"==typeof s&&(s=1/0),function o(s,v){if(null===s)return null;if(0===v)return s;var g,m;if("object"!=typeof s)return s;if(t(s,n))g=new n;else if(t(s,r))g=new r;else if(t(s,i))g=new i((function(e,t){s.then((function(t){e(o(t,v-1))}),(function(e){t(o(e,v-1))}))}));else if(a.__isArray(s))g=[];else if(a.__isRegExp(s))g=new RegExp(s.source,u(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(a.__isDate(s))g=new Date(s.getTime());else{if(p&&e.isBuffer(s))return g=e.allocUnsafe?e.allocUnsafe(s.length):new e(s.length),s.copy(g),g;t(s,Error)?g=Object.create(s):"undefined"==typeof l?(m=Object.getPrototypeOf(s),g=Object.create(m)):(g=Object.create(l),m=l)}if(c){var y=d.indexOf(s);if(-1!=y)return h[y];d.push(s),h.push(g)}for(var b in t(s,n)&&s.forEach((function(e,t){var n=o(t,v-1),r=o(e,v-1);g.set(n,r)})),t(s,r)&&s.forEach((function(e){var t=o(e,v-1);g.add(t)})),s){var x;m&&(x=Object.getOwnPropertyDescriptor(m,b)),x&&null==x.set||(g[b]=o(s[b],v-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(s);for(b=0;b<w.length;b++){var O=w[b];(!(j=Object.getOwnPropertyDescriptor(s,O))||j.enumerable||f)&&(g[O]=o(s[O],v-1),j.enumerable||Object.defineProperty(g,O,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(s);for(b=0;b<k.length;b++){var j,_=k[b];(j=Object.getOwnPropertyDescriptor(s,_))&&j.enumerable||(g[_]=o(s[_],v-1),Object.defineProperty(g,_,{enumerable:!1}))}}return g}(o,s)}function o(e){return Object.prototype.toString.call(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=o,a.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},a.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},a.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},a.__getRegExpFlags=u,a}();t.exports&&(t.exports=n)})),L=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var n,r="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=a.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(o="",n=0;n<c.length;n++){var s=c[n],l=e(t[s]);l&&(o&&(o+=","),o+=JSON.stringify(s)+":"+l)}return a.splice(u,1),"{"+o+"}"}}(e)};function I(e){return!!e.or}function U(e){return!!e.and}function q(e){return!!e.not}function $(e,t){return q(e)?{not:$(e.not,t)}:U(e)?{and:e.and.map((function(e){return $(e,t)}))}:I(e)?{or:e.or.map((function(e){return $(e,t)}))}:t(e)}var H=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},W=z;function G(e,t){var n={},r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;F(e,c)&&(n[c]=e[c])}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}function K(e,t){var n=Object.assign({},e),r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)delete n[o.value]}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}Set.prototype.toJSON=function(){return"Set(".concat(p(this).map((function(e){return L(e)})).join(","),")")};var V=L;function Y(e){if(M(e))return e;var t=P(e)?e:L(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n&=n;return n}function J(e){return!1===e||null===e}function X(e,t){return e.indexOf(t)>-1}function Z(e,t){var n=0,r=!0,i=!1,a=void 0;try{for(var o,u=e.entries()[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=h(o.value,2),s=c[0];if(t(c[1],s,n++))return!0}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return!1}function Q(e,t){var n=0,r=!0,i=!1,a=void 0;try{for(var o,u=e.entries()[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=h(o.value,2),s=c[0];if(!t(c[1],s,n++))return!1}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return!0}function ee(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=oe(t)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;E(e,u,t[u],!0)}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}function te(e,t){var n,r=[],i={},a=!0,o=!1,u=void 0;try{for(var c,s=e[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;(n=t(l))in i||(i[n]=1,r.push(l))}}catch(f){o=!0,u=f}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}return r}function ne(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(t.has(u))return!0}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!1}function re(e){var t=new Set,n=!0,r=!1,i=void 0;try{for(var a,o=function(){var e=b(a.value).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),n=e.map((function(t,n){return e.slice(0,n+1).join("")})),r=!0,i=!1,o=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value;t.add(s)}}catch(l){i=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}},u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0)o()}catch(c){r=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}function ie(e,t){return void 0===e||void 0===t||ne(re(e),re(t))}function ae(e){return 0===oe(e).length}var oe=Object.keys,ue=Object.values;function ce(e){var t=[];for(var n in e)F(e,n)&&t.push({key:n,value:e[n]});return t}function se(e){return!0===e||!1===e}function le(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function fe(e,t){return q(e)?"!("+fe(e.not,t)+")":U(e)?"("+e.and.map((function(e){return fe(e,t)})).join(") && (")+")":I(e)?"("+e.or.map((function(e){return fe(e,t)})).join(") || (")+")":t(e)}function de(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&de(e[n],t)&&delete e[n],ae(e)}function he(e){return e.charAt(0).toUpperCase()+e.substr(1)}function pe(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=b(e),r=[],i=1;i<=n.length;i++){var a="[".concat(n.slice(0,i).map(N).join("]["),"]");r.push("".concat(t).concat(a))}return r.join(" && ")}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(N(b(e).join(".")),"]")}function ge(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function me(e){return"".concat(b(e).map(ge).join("\\."))}function ye(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function be(e){return"".concat(b(e).join("."))}function xe(e){return e?b(e).length:0}function we(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];if(void 0!==a)return a}}var Oe=42;function ke(e){return function(e){return 0===e.indexOf("__")}(e)?e:"__".concat(e)}function je(e){if(void 0!==e)return(e%360+360)%360}function _e(e){return!!M(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var Se={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function Ee(e){return e&&e.condition}var Ae=["domain","grid","labels","ticks","title"],Ce={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},De={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Fe=Object.assign(Object.assign({},De),{style:1,labelExpr:1,encoding:1});function Te(e){return!!Fe[e]}var Me={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Pe=Me.arc,Ne=Me.area,Be=Me.bar,Re=Me.image,ze=Me.line,Le=Me.point,Ie=Me.rect,Ue=Me.rule,qe=Me.text,$e=Me.tick,He=Me.trail,We=Me.circle,Ge=Me.square,Ke=Me.geoshape;function Ve(e){return X(["line","area","trail"],e)}function Ye(e){return X(["rect","bar","image","arc"],e)}var Je=oe(Me);function Xe(e){return e.type}B(Je);var Ze=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),Qe=oe({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),et={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},tt={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},nt={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function rt(e){return"mark"in e}var it=function(){function e(t,n){f(this,e),this.name=t,this.run=n}return d(e,[{key:"hasMatchingType",value:function(e){return!!rt(e)&&(Xe(t=e.mark)?t.type:t)===this.name;var t}}]),e}(),at={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},ot={count:1,min:1,max:1};function ut(e){return!!e&&!!e.argmin}function ct(e){return!!e&&!!e.argmax}function st(e){return P(e)&&!!at[e]}var lt=["count","valid","missing","distinct"];function ft(e){return P(e)&&X(lt,e)}var dt=["count","sum","distinct","valid","missing"],ht=B(["mean","average","median","q1","q3","min","max"]),pt="row",vt="column",gt="x",mt="y",yt="x2",bt="y2",xt="radius",wt="theta",Ot="theta2",kt="color",jt="fill",_t="stroke",St="shape",Et="size",At={theta:1,theta2:1,radius:1,radius2:1};function Ct(e){return e in At}var Dt={longitude:1,longitude2:1,latitude:1,latitude2:1},Ft=oe(Dt),Tt=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),At),Dt),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function Mt(e){return e===kt||e===jt||e===_t}var Pt={row:1,column:1,facet:1},Nt=oe(Pt),Bt=Object.assign(Object.assign({},Tt),Pt),Rt=oe(Bt),zt=R(Bt,["order","detail","tooltip"]),Lt=R(zt,["row","column","facet"]);function It(e){return!!Bt[e]}var Ut=[yt,bt,"latitude2","longitude2",Ot,"radius2"];function qt(e){return $t(e)!==e}function $t(e){switch(e){case yt:return gt;case bt:return mt;case"latitude2":return"latitude";case"longitude2":return"longitude";case Ot:return wt;case"radius2":return xt}return e}function Ht(e){if(Ct(e))switch(e){case wt:return"startAngle";case Ot:return"endAngle";case xt:return"outerRadius";case"radius2":return"innerRadius"}return e}function Wt(e){switch(e){case gt:return yt;case mt:return bt;case"latitude":return"latitude2";case"longitude":return"longitude2";case wt:return Ot;case xt:return"radius2"}}function Gt(e){switch(e){case gt:case yt:return"width";case mt:case bt:return"height"}}var Kt=R(Tt,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),Vt=oe(Kt),Yt={x:1,y:1},Jt=oe(Yt);function Xt(e){return e in Yt}var Zt={theta:1,radius:1},Qt=oe(Zt);function en(e){return"width"===e?gt:mt}var tn=R(Kt,["text","tooltip","href","url","description","detail","key","order"]),nn=oe(tn),rn=Object.assign(Object.assign(Object.assign({},Yt),Zt),tn),an=oe(rn);function on(e){return!!rn[e]}function un(e,t){return function(e){switch(e){case kt:case jt:case _t:case"description":case"detail":case"key":case"tooltip":case"href":case"order":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"facet":case pt:case vt:return cn;case gt:case mt:case"latitude":case"longitude":return sn;case yt:case bt:case"latitude2":case"longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Et:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case"strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case St:return{point:"always",geoshape:"always"};case"text":return{text:"always"};case"angle":return{point:"always",square:"always",text:"always"};case"url":return{image:"always"};case wt:case xt:return{text:"always",arc:"always"};case Ot:case"radius2":return{arc:"always"}}}(e)[t]}var cn={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},sn=R(cn,["geoshape"]);function ln(e){switch(e){case gt:case mt:case wt:case xt:case Et:case"angle":case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case yt:case bt:case Ot:case"radius2":return;case"facet":case pt:case vt:case St:case"strokeDash":case"text":case"tooltip":case"href":case"url":case"description":return"discrete";case kt:case jt:case _t:return"flexible";case"latitude":case"longitude":case"latitude2":case"longitude2":case"detail":case"key":case"order":return}}function fn(e){return T(e)&&(e=Ia(e,void 0)),"bin"+oe(e).map((function(t){return vn(e[t])?le("_".concat(t,"_").concat(Object.entries(e[t]))):le("_".concat(t,"_").concat(e[t]))})).join("")}function dn(e){return!0===e||pn(e)&&!e.binned}function hn(e){return"binned"===e||pn(e)&&!0===e.binned}function pn(e){return j(e)}function vn(e){return null===e||void 0===e?void 0:e.selection}function gn(e){switch(e){case pt:case vt:case Et:case kt:case jt:case _t:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case St:return 6;case"strokeDash":return 4;default:return 10}}function mn(e){return"Invalid specification ".concat(JSON.stringify(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}function yn(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function bn(e){var t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function xn(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(Gt(e),"."):'Dropping "fit" because spec has discrete size.'}function wn(e){return"Unknown field for ".concat(e,". Cannot calculate view size.")}function On(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function kn(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function jn(e){return"Selection not supported for ".concat(e," yet.")}function _n(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}function Sn(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}function En(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function An(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(V(n),"}.")}function Cn(e){return'Invalid field type "'.concat(e,'".')}function Dn(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function Fn(e){return'Invalid aggregation operator "'.concat(e,'".')}function Tn(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function Mn(e,t){return"Dropping ".concat(V(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function Pn(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function Nn(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function Bn(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function Rn(e){return"Using unaggregated domain with raw field has no effect (".concat(V(e),").")}function zn(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function Ln(e){return"Unaggregated domain is currently unsupported for log scale (".concat(V(e),").")}function In(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function Un(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}var qn="Domains that should be unioned has conflicting sort properties. Sort will be set to true.";function $n(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function Hn(e){return"Cannot stack non-linear scale (".concat(e,").")}function Wn(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function Gn(e,t){return"Invalid ".concat(e,": ").concat(V(t),".")}function Kn(e){return"1D error band does not support ".concat(e,".")}function Vn(e){return"Channel ".concat(e,' is required for "binned" bin.')}function Yn(e){return"Channel ".concat(e,' should not be used with "binned" bin.')}var Jn=function(e,t){var n=e||0;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=1&&O(t||"error","ERROR",arguments),this},warn:function(){return n>=2&&O(t||"warn","WARN",arguments),this},info:function(){return n>=3&&O(t||"log","INFO",arguments),this},debug:function(){return n>=4&&O(t||"log","DEBUG",arguments),this}}}(2),Xn=Jn;function Zn(e){return Xn=e}function Qn(){return Xn=Jn}function er(){var e;(e=Xn).warn.apply(e,arguments)}function tr(e){if(e&&j(e)){var t=!0,n=!1,r=void 0;try{for(var i,a=fr[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)if(i.value in e)return!0}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}return!1}var nr=["january","february","march","april","may","june","july","august","september","october","november","december"],rr=nr.map((function(e){return e.substr(0,3)})),ir=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ar=ir.map((function(e){return e.substr(0,3)}));function or(e,t){var n=[];if(t&&void 0!==e.day&&oe(e).length>1&&(er(function(e){return"Dropping day from datetime ".concat(V(e)," as day cannot be combined with other units.")}(e)),delete(e=W(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var r=t?function(e){if(_e(e)&&(e=+e),M(e))return e-1;var t=e.toLowerCase(),n=nr.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=rr.indexOf(r);if(-1!==i)return i;throw new Error(Gn("month",e))}(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var i=t?function(e){if(_e(e)&&(e=+e),M(e))return e>4&&er(Gn("quarter",e)),e-1;throw new Error(Gn("quarter",e))}(e.quarter):e.quarter;n.push(M(i)?3*i:i+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var a=t?function(e){if(_e(e)&&(e=+e),M(e))return e%7;var t=e.toLowerCase(),n=ir.indexOf(t);if(-1!==n)return n;var r=t.substr(0,3),i=ar.indexOf(r);if(-1!==i)return i;throw new Error(Gn("day",e))}(e.day):e.day;n.push(M(a)?a+1:a+"+1")}else n.push(1);for(var o=0,u=["hours","minutes","seconds","milliseconds"];o<u.length;o++){var c=e[u[o]];n.push("undefined"===typeof c?0:c)}return n}function ur(e){var t=or(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function cr(e){var t=or(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function sr(e){var t=or(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,p(t))):+l(Date,p(t))}var lr={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},fr=oe(lr);function dr(e){return e.startsWith("utc")}var hr={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function pr(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=fr[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;vr(e,u)&&t.push(u)}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}function vr(e,t){var n=e.indexOf(t);return!(n<0)&&!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))}function gr(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},i=r.end,a=pe(t),o=dr(e)?"utc":"";function u(e){return"quarter"===e?"(".concat(o,"quarter(").concat(a,")-1)"):"".concat(o).concat(e,"(").concat(a,")")}var c={},s=!0,l=!1,f=void 0;try{for(var d,h=fr[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;vr(e,p)&&(c[p]=u(p),n=p)}}catch(v){l=!0,f=v}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}return i&&(c[n]+="+1"),cr(c)}function mr(e){if(e){var t=pr(e);return"timeUnitSpecifier(".concat(L(t),", ").concat(L(hr),")")}}function yr(e){var t;if(e)return P(e)?t={unit:e}:j(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),dr(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function br(e){var t=yr(e),n=t.utc,r=R(t,["utc"]);return r.unit?(n?"utc":"")+oe(r).map((function(e){return le("".concat("unit"===e?"":"_".concat(e,"_")).concat(r[e]))})).join(""):(n?"utc":"")+"timeunit"+oe(r).map((function(e){return le("_".concat(e,"_").concat(r[e]))})).join("")}function xr(e){return e&&!!e.signal}function wr(e){return!!e.step}function Or(e){return!k(e)&&"field"in e&&"data"in e}var kr=oe({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),jr={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},_r=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Sr(e){return e&&!!e.field&&void 0!==e.equal}function Er(e){return e&&!!e.field&&void 0!==e.lt}function Ar(e){return e&&!!e.field&&void 0!==e.lte}function Cr(e){return e&&!!e.field&&void 0!==e.gt}function Dr(e){return e&&!!e.field&&void 0!==e.gte}function Fr(e){if(e&&e.field){if(k(e.range)&&2===e.range.length)return!0;if(xr(e.range))return!0}return!1}function Tr(e){return e&&!!e.field&&(k(e.oneOf)||k(e.in))}function Mr(e){return e&&!!e.field&&void 0!==e.valid}function Pr(e){return Tr(e)||Sr(e)||Fr(e)||Er(e)||Cr(e)||Ar(e)||Dr(e)}function Nr(e,t){return Ha(e,{timeUnit:t,wrapTime:!0})}function Br(e,t){return e.map((function(e){return Nr(e,t)}))}function Rr(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.field,i=null===(t=yr(e.timeUnit))||void 0===t?void 0:t.unit,a=i?"time("+gr(i,r)+")":Oa(e,{expr:"datum"});if(Sr(e))return a+"==="+Nr(e.equal,i);if(Er(e)){var o=e.lt;return"".concat(a,"<").concat(Nr(o,i))}if(Cr(e)){var u=e.gt;return"".concat(a,">").concat(Nr(u,i))}if(Ar(e)){var c=e.lte;return"".concat(a,"<=").concat(Nr(c,i))}if(Dr(e)){var s=e.gte;return"".concat(a,">=").concat(Nr(s,i))}if(Tr(e))return"indexof([".concat(Br(e.oneOf,i).join(","),"], ").concat(a,") !== -1");if(Mr(e))return zr(a,e.valid);if(Fr(e)){var l=e.range,f=xr(l)?{signal:"".concat(l.signal,"[0]")}:l[0],d=xr(l)?{signal:"".concat(l.signal,"[1]")}:l[1];if(null!==f&&null!==d&&n)return"inrange("+a+", ["+Nr(f,i)+", "+Nr(d,i)+"])";var h=[];return null!==f&&h.push("".concat(a," >= ").concat(Nr(f,i))),null!==d&&h.push("".concat(a," <= ").concat(Nr(d,i))),h.length>0?h.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(e)))}function zr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function Lr(e){var t;return Pr(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=yr(e.timeUnit))||void 0===t?void 0:t.unit}):e}var Ir="quantitative",Ur="ordinal",qr="temporal",$r="nominal",Hr="geojson",Wr=Ir,Gr=Ur,Kr=qr,Vr=$r,Yr=Hr;function Jr(e){if(e)switch(e=e.toLowerCase()){case"q":case Wr:return"quantitative";case"t":case Kr:return"temporal";case"o":case Gr:return"ordinal";case"n":case Vr:return"nominal";case Yr:return"geojson"}}var Xr="linear",Zr="log",Qr="pow",ei="sqrt",ti="symlog",ni="time",ri="utc",ii="quantile",ai="quantize",oi="threshold",ui="point",ci="band",si={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function li(e,t){var n=si[e],r=si[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var fi={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function di(e){return fi[e]}var hi=["linear","log","pow","sqrt","symlog","time","utc"],pi=B(hi),vi=B(["linear","log","pow","sqrt","symlog"]),gi=B(["quantile","quantize","threshold"]),mi=B(hi.concat(["quantile","quantize","threshold","sequential","identity"])),yi=B(["ordinal","bin-ordinal","point","band"]);function bi(e){return e in yi}function xi(e){return e in mi}function wi(e){return e in pi}function Oi(e){return e in gi}function ki(e){return null===e||void 0===e?void 0:e.selection}var ji=R({type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},["type","domain","range","rangeMax","rangeMin","scheme"]),_i=oe(ji);function Si(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!X(["point","band","identity"],e);case"bins":return!X(["point","band","identity","ordinal"],e);case"round":return wi(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return wi(e)||X(["point","band"],e);case"paddingOuter":case"align":return X(["point","band"],e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return wi(e);case"nice":return wi(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return xi(e)&&!X(["log","time","utc","threshold","quantile"],e)}}function Ei(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Mt(e)?void 0:'Cannot use the scale property "'.concat(e,'" with non-color channel.');case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Ai(e){var t=e.channel,n=e.channelDef,r=e.markDef,i=e.scale,a=e.config,o=Pi(e);return ca(n)&&!ft(n.aggregate)&&i&&wi(i.get("type"))&&!1===i.get("zero")?Ci({fieldDef:n,channel:t,markDef:r,ref:o,config:a}):o}function Ci(e){var t=e.fieldDef,n=e.channel,r=e.markDef,i=e.ref,a=e.config;return Ve(r.type)?i:null===Qa("invalid",r,a)?i:[Di(t,n),i]}function Di(e,t){var n=Fi(e,!0),r="y"===$t(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function Fi(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return zr(P(e)?e:Oa(e,{expr:"datum"}),!t)}function Ti(e,t,n,r){var i={};if(t&&(i.scale=t),la(e)){var a=e.datum;tr(a)?i.signal=ur(a):xr(a)?i.signal=a.signal:i.value=a}else i.field=Oa(e,n);if(r){var o=r.offset,u=r.band;o&&(i.offset=o),u&&(i.band=u)}return i}function Mi(e){var t=e.scaleName,n=e.fieldOrDatumDef,r=e.fieldOrDatumDef2,i=e.offset,a=e.startSuffix,o=e.band,u=void 0===o?.5:o,c=0<u&&u<1?"datum":void 0,s=Oa(n,{expr:c,suffix:a}),l=void 0!==r?Oa(r,{expr:c}):Oa(n,{suffix:"end",expr:c}),f={};if(0===u||1===u){f.scale=t;var d=0===u?s:l;f.field=d}else{var h="".concat(u," * ").concat(s," + ").concat(1-u," * ").concat(l);f.signal='scale("'.concat(t,'", ').concat(h,")")}return i&&(f.offset=i),f}function Pi(e){var t,n=e.channel,r=e.channelDef,i=e.channel2Def,a=e.markDef,o=e.config,u=e.scaleName,c=e.scale,s=e.stack,l=e.offset,f=e.defaultRef,d=e.band;if(r){if(ha(r)){if(pa(r)){d=null!==d&&void 0!==d?d:ra({channel:n,fieldDef:r,fieldDef2:i,markDef:a,stack:s,config:o,isMidPoint:!0});var h=r.bin,p=r.timeUnit,v=r.type;if(dn(h)||d&&p&&v===Kr)return s&&s.impute?Ti(r,u,{binSuffix:"mid"},{offset:l}):d?Mi({scaleName:u,fieldOrDatumDef:r,band:d,offset:l}):Ti(r,u,Ga(r,n)?{binSuffix:"range"}:{},{offset:l});if(hn(h)){if(ca(i))return Mi({scaleName:u,fieldOrDatumDef:r,fieldOrDatumDef2:i,band:d,offset:l});er(Vn(n===gt?yt:bt))}}var g=null===c||void 0===c?void 0:c.get("type");return Ti(r,u,bi(g)?{binSuffix:"range"}:{},{offset:l,band:"band"===g?null!==(t=null!==d&&void 0!==d?d:r.band)&&void 0!==t?t:.5:void 0})}if(va(r)){var m=r.value,y=l?{offset:l}:{};return Object.assign(Object.assign({},Ni(n,m)),y)}}return"function"===typeof f&&(f=f()),f?Object.assign(Object.assign({},f),l?{offset:l}:{}):f}function Ni(e,t){return X(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:X(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:Ya(t)}function Bi(e){return e&&"number"!==e&&"time"!==e}function Ri(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(JSON.stringify(n)):"",")")}function zi(e){var t,n,r=e.fieldOrDatumDef,i=e.format,a=e.formatType,o=e.expr,u=e.normalizeStack,c=e.config;if(Bi(a))return Ii({fieldOrDatumDef:r,format:i,formatType:a,expr:o,config:c});var s=Li(r,o,u);if($a(r)){var l=function(e,t,n,r,i){return!t||n?(n=P(n)?n:r,"".concat(i?"utc":"time","Format(").concat(e,", '").concat(n,"')")):function(e,t,n){if(e){var r=mr(e),i=n||dr(e);return"".concat(i?"utc":"time","Format(").concat(t,", ").concat(r,")")}}(t,e,i)}(s,ca(r)?null===(t=yr(r.timeUnit))||void 0===t?void 0:t.unit:void 0,i,c.timeFormat,ga(r)&&(null===(n=r.scale)||void 0===n?void 0:n.type)===ri);return l?{signal:l}:void 0}return i=$i(sa(r),i,c),ca(r)&&dn(r.bin)?{signal:Gi(s,Oa(r,{expr:o,binSuffix:"end"}),i,a,c)}:i||"quantitative"===sa(r)?{signal:"".concat(Hi(s,i))}:{signal:"isValid(".concat(s,") ? ").concat(s,' : ""+').concat(s)}}function Li(e,t,n){return ca(e)?n?"".concat(Oa(e,{expr:t,suffix:"end"}),"-").concat(Oa(e,{expr:t,suffix:"start"})):Oa(e,{expr:t}):function(e){var t=e.datum;return tr(t)?ur(t):"".concat(JSON.stringify(t))}(e)}function Ii(e){var t=e.fieldOrDatumDef,n=e.format,r=e.formatType,i=e.expr,a=e.normalizeStack,o=e.config,u=e.field;return u=null!==u&&void 0!==u?u:Li(t,i,a),ca(t)&&dn(t.bin)?{signal:Gi(u,Oa(t,{expr:i,binSuffix:"end"}),n,r,o)}:{signal:Ri(r,u,n)}}function Ui(e,t,n,r,i,a){var o;if(!Bi(r))return $a(e)?function(e,t,n,r){return e||(t?{signal:mr(t)}:r?void 0:n.timeFormat)}(n,ca(e)?null===(o=yr(e.timeUnit))||void 0===o?void 0:o.unit:void 0,i,a):$i(t,n,i)}function qi(e,t,n){return e&&(xr(e)||"number"===e||"time"===e)?e:$a(t)&&"time"!==n&&"utc"!==n?"time":void 0}function $i(e,t,n){return P(t)?t:e===Wr?n.numberFormat:void 0}function Hi(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function Wi(e,t,n,r){var i;return Bi(n)?Ri(n,e,t):Hi(e,null!==(i=P(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function Gi(e,t,n,r,i){var a=Wi(e,n,r,i),o=Wi(t,n,r,i);return"".concat(zr(e,!1),' ? "null" : ').concat(a,' + "').concat(" \u2013 ",'" + ').concat(o)}var Ki={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function Vi(e){return e in Ki}function Yi(e){return!!e&&!!e.encoding}function Ji(e){return!!e&&("count"===e.op||!!e.field)}function Xi(e){return!!e&&k(e)}function Zi(e){return"row"in e||"column"in e}function Qi(e){return!!e&&"header"in e}function ea(e){return"facet"in e}function ta(e){var t=e.field,n=e.timeUnit,r=e.bin,i=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function na(e){return"sort"in e}function ra(e){var t=e.channel,n=e.fieldDef,r=e.fieldDef2,i=e.markDef,a=e.stack,o=e.config,u=e.isMidPoint;if(ha(n)&&void 0!==n.band)return n.band;if(ca(n)){var c=n.timeUnit,s=n.bin;if(c&&!r)return u?eo("timeUnitBandPosition",i,o):Ye(i.type)?eo("timeUnitBand",i,o):0;if(dn(s))return Ye(i.type)&&!u?1:.5}return(null===a||void 0===a?void 0:a.fieldChannel)===t&&u?.5:void 0}function ia(e,t,n,r,i,a){return!!(dn(t.bin)||t.timeUnit&&pa(t)&&"temporal"===t.type)&&!!ra({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:i,config:a})}function aa(e){return!!e&&"condition"in e}function oa(e){var t=e&&e.condition;return!!t&&!k(t)&&ca(t)}function ua(e){var t=e&&e.condition;return!!t&&!k(t)&&ha(t)}function ca(e){return!!e&&(!!e.field||"count"===e.aggregate)}function sa(e){return e&&e.type}function la(e){return!!e&&"datum"in e}function fa(e){return pa(e)&&ja(e)||da(e)}function da(e){return la(e)&&M(e.datum)}function ha(e){return ca(e)||la(e)}function pa(e){return!!e&&("field"in e||"count"===e.aggregate)&&"type"in e}function va(e){return e&&"value"in e&&"value"in e}function ga(e){return!!e&&("scale"in e||"sort"in e)}function ma(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function ya(e){return!!e&&"legend"in e}function ba(e){return!!e&&("format"in e||"formatType"in e)}function xa(e){return K(e,["legend","axis","header","scale"])}function wa(e){return"op"in e}function Oa(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.field,o=i.prefix,u=i.suffix,c="";if(_a(e))a=ke("count");else{var s;if(!i.nofn)if(wa(e))s=e.op;else{var l=e.bin,f=e.aggregate,d=e.timeUnit;dn(l)?(s=fn(l),u=(null!==(t=i.binSuffix)&&void 0!==t?t:"")+(null!==(n=i.suffix)&&void 0!==n?n:"")):f?ct(f)?(c='["'.concat(a,'"]'),a="argmax_".concat(f.argmax)):ut(f)?(c='["'.concat(a,'"]'),a="argmin_".concat(f.argmin)):s=String(f):d&&(s=br(d),u=(!X(["range","mid"],i.binSuffix)&&i.binSuffix||"")+(null!==(r=i.suffix)&&void 0!==r?r:""))}s&&(a=a?"".concat(s,"_").concat(a):s)}return u&&(a="".concat(a,"_").concat(u)),o&&(a="".concat(o,"_").concat(a)),i.forAs?be(a):i.expr?ve(a,i.expr)+c:me(a)+c}function ka(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return ca(e)&&!!e.bin;case"temporal":return!1}throw new Error(Cn(e.type))}function ja(e){return!ka(e)}function _a(e){return"count"===e.aggregate}var Sa=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,i=e.field;if(ct(t))return"".concat(i," for argmax(").concat(t.argmax,")");if(ut(t))return"".concat(i," for argmin(").concat(t.argmin,")");var a=yr(r),o=t||(null===a||void 0===a?void 0:a.unit)||(null===a||void 0===a?void 0:a.maxbins)&&"timeunit"||dn(n)&&"bin";return o?o.toUpperCase()+"("+i+")":i}(e);default:return function(e,t){var n,r=e.field,i=e.bin,a=e.timeUnit,o=e.aggregate;if("count"===o)return t.countTitle;if(dn(i))return"".concat(r," (binned)");if(a){var u=null===(n=yr(a))||void 0===n?void 0:n.unit;if(u)return"".concat(r," (").concat(pr(u).join("-"),")")}else if(o)return ct(o)?"".concat(r," for max ").concat(o.argmax):ut(o)?"".concat(r," for min ").concat(o.argmin):"".concat(he(o)," of ").concat(r);return r}(e,t)}},Ea=Sa;function Aa(e){Ea=e}function Ca(){Aa(Sa)}function Da(e,t,n){var r,i,a=n.allowDisabling,o=n.includeDefault,u=void 0===o||o,c=null===(r=Fa(e))||void 0===r?void 0:r.title;if(!ca(e))return c;var s=e,l=u?Ta(s,t):void 0;return a?we(c,s.title,l):null!==(i=null!==c&&void 0!==c?c:s.title)&&void 0!==i?i:l}function Fa(e){return ma(e)&&e.axis?e.axis:ya(e)&&e.legend?e.legend:Qi(e)&&e.header?e.header:void 0}function Ta(e,t){return Ea(e,t)}function Ma(e){var t;if(ba(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=Fa(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function Pa(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal"}if(na(e)&&k(e.sort))return"ordinal";var r=e.aggregate,i=e.bin;if(e.timeUnit)return"temporal";if(i||r&&!ct(r)&&!ut(r))return"quantitative";if(ga(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(si[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Na(e){return ca(e)?e:oa(e)?e.condition:void 0}function Ba(e){return ha(e)?e:ua(e)?e.condition:void 0}function Ra(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(P(e)||M(e)||T(e)){var i=P(e)?"string":M(e)?"number":"boolean";return er(An(t,i,e)),{value:e}}return ha(e)?za(e,t,n,r):ua(e)?Object.assign(Object.assign({},e),{condition:za(e.condition,t,n,r)}):e}function za(e,t,n,r){if(ba(e)){e.format;var i=e.formatType,a=R(e,["format","formatType"]);if(Bi(i)&&!n.customFormatTypes)return er(En(t)),za(a,t,n,r)}else{var o=ma(e)?"axis":ya(e)?"legend":Qi(e)?"header":null;if(o&&e[o]){var u=e[o],c=(u.format,u.formatType),l=R(u,["format","formatType"]);if(Bi(c)&&!n.customFormatTypes)return er(En(t)),za(Object.assign(Object.assign({},e),s({},o,l)),t,n,r)}}return ca(e)?La(e,t,r):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=M(n)?"quantitative":P(n)?"nominal":tr(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function La(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.compositeMark,i=void 0!==r&&r,a=e.aggregate,o=e.timeUnit,u=e.bin,c=e.field,s=Object.assign({},e);if(i||!a||st(a)||ct(a)||ut(a)||(er(Fn(a)),delete s.aggregate),o&&(s.timeUnit=yr(o)),c&&(s.field="".concat(c)),dn(u)&&(s.bin=Ia(u,t)),hn(u)&&!Xt(t)&&er(Yn(t)),pa(s)){var l=s.type,f=Jr(l);l!==f&&(s.type=f),"quantitative"!==l&&ft(a)&&(er(Dn(l,a)),s.type="quantitative")}else if(!qt(t)){var d=Pa(s,t);s.type=d}if(pa(s)){var h=qa(s,t)||{},p=h.compatible,v=h.warning;!1===p&&er(v)}if(na(s)&&P(s.sort)){var g=s.sort;if(Vi(g))return Object.assign(Object.assign({},s),{sort:{encoding:g}});var m=g.substr(1);if("-"===g.charAt(0)&&Vi(m))return Object.assign(Object.assign({},s),{sort:{encoding:m,order:"descending"}})}if(Qi(s)){var y=s.header,b=y.orient,x=R(y,["orient"]);if(b)return Object.assign(Object.assign({},s),{header:Object.assign(Object.assign({},x),{labelOrient:y.labelOrient||b,titleOrient:y.titleOrient||b})})}return s}function Ia(e,t){return T(e)?{maxbins:gn(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:gn(t)})}var Ua={compatible:!0};function qa(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case pt:case vt:case"facet":return ja(e)?{compatible:!1,warning:Nn(t)}:Ua;case gt:case mt:case kt:case jt:case _t:case"text":case"detail":case"key":case"tooltip":case"href":case"url":case"angle":case wt:case xt:case"description":return Ua;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==Wr?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:Ua;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case Et:case Ot:case"radius2":case yt:case bt:return"nominal"!==n||e.sort?Ua:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case"strokeDash":return X(["ordinal","nominal"],e.type)?Ua:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case St:return X(["ordinal","nominal","geojson"],e.type)?Ua:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==e.type||"sort"in e?Ua:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function $a(e){var t,n=Ma(e).formatType;return"time"===n||!n&&(t=e)&&("temporal"===t.type||ca(t)&&!!t.timeUnit)}function Ha(e,t){var n,r,i=t.timeUnit,a=t.type,o=t.wrapTime,u=t.undefinedIfExprNotRequired,c=i&&(null===(n=yr(i))||void 0===n?void 0:n.unit),l=c||"temporal"===a;return xr(e)?r=e.signal:tr(e)?(l=!0,r=ur(e)):(P(e)||M(e))&&l&&(r="datetime(".concat(JSON.stringify(e),")"),function(e){return!!lr[e]}(c)&&(M(e)&&e<1e4||P(e)&&isNaN(Date.parse(e)))&&(r=ur(s({},c,e)))),r?o&&l?"time(".concat(r,")"):r:u?void 0:JSON.stringify(e)}function Wa(e,t){var n=e.type;return t.map((function(t){var r=Ha(t,{timeUnit:ca(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function Ga(e,t){return dn(e.bin)?on(t)&&X(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function Ka(e){var t=e.anchor,n=e.frame,r=e.offset,i=e.orient,a=e.color,o=e.subtitleColor,u=e.subtitleFont,c=e.subtitleFontSize,s=e.subtitleFontStyle,l=e.subtitleFontWeight,f=e.subtitleLineHeight,d=e.subtitlePadding,h=R(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),p=Object.assign(Object.assign({},h),a?{fill:a}:{}),v=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o?{subtitleColor:o}:{}),u?{subtitleFont:u}:{}),c?{subtitleFontSize:c}:{}),s?{subtitleFontStyle:s}:{}),l?{subtitleFontWeight:l}:{}),f?{subtitleLineHeight:f}:{}),d?{subtitlePadding:d}:{});return{titleMarkConfig:p,subtitleMarkConfig:G(p,["align","baseline","dx","dy","limit"]),nonMark:v,subtitle:g}}function Va(e){return P(e)||k(e)&&P(e[0])}function Ya(e){return xr(e)?e:void 0!==e?{value:e}:void 0}function Ja(e){return xr(e)?e.signal:N(e.value)}function Xa(e){return xr(e)?e.signal:null==e?null:N(e)}function Za(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function Qa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,a=r.ignoreVgConfig;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!a||i&&i!==e?eo(e,t,n,r):void 0}function eo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return we(i?to(e,t,n.style):void 0,to(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function to(e,t,n){return no(e,Za(t),n)}function no(e,t,n){var r;t=C(t);var i=!0,a=!1,o=void 0;try{for(var u,c=t[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=n[u.value];s&&void 0!==s[e]&&(r=s[e])}}catch(l){a=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return r}function ro(e,t){return C(e).reduce((function(e,n){var r;return e.field.push(Oa(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function io(e,t){var n=p(e);return t.forEach((function(e){var t=!0,r=!1,i=void 0;try{for(var a,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var u=a.value;if(H(u,e))return}}catch(c){r=!0,i=c}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}n.push(e)})),n}function ao(e,t){return H(e,t)||!t?e:e?[].concat(p(C(e)),p(C(t))).join(", "):t}function oo(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((Va(n)||xr(n))&&(Va(r)||xr(r)))return{explicit:e.explicit,value:ao(n,r)};if(Va(n)||xr(n))return{explicit:e.explicit,value:n};if(Va(r)||xr(r))return{explicit:e.explicit,value:r};if(!Va(n)&&!xr(n)&&!Va(r)&&!xr(r))return{explicit:e.explicit,value:io(n,r)};throw new Error("It should never reach here")}function uo(e,t){var n=e&&e[t];return!!n&&(k(n)?Z(n,(function(e){return!!e.field})):ca(n)||oa(n))}function co(e){return Z(Rt,(function(t){if(uo(e,t)){var n=e[t];if(k(n))return Z(n,(function(e){return!!e.aggregate}));var r=Na(n);return r&&!!r.aggregate}return!1}))}function so(e,t){var n=[],r=[],i=[],a=[],o={};return po(e,(function(u,c){if(ca(u)){var s=u.field,l=u.aggregate,f=u.bin,d=u.timeUnit,h=R(u,["field","aggregate","bin","timeUnit"]);if(l||d||f){var p,v=Fa(u),g=v&&v.title,m=Oa(u,{forAs:!0}),y=Object.assign(Object.assign(Object.assign({},g?[]:{title:Da(u,t,{allowDisabling:!0})}),h),{field:m});if(l){if(ct(l)?(p="argmax",m=Oa({op:"argmax",field:l.argmax},{forAs:!0}),y.field="".concat(m,".").concat(s)):ut(l)?(p="argmin",m=Oa({op:"argmin",field:l.argmin},{forAs:!0}),y.field="".concat(m,".").concat(s)):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(p=l),p){var b={op:p,as:m};s&&(b.field=s),a.push(b)}}else if(n.push(m),pa(u)&&dn(f)){if(r.push({bin:f,field:s,as:m}),n.push(Oa(u,{binSuffix:"end"})),Ga(u,c)&&n.push(Oa(u,{binSuffix:"range"})),Xt(c)){var x={field:m+"_end"};o[c+"2"]=x}y.bin="binned",qt(c)||(y.type=Wr)}else if(d){i.push({timeUnit:d,field:s,as:m});var w=pa(u)&&u.type!==Kr&&"time";w&&("text"===c||"tooltip"===c?y.formatType=w:function(e){return!!Kt[e]}(c)?y.legend=Object.assign({formatType:w},y.legend):Xt(c)&&(y.axis=Object.assign({formatType:w},y.axis)))}o[c]=y}else n.push(s),o[c]=e[c]}else o[c]=e[c]})),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function lo(e,t,n,r){return oe(e).reduce((function(i,a){if(!It(a))return er(function(e){return"".concat(e,"-encoding is dropped as ").concat(e," is not a valid encoding channel.")}(a)),i;var o=e[a];if("angle"!==a||"arc"!==t||e.theta||(er("Arc marks uses theta channel rather than angle, replacing angle with theta."),a=wt),!function(e,t,n){var r=un(t,n);if(!r)return!1;if("binned"===r){var i=e[t===yt?gt:mt];return!!(ca(i)&&ca(e[t])&&hn(i.bin))}return!0}(e,a,t))return er(Pn(a,t)),i;if(a===Et&&"line"===t){var u=Na(e[a]);if(null===u||void 0===u?void 0:u.aggregate)return er("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),i}if(a===kt&&(n?"fill"in e:"stroke"in e))return er(Tn("encoding",{fill:"fill"in e,stroke:"stroke"in e})),i;if("detail"===a||"order"===a&&!k(o)&&!va(o)||"tooltip"===a&&k(o))o&&(i[a]=C(o).reduce((function(e,t){return ca(t)?e.push(La(t,a)):er(Mn(t,a)),e}),[]));else{if("tooltip"===a&&null===o)i[a]=null;else if(!ca(o)&&!la(o)&&!va(o)&&!aa(o)&&!xr(o))return er(Mn(o,a)),i;i[a]=Ra(o,a,r)}return i}),{})}function fo(e,t){return oe(e).reduce((function(n,r){var i=Ra(e[r],r,t,{compositeMark:!0});return n[r]=i,n}),{})}function ho(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=oe(e)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(uo(e,u)){var c=C(e[u]),s=!0,l=!1,f=void 0;try{for(var d,h=c[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;ca(p)?t.push(p):oa(p)&&t.push(p.condition)}}catch(v){l=!0,f=v}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}}}catch(v){r=!0,i=v}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}function po(e,t,n){if(e){var r=!0,i=!1,a=void 0;try{for(var o,u=oe(e)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=e[c];if(k(s)){var l=!0,f=!1,d=void 0;try{for(var h,p=s[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;t.call(n,v,c)}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}else t.call(n,s,c)}}catch(g){i=!0,a=g}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}}function vo(e,t,n,r){return e?oe(e).reduce((function(n,i){var a=e[i];return k(a)?a.reduce((function(e,n){return t.call(r,e,n,i)}),n):t.call(r,n,a,i)}),n):n}function go(e,t){return oe(t).reduce((function(n,r){switch(r){case gt:case mt:case"href":case"description":case"url":case yt:case bt:case wt:case Ot:case xt:case"radius2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case St:case"angle":case"tooltip":return n;case"order":if("line"===e||"trail"===e)return n;case"detail":case"key":var i=t[r];if(k(i)||ca(i)){var a=!0,o=!1,u=void 0;try{for(var c,s=C(i)[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;l.aggregate||n.push(Oa(l,{}))}}catch(d){o=!0,u=d}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}}return n;case Et:if("trail"===e)return n;case kt:case jt:case _t:case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeDash":case"strokeWidth":var f=Na(t[r]);return f&&!f.aggregate&&n.push(Oa(f,{})),n}}),[])}function mo(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=e.map((function(e){var n=e.fieldPrefix,i=e.titlePrefix,a=r?" of ".concat(yo(t)):"";return{field:n+t.field,type:t.type,title:xr(i)?{signal:i+'"'.concat(escape(a),'"')}:i+a}})),a=ho(n).map(xa);return{tooltip:[].concat(p(i),p(te(a,Y)))}}function yo(e){return we(e.title,e.field)}function bo(e,t,n,r,i){var a=n.scale,o=n.axis;return function(u){var c=u.partName,l=u.mark,f=u.positionPrefix,d=u.endPositionPrefix,h=void 0===d?void 0:d,p=u.extraEncoding,v=void 0===p?{}:p,g=yo(n);return xo(e,c,i,{mark:l,encoding:Object.assign(Object.assign(Object.assign(s({},t,Object.assign(Object.assign(Object.assign({field:f+"_"+n.field,type:n.type},void 0!==g?{title:g}:{}),void 0!==a?{scale:a}:{}),void 0!==o?{axis:o}:{})),P(h)?s({},t+"2",{field:h+"_"+n.field}):{}),r),v)})}}function xo(e,t,n,r){var i=e.clip,a=e.color,o=e.opacity,u=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),a?{color:a}:{}),o?{opacity:o}:{}),Xe(r.mark)?r.mark:{type:r.mark}),{style:"".concat(u,"-").concat(t)}),T(e[t])?{}:e[t])})]:[]}function wo(e,t,n){var r=e.encoding,i="vertical"===t?"y":"x",a=r[i],o=r[i+"2"],u=r[i+"Error"],c=r[i+"Error2"];return{continuousAxisChannelDef:Oo(a,n),continuousAxisChannelDef2:Oo(o,n),continuousAxisChannelDefError:Oo(u,n),continuousAxisChannelDefError2:Oo(c,n),continuousAxis:i}}function Oo(e,t){if(e&&e.aggregate){var n=e.aggregate,r=R(e,["aggregate"]);return n!==t&&er(function(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}(n,t)),r}return e}function ko(e,t){var n=e.mark,r=e.encoding,i=r.x,a=r.y;if(Xe(n)&&n.orient)return n.orient;if(fa(i)){if(fa(a)){var o=ca(i)&&i.aggregate,u=ca(a)&&a.aggregate;if(o||u!==t){if(u||o!==t){if(o===t&&u===t)throw new Error("Both x and y cannot have aggregate");return $a(a)&&!$a(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(fa(a))return"vertical";throw new Error("Need a valid continuous axis for ".concat(t,"s"))}var jo=new it("boxplot",So);function _o(e){return M(e)?"tukey":e}function So(e,t){var n,r,i=t.config,a=e=Object.assign(Object.assign({},e),{encoding:fo(e.encoding,i)}),o=a.mark,u=(a.encoding,a.selection),c=(a.projection,R(e,["mark","encoding","selection","projection"])),l=Xe(o)?o:{type:o};u&&er(jn("boxplot"));var f=null!==(n=l.extent)&&void 0!==n?n:i.boxplot.extent,d=Qa("size",l,i),h=_o(f),v=function(e,t,n){var r=ko(e,"boxplot"),i=wo(e,r,"boxplot"),a=i.continuousAxisChannelDef,o=i.continuousAxis,u=a.field,c=_o(t),s=[].concat(p(Eo(u)),[{op:"median",field:u,as:"mid_box_"+u},{op:"min",field:u,as:("min-max"===c?"lower_whisker_":"min_")+u},{op:"max",field:u,as:("min-max"===c?"upper_whisker_":"max_")+u}]),l="min-max"===c||"tukey"===c?[]:[{calculate:'datum["upper_box_'.concat(u,'"] - datum["lower_box_').concat(u,'"]'),as:"iqr_"+u},{calculate:'min(datum["upper_box_'.concat(u,'"] + datum["iqr_').concat(u,'"] * ').concat(t,', datum["max_').concat(u,'"])'),as:"upper_whisker_"+u},{calculate:'max(datum["lower_box_'.concat(u,'"] - datum["iqr_').concat(u,'"] * ').concat(t,', datum["min_').concat(u,'"])'),as:"lower_whisker_"+u}],f=e.encoding,d=o,h=(f[d],function(e){var t,n,r=e.tooltip,i=R(e,["tooltip"]);if(!r)return{filteredEncoding:i};if(k(r)){var a=!0,o=!1,u=void 0;try{for(var c,s=r[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;l.aggregate?(t||(t=[]),t.push(l)):(n||(n=[]),n.push(l))}}catch(f){o=!0,u=f}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}t&&(i.tooltip=t)}else r.aggregate?i.tooltip=r:n=r;return k(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}}(R(f,["symbol"===typeof d?d:d+""]))),v=h.customTooltipWithoutAggregatedField,g=so(h.filteredEncoding,n),m=g.bins,y=g.timeUnits,b=g.aggregate,x=g.groupby,w=g.encoding,O="vertical"===r?"horizontal":"vertical",j=r,_=[].concat(p(m),p(y),[{aggregate:[].concat(p(b),p(s)),groupby:x}],l);return{bins:m,timeUnits:y,transform:_,groupby:x,aggregate:b,continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:w,ticksOrient:O,boxOrient:j,customTooltipWithoutAggregatedField:v}}(e,f,i),g=v.bins,m=v.timeUnits,y=v.transform,b=v.continuousAxisChannelDef,x=v.continuousAxis,w=v.groupby,O=v.aggregate,_=v.encodingWithoutContinuousAxis,S=v.ticksOrient,E=v.boxOrient,A=v.customTooltipWithoutAggregatedField,C=(_.color,_.size),D=R(_,["color","size"]),F=function(e){return bo(l,x,b,e,i.boxplot)},T=F(D),M=F(_),P=F(Object.assign(Object.assign({},D),C?{size:C}:{})),N=mo([{fieldPrefix:"min-max"===h?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===h?"lower_whisker_":"min_",titlePrefix:"Min"}],b,_),B={type:"tick",color:"black",opacity:1,orient:S,invalid:null,aria:!1},z="min-max"===h?N:mo([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],b,_),L=[].concat(p(T({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:z})),p(T({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:z})),p(T({partName:"ticks",mark:B,positionPrefix:"lower_whisker",extraEncoding:z})),p(T({partName:"ticks",mark:B,positionPrefix:"upper_whisker",extraEncoding:z}))),I=[].concat(p("tukey"!==h?L:[]),p(M({partName:"box",mark:Object.assign(Object.assign({type:"bar"},d?{size:d}:{}),{orient:E,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:N})),p(P({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},j(i.boxplot.median)&&i.boxplot.median.color?{color:i.boxplot.median.color}:{}),d?{size:d}:{}),{orient:S,aria:!1}),positionPrefix:"mid_box",extraEncoding:N})));if("min-max"===h)return Object.assign(Object.assign({},c),{transform:(null!==(r=c.transform)&&void 0!==r?r:[]).concat(y),layer:I});var U,q,$='datum["lower_box_'.concat(b.field,'"]'),H='datum["upper_box_'.concat(b.field,'"]'),W="(".concat(H," - ").concat($,")"),G="".concat($," - ").concat(f," * ").concat(W),V="".concat(H," + ").concat(f," * ").concat(W),Y='datum["'.concat(b.field,'"]'),J={joinaggregate:Eo(b.field),groupby:w},X={transform:[{filter:"(".concat(G," <= ").concat(Y,") && (").concat(Y," <= ").concat(V,")")},{aggregate:[{op:"min",field:b.field,as:"lower_whisker_"+b.field},{op:"max",field:b.field,as:"upper_whisker_"+b.field},{op:"min",field:"lower_box_"+b.field,as:"lower_box_"+b.field},{op:"max",field:"upper_box_"+b.field,as:"upper_box_"+b.field}].concat(p(O)),groupby:w}],layer:L},Z=R(D,["tooltip"]),Q=b.scale,ee=b.axis,te=yo(b),ne=K(ee,["title"]),re=xo(l,"outliers",i.boxplot,{transform:[{filter:"(".concat(Y," < ").concat(G,") || (").concat(Y," > ").concat(V,")")}],mark:"point",encoding:Object.assign(Object.assign(s({},x,Object.assign(Object.assign(Object.assign({field:b.field,type:b.type},void 0!==te?{title:te}:{}),void 0!==Q?{scale:Q}:{}),ae(ne)?{}:{axis:ne})),Z),A?{tooltip:A}:{})})[0],ie=[].concat(p(g),p(m),[J]);return re?U={transform:ie,layer:[re,X]}:(q=(U=X).transform).unshift.apply(q,p(ie)),Object.assign(Object.assign({},c),{layer:[U,{transform:y,layer:I}]})}function Eo(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}var Ao=new it("errorbar",Co);function Co(e,t){var n=t.config,r=Fo(e=Object.assign(Object.assign({},e),{encoding:fo(e.encoding,n)}),"errorbar",n),i=r.transform,a=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,c=r.ticksOrient,s=r.markDef,l=r.outerSpec,f=r.tooltipEncoding;delete u.size;var d=bo(s,o,a,u,n.errorbar),h=s.thickness,v=s.size,g=Object.assign(Object.assign({type:"tick",orient:c,aria:!1},void 0!==h?{thickness:h}:{}),void 0!==v?{size:v}:{}),m=[].concat(p(d({partName:"ticks",mark:g,positionPrefix:"lower",extraEncoding:f})),p(d({partName:"ticks",mark:g,positionPrefix:"upper",extraEncoding:f})),p(d({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==h?{size:h}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f})));return Object.assign(Object.assign(Object.assign({},l),{transform:i}),m.length>1?{layer:m}:Object.assign({},m[0]))}function Do(e,t){var n=e.encoding;if(function(e){return(ha(e.x)||ha(e.y))&&!ha(e.x2)&&!ha(e.y2)&&!ha(e.xError)&&!ha(e.xError2)&&!ha(e.yError)&&!ha(e.yError2)}(n))return{orient:ko(e,t),inputType:"raw"};var r=function(e){return ha(e.x2)||ha(e.y2)}(n),i=function(e){return ha(e.xError)||ha(e.xError2)||ha(e.yError)||ha(e.yError2)}(n),a=n.x,o=n.y;if(r){if(i)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var u=n.x2,c=n.y2;if(ha(u)&&ha(c))throw new Error("".concat(t," cannot have both x2 and y2"));if(ha(u)){if(fa(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(ha(c)){if(fa(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var s=n.xError,l=n.xError2,f=n.yError,d=n.yError2;if(ha(l)&&!ha(s))throw new Error("".concat(t," cannot have xError2 without xError"));if(ha(d)&&!ha(f))throw new Error("".concat(t," cannot have yError2 without yError"));if(ha(s)&&ha(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(ha(s)){if(fa(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(ha(f)){if(fa(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function Fo(e,t,n){var r,i=e.mark,a=e.encoding,o=e.selection,u=(e.projection,R(e,["mark","encoding","selection","projection"])),c=Xe(i)?i:{type:i};o&&er(jn(t));var s=Do(e,t),l=s.orient,f=s.inputType,d=wo(e,l,t),h=d.continuousAxisChannelDef,v=d.continuousAxisChannelDef2,g=d.continuousAxisChannelDefError,m=d.continuousAxisChannelDefError2,y=d.continuousAxis,b=function(e,t,n,r,i,a,o,u){var c,s=[],l=[],f=t.field,d=!1;if("raw"===a){var h,p,v,g=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":u.errorbar.center,m=e.extent?e.extent:"mean"===g?"stderr":"iqr";"median"===g!==("iqr"===m)&&er(function(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}(g,m,o)),"stderr"===m||"stdev"===m?(s=[{op:m,field:f,as:"extent_"+f},{op:g,field:f,as:"center_"+f}],l=[{calculate:'datum["center_'.concat(f,'"] + datum["extent_').concat(f,'"]'),as:"upper_"+f},{calculate:'datum["center_'.concat(f,'"] - datum["extent_').concat(f,'"]'),as:"lower_"+f}],c=[{fieldPrefix:"center_",titlePrefix:he(g)},{fieldPrefix:"upper_",titlePrefix:To(g,m,"+")},{fieldPrefix:"lower_",titlePrefix:To(g,m,"-")}],d=!0):("ci"===m?(h="mean",p="ci0",v="ci1"):(h="median",p="q1",v="q3"),s=[{op:p,field:f,as:"lower_"+f},{op:v,field:f,as:"upper_"+f},{op:h,field:f,as:"center_"+f}],c=[{fieldPrefix:"upper_",titlePrefix:Da({field:f,aggregate:v,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Da({field:f,aggregate:p,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Da({field:f,aggregate:h,type:"quantitative"},u,{allowDisabling:!1})}])}else{(e.center||e.extent)&&er(function(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}(e.center,e.extent)),"aggregated-upper-lower"===a?(c=[],l=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+f},{calculate:'datum["'.concat(f,'"]'),as:"lower_"+f}]):"aggregated-error"===a&&(c=[{fieldPrefix:"",titlePrefix:f}],l=[{calculate:'datum["'.concat(f,'"] + datum["').concat(r.field,'"]'),as:"upper_"+f}],i?l.push({calculate:'datum["'.concat(f,'"] + datum["').concat(i.field,'"]'),as:"lower_"+f}):l.push({calculate:'datum["'.concat(f,'"] - datum["').concat(r.field,'"]'),as:"lower_"+f}));var y=!0,b=!1,x=void 0;try{for(var w,O=l[Symbol.iterator]();!(y=(w=O.next()).done);y=!0){var k=w.value;c.push({fieldPrefix:k.as.substring(0,6),titlePrefix:ye(ye(k.calculate,'datum["',""),'"]',"")})}}catch(j){b=!0,x=j}finally{try{y||null==O.return||O.return()}finally{if(b)throw x}}}return{postAggregateCalculates:l,errorBarSpecificAggregate:s,tooltipSummary:c,tooltipTitleWithFieldName:d}}(c,h,v,g,m,f,t,n),x=b.errorBarSpecificAggregate,w=b.postAggregateCalculates,O=b.tooltipSummary,k=b.tooltipTitleWithFieldName,j=a,_=y,S=(j[_],"x"===y?"x2":"y2"),E=(j[S],"x"===y?"xError":"yError"),A=(j[E],"x"===y?"xError2":"yError2"),C=(j[A],so(R(j,["symbol"===typeof _?_:_+"","symbol"===typeof S?S:S+"","symbol"===typeof E?E:E+"","symbol"===typeof A?A:A+""]),n)),D=C.bins,F=C.timeUnits,T=C.aggregate,M=C.groupby,P=C.encoding,N=[].concat(p(T),p(x)),B="raw"!==f?[]:M,z=mo(O,h,P,k);return{transform:[].concat(p(null!==(r=u.transform)&&void 0!==r?r:[]),p(D),p(F),p(0===N.length?[]:[{aggregate:N,groupby:B}]),p(w)),groupby:B,continuousAxisChannelDef:h,continuousAxis:y,encodingWithoutContinuousAxis:P,ticksOrient:"vertical"===l?"horizontal":"vertical",markDef:c,outerSpec:u,tooltipEncoding:z}}function To(e,t,n){return he(e)+" "+n+" "+t}var Mo=new it("errorband",Po);function Po(e,t){var n=t.config,r=Fo(e=Object.assign(Object.assign({},e),{encoding:fo(e.encoding,n)}),"errorband",n),i=r.transform,a=r.continuousAxisChannelDef,o=r.continuousAxis,u=r.encodingWithoutContinuousAxis,c=r.markDef,s=r.outerSpec,l=r.tooltipEncoding,f=c,d=bo(f,o,a,u,n.errorband),h=void 0!==e.encoding.x&&void 0!==e.encoding.y,v={type:h?"area":"rect"},g={type:h?"line":"rule"},m=Object.assign(Object.assign({},f.interpolate?{interpolate:f.interpolate}:{}),f.tension&&f.interpolate?{tension:f.tension}:{});return h?(v=Object.assign(Object.assign(Object.assign({},v),m),{ariaRoleDescription:"errorband"}),g=Object.assign(Object.assign(Object.assign({},g),m),{aria:!1})):f.interpolate?er(Kn("interpolate")):f.tension&&er(Kn("tension")),Object.assign(Object.assign({},s),{transform:i,layer:[].concat(p(d({partName:"band",mark:v,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})),p(d({partName:"borders",mark:g,positionPrefix:"lower",extraEncoding:l})),p(d({partName:"borders",mark:g,positionPrefix:"upper",extraEncoding:l})))})}var No={};function Bo(e,t,n){var r=new it(e,t);No[e]={normalizer:r,parts:n}}Bo("boxplot",So,["box","median","outliers","rule","ticks"]),Bo("errorbar",Co,["ticks","rule"]),Bo("errorband",Po,["band","borders"]);var Ro=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],zo=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],Lo={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},Io={single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function Uo(e){return!!e&&("legend"===e||!!e.legend)}function qo(e){return Uo(e)&&j(e)}function $o(e){return"concat"in e}function Ho(e){return"vconcat"in e}function Wo(e){return"hconcat"in e}function Go(e){return j(e)&&void 0!==e.step}function Ko(e){return e.view||e.width||e.height}var Vo=oe({align:1,bounds:1,center:1,columns:1,spacing:1});function Yo(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function Jo(e,t){var n=Xo(e,t);return Go(n)?n.step:Zo}function Xo(e,t){var n;return we(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var Zo=20,Qo={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:Zo},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:tt,circle:{},geoshape:{},image:{},line:{},point:{},rect:nt,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:Io,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},eu=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],tu={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},nu={blue:eu[0],orange:eu[1],red:eu[2],teal:eu[3],green:eu[4],yellow:eu[5],purple:eu[6],pink:eu[7],brown:eu[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function ru(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:j(e)?Object.assign(Object.assign({},nu),e):nu}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function iu(e){return{signals:[{name:"fontSize",value:j(e)?Object.assign(Object.assign({},tu),e):tu}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function au(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,r=e.fontSize,i=R(e,["color","font","fontSize"]);return S({},Qo,n?au(n):{},t?ru(t):{},r?iu(r):{},i||{})}var uu=["view"].concat(p(Je)),cu=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],su=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function lu(e){e=W(e);var t=!0,n=!1,r=void 0;try{for(var i,a=cu[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)delete e[i.value]}catch(G){n=!0,r=G}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}if(e.axis)for(var o in e.axis)Ee(e.axis[o])&&delete e.axis[o];if(e.legend){var u=!0,c=!1,s=void 0;try{for(var l,f=Ro[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;delete e.legend[d]}}catch(G){c=!0,s=G}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}if(e.mark){var h=!0,p=!1,v=void 0;try{for(var g,m=Qe[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value;delete e.mark[y]}}catch(G){p=!0,v=G}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}e.mark.tooltip&&j(e.mark.tooltip)&&delete e.mark.tooltip}var b=!0,x=!1,w=void 0;try{for(var O,k=uu[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var _=O.value,S=!0,E=!1,A=void 0;try{for(var C,D=Qe[Symbol.iterator]();!(S=(C=D.next()).done);S=!0){var F=C.value;delete e[_][F]}}catch(G){E=!0,A=G}finally{try{S||null==D.return||D.return()}finally{if(E)throw A}}var T=su[_];if(T){var M=!0,P=!1,N=void 0;try{for(var B,R=T[Symbol.iterator]();!(M=(B=R.next()).done);M=!0){var z=B.value;delete e[_][z]}}catch(G){P=!0,N=G}finally{try{M||null==R.return||R.return()}finally{if(P)throw N}}}fu(e,_)}}catch(G){x=!0,w=G}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}var L=!0,I=!1,U=void 0;try{for(var q,$=oe(No)[Symbol.iterator]();!(L=(q=$.next()).done);L=!0)delete e[q.value]}catch(G){I=!0,U=G}finally{try{L||null==$.return||$.return()}finally{if(I)throw U}}for(var H in function(e){var t=Ka(e.title),n=t.titleMarkConfig,r=t.subtitleMarkConfig,i=t.subtitle;ae(n)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),n)),ae(r)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),r)),ae(i)?delete e.title:e.title=i}(e),e)j(e[H])&&ae(e[H])&&delete e[H];return ae(e)?void 0:e}function fu(e,t,n,r){var i=r?e[t][r]:e[t];"view"===t&&(n="cell");var a=Object.assign(Object.assign({},i),e.style[null!==n&&void 0!==n?n:t]);ae(a)||(e.style[null!==n&&void 0!==n?n:t]=a),r||delete e[t]}function du(e){return"layer"in e}var hu=function(){function e(){f(this,e)}return d(e,[{key:"map",value:function(e,t){return ea(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):Wo(e)?this.mapHConcat(e,t):Ho(e)?this.mapVConcat(e,t):$o(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(du(e))return this.mapLayer(e,t);if(rt(e))return this.mapUnit(e,t);throw new Error(mn(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,i=R(e,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),pu={zero:1,center:1,normalize:1};function vu(e){return e in pu}var gu=new Set([Pe,Be,Ne,Ue,Le,We,Ge,ze,qe,$e]),mu=new Set([Be,Ne,Pe]);function yu(e,t){var n,r,i="x"===t?"y":"radius",a=e[t],o=e[i];if(ca(a)&&ca(o))if("quantitative"===sa(a)&&"quantitative"===sa(o)){if(a.stack)return t;if(o.stack)return i;var u=ca(a)&&!!a.aggregate;if(u!==(ca(o)&&!!o.aggregate))return u?t:i;var c=null===(n=a.scale)||void 0===n?void 0:n.type,s=null===(r=o.scale)||void 0===r?void 0:r.type;if(c&&"linear"!==c)return i;if(s&&"linear"!==s)return t}else{if("quantitative"===sa(a))return t;if("quantitative"===sa(o))return i}else{if("quantitative"===sa(a))return t;if("quantitative"===sa(o))return i}}function bu(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function xu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Xe(e)?e.type:e;if(!gu.has(r))return null;var i=yu(t,"x")||yu(t,"theta");if(!i)return null;var a=t[i],o=ca(a)?Oa(a,{}):void 0,u=bu(i),c=t[u],s=ca(c)?Oa(c,{}):void 0;s===o&&(s=void 0,c=void 0,u=void 0);var l,f=Vt.reduce((function(e,n){if("tooltip"!==n&&uo(t,n)){var r=t[n],i=!0,a=!1,o=void 0;try{for(var u,c=C(r)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=Na(u.value);if(!l.aggregate){var f=Oa(l,{});f&&f===s||e.push({channel:n,fieldDef:l})}}}catch(d){a=!0,o=d}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}return e}),[]);if(void 0!==a.stack?l=T(a.stack)?a.stack?"zero":null:a.stack:f.length>0&&mu.has(r)&&(l="zero"),!l||!vu(l))return null;if(co(t)&&0===f.length)return null;if(a.scale&&a.scale.type&&a.scale.type!==Xr){if(n.disallowNonLinearStack)return null;er(Hn(a.scale.type))}return ha(t[Wt(i)])?(void 0!==a.stack&&er($n(i)),null):(ca(a)&&a.aggregate&&!X(dt,a.aggregate)&&er(Wn(a.aggregate)),{groupbyChannel:c?u:void 0,groupbyField:s,fieldChannel:i,impute:null!==a.impute&&Ve(r),stackBy:f,offset:l})}function wu(e){var t=R(e,["point","line"]);return oe(t).length>1?t:t.type}function Ou(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),s({},r,K(e[r],["point","line"]))))}return e}function ku(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?j(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?j(t.point)?t.point:{}:void 0}function ju(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var _u=function(){function e(){f(this,e),this.name="path-overlay"}return d(e,[{key:"hasMatchingType",value:function(e,t){if(rt(e)){var n=e.mark,r=e.encoding,i=Xe(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!ku(i,t[i.type],r);case"area":return!!ku(i,t[i.type],r)||!!ju(i,t[i.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,i=e.selection,a=e.projection,o=e.mark,u=e.encoding,c=R(e,["selection","projection","mark","encoding"]),l=fo(u,r),f=Xe(o)?o:{type:o},d=ku(f,r[f.type],l),h="area"===f.type&&ju(f,r[f.type]),p=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:wu(Object.assign(Object.assign({},"area"===f.type&&void 0===f.opacity&&void 0===f.fillOpacity?{opacity:.7}:{}),f)),encoding:K(l,["shape"])})],v=xu(f,l),g=l;if(v){var m=v.fieldChannel,y=v.offset;g=Object.assign(Object.assign({},l),s({},m,Object.assign(Object.assign({},l[m]),y?{stack:y}:{})))}return h&&p.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"line"},G(f,["clip","interpolate","tension","tooltip"])),h),encoding:g})),d&&p.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},G(f,["clip","tooltip"])),d),encoding:g})),n(Object.assign(Object.assign({},c),{layer:p}),Object.assign(Object.assign({},t),{config:Ou(r)}))}}]),e}(),Su=function(){function e(){f(this,e),this.name="RangeStep"}return d(e,[{key:"hasMatchingType",value:function(e){var t;if(rt(e)&&e.encoding){var n=!0,r=!1,i=void 0;try{for(var a,o=Jt[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=e.encoding[u];if(c&&ha(c)&&(null===(t=null===c||void 0===c?void 0:c.scale)||void 0===t?void 0:t.rangeStep))return!0}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}return!1}},{key:"run",value:function(e){var t,n={},r=Object.assign({},e.encoding),i=!0,a=!1,o=void 0;try{for(var u,c=Jt[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value,f=Gt(l),d=r[l];if(d&&ha(d)&&(null===(t=null===d||void 0===d?void 0:d.scale)||void 0===t?void 0:t.rangeStep)){var h=d.scale,p=R(d,["scale"]),v=R(h,["rangeStep"]);n[f]={step:h.rangeStep},er('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.'),r=Object.assign(Object.assign({},r),s({},l,Object.assign(Object.assign({},p),ae(v)?{}:{scale:v})))}}}catch(g){a=!0,o=g}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return Object.assign(Object.assign(Object.assign({},n),e),{encoding:r})}}]),e}();function Eu(e,t){return t?Zi(e)?Mu(e,t):Du(e,t):e}function Au(e,t){return t?Mu(e,t):e}function Cu(e,t,n){var r=t[e];return function(e){return e&&!P(e)&&"repeat"in e}(r)?r.repeat in n?Object.assign(Object.assign({},t),s({},e,n[r.repeat])):void er(function(e){return'Unknown repeated value "'.concat(e,'".')}(r.repeat)):t}function Du(e,t){if(void 0!==(e=Cu("field",e,t))){if(null===e)return null;if(na(e)&&Ji(e.sort)){var n=Cu("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function Fu(e,t){if(ca(e))return Du(e,t);var n=Cu("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function Tu(e,t){if(!ha(e)){if(ua(e)){var n=Fu(e.condition,t);return n?Object.assign(Object.assign({},e),{condition:n}):R(e,["condition"])}return e}var r=Fu(e,t);return r||(aa(e)?{condition:e.condition}:void 0)}function Mu(e,t){var n={};for(var r in e)if(F(e,r)){var i=e[r];if(k(i))n[r]=i.map((function(e){return Tu(e,t)})).filter((function(e){return e}));else{var a=Tu(i,t);void 0!==a&&(n[r]=a)}}return n}var Pu=function(){function e(){f(this,e),this.name="RuleForRangedLine"}return d(e,[{key:"hasMatchingType",value:function(e){if(rt(e)){var t=e.encoding;if("line"===e.mark){var n=!0,r=!1,i=void 0;try{for(var a,o=Ut[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=t[$t(u)];if(t[u]&&(ca(c)&&!hn(c.bin)||la(c)))return!0}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}return!1}},{key:"run",value:function(e,t,n){var r,i,a=e.encoding;return er((r=!!a.x2,i=!!a.y2,"Line mark is for continuous lines and thus cannot be used with ".concat(r&&i?"x2 and y2":r?"x2":"y2",". We will use the rule mark (line segments) instead."))),n(Object.assign(Object.assign({},e),{mark:"rule"}),t)}}]),e}();function Nu(e){var t=e.parentEncoding,n=e.encoding,r=void 0===n?{}:n,i=e.layer,a={};if(t){var o=new Set([].concat(p(oe(t)),p(oe(r)))),u=!0,c=!1,s=void 0;try{for(var l,f=o[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=r[d],v=t[d];if(ha(h)){var g=Object.assign(Object.assign({},v),h);a[d]=g}else ua(h)?a[d]=Object.assign(Object.assign({},h),{condition:Object.assign(Object.assign({},v),h.condition)}):h||null===h?a[d]=h:(i||va(v)||xr(v)||ha(v)||k(v))&&(a[d]=v)}}catch(m){c=!0,s=m}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}else a=r;return!a||ae(a)?void 0:a}function Bu(e){var t=e.parentProjection,n=e.projection;return t&&n&&er(function(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(V(t)," is overridden by a child projection ").concat(V(n),".")}({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function Ru(e,t){void 0===t&&(t=ou(e.config));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return zu.map(e,{config:t})}(e,t),r=function(e,t,n){var r=t.width,i=t.height,a=rt(e)||du(e),o={};a?"container"==r&&"container"==i?(o.type="fit",o.contains="padding"):"container"==r?(o.type="fit-x",o.contains="padding"):"container"==i&&(o.type="fit-y",o.contains="padding"):("container"==r&&(er(yn("width")),r=void 0),"container"==i&&(er(yn("height")),i=void 0));var u=Object.assign(Object.assign(Object.assign({type:"pad"},o),n?Lu(n.autosize):{}),Lu(e.autosize));if("fit"!==u.type||a||(er('Autosize "fit" only works for single views and layered views.'),u.type="pad"),"container"==r&&"fit"!=u.type&&"fit-x"!=u.type&&er(bn("width")),"container"==i&&"fit"!=u.type&&"fit-y"!=u.type&&er(bn("height")),!H(u,{type:"pad"}))return u}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),r?{autosize:r}:{})}var zu=new(function(e){function t(){var e;return f(this,t),(e=a(this,o(t).apply(this,arguments))).nonFacetUnitNormalizers=[jo,Ao,Mo,new _u,new Pu,new Su],e}return c(t,e),d(t,[{key:"map",value:function(e,n){if(rt(e)){var r=uo(e.encoding,pt),i=uo(e.encoding,vt),a=uo(e.encoding,"facet");if(r||i||a)return this.mapFacetedUnit(e,n)}return u(o(t.prototype),"map",this).call(this,e,n)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection,i=Au(e.encoding,t.repeater),a=Object.assign(Object.assign({},e),i?{encoding:i}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(a,t);var o=this.mapLayerOrUnit.bind(this),u=!0,c=!1,s=void 0;try{for(var l,f=this.nonFacetUnitNormalizers[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;if(d.hasMatchingType(a,t.config))return d.run(a,t,o)}}catch(h){c=!0,s=h}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}return a}},{key:"mapRepeat",value:function(e,t){return function(e){return!k(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,r=e.repeat,i=e.spec,a=R(e,["repeat","spec"]),o=r.row,u=r.column,c=r.layer,s=t.repeater,l=void 0===s?{}:s,f=t.repeaterPrefix,d=void 0===f?"":f;return o||u?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),u?{column:u}:{}),spec:{repeat:{layer:c},spec:i}}),t):Object.assign(Object.assign({},a),{layer:c.map((function(e){var r=Object.assign(Object.assign({},l),{layer:e}),a=(i.name||"")+d+"child__layer_".concat(le(e)),o=n.mapLayerOrUnit(i,Object.assign(Object.assign({},t),{repeater:r,repeaterPrefix:a}));return o.name=a,o}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,r=e,i=r.repeat,a=r.spec,o=r.data,u=R(e,["repeat","spec","data"]);!k(i)&&e.columns&&(e=K(e,["columns"]),er(_n("repeat")));var c=[],s=t.repeater,l=void 0===s?{}:s,f=t.repeaterPrefix,d=void 0===f?"":f,h=!k(i)&&i.row||[l?l.row:null],p=!k(i)&&i.column||[l?l.column:null],v=k(i)&&i||[l?l.repeat:null],g=!0,m=!1,y=void 0;try{for(var b,x=v[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value,O=!0,j=!1,_=void 0;try{for(var S,E=h[Symbol.iterator]();!(O=(S=E.next()).done);O=!0){var A=S.value,C=!0,D=!1,F=void 0;try{for(var T,M=p[Symbol.iterator]();!(C=(T=M.next()).done);C=!0){var P=T.value,N={repeat:w,row:A,column:P,layer:l.layer},B=(a.name||"")+d+"child__"+(k(i)?"".concat(le(w)):(i.row?"row_".concat(le(A)):"")+(i.column?"column_".concat(le(P)):"")),z=this.map(a,Object.assign(Object.assign({},t),{repeater:N,repeaterPrefix:B}));z.name=B,c.push(K(z,["data"]))}}catch(I){D=!0,F=I}finally{try{C||null==M.return||M.return()}finally{if(D)throw F}}}}catch(I){j=!0,_=I}finally{try{O||null==E.return||E.return()}finally{if(j)throw _}}}}catch(I){m=!0,y=I}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}var L=k(i)?e.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:null!==(n=a.data)&&void 0!==n?n:o,align:"all"},u),{columns:L,concat:c})}},{key:"mapFacet",value:function(e,n){return Zi(e.facet)&&e.columns&&(e=K(e,["columns"]),er(_n("facet"))),u(o(t.prototype),"mapFacet",this).call(this,e,n)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,i=t.parentEncoding,a=t.parentProjection,o=t.config,u=Bu({parentProjection:a,projection:r}),c=Nu({parentEncoding:i,encoding:Au(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),u?{projection:u}:{}),c?{encoding:c}:{}),{config:o})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,i=n.column,a=n.facet,o=R(n,["row","column","facet"]),u=e.mark,c=e.width,s=e.projection,l=e.height,f=e.view,d=e.selection,h=(e.encoding,R(e,["mark","width","projection","height","view","selection","encoding"])),p=this.getFacetMappingAndLayout({row:r,column:i,facet:a},t),v=p.facetMapping,g=p.layout,m=Au(o,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},h),g),{facet:v,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c?{width:c}:{}),l?{height:l}:{}),f?{view:f}:{}),s?{projection:s}:{}),{mark:u,encoding:m}),d?{selection:d}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,r=e.row,i=e.column,a=e.facet;if(r||i){a&&er((m=[].concat(p(r?[pt]:[]),p(i?[vt]:[])),"Facet encoding dropped as ".concat(m.join(" and ")," ").concat(m.length>1?"are":"is"," also specified.")));for(var o={},u={},c=0,s=[pt,vt];c<s.length;c++){var l=s[c],f=e[l];if(f){var d=R(f,["align","center","spacing","columns"]);o[l]=d;for(var h=0,v=["align","center","spacing"];h<v.length;h++){var g=v[h];void 0!==f[g]&&(u[g]=null!==(n=u[g])&&void 0!==n?n:{},u[g][l]=f[g])}}}return{facetMapping:o,layout:u}}var m,y=a.align,b=a.center,x=a.spacing,w=a.columns;return{facetMapping:Eu(R(a,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},y?{align:y}:{}),b?{center:b}:{}),x?{spacing:x}:{}),w?{columns:w}:{})}}},{key:"mapLayer",value:function(e,n){var r=n.parentEncoding,i=n.parentProjection,a=R(n,["parentEncoding","parentProjection"]),c=e.encoding,s=e.projection,l=R(e,["encoding","projection"]),f=Object.assign(Object.assign({},a),{parentEncoding:Nu({parentEncoding:r,encoding:c,layer:!0}),parentProjection:Bu({parentProjection:i,projection:s})});return u(o(t.prototype),"mapLayer",this).call(this,l,f)}}]),t}(hu));function Lu(e){return P(e)?{type:e}:null!==e&&void 0!==e?e:{}}var Iu=["background","padding"];function Uu(e){return Iu.reduce((function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}var qu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this.explicit=t,this.implicit=n}return d(e,[{key:"clone",value:function(){return new e(W(this.explicit),W(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return we(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=oe(e.combine())[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=e.getWithExplicit(o);this.setWithExplicit(o,u)}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}]),e}();function $u(e){return{explicit:!0,value:e}}function Hu(e){return{explicit:!1,value:e}}function Wu(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:Gu(t,n,r,i)}}function Gu(e,t,n,r){return e.explicit&&t.explicit&&er(function(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(V(n)," and ").concat(V(r),"). Using ").concat(V(n),".")}(n,r,e.value,t.value)),e}function Ku(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gu;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:H(e.value,t.value)?e:i(e,t,n,r)}var Vu,Yu=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(this,t),(e=a(this,o(t).call(this,n,r))).explicit=n,e.implicit=r,e.parseNothing=i,e}return c(t,e),d(t,[{key:"clone",value:function(){var e=u(o(t.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),t}(qu);function Ju(e){return"url"in e}function Xu(e){return"values"in e}function Zu(e){return"name"in e&&!Ju(e)&&!Xu(e)&&!Qu(e)}function Qu(e){return e&&(ec(e)||tc(e)||nc(e))}function ec(e){return"sequence"in e}function tc(e){return"sphere"in e}function nc(e){return"graticule"in e}function rc(e){return"filter"in e}function ic(e){return"lookup"in e}function ac(e){return"pivot"in e}function oc(e){return"density"in e}function uc(e){return"quantile"in e}function cc(e){return"regression"in e}function sc(e){return"loess"in e}function lc(e){return"sample"in e}function fc(e){return"window"in e}function dc(e){return"joinaggregate"in e}function hc(e){return"flatten"in e}function pc(e){return"calculate"in e}function vc(e){return"bin"in e}function gc(e){return"impute"in e}function mc(e){return"timeUnit"in e}function yc(e){return"aggregate"in e}function bc(e){return"stack"in e}function xc(e){return"fold"in e}function wc(e,t,n){return Oc=t||jc,kc=n||Sc,Ac(e.trim()).map(Cc)}!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(Vu||(Vu={}));var Oc,kc,jc="view",_c=/[[\]{}]/,Sc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function Ec(e,t,n,r,i){for(var a,o=0,u=e.length;t<u;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function Ac(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=Ec(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function Cc(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=Ec(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=Ac(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;return t=t.map(Cc),(n=Cc(e.slice(1).trim())).between?{between:t,stream:n}:(n.between=t,n)}(e):function(e){var t,n,r,i={source:Oc},a=[],o=[0,0],u=0,c=0,s=e.length,l=0;if("}"===e[s-1]){if(!((l=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{o=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!==n)throw e;return n}))}(e.substring(l+1,s-1))}catch(f){throw"Invalid throttle specification: "+e}e=e.slice(0,l).trim(),s=e.length,l=0}if(!s)throw e;if("@"===e[0]&&(u=++l),(t=Ec(e,l,":"))<s&&(a.push(e.substring(c,t).trim()),c=l=++t),(l=Ec(e,l,"["))===s)a.push(e.substring(c,s).trim());else if(a.push(e.substring(c,l).trim()),n=[],(c=++l)===s)throw"Unmatched left bracket: "+e;for(;l<s;){if((l=Ec(e,l,"]"))===s)throw"Unmatched left bracket: "+e;if(n.push(e.substring(c,l).trim()),l<s-1&&"["!==e[++l])throw"Expected left bracket: "+e;c=++l}if(!(s=a.length)||_c.test(a[s-1]))throw"Invalid event selector: "+e;return s>1?(i.type=a[1],u?i.markname=a[0].slice(1):(r=a[0],kc[r]?i.marktype=a[0]:i.source=a[0])):i.type=a[0],"!"===i.type.slice(-1)&&(i.consume=!0,i.type=i.type.slice(0,-1)),null!=n&&(i.filter=n),o[0]&&(i.throttle=o[0]),o[1]&&(i.debounce=o[1]),i}(e)}function Dc(e,t,n,r){var i=aa(t)&&t.condition,a=r(t);if(i){var o=C(i).map((function(t){var n=r(t),i=function(e){return e.selection}(t)?Il(e,t.selection):ql(e,t.test);return Object.assign({test:i},n)}));return s({},n,[].concat(p(o),p(void 0!==a?[a]:[])))}return void 0!==a?s({},n,a):{}}function Fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return Dc(e,n,t,(function(t){return Tc(t,e.config)}))}function Tc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(va(e))return Ya(e.value);if(ha(e)){var r=Ma(e),i=r.format,a=r.formatType;return zi({fieldOrDatumDef:e,format:i,formatType:a,expr:n,config:t})}}}function Mc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,i=e.config,a=e.stack,o=n.tooltip;if(k(o))return{tooltip:Nc({tooltip:o},a,i,t)};var u=t.reactiveGeom?"datum.datum":"datum";return Dc(e,o,"tooltip",(function(e){var o=Tc(e,i,u);if(o)return o;if(null!==e){var c=Qa("tooltip",r,i);return!0===c&&(c={content:"encoding"}),P(c)?{value:c}:j(c)?xr(c)?c:"encoding"===c.content?Nc(n,a,i,t):{signal:u}:void 0}}))}function Pc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,a={},o=i?"datum.datum":"datum",u=[];function c(r,i){var c,s=$t(i),l=pa(r)?r:Object.assign(Object.assign({},r),{type:e[s].type}),f=C(l.title||Ta(l,n)).join(", ");if(Xt(i)){var d="x"===i?"x2":"y2",h=Na(e[d]);if(hn(l.bin)&&h){var p=Oa(l,{expr:o}),v=Oa(h,{expr:o}),g=Ma(l);c=Gi(p,v,g.format,g.formatType,n),a[d]=!0}else if(t&&t.fieldChannel===i&&"normalize"===t.offset){var m=Ma(l);c=zi({fieldOrDatumDef:l,format:m.format,formatType:m.formatType,expr:o,config:n,normalizeStack:!0}).signal}}c=null!==c&&void 0!==c?c:Tc(l,n,o).signal,u.push({channel:i,key:f,value:c})}po(e,(function(e,t){ca(e)?c(e,t):oa(e)&&c(e.condition,t)}));for(var s={},l=0,f=u;l<f.length;l++){var d=f[l],h=d.channel,p=d.key,v=d.value;a[h]||s[p]||(s[p]=v)}return s}function Nc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,a=Pc(e,t,n,{reactiveGeom:i}),o=ce(a).map((function(e){var t=e.key,n=e.value;return'"'.concat(t,'": ').concat(n)}));return o.length>0?{signal:"{".concat(o.join(", "),"}")}:void 0}function Bc(e){var t=Qa("aria",e.markDef,e.config);return!1===t?{}:Object.assign(Object.assign(Object.assign({},t?{aria:t}:{}),function(e){var t=e.mark,n=e.markDef,r=e.config;if(!1===r.aria)return{};var i=Qa("ariaRoleDescription",n,r);return null!=i?{ariaRoleDescription:{value:i}}:t in jr?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){var t=e.encoding,n=e.markDef,r=e.config,i=e.stack,a=t.description;if(a)return Dc(e,a,"description",(function(t){return Tc(t,e.config)}));var o=Qa("description",n,r);if(null!=o)return{description:Ya(o)};if(!1===r.aria)return{};var u=Pc(t,i,r);return ae(u)?void 0:{description:{signal:ce(u).map((function(e,t){var n=e.key,r=e.value;return'"'.concat(t>0?"; ":"").concat(n,': " + (').concat(r,")")})).join(" + ")}}}(e))}function Rc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,i=t.encoding,a=t.config,o=n.vgChannel,u=n.defaultRef,c=n.defaultValue;void 0===u&&void 0!==(c=null!==c&&void 0!==c?c:Qa(e,r,a,{vgChannel:o,ignoreVgConfig:!0}))&&(u=Ya(c));var s=i[e];return Dc(t,s,null!==o&&void 0!==o?o:e,(function(n){return Pi({channel:e,channelDef:n,markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u})}))}function zc(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},o=e.markDef,u=e.encoding,c=e.config,s=o.type,l=null!==(t=a.filled)&&void 0!==t?t:Qa("filled",o,c),f=X(["bar","point","circle","square","geoshape"],s)?"transparent":void 0,d=null!==(r=null!==(n=Qa(!0===l?"color":void 0,o,c,{vgChannel:"fill"}))&&void 0!==n?n:c.mark[!0===l&&"color"])&&void 0!==r?r:f,h=null!==(i=Qa(!1===l?"color":void 0,o,c,{vgChannel:"stroke"}))&&void 0!==i?i:c.mark[!1===l&&"color"],p=l?"fill":"stroke",v=Object.assign(Object.assign({},d?{fill:Ya(d)}:{}),h?{stroke:Ya(h)}:{});return o.color&&(l?o.fill:o.stroke)&&er(Tn("property",{fill:"fill"in o,stroke:"stroke"in o})),Object.assign(Object.assign(Object.assign(Object.assign({},v),Rc("color",e,{vgChannel:p,defaultValue:l?d:h})),Rc("fill",e,{defaultValue:u.fill?d:void 0})),Rc("stroke",e,{defaultValue:u.stroke?h:void 0}))}function Lc(e,t){var n=t[function(e){switch(e){case gt:return"xOffset";case mt:return"yOffset";case yt:return"x2Offset";case bt:return"y2Offset";case wt:return"thetaOffset";case xt:return"radiusOffset";case Ot:return"theta2Offset";case"radius2":return"radius2Offset"}}(e)];if(n)return n}function Ic(e,t,n){var r=n.defaultPos,i=n.vgChannel,a=n.isMidPoint,o=t.encoding,u=t.markDef,c=t.config,l=t.stack,f=o[e],d=o[Wt(e)],h=t.scaleName(e),p=t.getScaleComponent(e),v=Lc(e,u),g=Uc({model:t,defaultPos:r,channel:e,scaleName:h,scale:p}),m=!f&&Xt(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,r=e.isMidPoint,i=e.scaleName,a=e.stack,o=e.offset,u=e.markDef,c=e.config;if(ha(n)&&a&&t===a.fieldChannel){if(ca(n)){var s=ra({channel:t,fieldDef:n,isMidPoint:r,markDef:u,stack:a,config:c});if(void 0!==s)return Mi({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",band:s,offset:o})}return Ti(n,i,{suffix:"end"},{offset:o})}return Ai(e)}({channel:e,channelDef:f,channel2Def:d,markDef:u,config:c,isMidPoint:a,scaleName:h,scale:p,stack:l,offset:v,defaultRef:g});return m?s({},i||e,m):void 0}function Uc(e){var t=e.model,n=e.defaultPos,r=e.channel,i=e.scaleName,a=e.scale,o=t.markDef,u=t.config;return function(){var e=$t(r),c=Ht(r),s=Qa(r,o,u,{vgChannel:c});if(void 0!==s)return Ni(r,s);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){var l=a.get("type");if(X([Zr,ni,ri],l));else if(a.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[Gt(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}var qc={left:"x",center:"xc",right:"x2"},$c={top:"y",middle:"yc",bottom:"y2"};function Hc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return Ht(e);var i="x"===e?"align":"baseline",a=Qa(i,t,n);return"x"===e?qc[a||("top"===r?"left":"center")]:$c[a||r]}function Wc(e,t,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?Gc(e,t,{defaultPos:r,defaultPos2:i}):Ic(e,t,{defaultPos:r})}function Gc(e,t,n){var r=n.defaultPos,i=n.defaultPos2,a=t.markDef,o=t.config,u=Wt(e),c=Gt(e),l=function(e,t,n){var r,i=e.encoding,a=e.mark,o=e.markDef,u=e.stack,c=e.config,l=$t(n),f=Gt(n),d=Ht(n),h=i[l],p=e.scaleName(l),v=e.getScaleComponent(l),g=Lc(n in i||n in o?n:l,e.markDef);if(!h&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude))return s({},d,{field:e.getName(n)});var m=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,i=e.markDef,a=e.config,o=e.scaleName,u=e.scale,c=e.stack,s=e.offset,l=e.defaultRef;return ha(n)&&c&&t.charAt(0)===c.fieldChannel.charAt(0)?Ti(n,o,{suffix:"start"},{offset:s}):Ai({channel:t,channelDef:r,scaleName:o,scale:u,stack:c,markDef:i,config:a,offset:s,defaultRef:l})}({channel:n,channelDef:h,channel2Def:i[n],markDef:o,config:c,scaleName:p,scale:v,stack:u,offset:g,defaultRef:void 0});return void 0!==m?s({},d,m):Kc(n,o)||Kc(n,(s(r={},n,to(n,o,c.style)),s(r,f,to(f,o,c.style)),r))||Kc(n,c[a])||Kc(n,c.mark)||s({},d,Uc({model:e,defaultPos:t,channel:n,scaleName:p,scale:v})())}(t,i,u),f=l[c]?Hc(e,a,o):Ht(e);return Object.assign(Object.assign({},Ic(e,t,{defaultPos:r,vgChannel:f})),l)}function Kc(e,t){var n=Gt(e),r=Ht(e);return void 0!==t[r]?s({},r,Ni(e,t[r])):void 0!==t[e]?s({},r,Ni(e,t[e])):t[n]?s({},n,Ni(e,t[n])):void 0}function Vc(e,t,n){var r,i,a,o,u=e.config,c=e.encoding,l=e.markDef,f=e.stack,d=Wt(t),h=Gt(t),p=c[t],v=c[d],g=e.getScaleComponent(t),m=g?g.get("type"):void 0,y=e.scaleName(t),b=l.orient,x=null!==(i=null!==(r=c[h])&&void 0!==r?r:c.size)&&void 0!==i?i:Qa("size",l,u,{vgChannel:h}),w="bar"===n&&("x"===t?"vertical"===b:"horizontal"===b);if(ca(p)&&(dn(p.bin)||hn(p.bin)||p.timeUnit&&!v)&&!x&&!bi(m)){var O=ra({channel:t,fieldDef:p,stack:f,markDef:l,config:u}),j=null===(a=e.component.axes[t])||void 0===a?void 0:a[0];return function(e){var t,n=e.fieldDef,r=e.fieldDef2,i=e.channel,a=e.band,o=e.scaleName,u=e.markDef,c=e.spacing,l=void 0===c?0:c,f=e.axisTranslate,d=e.reverse,h=e.config,p=Wt(i),v=Ht(i),g=Ht(p),m=Lc(i,u);if(dn(n.bin)||n.timeUnit)return s(t={},g,Jc({channel:i,fieldDef:n,scaleName:o,markDef:u,band:(1-a)/2,offset:Yc(p,l,d,f,m),config:h})),s(t,v,Jc({channel:i,fieldDef:n,scaleName:o,markDef:u,band:1-(1-a)/2,offset:Yc(i,l,d,f,m),config:h})),t;if(hn(n.bin)){var y,b,x=Ti(n,o,{},{offset:Yc(p,l,d,f,m)});if(ca(r))return s(y={},g,x),s(y,v,Ti(r,o,{},{offset:Yc(i,l,d,f,m)})),y;if(pn(n.bin)&&n.bin.step)return s(b={},g,x),s(b,v,{signal:'scale("'.concat(o,'", ').concat(Oa(n,{expr:"datum"})," + ").concat(n.bin.step,")"),offset:Yc(i,l,d,f,m)}),b}er(Vn(p))}({fieldDef:p,fieldDef2:v,channel:t,markDef:l,scaleName:y,band:O,axisTranslate:null!==(o=null===j||void 0===j?void 0:j.get("translate"))&&void 0!==o?o:.5,spacing:Xt(t)?Qa("binSpacing",l,u):void 0,reverse:g.get("reverse"),config:u})}return(ha(p)&&bi(m)||w)&&!v?function(e,t,n,r){var i,a,o=r.markDef,u=r.encoding,c=r.config,l=r.stack,f=o.orient,d=r.scaleName(n),h=r.getScaleComponent(n),p=Gt(n),v=Wt(n),g="horizontal"===f&&"y"===n||"vertical"===f&&"x"===n,m=Qa(g?"size":p,o,c,{vgChannel:p});(u.size||void 0!==m)&&(g?a=Rc("size",r,{vgChannel:p,defaultValue:m}):er(function(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}(o.type)));var y=null!==(i=ha(t)?ra({channel:n,fieldDef:t,markDef:o,stack:l,config:c}):void 0)&&void 0!==i?i:1;a=a||s({},p,function(e,t,n,r,i,a){if(r){var o=r.get("type");if("point"===o||"band"===o){if(void 0!==i[e].discreteBandSize)return{value:i[e].discreteBandSize};if(o===ui){var u=r.get("range");return wr(u)&&M(u.step)?{value:u.step-2}:{value:Zo-2}}return{scale:n,band:a}}return{value:i[e].continuousBandSize}}var c=Jo(i.view,t),s=we(i[e].discreteBandSize,c-2);return void 0!==s?{value:s}:void 0}(e,p,d,h,c,y));var b="band"!==(null===h||void 0===h?void 0:h.get("type"))||!("band"in a[p]),x=Hc(n,o,c,b?"middle":"top"),w=Lc(n,o),O=Ai({channel:n,channelDef:t,markDef:o,config:c,scaleName:d,scale:h,stack:l,offset:w,defaultRef:Uc({model:r,defaultPos:"mid",channel:n,scaleName:d,scale:h}),band:b?.5:(1-y)/2});if(p)return Object.assign(s({},x,O),a);var j,_=Ht(v),S=a[p],E=w?Object.assign(Object.assign({},S),{offset:w}):S;return s(j={},x,O),s(j,_,k(O)?[O[0],Object.assign(Object.assign({},O[1]),{offset:E})]:Object.assign(Object.assign({},O),{offset:E})),j}(n,p,t,e):Gc(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Yc(e,t,n,r,i){if(Ct(e))return 0;var a="x"===e||"y2"===e?-t/2:t/2;if(xr(n)||xr(i)||xr(r)){var o=Xa(n),u=Xa(i),c=Xa(r);return{signal:(c?"".concat(c," + "):"")+(o?"(".concat(o," ? -1 : 1) * "):"")+(u?"(".concat(u," + ").concat(a,")"):a)}}return i=i||0,r+(n?-i-a:+i+a)}function Jc(e){var t=e.channel,n=e.fieldDef,r=e.scaleName,i=e.markDef,a=e.band,o=e.offset,u=e.config;return Ci({fieldDef:n,channel:t,markDef:i,ref:Mi({scaleName:r,fieldOrDatumDef:n,band:a,offset:o}),config:u})}var Xc=new Set(["aria"]);function Zc(e,t){var n="include"===t.color?zc(e):{},r=n.fill,i=void 0===r?void 0:r,a=n.stroke,o=void 0===a?void 0:a;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return kr.reduce((function(n,r){return Xc.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=Ya(e[r])),n}),{})}(e.markDef,t)),Qc(e,"fill",i)),Qc(e,"stroke",o)),Rc("opacity",e)),Rc("fillOpacity",e)),Rc("strokeOpacity",e)),Rc("strokeWidth",e)),Rc("strokeDash",e)),function(e){var t=e.encoding,n=e.mark,r=t.order;return!Ve(n)&&va(r)?Dc(e,r,"zindex",(function(e){return e})):{}}(e)),Mc(e)),Fc(e,"href")),Bc(e))}function Qc(e,t,n){var r=e.config,i=e.mark;if("hide"===Qa("invalid",e.markDef,r)&&n&&!Ve(i)){var a=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&xi(i)&&(t[a]=!0)}return t}),{}),a=oe(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return Fi(e,r)})).join(" ".concat(o," "))}}(e,{invalid:!0,channels:an});if(a)return s({},t,[{test:a,value:null}].concat(p(C(n))))}return n?s({},t,n):{}}function es(e){var t=e.config;if(Qa("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&xi(i)&&(t[a]=!0)}return t}),{}),a=oe(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return Fi(e,r)})).join(" ".concat(o," "))}}(e,{channels:Jt});if(n)return{defined:{signal:n}}}return{}}function ts(e,t){if(void 0!==t)return s({},e,Ya(t))}var ns={has:function(e){return"interval"!==e.type&&e.nearest},parse:function(e,t){if(t.events){var n=!0,r=!1,i=void 0;try{for(var a,o=t.events[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)a.value.markname=e.getName("voronoi")}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}},marks:function(e,t,n){var r=t.project.hasChannel,i=r.x,a=r.y,o=e.mark;if(Ve(o))return er('The "nearest" transform is not supported for '.concat(o," marks.")),n;var u={name:e.getName("voronoi"),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Mc(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!a?"datum.datum.x || 0":"0"},y:{expr:a||!i?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},c=0,s=!1;return n.forEach((function(t,n){var r,i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?c=n:i.indexOf("voronoi")>=0&&(s=!0)})),s||n.splice(c+1,0,u),n}},rs=function(){function e(t,n){f(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return d(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.indexOf(e)>-1?er("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e=this._parent.removeChild(this),t=!0,n=!1,r=void 0;try{for(var i,a=this._children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o._parent=this._parent,this._parent.addChild(o,e++)}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e=this._parent,t=e.parent,n=!0,r=!1,i=void 0;try{for(var a,o=this._children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)a.value.parent=e}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}}]),e}(),is=function(e){function t(e,n,r,i){var u;return f(this,t),(u=a(this,o(t).call(this,e,n))).type=r,u.refCounts=i,u._source=u._name=n,!u.refCounts||u._name in u.refCounts||(u.refCounts[u._name]=0),u}return c(t,e),d(t,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(function(e){var t=++Oe;return e?String(e)+t:t}())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),t}(rs),as=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).formula=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);var n=!0,r=!1,i=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;e.removeChild(u),u.parent=this}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}e.remove()}},{key:"producedFields",value:function(){return new Set(ue(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(ue(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(Y(this.formula))}},{key:"assemble",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=ue(this.formula)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=o.field,c=o.as,s=yr(o.timeUnit),l=s.unit,f=s.utc,d=R(s,["unit","utc"]);e.push(Object.assign(Object.assign(Object.assign(Object.assign({field:me(u),type:"timeunit"},l?{units:pr(l)}:{}),f?{timezone:"utc"}:{}),d),{as:[c,"".concat(c,"_end")]}))}}catch(h){n=!0,r=h}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}}],[{key:"makeFromEncoding",value:function(e,n){var r=n.reduceFieldDef((function(e,t,r){var i=t.field,a=t.timeUnit,o=yh(n)?n.encoding[Wt(r)]:void 0,u=yh(n)&&ia(r,t,o,n.stack,n.markDef,n.config);if(a){var c=Oa(t,{forAs:!0});e[Y({as:c,field:i,timeUnit:a})]=Object.assign({as:c,field:i,timeUnit:a},u?{band:!0}:{})}return e}),{});return ae(r)?null:new t(e,r)}},{key:"makeFromTransform",value:function(e,n){var r=Object.assign({},n),i=r.timeUnit,a=R(r,["timeUnit"]),o=yr(i),u=Object.assign(Object.assign({},a),{timeUnit:o});return new t(e,s({},Y(u),u))}}]),t}(rs),os=function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}},us={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!Uo(e.bind)},parse:function(e,t,n,r){r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,a=t.bind,o=t.init&&t.init[0],u=ns.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(e,i){var c,s,l=le("".concat(r,"_").concat(e.field));n.filter((function(e){return e.name===l})).length||n.unshift(Object.assign(Object.assign({name:l},o?{init:ws(o[i])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(u,"[").concat(N(e.field),"] : null")}]:[],bind:null!==(s=null!==(c=a[e.field])&&void 0!==c?c:a[e.channel])&&void 0!==s?s:a}))})),n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.filter((function(e){return e.name===r+Bs}))[0],o=r+"_tuple_fields",u=i.items.map((function(e){return le("".concat(r,"_").concat(e.field))})),c=u.map((function(e){return"".concat(e," !== null")})).join(" && ");return u.length&&(a.update="".concat(c," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null")),delete a.value,delete a.on,n}},cs={has:function(e){return"multi"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+Bs,r=t.name+"_toggle";return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(qs(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},ss={has:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t,n){n.clear&&(t.clear=P(n.clear)?wc(n.clear,"scope"):n.clear)},topLevelSignals:function(e,t,n){if(us.has(t)){var r=!0,i=!1,a=void 0;try{for(var o,u=function(){var e=o.value,r=n.findIndex((function(n){return n.name===le("".concat(t.name,"_").concat(e.field))}));-1!==r&&n[r].on.push({events:t.clear,update:"null"})},c=t.project.items[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)u()}catch(s){i=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}return n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type){var i=!0,a=!1,o=void 0;try{for(var u,c=function(){var e=u.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));r(t,"[0, 0]"),-1===t&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")},s=t.project.items[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c()}catch(f){a=!0,o=f}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}else{var l=n.findIndex((function(e){return e.name===t.name+Bs}));r(l,"null"),cs.has(t)&&r(l=n.findIndex((function(e){return e.name===t.name+"_toggle"})),"false")}return n}},ls={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n=t.scales=[],r=!0,i=!1,a=void 0;try{for(var o,u=t.project.items[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=c.channel;if(on(s)){var l=e.getScaleComponent(s),f=l?l.get("type"):void 0;if(l&&xi(f)){var d={selection:t.name,field:c.field};l.set("selectionExtent",d,!0),n.push(c)}else er("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}}catch(h){i=!0,a=h}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||ds(e)||0===r.length)return n;var i=n.filter((function(e){return e.name===t.name}))[0],a=i.update;if(a.indexOf(zs)>=0)i.update="{".concat(r.map((function(e){return"".concat(N(e.field),": ").concat(e.signals.data)})).join(", "),"}");else{var o=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value,d="".concat(N(f.field),": ").concat(f.signals.data);a.indexOf(d)<0&&(a="".concat(a.substring(0,a.length-1),", ").concat(d,"}"))}}catch(h){u=!0,c=h}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}i.update=a}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!ds(e)){var r=!0,i=!1,a=void 0;try{for(var o,u=function(){var e=o.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update},c=t.scales[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)u()}catch(s){i=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}return n}};function fs(e,t){var n=N(e.scaleName(t));return"domain(".concat(n,")")}function ds(e){var t;return e.parent&&wh(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:ds(e.parent.parent))}var hs={has:function(e){var t="global"===e.resolve&&e.bind&&Uo(e.bind),n=1===e.project.items.length&&"_vgsid_"!==e.project.items[0].field;return t&&!n&&er("Legend bindings are only supported for selections over an individual field or encoding channel."),t&&n},parse:function(e,t,n,r){var i;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){var a='event.item && indexof(event.item.mark.role, "legend") < 0',o=!0,u=!1,c=void 0;try{for(var s,l=t.events[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;f.filter=C(null!==(i=f.filter)&&void 0!==i?i:[]),f.filter.indexOf(a)<0&&f.filter.push(a)}}catch(p){u=!0,c=p}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}var d=qo(t.bind)?t.bind.legend:"click",h=P(d)?wc(d,"view"):C(d);t.bind={legend:{merge:h}}},topLevelSignals:function(e,t,n){var r=t.name,i=qo(t.bind)&&t.bind.legend,a=function(e){return function(t){var n=W(t);return n.markname=e,n}},o=!0,u=!1,c=void 0;try{for(var s,l=function(){var e=s.value;if(!e.hasLegend)return"continue";var o="".concat(le(e.field),"_legend"),u="".concat(r,"_").concat(o);if(0===n.filter((function(e){return e.name===u})).length){var c=i.merge.map(a("".concat(o,"_symbols"))).concat(i.merge.map(a("".concat(o,"_labels")))).concat(i.merge.map(a("".concat(o,"_entries"))));n.unshift(Object.assign(Object.assign({name:u},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:"!event.item || !datum ? null : ".concat(u),force:!0}]}))}},f=t.project.items[Symbol.iterator]();!(o=(s=f.next()).done);o=!0)l()}catch(d){u=!0,c=d}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}return n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.find((function(e){return e.name===r+Bs})),o=r+"_tuple_fields",u=i.items.filter((function(e){return e.hasLegend})).map((function(e){return le("".concat(r,"_").concat(le(e.field),"_legend"))})),c=u.map((function(e){return"".concat(e," !== null")})).join(" && "),s="".concat(c," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null");t.events&&u.length>0?a.on.push({events:u.map((function(e){return{signal:e}})),update:s}):u.length>0&&(a.update=s,delete a.value,delete a.on);var l=n.find((function(e){return e.name===r+"_toggle"})),f=qo(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:f})):l.on[0].events=f),n}},ps="_translate_delta",vs={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=ls.has(t),a=r+"_translate_anchor",o=t.project.hasChannel,u=o.x,c=o.y,s=wc(t.translate,"scope");return i||(s=s.map((function(e){return e.between[0].markname=r+js,e}))),n.push({name:a,value:{},on:[{events:s.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: "+(i?fs(e,gt):"slice(".concat(u.signals.visual,")")):"")+(void 0!==c?", extent_y: "+(i?fs(e,mt):"slice(".concat(c.signals.visual,")")):"")+"}"}]},{name:r+ps,value:{},on:[{events:s,update:"{x: ".concat(a,".x - x(unit), y: ").concat(a,".y - y(unit)}")}]}),void 0!==u&&gs(e,t,u,"width",n),void 0!==c&&gs(e,t,c,"height",n),n}};function gs(e,t,n,r,i){var a,o=t.name,u=o+"_translate_anchor",c=o+ps,s=n.channel,l=ls.has(t),f=i.filter((function(e){return e.name===n.signals[l?"data":"visual"]}))[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(s),p=h.get("type"),v=l&&s===gt?"-":"",g="".concat(u,".extent_").concat(s),m="".concat(v).concat(c,".").concat(s," / ")+(l?"".concat(d):"span(".concat(g,")")),y="".concat(l?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear","(").concat(g,", ").concat(m)+(l&&"pow"===p?", ".concat(null!==(a=h.get("exponent"))&&void 0!==a?a:1):"")+")";f.on.push({events:{signal:c},update:l?y:"clampRange(".concat(y,", 0, ").concat(d,")")})}var ms={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=ls.has(t),a=r+"_zoom_delta",o=t.project.hasChannel,u=o.x,c=o.y,s=N(e.scaleName(gt)),l=N(e.scaleName(mt)),f=wc(t.zoom,"scope");return i||(f=f.map((function(e){return e.markname=r+js,e}))),n.push({name:r+"_zoom_anchor",on:[{events:f,update:i?"{"+[s?"x: invert(".concat(s,", x(unit))"):"",l?"y: invert(".concat(l,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==u&&ys(e,t,u,"width",n),void 0!==c&&ys(e,t,c,"height",n),n}};function ys(e,t,n,r,i){var a,o=t.name,u=n.channel,c=ls.has(t),s=i.filter((function(e){return e.name===n.signals[c?"data":"visual"]}))[0],l=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(u),d=f.get("type"),h=c?fs(e,u):s.name,p=o+"_zoom_delta",v="".concat(o).concat("_zoom_anchor",".").concat(u),g="".concat(c?"log"===d?"zoomLog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear","(").concat(h,", ").concat(v,", ").concat(p)+(c&&"pow"===d?", ".concat(null!==(a=f.get("exponent"))&&void 0!==a?a:1):"")+")";s.on.push({events:{signal:p},update:c?g:"clampRange(".concat(g,", 0, ").concat(l,")")})}var bs=[{has:function(){return!0},parse:function(e,t,n){var r,i,a,o=t.name,u=null!==(r=t.project)&&void 0!==r?r:t.project=new os,c={},l={},f=new Set,d=function(e,t){for(var n="visual"===t?e.channel:e.field,r=le("".concat(o,"_").concat(n)),i=1;f.has(r);i++)r=le("".concat(o,"_").concat(n,"_").concat(i));return f.add(r),s({},t,r)};if(!n.fields&&!n.encodings){var h=e.config.selection[n.type];if(n.init){var p=!0,v=!1,g=void 0;try{for(var m,y=C(n.init)[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value,x=!0,w=!1,O=void 0;try{for(var k,j=oe(b)[Symbol.iterator]();!(x=(k=j.next()).done);x=!0){var _=k.value;Lt[_]?(n.encodings||(n.encodings=[])).push(_):"interval"===n.type?(er('Interval selections should be initialized using "x" and/or "y" keys.'),n.encodings=h.encodings):(n.fields||(n.fields=[])).push(_)}}catch(K){w=!0,O=K}finally{try{x||null==j.return||j.return()}finally{if(w)throw O}}}}catch(K){v=!0,g=K}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}}else n.encodings=h.encodings,n.fields=h.fields}var S=!0,E=!1,A=void 0;try{for(var D,F=(null!==(i=n.fields)&&void 0!==i?i:[])[Symbol.iterator]();!(S=(D=F.next()).done);S=!0){var T=D.value,M={type:"E",field:T};M.signals=Object.assign({},d(M,"data")),u.items.push(M),u.hasField[T]=M}}catch(K){E=!0,A=K}finally{try{S||null==F.return||F.return()}finally{if(E)throw A}}var P=!0,N=!1,B=void 0;try{for(var R,z=(null!==(a=n.encodings)&&void 0!==a?a:[])[Symbol.iterator]();!(P=(R=z.next()).done);P=!0){var L=R.value,I=e.fieldDef(L);if(I){var U=I.field;if(I.aggregate){er(kn(L,I.aggregate));continue}if(!U){er(On(L));continue}if(I.timeUnit){U=e.vgField(L);var q={timeUnit:I.timeUnit,as:U,field:I.field};l[Y(q)]=q}if(!c[U]){var $="E";"interval"===t.type?xi(e.getScaleComponent(L).get("type"))&&($="R"):I.bin&&($="R-RE");var H={field:U,channel:L,type:$};H.signals=Object.assign(Object.assign({},d(H,"data")),d(H,"visual")),u.items.push(c[U]=H),u.hasField[U]=u.hasChannel[L]=c[U]}}else er(On(L))}}catch(K){N=!0,B=K}finally{try{P||null==z.return||z.return()}finally{if(N)throw B}}if(n.init){var W=function(e){return u.items.map((function(t){return void 0!==e[t.channel]?e[t.channel]:e[t.field]}))};if("interval"===n.type)t.init=W(n.init);else{var G=C(n.init);t.init=G.map(W)}}ae(l)||(u.timeUnit=new as(null,l))},signals:function(e,t,n){var r=t.name+"_tuple_fields";return n.filter((function(e){return e.name===r})).length>0?n:n.concat({name:r,value:t.project.items.map((function(e){var t=R(e,["signals","hasLegend"]);return t.field=me(t.field),t}))})}},cs,ls,hs,vs,ms,us,ns,ss];function xs(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=bs[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;u.has(e)&&t(u)}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}function ws(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;if(k(e)){var r=e.map((function(e){return ws(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return tr(e)?n(t?ur(e):sr(e)):t?n(JSON.stringify(e)):e}function Os(e,t){return Is(e,(function(n,r){t=r.marks?r.marks(e,n,t):t,xs(n,(function(r){r.marks&&(t=r.marks(e,n,t))}))})),t}function ks(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var js="_brush",_s={signals:function(e,t){var n=t.name,r=n+"_tuple_fields",i=ls.has(t),a=[],o=[],u=[];if(t.translate&&!i){var c="!event.item || event.item.mark.name !== ".concat(N(n+js));Ss(t,(function(e,t){var n,r=C(null!==(n=t.between[0].filter)&&void 0!==n?n:t.between[0].filter=[]);return r.indexOf(c)<0&&r.push(c),e}))}t.project.items.forEach((function(n,r){var i=n.channel;if(i===gt||i===mt){var c=t.init?t.init[r]:null,s=function(e,t,n,r){var i=n.channel,a=n.signals.visual,o=n.signals.data,u=ls.has(t),c=N(e.scaleName(i)),s=e.getScaleComponent(i),l=s?s.get("type"):void 0,f=function(e){return"scale(".concat(c,", ").concat(e,")")},d=e.getSizeSignalRef(i===gt?"width":"height").signal,h="".concat(i,"(unit)"),v=Ss(t,(function(e,t){return[].concat(p(e),[{events:t.between[0],update:"[".concat(h,", ").concat(h,"]")},{events:t,update:"[".concat(a,"[0], clamp(").concat(h,", 0, ").concat(d,")]")}])}));return v.push({events:{signal:t.name+"_scale_trigger"},update:xi(l)?"[".concat(f("".concat(o,"[0]")),", ").concat(f("".concat(o,"[1]")),"]"):"[0, 0]"}),u?[{name:o,on:[]}]:[Object.assign(Object.assign({name:a},r?{init:ws(r,!0,f)}:{value:[]}),{on:v}),Object.assign(Object.assign({name:o},r?{init:ws(r)}:{}),{on:[{events:{signal:a},update:"".concat(a,"[0] === ").concat(a,"[1] ? null : invert(").concat(c,", ").concat(a,")")}]})]}(e,t,n,c),l=n.signals.data,f=n.signals.visual,d=N(e.scaleName(i)),h=xi(e.getScaleComponent(i).get("type"))?"+":"";a.push.apply(a,p(s)),o.push(l),u.push({scaleName:e.scaleName(i),expr:"(!isArray(".concat(l,") || ")+"(".concat(h,"invert(").concat(d,", ").concat(f,")[0] === ").concat(h).concat(l,"[0] && ")+"".concat(h,"invert(").concat(d,", ").concat(f,")[1] === ").concat(h).concat(l,"[1]))")})}else er("Interval selections only support x and y encoding channels.")})),i||a.push({name:n+"_scale_trigger",value:{},on:[{events:u.map((function(e){return{scale:e.scaleName}})),update:u.map((function(e){return e.expr})).join(" && ")+" ? ".concat(n+"_scale_trigger"," : {}")}]});var s=t.init,l="unit: ".concat(qs(e),", fields: ").concat(r,", values");return a.concat(Object.assign(Object.assign({name:n+Bs},s?{init:"{".concat(l,": ").concat(ws(s),"}")}:{}),{on:[{events:[{signal:o.join(" || ")}],update:o.join(" && ")+" ? {".concat(l,": [").concat(o,"]} : null")}]}))},modifyExpr:function(e,t){return t.name+Bs+", "+("global"===t.resolve?"true":"{unit: ".concat(qs(e),"}"))},marks:function(e,t,n){var r=t.name,i=t.project.hasChannel,a=i.x,o=i.y,u=a&&a.signals.visual,c=o&&o.signals.visual,s="data(".concat(N(t.name+Ns),")");if(ls.has(t))return n;var l={x:void 0!==a?{signal:"".concat(u,"[0]")}:{value:0},y:void 0!==o?{signal:"".concat(c,"[0]")}:{value:0},x2:void 0!==a?{signal:"".concat(u,"[1]")}:{field:{group:"width"}},y2:void 0!==o?{signal:"".concat(c,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var f=!0,d=!1,h=void 0;try{for(var v,g=oe(l)[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var m=v.value;l[m]=[Object.assign({test:"".concat(s,".length && ").concat(s,"[0].unit === ").concat(qs(e))},l[m]),{value:0}]}}catch(j){d=!0,h=j}finally{try{f||null==g.return||g.return()}finally{if(d)throw h}}}var y=t.mark,b=y.fill,x=y.fillOpacity,w=y.cursor,O=R(y,["fill","fillOpacity","cursor"]),k=oe(O).reduce((function(e,t){return e[t]=[{test:[void 0!==a&&"".concat(u,"[0] !== ").concat(u,"[1]"),void 0!==o&&"".concat(c,"[0] !== ").concat(c,"[1]")].filter((function(e){return e})).join(" && "),value:O[t]},{value:null}],e}),{});return[{name:r+js+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:b},fillOpacity:{value:x}},update:l}}].concat(p(n),[{name:r+js,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},w?{cursor:{value:w}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},l),k)}}])}};function Ss(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(er("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}function Es(e,t){var n=t.name,r=n+"_tuple_fields",i=t.project,a="(item().isVoronoi ? datum.datum : datum)",o=i.items.map((function(t){var n=e.fieldDef(t.channel);return n&&n.bin?"[".concat(a,"[").concat(N(e.vgField(t.channel,{})),"], ")+"".concat(a,"[").concat(N(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(a,"[").concat(N(t.field),"]")})).join(", "),u="unit: ".concat(qs(e),", fields: ").concat(r,", values"),c=t.events;return[{name:n+Bs,on:c?[{events:c,update:"datum && item().mark.marktype !== 'group' ? {".concat(u,": [").concat(o,"]} : null"),force:!0}]:[]}]}var As,Cs,Ds,Fs,Ts,Ms={signals:Es,modifyExpr:function(e,t){return t.name+Bs+", "+("global"===t.resolve?"null":"{unit: ".concat(qs(e),"}"))}},Ps={signals:Es,modifyExpr:function(e,t){return t.name+Bs+", "+("global"===t.resolve?"true":"{unit: ".concat(qs(e),"}"))}},Ns="_store",Bs="_tuple",Rs="_modify",zs="vlSelectionResolve",Ls={single:Ps,multi:Ms,interval:_s};function Is(e,t){var n=e.component.selection;if(n){var r=!0,i=!1,a=void 0;try{for(var o,u=ue(n)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;if(!0===t(c,Ls[c.type]))break}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}}function Us(e){for(var t=e.parent;t&&!bh(t);)t=t.parent;return t}function qs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?N(e.name):e.name,i=Us(e);if(i){var a=i.facet,o=!0,u=!1,c=void 0;try{for(var s,l=Nt[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;a[f]&&(r+=" + '__facet_".concat(f,"_' + (facet[").concat(N(i.vgField(f)),"])"))}}catch(d){u=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}return r}function $s(e){var t=!1;return Is(e,(function(e){t=t||e.project.items.some((function(e){return"_vgsid_"===e.field}))})),t}function Hs(e){this.type=e}Hs.prototype.visit=function(e){var t,n,r;if(e(this))return 1;for(n=0,r=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}(this)).length;n<r;++n)if(t[n].visit(e))return 1},(As={})[1]="Boolean",As[2]="<end>",As[3]="Identifier",As[4]="Keyword",As[5]="Null",As[6]="Numeric",As[7]="Punctuator",As[8]="String",As[9]="RegularExpression";var Ws=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Gs=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Ks(e,t){if(!e)throw new Error("ASSERT: "+t)}function Vs(e){return e>=48&&e<=57}function Ys(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Js(e){return"01234567".indexOf(e)>=0}function Xs(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function Zs(e){return 10===e||13===e||8232===e||8233===e}function Qs(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Ws.test(String.fromCharCode(e))}function el(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Gs.test(String.fromCharCode(e))}var tl={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function nl(){for(var e;Ds<Fs&&(Xs(e=Cs.charCodeAt(Ds))||Zs(e));)++Ds}function rl(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)Ds<Fs&&Ys(Cs[Ds])?(r=Cs[Ds++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):bl({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(i)}function il(){var e,t,n,r;for(t=0,"}"===(e=Cs[Ds])&&bl({},"Unexpected token %0","ILLEGAL");Ds<Fs&&Ys(e=Cs[Ds++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&bl({},"Unexpected token %0","ILLEGAL"),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function al(){var e,t;for(e=Cs.charCodeAt(Ds++),t=String.fromCharCode(e),92===e&&(117!==Cs.charCodeAt(Ds)&&bl({},"Unexpected token %0","ILLEGAL"),++Ds,(e=rl("u"))&&"\\"!==e&&Qs(e.charCodeAt(0))||bl({},"Unexpected token %0","ILLEGAL"),t=e);Ds<Fs&&el(e=Cs.charCodeAt(Ds));)++Ds,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==Cs.charCodeAt(Ds)&&bl({},"Unexpected token %0","ILLEGAL"),++Ds,(e=rl("u"))&&"\\"!==e&&el(e.charCodeAt(0))||bl({},"Unexpected token %0","ILLEGAL"),t+=e);return t}function ol(){var e,t;return e=Ds,{type:1===(t=92===Cs.charCodeAt(Ds)?al():function(){var e,t;for(e=Ds++;Ds<Fs;){if(92===(t=Cs.charCodeAt(Ds)))return Ds=e,al();if(!el(t))break;++Ds}return Cs.slice(e,Ds)}()).length?3:tl.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:Ds}}function ul(){var e,t,n,r,i=Ds,a=Cs.charCodeAt(Ds),o=Cs[Ds];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ds,{type:7,value:String.fromCharCode(a),start:i,end:Ds};default:if(61===(e=Cs.charCodeAt(Ds+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ds+=2,{type:7,value:String.fromCharCode(a)+String.fromCharCode(e),start:i,end:Ds};case 33:case 61:return Ds+=2,61===Cs.charCodeAt(Ds)&&++Ds,{type:7,value:Cs.slice(i,Ds),start:i,end:Ds}}}return">>>="===(r=Cs.substr(Ds,4))?{type:7,value:r,start:i,end:Ds+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:i,end:Ds+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:i,end:Ds+=2}:"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:i,end:++Ds}:void bl({},"Unexpected token %0","ILLEGAL")}function cl(){var e,t,n;if(Ks(Vs((n=Cs[Ds]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=Ds,e="","."!==n){if(e=Cs[Ds++],n=Cs[Ds],"0"===e){if("x"===n||"X"===n)return++Ds,function(e){for(var t="";Ds<Fs&&Ys(Cs[Ds]);)t+=Cs[Ds++];return 0===t.length&&bl({},"Unexpected token %0","ILLEGAL"),Qs(Cs.charCodeAt(Ds))&&bl({},"Unexpected token %0","ILLEGAL"),{type:6,value:parseInt("0x"+t,16),start:e,end:Ds}}(t);if(Js(n))return function(e){for(var t="0"+Cs[Ds++];Ds<Fs&&Js(Cs[Ds]);)t+=Cs[Ds++];return(Qs(Cs.charCodeAt(Ds))||Vs(Cs.charCodeAt(Ds)))&&bl({},"Unexpected token %0","ILLEGAL"),{type:6,value:parseInt(t,8),octal:!0,start:e,end:Ds}}(t);n&&Vs(n.charCodeAt(0))&&bl({},"Unexpected token %0","ILLEGAL")}for(;Vs(Cs.charCodeAt(Ds));)e+=Cs[Ds++];n=Cs[Ds]}if("."===n){for(e+=Cs[Ds++];Vs(Cs.charCodeAt(Ds));)e+=Cs[Ds++];n=Cs[Ds]}if("e"===n||"E"===n)if(e+=Cs[Ds++],"+"!==(n=Cs[Ds])&&"-"!==n||(e+=Cs[Ds++]),Vs(Cs.charCodeAt(Ds)))for(;Vs(Cs.charCodeAt(Ds));)e+=Cs[Ds++];else bl({},"Unexpected token %0","ILLEGAL");return Qs(Cs.charCodeAt(Ds))&&bl({},"Unexpected token %0","ILLEGAL"),{type:6,value:parseFloat(e),start:t,end:Ds}}function sl(){var e,t,n,r;return Ts=null,nl(),e=Ds,t=function(){var e,t,n,r;for(Ks("/"===(e=Cs[Ds]),"Regular expression literal must start with a slash"),t=Cs[Ds++],n=!1,r=!1;Ds<Fs;)if(t+=e=Cs[Ds++],"\\"===e)Zs((e=Cs[Ds++]).charCodeAt(0))&&bl({},"Invalid regular expression: missing /"),t+=e;else if(Zs(e.charCodeAt(0)))bl({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||bl({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";Ds<Fs&&el((e=Cs[Ds]).charCodeAt(0));)++Ds,"\\"===e&&Ds<Fs?bl({},"Unexpected token %0","ILLEGAL"):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&bl({},"Invalid regular expression",n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";bl({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){bl({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(i){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ds}}function ll(){var e;return nl(),Ds>=Fs?{type:2,start:Ds,end:Ds}:Qs(e=Cs.charCodeAt(Ds))?ol():40===e||41===e||59===e?ul():39===e||34===e?function(){var e,t,n,r,i="",a=!1;for(Ks("'"===(e=Cs[Ds])||'"'===e,"String literal must starts with a quote"),t=Ds,++Ds;Ds<Fs;){if((n=Cs[Ds++])===e){e="";break}if("\\"===n)if((n=Cs[Ds++])&&Zs(n.charCodeAt(0)))"\r"===n&&"\n"===Cs[Ds]&&++Ds;else switch(n){case"u":case"x":"{"===Cs[Ds]?(++Ds,i+=il()):i+=rl(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Js(n)?(0!==(r="01234567".indexOf(n))&&(a=!0),Ds<Fs&&Js(Cs[Ds])&&(a=!0,r=8*r+"01234567".indexOf(Cs[Ds++]),"0123".indexOf(n)>=0&&Ds<Fs&&Js(Cs[Ds])&&(r=8*r+"01234567".indexOf(Cs[Ds++]))),i+=String.fromCharCode(r)):i+=n}else{if(Zs(n.charCodeAt(0)))break;i+=n}}return""!==e&&bl({},"Unexpected token %0","ILLEGAL"),{type:8,value:i,octal:a,start:t,end:Ds}}():46===e?Vs(Cs.charCodeAt(Ds+1))?cl():ul():Vs(e)?cl():ul()}function fl(){var e;return Ds=(e=Ts).end,Ts=ll(),Ds=e.end,e}function dl(){var e;e=Ds,Ts=ll(),Ds=e}function hl(e,t,n){var r=new Hs("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function pl(e,t){var n=new Hs("CallExpression");return n.callee=e,n.arguments=t,n}function vl(e){var t=new Hs("Identifier");return t.name=e,t}function gl(e){var t=new Hs("Literal");return t.value=e.value,t.raw=Cs.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ml(e,t,n){var r=new Hs("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function yl(e,t,n){var r=new Hs("Property");return r.key=t,r.value=n,r.kind=e,r}function bl(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return Ks(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=Ds,n.description=i,n}function xl(e){2===e.type&&bl(e,"Unexpected end of input"),6===e.type&&bl(e,"Unexpected number"),8===e.type&&bl(e,"Unexpected string"),3===e.type&&bl(e,"Unexpected identifier"),4===e.type&&bl(e,"Unexpected reserved word"),bl(e,"Unexpected token %0",e.value)}function wl(e){var t=fl();7===t.type&&t.value===e||xl(t)}function Ol(e){return 7===Ts.type&&Ts.value===e}function kl(e){return 4===Ts.type&&Ts.value===e}function jl(){var e=[];for(Ds=Ts.start,wl("[");!Ol("]");)Ol(",")?(fl(),e.push(null)):(e.push(Bl()),Ol("]")||wl(","));return fl(),function(e){var t=new Hs("ArrayExpression");return t.elements=e,t}(e)}function _l(){var e;return Ds=Ts.start,8===(e=fl()).type||6===e.type?(e.octal&&bl(e,"Octal literals are not allowed in strict mode."),gl(e)):vl(e.value)}function Sl(){var e,t,n;return Ds=Ts.start,3===(e=Ts).type?(n=_l(),wl(":"),yl("init",n,Bl())):2!==e.type&&7!==e.type?(t=_l(),wl(":"),yl("init",t,Bl())):void xl(e)}function El(){var e,t,n=[],r={},i=String;for(Ds=Ts.start,wl("{");!Ol("}");)t="$"+("Identifier"===(e=Sl()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?bl({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),Ol("}")||wl(",");return wl("}"),function(e){var t=new Hs("ObjectExpression");return t.properties=e,t}(n)}var Al={if:1};function Cl(){var e,t,n;if(Ol("("))return function(){var e;return wl("("),e=Rl(),wl(")"),e}();if(Ol("["))return jl();if(Ol("{"))return El();if(e=Ts.type,Ds=Ts.start,3===e||Al[Ts.value])n=vl(fl().value);else if(8===e||6===e)Ts.octal&&bl(Ts,"Octal literals are not allowed in strict mode."),n=gl(fl());else{if(4===e)throw new Error("Disabled.");1===e?((t=fl()).value="true"===t.value,n=gl(t)):5===e?((t=fl()).value=null,n=gl(t)):Ol("/")||Ol("/=")?(n=gl(sl()),dl()):xl(fl())}return n}function Dl(){var e=[];if(wl("("),!Ol(")"))for(;Ds<Fs&&(e.push(Bl()),!Ol(")"));)wl(",");return wl(")"),e}function Fl(){return wl("."),function(){var e;return Ds=Ts.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=fl())||xl(e),vl(e.value)}()}function Tl(){var e;return wl("["),e=Rl(),wl("]"),e}function Ml(){var e=function(){var e;for(e=Cl();;)if(Ol("."))e=ml(".",e,Fl());else if(Ol("("))e=pl(e,Dl());else{if(!Ol("["))break;e=ml("[",e,Tl())}return e}();if(7===Ts.type&&(Ol("++")||Ol("--")))throw new Error("Disabled.");return e}function Pl(){var e,t;if(7!==Ts.type&&4!==Ts.type)t=Ml();else{if(Ol("++")||Ol("--"))throw new Error("Disabled.");if(Ol("+")||Ol("-")||Ol("~")||Ol("!"))e=fl(),t=Pl(),t=function(e,t){var n=new Hs("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(kl("delete")||kl("void")||kl("typeof"))throw new Error("Disabled.");t=Ml()}}return t}function Nl(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Bl(){var e,t;return e=function(){var e,t,n,r,i,a,o,u,c,s;if(e=Ts,c=Pl(),0===(i=Nl(r=Ts)))return c;for(r.prec=i,fl(),t=[e,Ts],a=[c,r,o=Pl()];(i=Nl(Ts))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),u=a.pop().value,c=a.pop(),t.pop(),n=hl(u,c,o),a.push(n);(r=fl()).prec=i,a.push(r),t.push(Ts),n=Pl(),a.push(n)}for(n=a[s=a.length-1],t.pop();s>1;)t.pop(),n=hl(a[s-1].value,a[s-2],n),s-=2;return n}(),Ol("?")&&(fl(),t=Bl(),wl(":"),e=function(e,t,n){var r=new Hs("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,Bl())),e}function Rl(){var e=Bl();if(Ol(","))throw new Error("Disabled.");return e}function zl(e){var t=function(e){Ds=0,Fs=(Cs=e).length,Ts=null,dl();var t=Rl();if(2!==Ts.type)throw new Error("Unexpect token after expression.");return t}(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){var n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push.apply(n,p(e(t.object))),n.push.apply(n,p(e(t.property)))),n)}(e).slice(1).join("."))})),n}var Ll=function(e){function t(e,n,r){var u;return f(this,t),(u=a(this,o(t).call(this,e))).model=n,u.filter=r,u.expr=ql(u.model,u.filter,i(u)),u._dependentFields=zl(u.expr),u}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,this.model,W(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),t}(rs);function Il(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",i=[];function a(t){var a=le(t),o=e.getSelectionComponent(a,t),u=N(a+Ns);if(o.project.timeUnit){var c=null!==n&&void 0!==n?n:e.component.data.raw,s=o.project.timeUnit.clone();c.parent?s.insertAsParentOf(c):c.parent=s}return"none"!==o.empty&&i.push(u),"vlSelectionTest(".concat(u,", ").concat(r)+("global"===o.resolve?")":", ".concat(N(o.resolve),")"))}var o=fe(t,a);return(i.length?"!("+i.map((function(e){return"length(data(".concat(e,"))")})).join(" || ")+") || ":"")+"(".concat(o,")")}function Ul(e,t){var n=t.encoding,r=t.field;if(n||r){if(n&&!r){var i=e.project.items.filter((function(e){return e.channel===n}));!i.length||i.length>1?(r=e.project.items[0].field,er((i.length?"Multiple ":"No ")+"matching ".concat(N(n)," encoding found for selection ").concat(N(t.selection),". ")+'Using "field": '.concat(N(r),"."))):r=i[0].field}}else r=e.project.items[0].field,e.project.items.length>1&&er('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(N(r),"."));return"".concat(e.name,"[").concat(N(r),"]")}function ql(e,t,n){return fe(t,(function(t){return P(t)?t:function(e){return null===e||void 0===e?void 0:e.selection}(t)?Il(e,t.selection,n):Rr(t)}))}function $l(e,t){if(e)return k(e)&&!Va(e)?e.map((function(e){return Ta(e,t)})).join(", "):e}function Hl(e,t,n,r){var i,a,o;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(a=e.encode[t])&&void 0!==a?a:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function Wl(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},o=e.combine(),u=o.disable,c=o.orient,s=o.scale,l=o.labelExpr,f=o.title,d=o.zindex,h=R(o,["disable","orient","scale","labelExpr","title","zindex"]);if(!u){for(var v in h){var g=Ce[v],m=h[v];if(g&&g!==t&&"both"!==g)delete h[v];else if(Ee(m)){var y=m.condition,b=R(m,["condition"]),x=C(y),w=Se[v];if(w){var O=w.vgProp,k=w.part,j=[].concat(p(x.map((function(e){var t=e.test,n=R(e,["test"]);return Object.assign({test:ql(null,t)},n)}))),[b]);Hl(h,k,O,j),delete h[v]}else if(null===w){var _={signal:x.map((function(e){var t=e.test,n=R(e,["test"]);return"".concat(ql(null,t)," ? ").concat(Ja(n)," : ")})).join("")+Ja(b)};h[v]=_}}else if(xr(m)){var S=Se[v];if(S){var E=S.vgProp,A=S.part;Hl(h,A,E,m),delete h[v]}}}if("grid"===t){if(!h.grid)return;if(h.encode){var D=h.encode.grid;h.encode=Object.assign({},D?{grid:D}:{}),ae(h.encode)&&delete h.encode}return Object.assign(Object.assign({scale:s,orient:c},h),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:we(d,0)})}if(a.header||!e.mainExtracted){if(void 0!==l){var F=l;(null===(i=null===(r=h.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&xr(h.encode.labels.update.text)&&(F=ye(l,"datum.label",h.encode.labels.update.text.signal)),Hl(h,"labels","text",{signal:F})}if(null===h.labelAlign&&delete h.labelAlign,h.encode){var T=!0,M=!1,P=void 0;try{for(var N,B=Ae[Symbol.iterator]();!(T=(N=B.next()).done);T=!0){var z=N.value;e.hasAxisPart(z)||delete h.encode[z]}}catch(I){M=!0,P=I}finally{try{T||null==B.return||B.return()}finally{if(M)throw P}}ae(h.encode)&&delete h.encode}var L=$l(f,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:s,orient:c,grid:!1},L?{title:L}:{}),h),!1===n.aria?{aria:!1}:{}),{zindex:we(d,0)})}}}function Gl(e){var t=e.component.axes,n=[],r=!0,i=!1,a=void 0;try{for(var o,u=Jt[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;if(t[c]){var s=!0,l=!1,f=void 0;try{for(var d,h=t[c][Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;if(!p.get("disable")&&!p.get("gridScale")){var v="x"===c?"height":"width",g=e.getSizeSignalRef(v).signal;v!==g&&n.push({name:v,update:g})}}}catch(m){l=!0,f=m}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}}}catch(m){i=!0,a=m}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}var Kl={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Vl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Yl=oe(Kl),Jl=oe(Vl);function Xl(e,t,n,r){return Object.assign.apply(null,[{}].concat(p(e.map((function(e){if("axisOrient"===e){var i="x"===n?"bottom":"left",a=t["x"===n?"axisBottom":"axisLeft"]||{},o=t["x"===n?"axisTop":"axisRight"]||{},u=new Set([].concat(p(oe(a)),p(oe(o)))),c={},s=!0,l=!1,f=void 0;try{for(var d,h=u.values()[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var v=d.value;c[v]={signal:"".concat(r.signal,' === "').concat(i,'" ? ').concat(Xa(a[v])," : ").concat(Xa(o[v]))}}}catch(g){l=!0,f=g}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}return c}return t[e]})))))}function Zl(e,t,n,r){var i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:t in vi?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],a="x"===e?"axisX":"axisY",o=xr(n)?"axisOrient":"axis"+he(n),u=[].concat(i,p(i.map((function(e){return a+e.substr(4)})))),c=["axis",o,a];return{vlOnlyAxisConfig:Xl(u,r,e,n),vgAxisConfig:Xl(c,r,e,n),axisConfigStyle:Ql([].concat(c,p(u)),r)}}function Ql(e,t){var n,r=[{}],i=!0,a=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=null===(n=t[u.value])||void 0===n?void 0:n.style;if(s){s=C(s);var l=!0,f=!1,d=void 0;try{for(var h,p=s[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;r.push(t.style[v])}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}}catch(g){a=!0,o=g}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return Object.assign.apply(null,r)}function ef(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=no(e,n,t);if(void 0!==a)return{configFrom:"style",configValue:a};for(var o=0,u=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];o<u.length;o++){var c=u[o];if(void 0!==(null===(r=i[c])||void 0===r?void 0:r[e]))return{configFrom:c,configValue:i[c][e]}}return{}}var tf={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.config,r=e.axis,i=r.format,a=r.formatType;return Ui(t,t.type,i,a,n,!0)},formatType:function(e){var t=e.axis,n=e.fieldOrDatumDef,r=e.scaleType,i=t.formatType;return qi(i,n,r)},grid:function(e){var t,n=e.fieldOrDatumDef,r=e.axis,i=e.scaleType;return(!ca(n)||!hn(n.bin))&&(null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!bi(e)&&ca(t)&&!dn(null===t||void 0===t?void 0:t.bin)}(i,n))},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelAlign||af(n,r,i)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelBaseline||rf(n,r,i)},labelFlush:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&X(["quantitative","temporal"],e))return!0}(r.type,i)},labelOverlap:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t,n,r){if(n&&!j(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t||"greedy"}(r.type,i,ca(r)&&!!r.timeUnit,ca(r)?r.sort:void 0)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,r=e.model,i=e.axis,a=e.fieldOrDatumDef,o=e.scaleType,u="x"===n?"width":"y"===n?"height":void 0,c=u?r.getSizeSignalRef(u):void 0;return null!==(t=i.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,r=e.scaleType,i=e.size;if(!e.values&&!bi(r)&&"log"!==r){if(ca(n)){if(dn(n.bin))return{signal:"ceil(".concat(i.signal,"/10)")};if(n.timeUnit&&X(["month","hours","day","quarter"],null===(t=yr(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(i.signal,"/40)")}}}({fieldOrDatumDef:a,scaleType:o,size:c,values:i.values})},title:function(e){var t=e.axis,n=e.model,r=e.channel;if(void 0!==t.title)return t.title;var i=of(n,r);if(void 0!==i)return i;var a=n.typedFieldDef(r),o="x"===r?"x2":"y2",u=n.fieldDef(o);return io(a?[ta(a)]:[],ca(u)?[ta(u)]:[])},values:function(e){return function(e,t){var n=e.values;return k(n)?Wa(t,n):xr(n)?n:void 0}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){return"rect"===e&&ka(t)?1:0}(i,r)}};function nf(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function rf(e,t,n,r){if(void 0!==e){if("x"===n){if(xr(e)){var i=nf(e),a=xr(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(i," && ").concat(i," < 135) || (225 < ").concat(i," && ").concat(i,' < 315) ? "middle" :')+"(".concat(i," <= 45 || 315 <= ").concat(i,") === ").concat(a,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(xr(t)){var o=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(o,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(xr(e)){var u=nf(e),c=xr(t)?"(".concat(t.signal,' === "left")'):"left"===t,s=r?'"middle"':"null";return{signal:"".concat(u," <= 45 || 315 <= ").concat(u," || (135 <= ").concat(u," && ").concat(u," <= 225) ? ").concat(s," : (45 <= ").concat(u," && ").concat(u," <= 135) === ").concat(c,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(xr(t)){var l=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(l,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function af(e,t,n){if(void 0!==e){var r="x"===n,i=r?0:90,a=r?"bottom":"left";if(xr(e)){var o=nf(e),u=xr(t)?"(".concat(t.signal,' === "').concat(a,'")'):t===a;return{signal:"(".concat(i?"("+o+" + 90)":o," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(i," < ").concat(o," && ").concat(o," < ").concat(180+i,") === ").concat(u,' ? "left" : "right"')}}if((e+i)%180===0)return r?null:"center";if(xr(t)){var c=i<e&&e<180+i?"===":"!==",s="".concat(t.signal," ").concat(c,' "').concat(a,'"');return{signal:"".concat(s,' ? "left" : "right"')}}return(i<e&&e<180+i)===(t===a)?"left":"right"}}function of(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;return a&&o?ao(a,o):a||o||(void 0!==a?a:void 0!==o?o:void 0)}var uf=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r._dependentFields=zl(r.transform.calculate),r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(Y(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,n){return n.forEachFieldDef((function(n,r){if(ga(n)&&Xi(n.sort)){var i=n.field,a=n.timeUnit,o=n.sort,u=o.map((function(e,t){return"".concat(Rr({field:i,timeUnit:a,equal:e})," ? ").concat(t," : ")})).join("")+o.length;e=new t(e,{calculate:u,as:cf(n,r,{forAs:!0})})}})),e}}]),t}(rs);function cf(e,t,n){return Oa(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function sf(e,t){return X(["top","bottom"],t)?"column":X(["left","right"],t)?"row":"row"===e?"row":"column"}function lf(e,t,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return we(((null===t||void 0===t?void 0:t.header)||{})[e],i[e],n.header[e])}function ff(e,t,n,r){var i={},a=!0,o=!1,u=void 0;try{for(var c,s=e[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value,f=lf(l,t,n,r);void 0!==f&&(i[l]=f)}}catch(d){o=!0,u=d}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}return i}var df=["row","column"],hf=["header","footer"];function pf(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,a=ff(["titleAnchor","titleAngle","titleOrient"],i,r,t),o=a.titleAnchor,u=a.titleAngle,c=sf(t,a.titleOrient),s=je(u);return{name:"".concat(t,"-title"),type:"group",role:"".concat(c,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),gf(s,c)),vf(c,s,o)),kf(r,i,t,Yl,Kl))}}function vf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=af(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function gf(e,t){var n=rf(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function mf(e,t){var n=e.component.layoutHeaders[t],r=[],i=!0,a=!1,o=void 0;try{for(var u,c=hf[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;if(n[s]){var l=!0,f=!1,d=void 0;try{for(var h,p=n[s][Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=xf(e,t,s,n,h.value);null!=v&&r.push(v)}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}}catch(g){a=!0,o=g}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return r}function yf(e,t){var n,r=e.sort;return Ji(r)?{field:Oa(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:k(r)?{field:cf(e,t,{expr:"datum"}),order:"ascending"}:{field:Oa(e,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function bf(e,t,n){var r=ff(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),i=r.format,a=r.formatType,o=r.labelAngle,u=r.labelAnchor,c=r.labelOrient,s=r.labelExpr,l=zi({fieldOrDatumDef:e,format:i,formatType:a,expr:"parent",config:n}).signal,f=sf(t,c);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:s?ye(ye(s,"datum.label",l),"datum.value",Oa(e,{expr:"parent"})):l}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),gf(o,f)),vf(f,o,u)),kf(n,e,t,Jl,Vl))}function xf(e,t,n,r,i){if(i){var a=null,o=r.facetFieldDef,u=e.config?e.config:void 0;if(o&&i.labels){var c=ff(["labelOrient"],o,u,t).labelOrient;("row"===t&&!X(["top","bottom"],c)||"column"===t&&!X(["left","right"],c))&&(a=bf(o,t,u))}var l=bh(e)&&!Zi(e.facet),f=i.axes,d=(null===f||void 0===f?void 0:f.length)>0;if(a||d){var h="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:yf(o,t)}:{}),d&&l?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),a?{title:a}:{}),i.sizeSignal?{encode:{update:s({},h,i.sizeSignal)}}:{}),d?{axes:f}:{})}}return null}var wf={column:{start:0,end:1},row:{start:1,end:0}};function Of(e,t){return wf[t][e]}function kf(e,t,n,r,i){var a={},o=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;if(i[f]){var d=lf(f,t,e,n);void 0!==d&&(a[i[f]]=d)}}}catch(h){u=!0,c=h}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}return a}function jf(e){return[].concat(p(_f(e,"width")),p(_f(e,"height")),p(_f(e,"childWidth")),p(_f(e,"childHeight")))}function _f(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("step"===r){var a=e.getScaleComponent(n);if(a){var o=a.get("type"),u=a.get("range");if(bi(o)&&wr(u)){var c=e.scaleName(n);return bh(e.parent)&&"independent"===e.parent.component.resolve.scale[n]?[Sf(c,u)]:[Sf(c,u),{name:i,update:Ef(c,a,"domain('".concat(c,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var s=i.endsWith("width"),l=s?"containerSize()[0]":"containerSize()[1]",f=Yo(e.config.view,s?"width":"height"),d="isFinite(".concat(l,") ? ").concat(l," : ").concat(f);return[{name:i,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:i,value:r}]}function Sf(e,t){return{name:e+"_step",value:t.step}}function Ef(e,t,n){var r=t.get("type"),i=t.get("padding"),a=we(t.get("paddingOuter"),i),o=t.get("paddingInner");return o="band"===r?void 0!==o?o:i:1,"bandspace(".concat(n,", ").concat(o,", ").concat(a,") * ").concat(e,"_step")}function Af(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function Cf(e,t){return oe(e).reduce((function(n,r){var i=e[r];return Object.assign(Object.assign({},n),Dc(t,i,r,(function(e){return xr(e)?e:{value:e.value}})))}),{})}function Df(e,t){if(wh(t)||bh(t))return"shared";if(xh(t))return Xt(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function Ff(e,t){var n=e.scale[t],r=Xt(t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&er(function(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}(t)),"independent"):e[r][t]||"shared"}var Tf=Object.assign(Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1}),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Mf=oe(Tf),Pf=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),t}(qu),Nf={symbols:function(e,t){var n,r,i,a,o,u,c,s,l=t.fieldOrDatumDef,f=t.model,d=t.channel,h=t.legendCmpt;if("symbol"===t.legendType){var p=f.markDef,v=f.encoding,g=f.config,m=f.mark,y=p.filled&&"trail"!==m,b=Object.assign(Object.assign({},function(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=eo(c,t.markDef,t.config);void 0!==s&&(e[c]=Ya(s))}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return e}({},f,Ze)),zc(f,{filled:y})),x=null!==(n=h.get("symbolOpacity"))&&void 0!==n?n:g.legend.symbolOpacity,w=null!==(r=h.get("symbolFillColor"))&&void 0!==r?r:g.legend.symbolFillColor,O=null!==(i=h.get("symbolStrokeColor"))&&void 0!==i?i:g.legend.symbolStrokeColor,j=void 0===x?null!==(a=Bf(v.opacity))&&void 0!==a?a:p.opacity:void 0;if(b.fill)if("fill"===d||y&&d===kt)delete b.fill;else if(b.fill.field)w?delete b.fill:(b.fill=Ya(null!==(o=g.legend.symbolBaseFillColor)&&void 0!==o?o:"black"),b.fillOpacity=Ya(null!==j&&void 0!==j?j:1));else if(k(b.fill)){var _=null!==(s=null!==(c=Rf(null!==(u=v.fill)&&void 0!==u?u:v.color))&&void 0!==c?c:p.fill)&&void 0!==s?s:y&&p.color;_&&(b.fill=Ya(_))}if(b.stroke)if("stroke"===d||!y&&d===kt)delete b.stroke;else if(b.stroke.field||O)delete b.stroke;else if(k(b.stroke)){var S=we(Rf(v.stroke||v.color),p.stroke,y?p.color:void 0);S&&(b.stroke={value:S})}if("opacity"!==d){var E=ca(l)&&Lf(0,h,l);E?b.opacity=[Object.assign({test:E},Ya(null!==j&&void 0!==j?j:1)),Ya(g.legend.unselectedOpacity)]:j&&(b.opacity=Ya(j))}return ae(b=Object.assign(Object.assign({},b),e))?void 0:b}},gradient:function(e,t){var n,r=t.model,i=t.legendType,a=t.legendCmpt;if("gradient"===i){var o=r.config,u=r.markDef,c=r.encoding,s={},l=void 0===(null!==(n=a.get("gradientOpacity"))&&void 0!==n?n:o.legend.gradientOpacity)?Bf(c.opacity)||u.opacity:void 0;return l&&(s.opacity=Ya(l)),ae(s=Object.assign(Object.assign({},s),e))?void 0:s}},labels:function(e,t){var n=t.fieldOrDatumDef,r=t.model,i=t.channel,a=t.legendCmpt,o=r.legend(i)||{},u=r.config,c=ca(n)?Lf(0,a,n):void 0,s=c?[{test:c,value:1},{value:u.legend.unselectedOpacity}]:void 0,l=o.format,f=o.formatType,d=Bi(f)?Ii({fieldOrDatumDef:n,field:"datum.value",format:l,formatType:f,config:u}):void 0,h=Object.assign(Object.assign(Object.assign({},s?{opacity:s}:{}),d?{text:d}:{}),e);return ae(h)?void 0:h},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function Bf(e){return zf(e,(function(e,t){return Math.max(e,t.value)}))}function Rf(e){return zf(e,(function(e,t){return we(e,t.value)}))}function zf(e,t){return function(e){var t=e&&e.condition;return!!t&&(k(t)||va(t))}(e)?C(e.condition).reduce(t,e.value):va(e)?e.value:void 0}function Lf(e,t,n){var r=t.get("selections");if(null===r||void 0===r?void 0:r.length){var i=N(n.field);return r.map((function(e){var t=N(le(e)+Ns);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(i,"] && indexof(").concat(e,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}}var If={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config,i=n.format,a=n.formatType;return Ui(t,t.type,i,a,r,!1)},formatType:function(e){var t=e.legend,n=e.fieldOrDatumDef,r=e.scaleType,i=t.formatType;return qi(i,n,r)},gradientLength:function(e){var t,n,r=e.legend,i=e.legendConfig;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,r=e.direction,i=e.orient,a=e.scaleType,o=t.gradientHorizontalMaxLength,u=t.gradientHorizontalMinLength,c=t.gradientVerticalMaxLength,s=t.gradientVerticalMinLength;if(wi(a))return"horizontal"===r?"top"===i||"bottom"===i?$f(n,"width",u,o):u:$f(n,"height",s,c)}(e)},labelOverlap:function(e){var t,n,r=e.legend,i=e.legendConfig,a=e.scaleType;return null!==(n=null!==(t=r.labelOverlap)&&void 0!==t?t:i.labelOverlap)&&void 0!==n?n:function(e){if(X(["quantile","threshold","log"],e))return"greedy"}(a)},symbolType:function(e){var t,n=e.legend,r=e.markDef,i=e.channel,a=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){var i;if("shape"!==t){var a=null!==(i=Rf(n))&&void 0!==i?i:r;if(a)return a}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,a.shape,r.shape)},title:function(e){return Da(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if(Mt(e.channel)&&wi(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;return k(n)?Wa(t,n):xr(n)?n:void 0}(e.legend,t)}};function Uf(e){return we(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,r=e.scaleType;if(Mt(t)){if(X(["quarter","month","day"],n))return"symbol";if(wi(r))return"gradient"}return"symbol"}(e))}function qf(e){var t,n,r=e.legendConfig,i=e.legendType,a=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:r[i?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(a,i)}function $f(e,t,n,r){var i=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function Hf(e){var t=yh(e)?function(e){for(var t=e.encoding,n={},r=0,i=[kt].concat(zo);r<i.length;r++){var a=i[r],o=Ba(t[a]);o&&e.getScaleComponent(a)&&(a===St&&ca(o)&&o.type===Yr||(n[a]=Gf(e,a)))}return n}(e):function(e){var t=e.component,n=t.legends,r=t.resolve,i=!0,a=!1,o=void 0;try{for(var u,c=e.children[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;Hf(s);var l=!0,f=!1,d=void 0;try{for(var h,p=oe(s.component.legends)[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;r.legend[v]=Ff(e.component.resolve,v),"shared"===r.legend[v]&&(n[v]=Kf(n[v],s.component.legends[v]),n[v]||(r.legend[v]="independent",delete n[v]))}}catch(A){f=!0,d=A}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}catch(A){a=!0,o=A}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var g=!0,m=!1,y=void 0;try{for(var b,x=oe(n)[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value,O=!0,k=!1,j=void 0;try{for(var _,S=e.children[Symbol.iterator]();!(O=(_=S.next()).done);O=!0){var E=_.value;E.component.legends[w]&&"shared"===r.legend[w]&&delete E.component.legends[w]}}catch(A){k=!0,j=A}finally{try{O||null==S.return||S.return()}finally{if(k)throw j}}}}catch(A){m=!0,y=A}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}return n}(e);return e.component.legends=t,t}function Wf(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===t&&e===(null===r||void 0===r?void 0:r.title))return!0}return e===(n||{})[t]}function Gf(e,t){var n,r,i,a=e.legend(t),o=e.markDef,u=e.encoding,c=e.config,l=c.legend,f=new Pf({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:s({},t,n)}(e,t));!function(e,t,n){var r,i=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;Is(e,(function(e){var r,a,o=null!==(r=e.project.hasField[i])&&void 0!==r?r:e.project.hasChannel[t];if(o&&hs.has(e)){var u=null!==(a=n.get("selections"))&&void 0!==a?a:[];u.push(e.name),n.set("selections",u,!1),o.hasLegend=!0}}))}(e,t,f);var d=void 0!==a?!a:l.disable;if(f.set("disable",d,void 0!==a),d)return f;a=a||{};var h=e.getScaleComponent(t).get("type"),p=Ba(u[t]),v=ca(p)?null===(n=yr(p.timeUnit))||void 0===n?void 0:n.unit:void 0,g=a.orient||c.legend.orient||"right",m=Uf({legend:a,channel:t,timeUnit:v,scaleType:h}),y={legend:a,channel:t,model:e,markDef:o,encoding:u,fieldOrDatumDef:p,legendConfig:l,config:c,scaleType:h,orient:g,legendType:m,direction:qf({legend:a,legendType:m,orient:g,legendConfig:l})},b=!0,x=!1,w=void 0;try{for(var O,k=Mf[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var j=O.value;if(!("gradient"===m&&j.startsWith("symbol")||"symbol"===m&&j.startsWith("gradient"))){var _=j in If?If[j](y):a[j];if(void 0!==_){var S=Wf(_,j,a,e.fieldDef(t));(S||void 0===c.legend[j])&&f.set(j,_,S)}}}}catch(B){x=!0,w=B}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}for(var E=null!==(r=null===a||void 0===a?void 0:a.encoding)&&void 0!==r?r:{},A=f.get("selections"),C={},D={fieldOrDatumDef:p,model:e,channel:t,legendCmpt:f,legendType:m},F=0,T=["labels","legend","title","symbols","gradient","entries"];F<T.length;F++){var M=T[F],P=Cf(null!==(i=E[M])&&void 0!==i?i:{},e),N=M in Nf?Nf[M](P,D):P;void 0===N||ae(N)||(C[M]=Object.assign(Object.assign(Object.assign({},(null===A||void 0===A?void 0:A.length)&&ca(p)?{name:"".concat(le(p.field),"_legend_").concat(M)}:{}),(null===A||void 0===A?void 0:A.length)?{interactive:!!A}:{}),{update:N}))}return ae(C)||f.set("encode",C,!!(null===a||void 0===a?void 0:a.encoding)),f}function Kf(e,t){var n,r,i,a;if(!e)return t.clone();var o=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(!o.explicit||!u.explicit||o.value===u.value){var c=!1,s=!0,l=!1,f=void 0;try{for(var d,h=function(){var n=d.value,r=Ku(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return r=e,"circle"===(i=t).value?i:r;case"title":return oo(e,t);case"type":return c=!0,Hu("symbol")}var r,i;return Gu(e,t,n,"legend")}));e.setWithExplicit(n,r)},p=Mf[Symbol.iterator]();!(s=(d=p.next()).done);s=!0)h()}catch(v){l=!0,f=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw f}}return c&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&de(e.implicit,["encode","gradient"]),(null===(a=null===(i=e.explicit)||void 0===i?void 0:i.encode)||void 0===a?void 0:a.gradient)&&de(e.explicit,["encode","gradient"])),e}}function Vf(e,t,n,r){var i,a,o;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(a=e.encode[t])&&void 0!==a?a:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function Yf(e){var t=e.component.legends,n={},r=!0,i=!1,a=void 0;try{for(var o,u=oe(t)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=e.getScaleComponent(c),l=V(s.get("domains"));if(n[l]){var f=!0,d=!1,h=void 0;try{for(var p,v=n[l][Symbol.iterator]();!(f=(p=v.next()).done);f=!0)Kf(p.value,t[c])||n[l].push(t[c])}catch(g){d=!0,h=g}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}else n[l]=[t[c].clone()]}}catch(g){i=!0,a=g}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return ue(n).flat().map((function(t){return function(e,t){var n,r,i,a=e.combine(),o=a.disable,u=a.labelExpr,c=(a.selections,R(a,["disable","labelExpr","selections"]));if(!o){if(!1===t.aria&&void 0==c.aria&&(c.aria=!1),null===(n=c.encode)||void 0===n?void 0:n.symbols){var s=c.encode.symbols.update;!s.fill||"transparent"===s.fill.value||s.stroke||c.stroke||(s.stroke={value:"transparent"});var l=!0,f=!1,d=void 0;try{for(var h,p=zo[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;c[v]&&delete s[v]}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}if(c.title||delete c.title,void 0!==u){var m=u;(null===(i=null===(r=c.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&xr(c.encode.labels.update.text)&&(m=ye(u,"datum.label",c.encode.labels.update.text.signal)),Vf(c,"labels","text",{signal:m})}for(var y in c){var b=c[y];if(xr(b)){var x=Lo[y];if(x){var w=x.vgProp,O=x.part;Vf(c,O,w,b),delete c[y]}}}return c}}(t,e.config)})).filter((function(e){return void 0!==e}))}function Jf(e){return wh(e)||xh(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),Xf(e))}(e):Xf(e)}function Xf(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name;if(t.data){var i={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},a=t.data.reduce((function(t,n){var r=xr(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return X(t,r)||t.push(r),t}),[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:a.length>1?"[".concat(a.join(", "),"]"):a[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var Zf=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],Qf=function(e){function t(e,n,r,i){var u;return f(this,t),(u=a(this,o(t).call(this,Object.assign({},n),{name:e}))).specifiedProjection=n,u.size=r,u.data=i,u.merged=!1,u}return c(t,e),d(t,[{key:"isFit",get:function(){return!!this.data}}]),t}(qu);function ed(e){e.component.projection=yh(e)?function(e){var t;if(e.hasProjection){var n=e.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,a=r?function(e){for(var t=[],n=e.encoding,r=0,i=[["longitude","latitude"],["longitude2","latitude2"]];r<i.length;r++){var a=i[r];(Ba(n[a[0]])||Ba(n[a[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}return e.channelHasField(St)&&e.typedFieldDef(St).type===Yr&&t.push({signal:e.getName("geojson_".concat(t.length))}),0===t.length&&t.push(e.requestDataName(Vu.Main)),t}(e):void 0;return new Qf(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),i,a)}}(e):function(e){if(0!==e.children.length){var t,n=!0,r=!1,i=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)ed(a.value)}catch(b){r=!0,i=b}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var u=Q(e.children,(function(e){var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=Q(Zf,(function(n){return!F(e.explicit,n)&&!F(t.explicit,n)||!(!F(e.explicit,n)||!F(t.explicit,n)||V(e.get(n))!==V(t.get(n)))}));if(V(e.size)===V(t.size)){if(n)return e;if(V(e.explicit)===V({}))return t;if(V(t.explicit)===V({}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0}));if(t&&u){var c=e.projectionName(!0),s=new Qf(c,t.specifiedProjection,t.size,W(t.data)),l=!0,f=!1,d=void 0;try{for(var h,v=e.children[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var g,m=h.value,y=m.component.projection;if(y)y.isFit&&(g=s.data).push.apply(g,p(m.component.projection.data)),m.renameProjection(y.get("name"),c),y.merged=!0}}catch(b){f=!0,d=b}finally{try{l||null==v.return||v.return()}finally{if(f)throw d}}return s}}}(e)}function td(e,t){return"".concat(fn(e),"_").concat(t)}function nd(e,t,n){var r,i=td(null!==(r=Ia(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(i,"_bins"))}function rd(e,t,n){var r,i;r=function(e){return"as"in e}(e)?P(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[Oa(e,{forAs:!0}),Oa(e,{binSuffix:"end",forAs:!0})];var a=Object.assign({},Ia(t,void 0)),o=td(a,e.field),u=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,o),c=u.signal,s=u.extentSignal;if(vn(a.extent)){var l=a.extent,f=l.selection;i=Ul(n.getSelectionComponent(le(f),f),l),delete a.extent}return{key:o,binComponent:Object.assign(Object.assign(Object.assign({bin:a,field:e.field,as:[r]},c?{signal:c}:{}),s?{extentSignal:s}:{}),i?{span:i}:{})}}var id=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).bins=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.bins))}},{key:"merge",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=oe(e.bins)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;u in this.bins?(t(e.bins[u].signal,this.bins[u].signal),this.bins[u].as=te([].concat(p(this.bins[u].as),p(e.bins[u].as)),Y)):this.bins[u]=e.bins[u]}}catch(v){r=!0,i=v}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var c=!0,s=!1,l=void 0;try{for(var f,d=e.children[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value;e.removeChild(h),h.parent=this}}catch(v){s=!0,l=v}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}e.remove()}},{key:"producedFields",value:function(){return new Set(ue(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(ue(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(Y(this.bins))}},{key:"assemble",value:function(){return ue(this.bins).flatMap((function(e){var t=[],n=r(e.as),i=n[0],a=n.slice(1),o=e.bin,u=o.extent,c=R(o,["extent"]),s=Object.assign(Object.assign(Object.assign({type:"bin",field:me(e.field),as:i,signal:e.signal},vn(u)?{extent:null}:{extent:u}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),c);!u&&e.extentSignal&&(t.push({type:"extent",field:me(e.field),signal:e.extentSignal}),s.extent={signal:e.extentSignal}),t.push(s);var l=!0,f=!1,d=void 0;try{for(var h,p=a[Symbol.iterator]();!(l=(h=p.next()).done);l=!0)for(var v=h.value,g=0;g<2;g++)t.push({type:"formula",expr:Oa({field:i[g]},{expr:"datum"}),as:v[g]})}catch(m){f=!0,d=m}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}],[{key:"makeFromEncoding",value:function(e,n){var r=n.reduceFieldDef((function(e,t,r){if(pa(t)&&dn(t.bin)){var i=rd(t,t.bin,n),a=i.key,o=i.binComponent;e[a]=Object.assign(Object.assign(Object.assign({},o),e[a]),function(e,t,n,r){var i,a;if(Ga(t,n)){var o=yh(e)&&null!==(a=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==a?a:{},u=Oa(t,{expr:"datum"}),c=Oa(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Oa(t,{binSuffix:"range",forAs:!0}),formula:Gi(u,c,o.format,o.formatType,r)}}return{}}(n,t,r,n.config))}return e}),{});return ae(r)?null:new t(e,r)}},{key:"makeFromTransform",value:function(e,n,r){var i=rd(n,n.bin,r),a=i.key,o=i.binComponent;return new t(e,s({},a,o))}}]),t}(rs),ad=function(e){function t(e){var n,r;if(f(this,t),n=a(this,o(t).call(this,null)),Qu(e=null!==e&&void 0!==e?e:{name:"source"})||(r=e.format?Object.assign({},K(e.format,["parse"])):{}),Xu(e))n._data={values:e.values};else if(Ju(e)){if(n._data={url:e.url},!r.type){var i=/(?:\.([^.]+))?$/.exec(e.url)[1];X(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else tc(e)?n._data={values:[{type:"Sphere"}]}:(Zu(e)||Qu(e))&&(n._data={});return n._generator=Qu(e),e.name&&(n._name=e.name),r&&!ae(r)&&(n._data.format=r),n}return c(t,e),d(t,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hasName",value:function(){return!!this._name}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}},{key:"data",get:function(){return this._data}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}}]),t}(rs),od=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).params=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(Y(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),t}(rs),ud=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).params=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(Y(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),t}(rs);function cd(e){return e instanceof ad||e instanceof od||e instanceof ud}var sd=function(){function e(){f(this,e),this._mutated=!1}return d(e,[{key:"setMutated",value:function(){this._mutated=!0}},{key:"mutatedFlag",get:function(){return this._mutated}}]),e}(),ld=function(e){function t(){var e;return f(this,t),(e=a(this,o(t).call(this)))._continue=!1,e}return c(t,e),d(t,[{key:"setContinue",value:function(){this._continue=!0}},{key:"reset",value:function(){}},{key:"optimizeNextFromLeaves",value:function(e){if(cd(e))return!1;var t=e.parent;return this.run(e).continueFlag&&this.optimizeNextFromLeaves(t),this.mutatedFlag}},{key:"continueFlag",get:function(){return this._continue}},{key:"flags",get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(e){var t=e.continueFlag,n=e.mutatedFlag;t&&this.setContinue(),n&&this.setMutated()}}]),t}(sd),fd=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),t}(sd);function dd(e,t,n,r){var i=yh(r)?r.encoding[Wt(t)]:void 0;if(pa(n)&&yh(r)&&ia(t,n,i,r.stack,r.markDef,r.config))e.add(Oa(n,{})),e.add(Oa(n,{suffix:"end"})),n.bin&&Ga(n,t)&&e.add(Oa(n,{binSuffix:"range"}));else if(t in Dt){var a=function(e){switch(e){case"latitude":return"y";case"latitude2":return"y2";case"longitude":return"x";case"longitude2":return"x2"}}(t);e.add(r.getName(a))}else e.add(Oa(n));return e}var hd=function(e){function t(e,n,r){var i;return f(this,t),(i=a(this,o(t).call(this,e))).dimensions=n,i.measures=r,i}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,new Set(this.dimensions),W(this.measures))}},{key:"merge",value:function(e){return function(e,t){if(e.size!==t.size)return!1;var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(!t.has(u))return!1}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!0}(this.dimensions,e.dimensions)?(function(e,t){var n,r=!0,i=!1,a=void 0;try{for(var o,u=oe(t)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,l=t[c],f=!0,d=!1,h=void 0;try{for(var v,g=oe(l)[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var m=v.value;c in e?e[c][m]=new Set([].concat(p(null!==(n=e[c][m])&&void 0!==n?n:[]),p(l[m]))):e[c]=s({},m,l[m])}}catch(y){d=!0,h=y}finally{try{f||null==g.return||g.return()}finally{if(d)throw h}}}}catch(y){i=!0,a=y}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}(this.measures,e.measures),!0):(function(){var e;(e=Xn).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(p(this.dimensions),p(oe(this.measures))))}},{key:"producedFields",value:function(){var e=new Set,t=!0,n=!1,r=void 0;try{for(var i,a=oe(this.measures)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=!0,c=!1,s=void 0;try{for(var l,f=oe(this.measures[o])[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=this.measures[o][d];0===h.size?e.add("".concat(d,"_").concat(o)):h.forEach(e.add,e)}}catch(p){c=!0,s=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}}catch(p){n=!0,r=p}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"hash",value:function(){return"Aggregate ".concat(Y({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e=[],t=[],n=[],r=!0,i=!1,a=void 0;try{for(var o,u=oe(this.measures)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=!0,l=!1,f=void 0;try{for(var d,h=oe(this.measures[c])[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var v=d.value,g=!0,m=!1,y=void 0;try{for(var b,x=this.measures[c][v][Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value;n.push(w),e.push(v),t.push("*"===c?null:me(c))}}catch(O){m=!0,y=O}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}}}catch(O){l=!0,f=O}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}}catch(O){i=!0,a=O}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return{type:"aggregate",groupby:p(this.dimensions).map(me),ops:e,fields:t,as:n}}},{key:"groupBy",get:function(){return this.dimensions}}],[{key:"makeFromEncoding",value:function(e,n){var r=!1;n.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var i={},a=new Set;return r?(n.forEachFieldDef((function(e,t){var r,o,u,c,s=e.aggregate,l=e.field;if(s)if("count"===s)i["*"]=null!==(r=i["*"])&&void 0!==r?r:{},i["*"].count=new Set([Oa(e,{forAs:!0})]);else{if(ut(s)||ct(s)){var f=ut(s)?"argmin":"argmax",d=s[f];i[d]=null!==(o=i[d])&&void 0!==o?o:{},i[d][f]=new Set([Oa({op:f,field:d},{forAs:!0})])}else i[l]=null!==(u=i[l])&&void 0!==u?u:{},i[l][s]=new Set([Oa(e,{forAs:!0})]);on(t)&&"unaggregated"===n.scaleDomain(t)&&(i[l]=null!==(c=i[l])&&void 0!==c?c:{},i[l].min=new Set([Oa({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([Oa({field:l,aggregate:"max"},{forAs:!0})]))}else dd(a,t,e,n)})),a.size+oe(i).length===0?null:new t(e,a,i)):null}},{key:"makeFromTransform",value:function(e,n){var r,i,a,o=new Set,u={},c=!0,s=!1,l=void 0;try{for(var f,d=n.aggregate[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value,p=h.op,v=h.field,g=h.as;p&&("count"===p?(u["*"]=null!==(r=u["*"])&&void 0!==r?r:{},u["*"].count=new Set([g||Oa(h,{forAs:!0})])):(u[v]=null!==(i=u[v])&&void 0!==i?i:{},u[v][p]=new Set([g||Oa(h,{forAs:!0})])))}}catch(k){s=!0,l=k}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}var m=!0,y=!1,b=void 0;try{for(var x,w=(null!==(a=n.groupby)&&void 0!==a?a:[])[Symbol.iterator]();!(m=(x=w.next()).done);m=!0){var O=x.value;o.add(O)}}catch(k){y=!0,b=k}finally{try{m||null==w.return||w.return()}finally{if(y)throw b}}return o.size+oe(u).length===0?null:new t(e,o,u)}}]),t}(rs),pd=function(e){function t(e,n,r,i){var u;f(this,t),(u=a(this,o(t).call(this,e))).model=n,u.name=r,u.data=i;var c=!0,s=!1,l=void 0;try{for(var d,h=Nt[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var v=d.value,g=n.facet[v];if(g){var m=g.bin,y=g.sort;u[v]=Object.assign({name:n.getName("".concat(v,"_domain")),fields:[Oa(g)].concat(p(dn(m)?[Oa(g,{binSuffix:"end"})]:[]))},Ji(y)?{sortField:y}:k(y)?{sortIndexField:cf(g,v)}:{})}}}catch(b){s=!0,l=b}finally{try{c||null==h.return||h.return()}finally{if(s)throw l}}return u.childModel=n.child,u}return c(t,e),d(t,[{key:"hash",value:function(){var e="Facet",t=!0,n=!1,r=void 0;try{for(var i,a=Nt[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this[o]&&(e+=" ".concat(o.charAt(0),":").concat(Y(this[o])))}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"dependentFields",value:function(){var e=new Set(this.fields),t=!0,n=!1,r=void 0;try{for(var i,a=Nt[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this[o]&&(this[o].sortField&&e.add(this[o].sortField.field),this[o].sortIndexField&&e.add(this[o].sortIndexField))}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,a=Jt[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=this.childModel.component.scales[o];if(u&&!u.merged){var c=u.get("type"),s=u.get("range");if(bi(c)&&wr(s)){var l=Qd(eh(this.childModel,o));l?e[o]=l:er(wn(o))}}}}catch(f){n=!0,r=f}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x"}[e],i=[],a=[],o=[];n&&n[r]&&(t?(i.push("distinct_".concat(n[r])),a.push("max")):(i.push(n[r]),a.push("distinct")),o.push("distinct_".concat(n[r])));var u=this[e],c=u.sortField,s=u.sortIndexField;if(c){var l=c.op,f=void 0===l?"min":l,d=c.field;i.push(d),a.push(f),o.push(Oa(c,{forAs:!0}))}else s&&(i.push(s),a.push("max"),o.push(s));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:a,as:o}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r=this.model.layout.columns,i=this.model.component.layoutHeaders,a=[],o={},u=!0,c=!1,s=void 0;try{for(var l,f=df[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=!0,p=!1,v=void 0;try{for(var g,m=hf[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value,b=null!==(t=i[d]&&i[d][y])&&void 0!==t?t:[],x=!0,w=!1,O=void 0;try{for(var k,j=b[Symbol.iterator]();!(x=(k=j.next()).done);x=!0)if((null===(n=k.value.axes)||void 0===n?void 0:n.length)>0){o[d]=!0;break}}catch(C){w=!0,O=C}finally{try{x||null==j.return||j.return()}finally{if(w)throw O}}}}catch(C){p=!0,v=C}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}if(o[d]){var _='length(data("'.concat(this.facet.name,'"))'),S="row"===d?r?{signal:"ceil(".concat(_," / ").concat(r,")")}:1:r?{signal:"min(".concat(_,", ").concat(r,")")}:{signal:_};a.push({name:"".concat(this.facet.name,"_").concat(d),transform:[{type:"sequence",start:0,stop:S}]})}}}catch(C){c=!0,s=C}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}var E=o.row,A=o.column;return(E||A)&&a.unshift(this.assembleRowColumnHeaderData("facet",null,e)),a}},{key:"assemble",value:function(){var e,t,n=[],r=null,i=this.getChildIndependentFieldsWithStep(),a=this.column,o=this.row,u=this.facet;if(a&&o&&(i.x||i.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var c=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),s=c.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:c,ops:s}]})}for(var l=0,f=[vt,pt];l<f.length;l++){var d=f[l];this[d]&&n.push(this.assembleRowColumnHeaderData(d,r,i))}if(u){var h=this.assembleFacetHeaderData(i);h&&n.push.apply(n,p(h))}return n}},{key:"fields",get:function(){var e,t=[],n=!0,r=!1,i=void 0;try{for(var a,o=Nt[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;(null===(e=this[u])||void 0===e?void 0:e.fields)&&t.push.apply(t,p(this[u].fields))}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}}]),t}(rs);function vd(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function gd(e,t){var n=pe(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(0===t.indexOf("date:")){var r=vd(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(r,"')")}if(0===t.indexOf("utc:")){var i=vd(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(i,"')")}return er('Unrecognized parse "'.concat(t,'".')),null}function md(e){var t={};return function e(t,n){if(q(t))e(t.not,n);else if(U(t)){var r=!0,i=!1,a=void 0;try{for(var o,u=t.and[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)e(o.value,n)}catch(h){i=!0,a=h}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}else if(I(t)){var c=!0,s=!1,l=void 0;try{for(var f,d=t.or[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)e(f.value,n)}catch(h){s=!0,l=h}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}}else n(t)}(e.filter,(function(e){var n;if(Pr(e)){var r=null;Sr(e)?r=e.equal:Fr(e)?r=e.range[0]:Tr(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(tr(r)?t[e.field]="date":M(r)?t[e.field]="number":P(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function yd(e){var t={};function n(e){var n;$a(e)?t[e.field]="date":"quantitative"===e.type&&P(n=e.aggregate)&&X(["min","max"],n)?t[e.field]="number":xe(e.field)>1?e.field in t||(t[e.field]="flatten"):ga(e)&&Ji(e.sort)&&xe(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if((yh(e)||bh(e))&&e.forEachFieldDef((function(t,r){if(pa(t))n(t);else{var i=$t(r),a=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:a.type}))}})),yh(e)){var r=e.mark,i=e.markDef,a=e.encoding;if(Ve(r)&&!e.encoding.order){var o=a["horizontal"===i.orient?"y":"x"];!ca(o)||"quantitative"!==o.type||o.field in t||(t[o.field]="number")}}return t}var bd=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e)))._parse=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(Y(this._parse))}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,a=oe(this._parse)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=this._parse[o];1===xe(o)&&(e[o]=u)}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"producedFields",value:function(){return new Set(oe(this._parse))}},{key:"dependentFields",value:function(){return new Set(oe(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return oe(this._parse).filter((function(e){return!t||xe(e)>1})).map((function(t){var n=gd(t,e._parse[t]);return n?{type:"formula",expr:n,as:be(t)}:null})).filter((function(e){return null!==e}))}},{key:"parse",get:function(){return this._parse}}],[{key:"makeExplicit",value:function(e,t,n){var r={},i=t.data;return!Qu(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(e,r,{},n)}},{key:"makeWithAncestors",value:function(e,n,r,i){var a=!0,o=!1,u=void 0;try{for(var c,s=oe(r)[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value,f=i.getWithExplicit(l);void 0!==f.value&&(f.explicit||f.value===r[l]||"derived"===f.value||"flatten"===r[l]?delete r[l]:er(Sn(l,r[l],f.value)))}}catch(A){o=!0,u=A}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}var d=!0,h=!1,p=void 0;try{for(var v,g=oe(n)[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,y=i.get(m);void 0!==y&&(y===n[m]?delete n[m]:er(Sn(m,n[m],y)))}}catch(A){h=!0,p=A}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}var b=new qu(n,r);i.copyAll(b);var x={},w=!0,O=!1,k=void 0;try{for(var j,_=oe(b.combine())[Symbol.iterator]();!(w=(j=_.next()).done);w=!0){var S=j.value,E=b.get(S);null!==E&&(x[S]=E)}}catch(A){O=!0,k=A}finally{try{w||null==_.return||_.return()}finally{if(O)throw k}}return 0===oe(x).length||i.parseNothing?null:new t(e,x)}}]),t}(rs),xd=function(e){function t(e){return f(this,t),a(this,o(t).call(this,e))}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null)}}]),d(t,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set(["_vgsid_"])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:"_vgsid_"}}}]),t}(rs),wd=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=te(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:Oa(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e=[],t=[],n=[],r=!0,i=!1,a=void 0;try{for(var o,u=this.transform.joinaggregate[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;t.push(c.op),n.push(this.getDefaultName(c)),e.push(void 0===c.field?null:c.field)}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}var s=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==s?{groupby:s}:{})}}]),t}(rs),Od=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e)))._stack=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this._stack))}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,p(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(Y(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute,r=e.groupby;return t?t.bin?n?[Oa(t,{binSuffix:"mid"})]:[Oa(t,{}),Oa(t,{binSuffix:"end"})]:[Oa(t)]:null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDef,i=t.stackField,a=t.stackby,o=t.sort,u=t.offset,c=t.impute,s=t.as;if(c&&r){var l=r.band,f=void 0===l?.5:l;r.bin&&e.push({type:"formula",expr:"".concat(f,"*")+Oa(r,{expr:"datum"})+"+".concat(1-f,"*")+Oa(r,{expr:"datum",binSuffix:"end"}),as:Oa(r,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:i,groupby:[].concat(p(a),p(n)),key:Oa(r,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[].concat(p(this.getGroupbyFields()),p(n)),field:i,sort:o,as:s,offset:u}),e}},{key:"stack",get:function(){return this._stack}}],[{key:"makeFromTransform",value:function(e,n){var r=n.stack,i=n.groupby,a=n.as,o=n.offset,u=void 0===o?"zero":o,c=[],s=[];if(void 0!==n.sort){var l=!0,f=!1,d=void 0;try{for(var h,p=n.sort[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;c.push(v.field),s.push(we(v.order,"ascending"))}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}return new t(e,{stackField:r,groupby:i,offset:u,sort:{field:c,order:s},facetby:[],as:function(e){return k(e)&&e.every((function(e){return P(e)}))&&e.length>1}(a)?a:P(a)?[a,a+"_end"]:[n.stack+"_start",n.stack+"_end"]})}},{key:"makeFromEncoding",value:function(e,n){var r=n.stack,i=n.encoding;if(!r)return null;var a,o=r.groupbyChannel,u=r.fieldChannel,c=r.offset,s=r.impute;o&&(a=Na(i[o]));var l,f=function(e){return e.stack.stackBy.reduce((function(e,t){var n=Oa(t.fieldDef);return n&&e.push(n),e}),[])}(n),d=n.encoding.order;return l=k(d)||ca(d)?ro(d):f.reduce((function(e,t){return e.field.push(t),e.order.push("y"===u?"descending":"ascending"),e}),{field:[],order:[]}),new t(e,{dimensionFieldDef:a,stackField:n.vgField(u),facetby:[],stackby:f,sort:l,offset:c,impute:s,as:[n.vgField(u,{suffix:"start",forAs:!0}),n.vgField(u,{suffix:"end",forAs:!0})]})}}]),t}(rs),kd=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=te(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:Oa(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=[],a=!0,o=!1,u=void 0;try{for(var c,s=this.transform.window[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;n.push(l.op),r.push(this.getDefaultName(l)),i.push(void 0===l.param?null:l.param),t.push(void 0===l.field?null:l.field)}}catch(k){o=!0,u=k}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}var f=this.transform.frame,d=this.transform.groupby;if(f&&null===f[0]&&null===f[1]&&n.every((function(e){return st(e)})))return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==d?{groupby:d}:{});var h=[],p=[];if(void 0!==this.transform.sort){var v=!0,g=!1,m=void 0;try{for(var y,b=this.transform.sort[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value;h.push(x.field),p.push(null!==(e=x.order)&&void 0!==e?e:"ascending")}}catch(k){g=!0,m=k}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}}var w={field:h,order:p},O=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:i,as:r,ops:n,fields:t,sort:w},void 0!==O?{ignorePeers:O}:{}),void 0!==d?{groupby:d}:{}),void 0!==f?{frame:f}:{})}}]),t}(rs),jd=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),d(t,[{key:"run",value:function(e){var t=e.parent;if(e instanceof bd){if(cd(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof bd)this.setMutated(),t.merge(e);else{if(ie(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}]),t}(ld),_d=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),d(t,[{key:"mergeNodes",value:function(e,t){var n=t.shift(),r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;e.removeChild(c),c.parent=n,c.remove()}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var i=!0,a=!1,o=void 0;try{for(var u,c=oe(n)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;n[s].length>1&&(this.setMutated(),this.mergeNodes(e,n[s]))}}catch(g){a=!0,o=g}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var l=!0,f=!1,d=void 0;try{for(var h,p=e.children[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;this.run(v)}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}return this.mutatedFlag}}]),t}(fd),Sd=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),d(t,[{key:"run",value:function(e){return e instanceof is||e.numChildren()>0||e instanceof pd?this.flags:(this.setMutated(),e.remove(),this.flags)}}]),t}(ld),Ed=function(e){function t(){var e;return f(this,t),(e=a(this,o(t).apply(this,arguments))).fields=new Set,e.prev=null,e}return c(t,e),d(t,[{key:"run",value:function(e){if(this.setContinue(),e instanceof as){var t=e.producedFields();ne(t,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([].concat(p(this.fields),p(t))),this.prev=e}return this.flags}},{key:"reset",value:function(){this.fields.clear()}}]),t}(ld),Ad=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),d(t,[{key:"run",value:function(e){this.setContinue();var t=e.parent.children.filter((function(e){return e instanceof as})),n=t.pop(),r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;this.setMutated(),n.merge(c)}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return this.flags}}]),t}(ld);function Cd(e){if(e instanceof pd)if(1!==e.numChildren()||e.children[0]instanceof is){var t=e.model.component.data.main;!function e(t){if(t instanceof is&&t.type===Vu.Main&&1===t.numChildren()){var n=t.children[0];n instanceof pd||(n.swapWithParent(),e(t))}}(t);var n=(l=e,function e(t){if(!(t instanceof pd)){var n=t.clone();if(n instanceof is){var r=Bd+n.getSource();n.setSource(r),l.model.component.data.outputNodes[r]=n}else(n instanceof hd||n instanceof Od||n instanceof kd||n instanceof wd)&&n.addDimensions(l.fields);var i=!0,a=!1,o=void 0;try{for(var u,c=t.children.flatMap(e)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)u.value.parent=n}catch(s){a=!0,o=s}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return[n]}return t.children.flatMap(e)}),r=e.children.map(n).flat(),i=!0,a=!1,o=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)u.value.parent=t}catch(f){a=!0,o=f}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}else{var s=e.children[0];(s instanceof hd||s instanceof Od||s instanceof kd||s instanceof wd)&&s.addDimensions(e.fields),s.swapWithParent(),Cd(e)}else e.children.map(Cd);var l}var Dd=function(e){function t(){return f(this,t),a(this,o(t).call(this))}return c(t,e),d(t,[{key:"run",value:function(e){e instanceof is&&!e.isRequired()&&(this.setMutated(),e.remove());var t=!0,n=!1,r=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.run(o)}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return this.mutatedFlag}}]),t}(fd),Fd=function(e){function t(e){var n;return f(this,t),(n=a(this,o(t).call(this))).requiresSelectionId=e&&$s(e),n}return c(t,e),d(t,[{key:"run",value:function(e){e instanceof xd&&(this.requiresSelectionId&&(cd(e.parent)||e.parent instanceof hd||e.parent instanceof bd)||(this.setMutated(),e.remove()));var t=!0,n=!1,r=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.run(o)}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return this.mutatedFlag}}]),t}(fd),Td=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),d(t,[{key:"run",value:function(e){var t=e.parent,n=p(t.children),r=t.children.filter((function(e){return e instanceof bd}));if(t.numChildren()>1&&r.length>=1){var i={},a=new Set,o=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value.parse,d=!0,h=!1,v=void 0;try{for(var g,m=oe(f)[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var y=g.value;y in i?i[y]!==f[y]&&a.add(y):i[y]=f[y]}}catch(R){h=!0,v=R}finally{try{d||null==m.return||m.return()}finally{if(h)throw v}}}}catch(R){u=!0,c=R}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}var b=!0,x=!1,w=void 0;try{for(var O,k=a[Symbol.iterator]();!(b=(O=k.next()).done);b=!0)delete i[O.value]}catch(R){x=!0,w=R}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}if(!ae(i)){this.setMutated();var j=new bd(t,i),_=!0,S=!1,E=void 0;try{for(var A,C=n[Symbol.iterator]();!(_=(A=C.next()).done);_=!0){var D=A.value;if(D instanceof bd){var F=!0,T=!1,M=void 0;try{for(var P,N=oe(i)[Symbol.iterator]();!(F=(P=N.next()).done);F=!0){var B=P.value;delete D.parse[B]}}catch(R){T=!0,M=R}finally{try{F||null==N.return||N.return()}finally{if(T)throw M}}}t.removeChild(D),D.parent=j,D instanceof bd&&0===oe(D.parse).length&&D.remove()}}catch(R){S=!0,E=R}finally{try{_||null==C.return||C.return()}finally{if(S)throw E}}}}return this.setContinue(),this.flags}}]),t}(ld),Md=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),d(t,[{key:"run",value:function(e){var t=e.parent,n=t.children.filter((function(e){return e instanceof hd})),r={},i=!0,a=!1,o=void 0;try{for(var u,c=n[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=Y(s.groupBy);l in r||(r[l]=[]),r[l].push(s)}}catch(j){a=!0,o=j}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var f=!0,d=!1,h=void 0;try{for(var p,v=oe(r)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=r[p.value];if(g.length>1){var m=g.pop(),y=!0,b=!1,x=void 0;try{for(var w,O=g[Symbol.iterator]();!(y=(w=O.next()).done);y=!0){var k=w.value;m.merge(k)&&(t.removeChild(k),k.parent=m,k.remove(),this.setMutated())}}catch(j){b=!0,x=j}finally{try{y||null==O.return||O.return()}finally{if(b)throw x}}}}}catch(j){d=!0,h=j}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}return this.setContinue(),this.flags}}]),t}(ld),Pd=function(e){function t(e){var n;return f(this,t),(n=a(this,o(t).call(this))).model=e,n}return c(t,e),d(t,[{key:"run",value:function(e){var t=e.parent,n=!(cd(t)||t instanceof Ll||t instanceof bd||t instanceof xd),r=[],i=[],a=!0,o=!1,u=void 0;try{for(var c,s=t.children[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;l instanceof id&&(n&&!ie(t.producedFields(),l.dependentFields())?r.push(l):i.push(l))}}catch(_){o=!0,u=_}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}if(r.length>0){var f=r.pop(),d=!0,h=!1,p=void 0;try{for(var v,g=r[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value;f.merge(m,this.model.renameSignal.bind(this.model))}}catch(_){h=!0,p=_}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}this.setMutated(),t instanceof id?t.merge(f,this.model.renameSignal.bind(this.model)):f.swapWithParent()}if(i.length>1){var y=i.pop(),b=!0,x=!1,w=void 0;try{for(var O,k=i[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var j=O.value;y.merge(j,this.model.renameSignal.bind(this.model))}}catch(_){x=!0,w=_}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}this.setMutated()}return this.setContinue(),this.flags}}]),t}(ld),Nd=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),d(t,[{key:"run",value:function(e){var t=e.parent,n=p(t.children);if(!Z(n,(function(e){return e instanceof is}))||t.numChildren()<=1)return this.setContinue(),this.flags;var r,i=[],a=!0,o=!1,u=void 0;try{for(var c,s=n[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;if(l instanceof is){for(var f=l;1===f.numChildren();){var d=h(f.children,1)[0];if(!(d instanceof is))break;f=d}i.push.apply(i,p(f.children)),r?(t.removeChild(l),l.parent=r.parent,r.parent.removeChild(r),r.parent=f,this.setMutated()):r=f}else i.push(l)}}catch(w){o=!0,u=w}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}if(i.length){this.setMutated();var v=!0,g=!1,m=void 0;try{for(var y,b=i[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value;x.parent.removeChild(x),x.parent=r}}catch(w){g=!0,m=w}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}}return this.setContinue(),this.flags}}]),t}(ld),Bd="scale_";function Rd(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=!0,c=!1,s=void 0;try{for(var l,f=o.children[Symbol.iterator]();!(u=(l=f.next()).done);u=!0)if(l.value.parent!==o)return!1}catch(d){c=!0,s=d}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}if(!Rd(o.children))return!1}}catch(d){n=!0,r=d}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!0}function zd(e){var t=[];function n(e){if(0===e.numChildren())t.push(e);else{var r=!0,i=!1,a=void 0;try{for(var o,u=e.children[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)n(o.value)}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}}var r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)n(o.value)}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return t}function Ld(e){return e}function Id(e,t){return t.map((function(t){if(e instanceof ld){var n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)})).some(Ld)}function Ud(e,t,n){var r=e.sources,i=new Set;return i.add(Id(new Dd,r)),i.add(Id(new Fd(t),r)),r=r.filter((function(e){return e.numChildren()>0})),i.add(Id(new Sd,zd(r))),r=r.filter((function(e){return e.numChildren()>0})),n||(i.add(Id(new jd,zd(r))),i.add(Id(new Pd(t),zd(r))),i.add(Id(new Ed,zd(r))),i.add(Id(new Td,zd(r))),i.add(Id(new Md,zd(r))),i.add(Id(new Ad,zd(r))),i.add(Id(new _d,r)),i.add(Id(new Nd,zd(r)))),e.sources=r,i.has(!0)}function qd(e,t){Rd(e.sources);for(var n=0,r=0,i=0;i<5&&Ud(e,t,!0);i++)n++;e.sources.map(Cd);for(var a=0;a<5&&Ud(e,t,!1);a++)r++;Rd(e.sources),5===Math.max(n,r)&&er("Maximum optimization runs(".concat(5,") reached."))}var $d=function(){function e(t){f(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return d(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}();function Hd(e){yh(e)?function(e){var t=e.component.scales,n=!0,r=!1,i=void 0;try{for(var a,o=oe(t)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=Wd(e,u);if(t[u].setWithExplicit("domains",c),Yd(e,u),e.component.data.isFaceted){for(var s=e;!bh(s)&&s.parent;)s=s.parent;if("shared"===s.component.resolve.scale[u]){var l=!0,f=!1,d=void 0;try{for(var h,p=c.value[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;Or(v)&&(v.data=Bd+v.data.replace(Bd,""))}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}}}catch(g){r=!0,i=g}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}(e):function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)Hd(i.value)}catch(O){n=!0,r=O}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var o=e.component.scales,u=!0,c=!1,s=void 0;try{for(var l,f=oe(o)[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=void 0,p=null,v=!0,g=!1,m=void 0;try{for(var y,b=e.children[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value.component.scales[d];if(x){h=void 0===h?x.getWithExplicit("domains"):Ku(h,x.getWithExplicit("domains"),"domains","scale",Xd);var w=x.get("selectionExtent");p&&w&&p.selection!==w.selection&&er("The same selection must be used to override scale domains in a layered view."),p=w}}}catch(O){g=!0,m=O}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}o[d].setWithExplicit("domains",h),p&&o[d].set("selectionExtent",p,!0)}}catch(O){c=!0,s=O}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}(e)}function Wd(e,t){var n=e.getScaleComponent(t).get("type"),r=e.encoding,i=function(e,t,n,r){if("unaggregated"===e){var i=Jd(t,n),a=i.valid,o=i.reason;if(!a)return void er(o)}else if(void 0===e&&r.useUnaggregatedDomain&&Jd(t,n).valid)return"unaggregated";return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),"x"===t&&Ba(r.x2)?Ba(r.x)?Ku(Kd(n,i,e,"x"),Kd(n,i,e,"x2"),"domain","scale",Xd):Kd(n,i,e,"x2"):"y"===t&&Ba(r.y2)?Ba(r.y)?Ku(Kd(n,i,e,"y"),Kd(n,i,e,"y2"),"domain","scale",Xd):Kd(n,i,e,"y2"):Kd(n,i,e,t)}function Gd(e,t,n){var r,i=null===(r=yr(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map((function(e){var r=Ha(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(e,t,i):[e]}function Kd(e,t,n,r){var i=Ba(n.encoding[r]),a=i.type,o=i.timeUnit;if(function(e){return e&&e.unionWith}(t)){var u=Kd(e,void 0,n,r),c=Gd(t.unionWith,a,o);return $u([].concat(p(u.value),p(c)))}if(xr(t))return $u([t]);if(t&&"unaggregated"!==t&&!ki(t))return $u(Gd(t,a,o));var s=n.stack;if(s&&r===s.fieldChannel){if("normalize"===s.offset)return Hu([[0,1]]);var l=n.requestDataName(Vu.Main);return Hu([{data:l,field:n.vgField(r,{suffix:"start"})},{data:l,field:n.vgField(r,{suffix:"end"})}])}var f=on(r)&&ca(i)?function(e,t,n){if(bi(n)){var r=e.fieldDef(t),i=r.sort;if(Xi(i))return{op:"min",field:cf(r,t),order:"ascending"};var a=e.stack,o=a?[].concat(p(a.groupbyField?[a.groupbyField]:[]),p(a.stackBy.map((function(e){return e.fieldDef.field})))):void 0;if(Ji(i)){var u=a&&!X(o,i.field);return Vd(i,u)}if(Yi(i)){var c=i.encoding,s=i.order,l=e.fieldDef(c),f=l.aggregate,d=l.field,h=a&&!X(o,d);if(ut(f)||ct(f))return Vd({field:Oa(l),order:s},h);if(st(f)||!f)return Vd({op:f,field:d,order:s},h)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(X(["ascending",void 0],i))return!0}}}(n,r,e):void 0;if(la(i))return Hu(Gd([i.datum],a,o));var d=i;if("unaggregated"===t){var h=n.requestDataName(Vu.Main),v=i.field;return Hu([{data:h,field:Oa({field:v,aggregate:"min"})},{data:h,field:Oa({field:v,aggregate:"max"})}])}if(dn(d.bin)){if(bi(e))return Hu("bin-ordinal"===e?[]:[{data:se(f)?n.requestDataName(Vu.Main):n.requestDataName(Vu.Raw),field:n.vgField(r,Ga(d,r)?{binSuffix:"range"}:{}),sort:!0!==f&&j(f)?f:{field:n.vgField(r,{}),op:"min"}}]);var g=d.bin;if(dn(g)){var m=nd(n,d.field,g);return Hu([new $d((function(){var e=n.getSignalName(m);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return Hu([{data:n.requestDataName(Vu.Main),field:n.vgField(r,{})}])}if(d.timeUnit&&X(["time","utc"],e)&&ia(r,d,yh(n)?n.encoding[Wt(r)]:void 0,n.stack,n.markDef,n.config)){var y=n.requestDataName(Vu.Main);return Hu([{data:y,field:n.vgField(r)},{data:y,field:n.vgField(r,{suffix:"end"})}])}return Hu(f?[{data:se(f)?n.requestDataName(Vu.Main):n.requestDataName(Vu.Raw),field:n.vgField(r),sort:f}]:[{data:n.requestDataName(Vu.Main),field:n.vgField(r)}])}function Vd(e,t){var n=e.op,r=e.field,i=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":"min"},r?{field:me(r)}:{}),i?{order:i}:{})}function Yd(e,t){var n,r=e.component.scales[t],i=e.specifiedScales[t].domain,a=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,o=ki(i)&&i,u=pn(a)&&vn(a.extent)&&a.extent;(o||u)&&r.set("selectionExtent",null!==o&&void 0!==o?o:u,!0)}function Jd(e,t){var n=e.aggregate,r=e.type;return n?P(n)&&!ht[n]?{valid:!1,reason:zn(n)}:"quantitative"===r&&"log"===t?{valid:!1,reason:Ln(e)}:{valid:!0}:{valid:!1,reason:Rn(e)}}function Xd(e,t,n,r){return e.explicit&&t.explicit&&er(function(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(V(n)," and ").concat(V(r),"). Using the union of the two domains.")}(n,r,e.value,t.value)),{explicit:e.explicit,value:[].concat(p(e.value),p(t.value))}}function Zd(e){var t=te(e.map((function(e){return Or(e)?R(e,["sort"]):e})),Y),n=te(e.map((function(e){if(Or(e)){var t=e.sort;return void 0===t||se(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),Y);if(0!==t.length){if(1===t.length){var r=e[0];if(Or(r)&&n.length>0){var i=n[0];if(n.length>1)er(qn),i=!0;else if(j(i)&&"field"in i){var a=i.field;r.field===a&&(i=!i.order||{order:i.order})}return Object.assign(Object.assign({},r),{sort:i})}return r}var o,u=te(n.map((function(e){return se(e)||!("op"in e)||e.op in ot?e:(er(function(e){return"Dropping sort property ".concat(V(e),' as unioned domains only support boolean or op "count", "min", and "max".')}(e)),!0)})),Y);1===u.length?o=u[0]:u.length>1&&(er(qn),o=!0);var c=te(e.map((function(e){return Or(e)?e.data:null})),(function(e){return e}));return 1===c.length&&null!==c[0]?Object.assign({data:c[0],fields:t.map((function(e){return e.field}))},o?{sort:o}:{}):Object.assign({fields:t},o?{sort:o}:{})}}function Qd(e){if(Or(e)&&P(e.field))return e.field;if(function(e){return!k(e)&&"fields"in e&&!("data"in e)}(e)){var t,n=!0,r=!1,i=void 0;try{for(var a,o=e.fields[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(Or(u)&&P(u.field))if(t){if(t!==u.field)return er("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),t}else t=u.field}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return er("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect."),t}if(function(e){return!k(e)&&"fields"in e&&"data"in e}(e)){er("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.");var c=e.fields[0];return P(c)?c:void 0}}function eh(e,t){return Zd(e.component.scales[t].get("domains").map((function(t){return Or(t)&&(t.data=e.lookupDataSource(t.data)),t})))}function th(e){return wh(e)||xh(e)?e.children.reduce((function(e,t){return e.concat(th(t))}),nh(e)):nh(e)}function nh(e){return oe(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i,a=r.combine(),o=a.name,u=a.type,c=a.selectionExtent,s=(a.domains,a.range,a.reverse),l=R(a,["name","type","selectionExtent","domains","range","reverse"]),f=function(e,t,n,r){if(Xt(n)){if(wr(e))return{step:{signal:t+"_step"}}}else if(j(e)&&Or(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}(a.range,o,n,e);c&&(i=function(e,t){var n=t.selection;return{signal:Ul(e.getSelectionComponent(n,le(n)),t)}}(e,c));var d=eh(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:u},d?{domain:d}:{}),i?{domainRaw:i}:{}),{range:f}),void 0!==s?{reverse:s}:{}),l)),t}),[])}var rh=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,{},{name:e}))).merged=!1,r.setWithExplicit("type",n),r}return c(t,e),d(t,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||Z(this.get("domains"),(function(e){return k(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),t}(qu),ih=["range","scheme"];function ah(e){return"x"===e?"width":"y"===e?"height":void 0}function oh(e,t){var n=e.fieldDef(t);if(n&&n.bin&&dn(n.bin)){var r=nd(e,n.field,n.bin),i=ah(t),a=e.getName(i);return new $d((function(){var t=e.getSignalName(r),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(a)," / (").concat(n,")")}))}}function uh(e,t){var n=t.specifiedScales[e],r=t.size,i=t.getScaleComponent(e).get("type"),a=!0,o=!1,u=void 0;try{for(var c,s=ih[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;if(void 0!==n[l]){var f=Si(i,l),d=Ei(e,l);if(f)if(d)er(d);else switch(l){case"range":var h=n.range;if(k(h)){if(Xt(e))return $u(h.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),r=t.getSignalName.bind(t);return $d.fromName(r,n)}return e})))}else if(j(h))return $u({data:t.requestDataName(Vu.Main),field:h.field,sort:{op:"min",field:t.vgField(e)}});return $u(h);case"scheme":return $u(ch(n[l]))}else er(In(i,l,e))}}}catch(b){o=!0,u=b}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}if(e===gt||e===mt){var p=e===gt?"width":"height",v=r[p];if(Go(v)){if(bi(i))return $u({step:v.step});er(Un(p))}}var g=n.rangeMin,m=n.rangeMax,y=function(e,t){var n=t.size,r=t.config,i=t.mark,a=t.encoding,o=t.getSignalName.bind(t),u=Ba(a[e]).type,c=t.getScaleComponent(e).get("type"),s=t.specifiedScales[e],l=s.domain,f=s.domainMid;switch(e){case gt:case mt:if(X(["point","band"],c))if(e!==gt||n.width){if(e===mt&&!n.height){var d=Xo(r.view,"height");if(Go(d))return d}}else{var h=Xo(r.view,"width");if(Go(h))return h}var p=ah(e),v=t.getName(p);return e===mt&&xi(c)?[$d.fromName(o,v),0]:[0,$d.fromName(o,v)];case Et:var g=t.component.scales[e].get("zero"),m=function e(t,n,r){if(n)return xr(n)?{signal:"".concat(n.signal," ? 0 : ").concat(e(t,!1,r))}:0;switch(t){case"bar":case"tick":return r.scale.minBandSize;case"line":case"trail":case"rule":return r.scale.minStrokeWidth;case"text":return r.scale.minFontSize;case"point":case"square":case"circle":return r.scale.minSize}throw new Error(Pn("size",t))}(i,g,r),y=function(e,t,n,r){var i={x:oh(n,"x"),y:oh(n,"y")};switch(e){case"bar":case"tick":if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;var a=sh(t,i,r.view);return M(a)?a-1:new $d((function(){return"".concat(a.signal," - 1")}));case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":if(r.scale.maxSize)return r.scale.maxSize;var o=sh(t,i,r.view);return M(o)?Math.pow(.95*o,2):new $d((function(){return"pow(".concat(.95," * ").concat(o.signal,", 2)")}))}throw new Error(Pn("size",e))}(i,n,t,r);return Oi(c)?function(e,t,n){var r=function(){var r=Xa(t),i=Xa(e),a="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(a,", ").concat(a,")")};return xr(t)?new $d(r):{signal:r()}}(m,y,function(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&k(n)?n.length+1:(er(function(e){return"Domain for ".concat(e," is required for threshold scale.")}(r)),3)}}(c,r,l,e)):[m,y];case wt:return[0,2*Math.PI];case"angle":return[0,360];case xt:return[0,new $d((function(){var e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case"strokeWidth":return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case"strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case St:return"symbol";case kt:case jt:case _t:return"ordinal"===c?"nominal"===u?"category":"ordinal":void 0!==f?"diverging":"rect"===i||"geoshape"===i?"heatmap":"ramp";case"opacity":case"fillOpacity":case"strokeOpacity":return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(e))}(e,t);return(void 0!==g||void 0!==m)&&Si(i,"rangeMin")&&k(y)&&2===y.length?$u([null!==g&&void 0!==g?g:y[0],null!==m&&void 0!==m?m:y[1]]):Hu(y)}function ch(e){return function(e){return!P(e)&&!!e.name}(e)?Object.assign({scheme:e.name},K(e,["name"])):{scheme:e}}function sh(e,t,n){var r=Go(e.width)?e.width.step:Jo(n,"width"),i=Go(e.height)?e.height.step:Jo(n,"height");return t.x||t.y?new $d((function(){var e=[t.x?t.x.signal:r,t.y?t.y.signal:i];return"min(".concat(e.join(", "),")")})):Math.min(r,i)}function lh(e,t){yh(e)?function(e,t){var n=e.component.scales,r=e.config,i=e.encoding,a=e.markDef,o=e.specifiedScales,u=!0,c=!1,s=void 0;try{for(var l,f=oe(n)[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=o[d],p=n[d],v=e.getScaleComponent(d),g=Ba(i[d]),m=h[t],y=v.get("type"),b=v.get("padding"),x=v.get("paddingInner"),w=Si(y,t),O=Ei(d,t);if(void 0!==m&&(w?O&&er(O):er(In(y,t,d))),w&&void 0===O)if(void 0!==m){var k=g.timeUnit,j=g.type;switch(t){case"domainMax":case"domainMin":tr(h[t])||"temporal"===j||k?p.set(t,{signal:Ha(h[t],{type:j,timeUnit:k})},!0):p.set(t,h[t],!0);break;default:p.copyKeyFromObject(t,h)}}else{var _=t in fh?fh[t]({model:e,channel:d,fieldOrDatumDef:g,scaleType:y,scalePadding:b,scalePaddingInner:x,domain:h.domain,markDef:a,config:r}):r.scale[t];void 0!==_&&p.set(t,_,!1)}}}catch(S){c=!0,s=S}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}(e,t):hh(e,t)}var fh={bins:function(e){var t=e.model,n=e.fieldOrDatumDef;return ca(n)?function(e,t){var n=t.bin;if(dn(n)){var r=nd(e,t.field,n);return new $d((function(){return e.getSignalName(r)}))}if(hn(n)&&pn(n)&&void 0!==n.step)return{step:n.step}}(t,n):void 0},interpolate:function(e){return function(e,t){if(X([kt,jt,_t],e)&&"nominal"!==t)return"hcl"}(e.channel,e.fieldOrDatumDef.type)},nice:function(e){return function(e,t,n){var r;if(!((null===(r=Na(n))||void 0===r?void 0:r.bin)||X([ni,ri],e)))return t in Yt||void 0}(e.scaleType,e.channel,e.fieldOrDatumDef)},padding:function(e){var t=e.channel,n=e.scaleType,r=e.fieldOrDatumDef,i=e.markDef,a=e.config;return function(e,t,n,r,i,a){if(e in Yt){if(wi(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=i.type,u=i.orient;if("bar"===o&&(!ca(r)||!r.bin&&!r.timeUnit)&&("vertical"===u&&"x"===e||"horizontal"===u&&"y"===e))return a.continuousBandSize}if(t===ui)return n.pointPadding}}(t,n,a.scale,r,i,a.bar)},paddingInner:function(e){var t=e.scalePadding,n=e.channel,r=e.markDef,i=e.config;return function(e,t,n,r){if(void 0===e&&t in Yt){var i=r.bandPaddingInner,a=r.barBandPaddingInner,o=r.rectBandPaddingInner;return we(i,"bar"===n?a:o)}}(t,n,r.type,i.scale)},paddingOuter:function(e){var t=e.scalePadding,n=e.channel,r=e.scaleType,i=e.markDef,a=e.scalePaddingInner,o=e.config;return function(e,t,n,r,i,a){if(void 0===e)return t in Yt&&n===ci?we(a.bandPaddingOuter,xr(i)?{signal:"".concat(i.signal,"/2")}:i/2):void 0}(t,n,r,i.type,a,o.scale)},reverse:function(e){var t=e.fieldOrDatumDef,n=e.scaleType,r=e.channel,i=e.config;return function(e,t,n,r){return"x"===n&&void 0!==r.xReverse?xi(e)&&"descending"===t?xr(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse:!(!xi(e)||"descending"!==t)||void 0}(n,ca(t)?t.sort:void 0,r,i.scale)},zero:function(e){return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&xi(i)){if(k(n)){var a=n[0],o=n[n.length-1];if(a<=0&&o>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!Oi(i))return!0;if((!ca(t)||!t.bin)&&X([].concat(p(Jt),p(Qt)),e)){var u=r.orient;return!X(["bar","area","line","trail"],r.type)||!("horizontal"===u&&"y"===e||"vertical"===u&&"x"===e)}return!1}(e.channel,e.fieldOrDatumDef,e.domain,e.markDef,e.scaleType)}};function dh(e){yh(e)?function(e){var t=e.component.scales,n=!0,r=!1,i=void 0;try{for(var a,o=an[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=t[u];if(c){var s=uh(u,e);c.setWithExplicit("range",s)}}}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}(e):hh(e,"range")}function hh(e,t){var n=e.component.scales,r=!0,i=!1,a=void 0;try{for(var o,u=e.children[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;"range"===t?dh(c):lh(c,t)}}catch(O){i=!0,a=O}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}var s=!0,l=!1,f=void 0;try{for(var d,h=oe(n)[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value,v=void 0,g=!0,m=!1,y=void 0;try{for(var b,x=e.children[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value.component.scales[p];w&&(v=Ku(v,w.getWithExplicit(t),t,"scale",Wu((function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))))}}catch(O){m=!0,y=O}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}n[p].setWithExplicit(t,v)}}catch(O){l=!0,f=O}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}function ph(e,t,n,r){var i,a,o=function(e,t,n){var r;switch(t.type){case"nominal":case"ordinal":if(Mt(e)||"discrete"===ln(e))return"shape"===e&&"ordinal"===t.type&&er(Bn(e,"ordinal")),"ordinal";if(e in Yt){if(X(["rect","bar","image","rule"],n))return"band"}else if("arc"===n&&e in Zt)return"band";return void 0!==t.band||ma(t)&&(null===(r=t.axis)||void 0===r?void 0:r.tickBand)?"band":"point";case"temporal":return Mt(e)?"time":"discrete"===ln(e)?(er(Bn(e,"temporal")),"ordinal"):ca(t)&&t.timeUnit&&yr(t.timeUnit).utc?"utc":"time";case"quantitative":return Mt(e)?ca(t)&&dn(t.bin)?"bin-ordinal":"linear":"discrete"===ln(e)?(er(Bn(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Cn(t.type))}(t,n,r),u=e.type;return on(t)?void 0!==u?function(e,t){if(!on(e))return!1;switch(e){case gt:case mt:case wt:case xt:return wi(t)||X(["band","point"],t);case Et:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case"angle":return wi(t)||Oi(t)||X(["band","point","ordinal"],t);case kt:case jt:case _t:return"band"!==t;case"strokeDash":return"ordinal"===t||Oi(t);case St:return"ordinal"===t}}(t,u)?!ca(n)||(i=u,a=n.type,X([Gr,Vr],a)?void 0===i||bi(i):a===Kr?X([ni,ri,void 0],i):a!==Wr||X([Zr,Qr,ei,ti,ii,ai,oi,Xr,void 0],i))?u:(er(function(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}(u,o)),o):(er(function(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}(t,u,o)),o):o:null}function vh(e){yh(e)?e.component.scales=function(e){var t=e.encoding,n=e.mark;return an.reduce((function(r,i){var a=Ba(t[i]);if(a&&n===Ke&&i===St&&a.type===Yr)return r;var o=a&&a.scale;if(a&&null!==o&&!1!==o){var u=ph(o=null!==o&&void 0!==o?o:{},i,a,n);r[i]=new rh(e.scaleName(i+"",!0),{value:u,explicit:o.type===u})}return r}),{})}(e):e.component.scales=function(e){var t,n=e.component.scales={},r={},i=e.component.resolve,a=!0,o=!1,u=void 0;try{for(var c,s=e.children[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;vh(l);var f=!0,d=!1,h=void 0;try{for(var p,v=oe(l.component.scales)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;if(i.scale[g]=null!==(t=i.scale[g])&&void 0!==t?t:Df(g,e),"shared"===i.scale[g]){var m=r[g],y=l.component.scales[g].getWithExplicit("type");m?li(m.value,y.value)?r[g]=Ku(m,y,"type","scale",gh):(i.scale[g]="independent",delete r[g]):r[g]=y}}}catch(P){d=!0,h=P}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}}catch(P){o=!0,u=P}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}var b=!0,x=!1,w=void 0;try{for(var O,k=oe(r)[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var j=O.value,_=e.scaleName(j,!0),S=r[j];n[j]=new rh(_,S);var E=!0,A=!1,C=void 0;try{for(var D,F=e.children[Symbol.iterator]();!(E=(D=F.next()).done);E=!0){var T=D.value,M=T.component.scales[j];M&&(T.renameScale(M.get("name"),_),M.merged=!0)}}catch(P){A=!0,C=P}finally{try{E||null==F.return||F.return()}finally{if(A)throw C}}}}catch(P){x=!0,w=P}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}return n}(e)}var gh=Wu((function(e,t){return di(e)-di(t)})),mh=function(){function e(){f(this,e),this.nameMap={}}return d(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function yh(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function bh(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function xh(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function wh(e){return"layer"===(null===e||void 0===e?void 0:e.type)}var Oh=function(){function e(t,n,r,i,a,o,u){var c,s,l=this;f(this,e),this.type=n,this.parent=r,this.config=a,this.view=u,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=l.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=l.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=a,this.name=null!==(c=t.name)&&void 0!==c?c:i,this.title=Va(t.title)?{text:t.title}:t.title,this.scaleNameMap=r?r.scaleNameMap:new mh,this.projectionNameMap=r?r.projectionNameMap:new mh,this.signalNameMap=r?r.signalNameMap:new mh,this.data=t.data,this.description=t.description,this.transforms=(null!==(s=t.transform)&&void 0!==s?s:[]).map((function(e){return rc(e)?{filter:$(e.filter,Lr)}:e})),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var r,i,a=n[t],o={},u=a.spacing,c=a.columns;void 0!==u&&(o.spacing=u),void 0!==c&&(ea(e)&&!Zi(e.facet)||$o(e))&&(o.columns=c),Ho(e)&&(o.columns=1);var s=!0,l=!1,f=void 0;try{for(var d,h=Vo[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;if(void 0!==e[p])if("spacing"===p){var v=e[p];o[p]=M(v)?v:{row:null!==(r=v.row)&&void 0!==r?r:u,column:null!==(i=v.column)&&void 0!==i?i:u}}else o[p]=e[p]}}catch(g){l=!0,f=g}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}return o}(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:ea(t)||r&&r.component.data.isFaceted&&void 0===t.data},layoutSize:new qu,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?W(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return d(e,[{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreRange;vh(e),Hd(e);var r=!0,i=!1,a=void 0;try{for(var o,u=_i[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;lh(e,c)}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}n||dh(e)}(this)}},{key:"parseProjection",value:function(){ed(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){Hf(this)}},{key:"assembleGroupStyle",value:function(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}},{key:"assembleEncodeFromView",value:function(e){var t=R(e,["style"]),n={},r=!0,i=!1,a=void 0;try{for(var o,u=oe(t)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=t[c];void 0!==s&&(n[c]=Ya(s))}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}},{key:"assembleGroupEncodeEntry",value:function(e){var t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=Ya(this.description)),"unit"!==this.type&&"layer"!==this.type)?ae(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=R(e,["spacing"]),r=this.component,i=this.config,a=function(e,t){var n={},r=!0,i=!1,a=void 0;try{for(var o,u=Nt[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=e[c];if(null===s||void 0===s?void 0:s.facetFieldDef){var l=ff(["titleAnchor","titleOrient"],s.facetFieldDef,t,c),f=l.titleAnchor,d=sf(c,l.titleOrient),h=Of(f,d);void 0!==h&&(n[d]=h)}}}catch(p){i=!0,a=p}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return ae(n)?void 0:n}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),a?{titleBand:a}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e=this.component.layoutHeaders,t=[],n=!0,r=!1,i=void 0;try{for(var a,o=Nt[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;e[u].title&&t.push(pf(this,u))}}catch(p){r=!0,i=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var c=!0,s=!1,l=void 0;try{for(var f,d=df[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value;t=t.concat(mf(this,h))}}catch(p){s=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}return t}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,i=e.y,a=void 0===i?[]:i;return[].concat(p(r.map((function(e){return Wl(e,"grid",t)}))),p(a.map((function(e){return Wl(e,"grid",t)}))),p(r.map((function(e){return Wl(e,"main",t)}))),p(a.map((function(e){return Wl(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return Yf(this)}},{key:"assembleProjections",value:function(){return Jf(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},i=r.encoding,a=R(r,["encoding"]),o=Object.assign(Object.assign(Object.assign({},Ka(this.config.title).nonMark),a),i?{encode:{update:i}}:{});if(o.text)return X(["unit","layer"],this.type)?X(["middle",void 0],o.anchor)&&(o.frame=null!==(t=o.frame)&&void 0!==t?t:"group"):o.anchor=null!==(n=o.anchor)&&void 0!==n?n:"start",ae(o)?void 0:o}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||bh(this.parent)?th(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t}},{key:"getName",value:function(e){return le((this.name?this.name+"_":"")+e)}},{key:"getDataName",value:function(e){return this.getName(Vu[e].toLowerCase())}},{key:"requestDataName",value:function(e){var t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}},{key:"getSizeSignalRef",value:function(e){if(bh(this.parent)){var t=en(Af(e)),n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(bi(r)&&wr(i)){var a=n.get("name"),o=Qd(eh(this,t));return o?{signal:Ef(a,n,Oa({aggregate:"distinct",field:o},{expr:"datum"}))}:(er(wn(t)),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):It(e)&&on(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error('Cannot find a selection named "'.concat(t,'".'));return n}},{key:"hasAxisOrientSignalRef",value:function(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((function(e){return e.hasOrientSignalRef()})))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((function(e){return e.hasOrientSignalRef()})))}},{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}}]),e}(),kh=function(e){function t(){return f(this,t),a(this,o(t).apply(this,arguments))}return c(t,e),d(t,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return Oa(n,t)}},{key:"reduceFieldDef",value:function(e,t){return vo(this.getMapping(),(function(t,n,r){var i=Na(n);return i?e(t,i,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){po(this.getMapping(),(function(t,n){var r=Na(t);r&&e(r,n)}),t)}}]),t}(Oh),jh=function(e){function t(e,n){var r,i,u,c;f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r.transform=W(n);var s=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(u=s[0])&&void 0!==u?u:"value",null!==(c=s[1])&&void 0!==c?c:"density"],r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(p(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=R(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),t}(rs),_h=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).filter=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(oe(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(Y(this.filter))}},{key:"assemble",value:function(){var e=this,t=oe(this.filter).reduce((function(t,n){var r=e.filter[n],i=Oa(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(i,")")),t.push("isFinite(+".concat(i,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,n){var r=n.config,i=n.mark;if("filter"!==Qa("invalid",n.markDef,r))return null;var a=n.reduceFieldDef((function(e,t,r){var a=on(r)&&n.getScaleComponent(r);return a&&xi(a.get("type"))&&"count"!==t.aggregate&&!Ve(i)&&(e[t.field]=t),e}),{});return oe(a).length?new t(e,a):null}}]),t}(rs),Sh=function(e){function t(e,n){var r;f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r.transform=W(n);var i=r.transform,u=i.flatten,c=i.as,s=void 0===c?[]:c;return r.transform.as=u.map((function(e,t){var n;return null!==(n=s[t])&&void 0!==n?n:e})),r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(this.parent,W(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),t}(rs),Eh=function(e){function t(e,n){var r,i,u,c;f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r.transform=W(n);var s=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(u=s[0])&&void 0!==u?u:"key",null!==(c=s[1])&&void 0!==c?c:"value"],r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),t}(rs),Ah=function(e){function t(e,n,r,i){var u;return f(this,t),(u=a(this,o(t).call(this,e))).fields=n,u.geojson=r,u.signal=i,u}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(P);return new Set([].concat(p(this.geojson?[this.geojson]:[]),p(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(Y(this.fields))}},{key:"assemble",value:function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}],[{key:"parseAll",value:function(e,n){if(n.component.projection&&!n.component.projection.isFit)return e;for(var r=0,i=0,a=[["longitude","latitude"],["longitude2","latitude2"]];i<a.length;i++){var o=a[i].map((function(e){var t=Ba(n.encoding[e]);return ca(t)?t.field:la(t)?{expr:"".concat(t.datum)}:va(t)?{expr:"".concat(t.value)}:void 0}));(o[0]||o[1])&&(e=new t(e,o,null,n.getName("geojson_".concat(r++))))}if(n.channelHasField(St)){var u=n.typedFieldDef(St);u.type===Yr&&(e=new t(e,null,u.field,n.getName("geojson_".concat(r++))))}return e}}]),t}(rs),Ch=function(e){function t(e,n,r,i){var u;return f(this,t),(u=a(this,o(t).call(this,e))).projection=n,u.fields=r,u.as=i,u}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,this.projection,W(this.fields),W(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(P))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(Y(this.fields)," ").concat(Y(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,n){if(!n.projectionName())return e;for(var r=0,i=[["longitude","latitude"],["longitude2","latitude2"]];r<i.length;r++){var a=i[r],o=a.map((function(e){var t=Ba(n.encoding[e]);return ca(t)?t.field:la(t)?{expr:"".concat(t.datum)}:va(t)?{expr:"".concat(t.value)}:void 0})),u="longitude2"===a[0]?"2":"";(o[0]||o[1])&&(e=new t(e,n.projectionName(),o,[n.getName("x"+u),n.getName("y"+u)]))}return e}}]),t}(rs),Dh=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(p(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,i=e.step,a=[n,r].concat(p(i?[i]:[])).join(",");return{signal:"sequence(".concat(a,")")}}},{key:"hash",value:function(){return"Impute ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e,t=this.transform,n=t.impute,r=t.key,i=t.keyvals,a=t.method,o=t.groupby,u=t.value,c=t.frame,s=void 0===c?[null,null]:c,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:r},i?{keyvals:(e=i,void 0!==(null===e||void 0===e?void 0:e.stop)?this.processSequence(i):i)}:{}),{method:"value"}),o?{groupby:o}:{}),{value:a&&"value"!==a?null:u});return a&&"value"!==a?[l,Object.assign({type:"window",as:["imputed_".concat(n,"_value")],ops:[a],fields:[n],frame:s,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum.".concat(n," === null ? datum.imputed_").concat(n,"_value : datum.").concat(n),as:n}]:[l]}}],[{key:"makeFromTransform",value:function(e,n){return new t(e,n)}},{key:"makeFromEncoding",value:function(e,n){var r=n.encoding,i=r.x,a=r.y;if(ca(i)&&ca(a)){var o=i.impute?i:a.impute?a:void 0;if(void 0===o)return;var u=i.impute?a:a.impute?i:void 0,c=o.impute,s=c.method,l=c.value,f=c.frame,d=c.keyvals,h=go(n.mark,r);return new t(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:u.field},s?{method:s}:{}),void 0!==l?{value:l}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),t}(rs),Fh=function(e){function t(e,n){var r,i,u,c;f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r.transform=W(n);var s=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(u=s[0])&&void 0!==u?u:n.on,null!==(c=s[1])&&void 0!==c?c:n.loess],r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(p(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=R(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),t}(rs),Th=function(e){function t(e,n,r){var i;return f(this,t),(i=a(this,o(t).call(this,e))).transform=n,i.secondary=r,i}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?C(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(Y({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:C(this.transform.as)}:{});else{var t=this.transform.as;P(t)||(er('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,n,r,i){var a=n.component.data.sources,o=r.from,u=null;if(function(e){return"data"in e}(o)){var c=Vh(o.data,a);c||(c=new ad(o.data),a.push(c));var s=n.getName("lookup_".concat(i));u=new is(c,s,Vu.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[s]=u}else if(function(e){return"selection"in e}(o)){var l=o.selection;if(r=Object.assign({as:l},r),!(u=n.getSelectionComponent(le(l),l).materialized))throw new Error('Cannot define and lookup the "'.concat(l,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?")}return new t(e,r,u.getSource())}}]),t}(rs),Mh=function(e){function t(e,n){var r,i,u,c;f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r.transform=W(n);var s=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(u=s[0])&&void 0!==u?u:"prob",null!==(c=s[1])&&void 0!==c?c:"value"],r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(p(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=R(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),t}(rs),Ph=function(e){function t(e,n){var r,i,u,c;f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r.transform=W(n);var s=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(u=s[0])&&void 0!==u?u:n.on,null!==(c=s[1])&&void 0!==c?c:n.regression],r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(p(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=R(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),t}(rs),Nh=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=te((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(p(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,i=e.limit,a=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==i?{limit:i}:{}),void 0!==a?{op:a}:{}),void 0!==r?{groupby:r}:{})}}]),t}(rs),Bh=function(e){function t(e,n){var r;return f(this,t),(r=a(this,o(t).call(this,e))).transform=n,r}return c(t,e),d(t,[{key:"clone",value:function(){return new t(null,W(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(Y(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),t}(rs);function Rh(e){var t=0;return function n(r,i){var a,o,u;if(r instanceof ad&&(r.isGenerator||Ju(r.data)||(e.push(i),i={name:null,source:i.name,transform:[]})),r instanceof bd&&(r.parent instanceof ad&&!i.source?(i.format=Object.assign(Object.assign({},null!==(a=i.format)&&void 0!==a?a:{}),{parse:r.assembleFormatParse()}),(o=i.transform).push.apply(o,p(r.assembleTransforms(!0)))):(u=i.transform).push.apply(u,p(r.assembleTransforms()))),r instanceof pd){i.name||(i.name="data_".concat(t++)),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source;var c=!0,s=!1,l=void 0;try{for(var f,d=r.assemble()[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value;e.push(h)}}catch(O){s=!0,l=O}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}}else{var v;switch((r instanceof od||r instanceof ud||r instanceof _h||r instanceof Ll||r instanceof uf||r instanceof Ch||r instanceof Ah||r instanceof hd||r instanceof Th||r instanceof kd||r instanceof wd||r instanceof Eh||r instanceof Sh||r instanceof jh||r instanceof Fh||r instanceof Mh||r instanceof Ph||r instanceof xd||r instanceof Bh||r instanceof Nh)&&i.transform.push(r.assemble()),(r instanceof id||r instanceof as||r instanceof Dh||r instanceof Od)&&(v=i.transform).push.apply(v,p(r.assemble())),r instanceof is&&(i.source&&0===i.transform.length?r.setSource(i.source):r.parent instanceof is?r.setSource(i.name):(i.name||(i.name="data_".concat(t++)),r.setSource(i.name),1===r.numChildren()&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof is&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(t++));var g=i.name;!i.source||i.transform.length>0?e.push(i):g=i.source;var m=!0,y=!1,b=void 0;try{for(var x,w=r.children[Symbol.iterator]();!(m=(x=w.next()).done);m=!0)n(x.value,{name:null,source:g,transform:[]})}catch(O){y=!0,b=O}finally{try{m||null==w.return||w.return()}finally{if(y)throw b}}}}}}function zh(e,t){var n,r,i=[],a=Rh(i),o=0,u=!0,c=!1,s=void 0;try{for(var l,f=e.sources[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;d.hasName()||(d.dataName="source_".concat(o++));var p=d.assemble();a(d,p)}}catch(L){c=!0,s=L}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}for(var v=0,g=i;v<g.length;v++){var m=g[v];0===m.transform.length&&delete m.transform}var y=0,b=!0,x=!1,w=void 0;try{for(var O,k=i.entries()[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var j=h(O.value,2),_=j[0],S=j[1];0!==(null!==(n=S.transform)&&void 0!==n?n:[]).length||S.source||i.splice(y++,0,i.splice(_,1)[0])}}catch(L){x=!0,w=L}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}for(var E=0,A=i;E<A.length;E++){var C=A[E],D=!0,F=!1,T=void 0;try{for(var M,P=(null!==(r=C.transform)&&void 0!==r?r:[])[Symbol.iterator]();!(D=(M=P.next()).done);D=!0){var N=M.value;"lookup"===N.type&&(N.from=e.outputNodes[N.from].getSource())}}catch(L){F=!0,T=L}finally{try{D||null==P.return||P.return()}finally{if(F)throw T}}}for(var B=0,R=i;B<R.length;B++){var z=R[B];z.name in t&&(z.values=t[z.name])}return i}function Lh(e){return"top"===e||"left"===e||xr(e)?"header":"footer"}function Ih(e,t){var n,r=e.facet,i=e.config,a=e.child,o=e.component;if(e.channelHasField(t)){var u=r[t],c=lf("title",null,i,t),l=Da(u,i,{allowDisabling:!0,includeDefault:void 0===c||!!c});a.component.layoutHeaders[t].title&&(l=k(l)?l.join(", "):l,l+=" / "+a.component.layoutHeaders[t].title,a.component.layoutHeaders[t].title=null);var f=lf("labelOrient",u,i,t),d=we((null!==(n=u.header)&&void 0!==n?n:{}).labels,i.header.labels,!0),h=X(["bottom","right"],f)?"footer":"header";o.layoutHeaders[t]=s({title:l,facetFieldDef:u},h,"facet"===t?[]:[Uh(e,t,d)])}}function Uh(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function qh(e,t){var n,r=e.child;if(r.component.axes[t]){var i=e.component,a=i.layoutHeaders,o=i.resolve;if(o.axis[t]=Ff(o,t),"shared"===o.axis[t]){var u="x"===t?"column":"row",c=a[u],s=!0,l=!1,f=void 0;try{for(var d,h=r.component.axes[t][Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value,v=Lh(p.get("orient"));c[v]=null!==(n=c[v])&&void 0!==n?n:[Uh(e,u,!1)];var g=Wl(p,"main",e.config,{header:!0});g&&c[v][0].axes.push(g),p.mainExtracted=!0}}catch(m){l=!0,f=m}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}}}function $h(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)i.value.parseLayoutSize()}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}function Hh(e,t){var n,r=Af(t),i=en(r),a=e.component.resolve,o=e.component.layoutSize,u=!0,c=!1,s=void 0;try{for(var l,f=e.children[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value.component.layoutSize.getWithExplicit(r),h=a.scale[i];if("independent"===h&&"step"===d.value){n=void 0;break}if(n){if("independent"===h&&n.value!==d.value){n=void 0;break}n=Ku(n,d,r,"")}else n=d}}catch(x){c=!0,s=x}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}if(n){var p=!0,v=!1,g=void 0;try{for(var m,y=e.children[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;e.renameSignal(b.getName(r),e.getName(t)),b.component.layoutSize.set(r,"merged",!1)}}catch(x){v=!0,g=x}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}o.setWithExplicit(t,n)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function Wh(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");if(bi(a)){var u=Xo(r.view,t);return wr(o)||Go(u)?"step":u}return Yo(r.view,t)}if(e.hasProjection||"arc"===e.mark)return Yo(r.view,t);var c=Xo(r.view,t);return Go(c)?c.step:c}function Gh(e,t,n){return Oa(t,Object.assign({suffix:"by_".concat(Oa(e))},null!==n&&void 0!==n?n:{}))}var Kh=function(e){function t(e,n,r,u){var c;return f(this,t),(c=a(this,o(t).call(this,e,"facet",n,r,u,e.resolve))).child=wp(e.spec,i(c),c.getName("child"),void 0,u),c.children=[c.child],c.facet=c.initFacet(e.facet,u),c}return c(t,e),d(t,[{key:"initFacet",value:function(e,t){return Zi(e)?vo(e,(function(e,n,r){return X([pt,vt],r)?void 0===n.field?(er(Mn(n,r)),e):(e[r]=Ra(n,r,t),e):(er(Pn(r,"facet")),e)}),{}):{facet:Ra(e,"facet",t)}}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=Jh(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){$h(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=Nt[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)Ih(e,i.value)}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}qh(e,"x"),qh(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r={},i=!0,a=!1,o=void 0;try{for(var u,c=Nt[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=!0,f=!1,d=void 0;try{for(var h,p=hf[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value,g=this.component.layoutHeaders[s],m=g[v],y=g.facetFieldDef;if(y){var b=lf("titleOrient",y,this.config,s);if(X(["right","bottom"],b)){var x=sf(s,b);r.titleAnchor=null!==(e=r.titleAnchor)&&void 0!==e?e:{},r.titleAnchor[x]="end"}}if(null===m||void 0===m?void 0:m[0]){var w="row"===s?"height":"width",O="header"===v?"headerBand":"footerBand";"facet"===s||this.child.component.layoutSize.get(w)||(r[O]=null!==(t=r[O])&&void 0!==t?t:{},r[O][s]=.5),g.title&&(r.offset=null!==(n=r.offset)&&void 0!==n?n:{},r.offset["row"===s?"rowTitle":"columnTitle"]=10)}}}catch(k){f=!0,d=k}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}catch(k){a=!0,o=k}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return r}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof t)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof t?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Oa(this.facet.column,{prefix:"distinct"})}}}}:{}),u(o(t.prototype),"assembleGroup",this).call(this,e)):u(o(t.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],n=[],r=[];if(this.child instanceof t){if(this.child.channelHasField("column")){var i=Oa(this.child.facet.column);e.push(i),n.push("distinct"),r.push("distinct_".concat(i))}}else{var a=!0,o=!1,u=void 0;try{for(var c,s=Jt[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value,f=this.child.component.scales[l];if(f&&!f.merged){var d=f.get("type"),h=f.get("range");if(bi(d)&&wr(h)){var p=Qd(eh(this.child,l));p?(e.push(p),n.push("distinct"),r.push("distinct_".concat(p))):er(wn(l))}}}}catch(v){o=!0,u=v}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}}return{fields:e,ops:n,as:r}}},{key:"assembleFacet",value:function(){var e=this.component.data.facetRoot,t=e.name,n=e.data,r=this.facet,i=r.row,a=r.column,o=this.getCardinalityAggregateForChild(),u=o.fields,c=o.ops,s=o.as,l=[],f=!0,d=!1,h=void 0;try{for(var p,v=Nt[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value,m=this.facet[g];if(m){l.push(Oa(m));var y=m.bin,b=m.sort;if(dn(y)&&l.push(Oa(m,{binSuffix:"end"})),Ji(b)){var x=b.field,w=b.op,O=void 0===w?"min":w,j=Gh(m,b);i&&a?(u.push(j),c.push("max"),s.push(j)):(u.push(x),c.push(O),s.push(j))}else if(k(b)){var _=cf(m,g);u.push(_),c.push("max"),s.push(_)}}}}catch(E){d=!0,h=E}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}var S=!!i&&!!a;return Object.assign({name:t,data:n,groupby:l},S||u.length>0?{aggregate:Object.assign(Object.assign({},S?{cross:S}:{}),u.length?{fields:u,ops:c,as:s}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?Ji(t.sort)?[Gh(t,t.sort,{expr:"datum"})]:k(t.sort)?[cf(t,e,{expr:"datum"})]:[Oa(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(Ji(n)?n.order:!k(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e=this.facet,t=this.config;if(e.facet)return bf(e.facet,"facet",t);var n={row:["top","bottom"],column:["left","right"]},r=!0,i=!1,a=void 0;try{for(var o,u=df[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;if(e[c]){var s=lf("labelOrient",e[c],t,c);if(X(n[c],s))return bf(e[c],c,t)}}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t=[],n=Rh(t),r=!0,i=!1,a=void 0;try{for(var o,u=e.children[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)n(o.value,{source:e.name,name:null,transform:[]})}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return t}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||t.assembleTitle(),a=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),a?{style:a}:{}),{from:{facet:this.assembleFacet()},sort:{field:Nt.map((function(t){return e.facetSortFields(t)})).flat(),order:Nt.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&oe(e.component.selection).length){var n=N(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:wc("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return ks(t)}(this,[])))]}},{key:"getMapping",value:function(){return this.facet}}]),t}(kh);function Vh(e,t){var n,r,i,a,o,u,c,s,l,f,d=!0,h=!1,p=void 0;try{for(var v,g=t[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,y=m.data;if((!e.name||!m.hasName()||e.name===m.dataName)&&!((null===(n=e.format)||void 0===n?void 0:n.mesh)&&(null===(r=y.format)||void 0===r?void 0:r.feature))&&(!((null===(i=e.format)||void 0===i?void 0:i.feature)||(null===(a=y.format)||void 0===a?void 0:a.feature))||(null===(o=e.format)||void 0===o?void 0:o.feature)===(null===(u=y.format)||void 0===u?void 0:u.feature))&&(!((null===(c=e.format)||void 0===c?void 0:c.mesh)||(null===(s=y.format)||void 0===s?void 0:s.mesh))||(null===(l=e.format)||void 0===l?void 0:l.mesh)===(null===(f=y.format)||void 0===f?void 0:f.mesh)))if(Xu(e)&&Xu(y)){if(H(e.values,y.values))return m}else if(Ju(e)&&Ju(y)){if(e.url===y.url)return m}else if(Zu(e)&&e.name===m.dataName)return m}}catch(b){h=!0,p=b}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}return null}function Yh(e,t){if(e.data||!e.parent){if(null===e.data){var n=new ad({values:[]});return t.push(n),n}var r=Vh(e.data,t);if(r)return Qu(e.data)||(r.data.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];ee(e,null!==o&&void 0!==o?o:{})}return e}({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var i=new ad(e.data);return t.push(i),i}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Jh(e){var t,n,r,i,a,o,u,c,l,f,d=Yh(e,e.component.data.sources),h=e.component.data,p=h.outputNodes,v=h.outputNodeRefCounts,g=e.parent?e.parent.component.data.ancestorParse.clone():new Yu,m=e.data;Qu(m)?(ec(m)?d=new ud(d,m.sequence):nc(m)&&(d=new od(d,m.graticule)),g.parseNothing=!0):null===(null===(t=null===m||void 0===m?void 0:m.format)||void 0===t?void 0:t.parse)&&(g.parseNothing=!0),d=null!==(n=bd.makeExplicit(d,e,g))&&void 0!==n?n:d,d=new xd(d);var y=e.parent&&wh(e.parent);(yh(e)||bh(e))&&y&&(d=null!==(r=id.makeFromEncoding(d,e))&&void 0!==r?r:d),e.transforms.length>0&&(d=function(e,t,n){var r,i,a=0,o=!0,u=!1,c=void 0;try{for(var l,f=t.transforms[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var d=l.value,h=void 0,p=void 0;if(pc(d))p=e=new uf(e,d),h="derived";else if(rc(d)){var v=md(d);p=e=null!==(r=bd.makeWithAncestors(e,{},v,n))&&void 0!==r?r:e,e=new Ll(e,t,d.filter)}else if(vc(d))p=e=id.makeFromTransform(e,d,t),h="number";else if(mc(d))h="date",void 0===n.getWithExplicit(d.field).value&&(e=new bd(e,s({},d.field,h)),n.set(d.field,h,!1)),p=e=as.makeFromTransform(e,d);else if(yc(d))p=e=hd.makeFromTransform(e,d),h="number",$s(t)&&(e=new xd(e));else if(ic(d))p=e=Th.make(e,t,d,a++),h="derived";else if(fc(d))p=e=new kd(e,d),h="number";else if(dc(d))p=e=new wd(e,d),h="number";else if(bc(d))p=e=Od.makeFromTransform(e,d),h="derived";else if(xc(d))p=e=new Eh(e,d),h="derived";else if(hc(d))p=e=new Sh(e,d),h="derived";else if(ac(d))p=e=new Nh(e,d),h="derived";else if(lc(d))e=new Bh(e,d);else if(gc(d))p=e=Dh.makeFromTransform(e,d),h="derived";else if(oc(d))p=e=new jh(e,d),h="derived";else if(uc(d))p=e=new Mh(e,d),h="derived";else if(cc(d))p=e=new Ph(e,d),h="derived";else{if(!sc(d)){er("Ignoring an invalid transform: ".concat(V(d),"."));continue}p=e=new Fh(e,d),h="derived"}if(p&&void 0!==h){var g=!0,m=!1,y=void 0;try{for(var b,x=(null!==(i=p.producedFields())&&void 0!==i?i:[])[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value;n.set(w,h,!1)}}catch(O){m=!0,y=O}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}}}}catch(O){u=!0,c=O}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}return e}(d,e,g));var b=function(e){var t={};if(yh(e)&&e.component.selection){var n=!0,r=!1,i=void 0;try{for(var a,o=oe(e.component.selection)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=e.component.selection[u],s=!0,l=!1,f=void 0;try{for(var d,h=c.project.items[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;!p.channel&&xe(p.field)>1&&(t[p.field]="flatten")}}catch(v){l=!0,f=v}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}}catch(v){r=!0,i=v}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}return t}(e),x=yd(e);d=null!==(i=bd.makeWithAncestors(d,{},Object.assign(Object.assign({},b),x),g))&&void 0!==i?i:d,yh(e)&&(d=Ah.parseAll(d,e),d=Ch.parseAll(d,e)),(yh(e)||bh(e))&&(y||(d=null!==(a=id.makeFromEncoding(d,e))&&void 0!==a?a:d),d=null!==(o=as.makeFromEncoding(d,e))&&void 0!==o?o:d,d=uf.parseAllForSortIndex(d,e));var w=e.getDataName(Vu.Raw),O=new is(d,w,Vu.Raw,v);if(p[w]=O,d=O,yh(e)){var k=hd.makeFromEncoding(d,e);k&&(d=k,$s(e)&&(d=new xd(d))),d=null!==(u=Dh.makeFromEncoding(d,e))&&void 0!==u?u:d,d=null!==(c=Od.makeFromEncoding(d,e))&&void 0!==c?c:d}yh(e)&&(d=null!==(l=_h.make(d,e))&&void 0!==l?l:d);var j=e.getDataName(Vu.Main),_=new is(d,j,Vu.Main,v);p[j]=_,d=_,yh(e)&&function(e,t){Is(e,(function(n){var r=n.name,i=e.getName("lookup_".concat(r));e.component.data.outputNodes[i]=n.materialized=new is(new Ll(t,e,{selection:r}),i,Vu.Lookup,e.component.data.outputNodeRefCounts)}))}(e,_);var S=null;if(bh(e)){var E=e.getName("facet");d=null!==(f=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var i=null,a=0,o=[n,r];a<o.length;a++){var u=o[a];if(Ji(u.sort)){var c=u.sort,s=c.field,l=c.op;e=i=new wd(e,{joinaggregate:[{op:void 0===l?"min":l,field:s,as:Gh(u,u.sort,{forAs:!0})}],groupby:[Oa(u)]})}}return i}return null}(d,e.facet))&&void 0!==f?f:d,S=new pd(d,e,E,_.getSource()),p[E]=S}return Object.assign(Object.assign({},e.component.data),{outputNodes:p,outputNodeRefCounts:v,raw:O,main:_,facetRoot:S,ancestorParse:g})}var Xh=function(e){function t(e,n,r,u){var c,s,l,d,h;return f(this,t),c=a(this,o(t).call(this,e,"concat",n,r,u,e.resolve)),"shared"!==(null===(l=null===(s=e.resolve)||void 0===s?void 0:s.axis)||void 0===l?void 0:l.x)&&"shared"!==(null===(h=null===(d=e.resolve)||void 0===d?void 0:d.axis)||void 0===h?void 0:h.y)||er("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415)."),c.children=c.getChildren(e).map((function(e,t){return wp(e,i(c),c.getName("concat_"+t),void 0,u)})),c}return c(t,e),d(t,[{key:"parseData",value:function(){this.component.data=Jh(this);var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.parseData()}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseSelections",value:function(){this.component.selection={};var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a.parseSelections();var o=!0,u=!1,c=void 0;try{for(var s,l=oe(a.component.selection)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;this.component.selection[f]=a.component.selection[f]}}catch(d){u=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}}catch(d){t=!0,n=d}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseMarkGroup",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.parseMarkGroup()}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseAxesAndHeaders",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.parseAxesAndHeaders()}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"getChildren",value:function(e){return Ho(e)?e.vconcat:Wo(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){!function(e){$h(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";Hh(e,t),Hh(e,n)}(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e=jf(this),t=!0,n=!1,r=void 0;try{for(var i,a=this.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e.push.apply(e,p(o.assembleLayoutSignals()))}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),t}(Oh),Zh=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},De),{labelExpr:1,encode:1}),Qh=oe(Zh),ep=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(this,t),(e=a(this,o(t).call(this))).explicit=n,e.implicit=r,e.mainExtracted=i,e}return c(t,e),d(t,[{key:"clone",value:function(){return new t(W(this.explicit),W(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}},{key:"hasOrientSignalRef",value:function(){return xr(this.explicit.orient)}}]),t}(qu),tp={bottom:"top",top:"bottom",left:"right",right:"left"};function np(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r],a=t[r];if(!!i!==!!a)return;if(i&&a){var o=i.getWithExplicit("orient"),u=a.getWithExplicit("orient");if(o.explicit&&u.explicit&&o.value!==u.value)return;e[r]=rp(i,a)}}return e}}function rp(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=function(){var n=a.value,r=Ku(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(function(e,t){switch(n){case"title":return oo(e,t);case"gridScale":return{explicit:e.explicit,value:we(e.value,t.value)}}return Gu(e,t,n,"axis")}));e.setWithExplicit(n,r)},u=Qh[Symbol.iterator]();!(n=(a=u.next()).done);n=!0)o()}catch(c){r=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return e}function ip(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(xr(n.labelAngle)?n.labelAngle:je(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===of(r,i))return!0}return e===n[t]}var ap=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function op(e,t){var n,r,i,a=t.axis(e),o=new ep,u=Ba(t.encoding[e]),c=t.mark,s=t.config,l=(null===a||void 0===a?void 0:a.orient)||(null===(n=s["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=s.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=Zl(e,f,l,t.config),h=void 0!==a?!a:ef("disable",s.style,null===a||void 0===a?void 0:a.style,d).configValue;if(o.set("disable",h,void 0!==a),h)return o;var p=function(e,t,n,r,i){var a=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==a)return xr(a)?a:je(a);var o=ef("labelAngle",r,null===t||void 0===t?void 0:t.style,i).configValue;return void 0!==o?je(o):n!==gt||!X([Vr,Gr],e.type)||ca(e)&&e.timeUnit?void 0:270}(u,a=a||{},e,s.style,d),v={fieldOrDatumDef:u,axis:a,channel:e,model:t,scaleType:f,orient:l,labelAngle:p,mark:c,config:s},g=!0,m=!1,y=void 0;try{for(var b,x=Qh[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value,O=w in tf?tf[w](v):Te(w)?a[w]:void 0,k=void 0!==O,j=ip(O,w,a,t,e);if(k&&j)o.set(w,O,j);else{var _=Te(w)&&"values"!==w?ef(w,s.style,a.style,d):{},S=_.configValue,E=void 0===S?void 0:S,A=_.configFrom,C=void 0===A?void 0:A,D=void 0!==E;k&&!D?o.set(w,O,j):("vgAxisConfig"!==C||ap.has(w)&&D||Ee(E)||xr(E))&&o.set(w,E,!1)}}}catch(M){m=!0,y=M}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}var F=null!==(i=a.encoding)&&void 0!==i?i:{},T=Ae.reduce((function(n,r){var i;if(!o.hasAxisPart(r))return n;var a=Cf(null!==(i=F[r])&&void 0!==i?i:{},t),u="labels"===r?function(e,t,n){var r,i=e.encoding,a=e.config,o=null!==(r=Ba(i[t]))&&void 0!==r?r:Ba(i[Wt(t)]),u=e.axis(t)||{},c=u.format,s=u.formatType;return Bi(s)?Object.assign({text:Ii({fieldOrDatumDef:o,field:"datum.value",format:c,formatType:s,config:a})},n):n}(t,e,a):a;return void 0===u||ae(u)||(n[r]={update:u}),n}),{});return ae(T)||o.set("encode",T,!!a.encoding||void 0!==a.labelAngle),o}function up(e){var t=e.encoding,n=e.size,r=!0,i=!1,a=void 0;try{for(var o,u=Jt[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=Gt(c);Go(n[s])&&fa(t[c])&&(delete n[s],er(Un(s)))}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}function cp(e,t,n){var r,i,a=Qa("orient",e,n);if(e.orient=function(e,t,n){switch(e){case Le:case We:case Ge:case qe:case Ie:case Re:return}var r=t.x,i=t.y,a=t.x2,o=t.y2;switch(e){case Be:if(ca(r)&&(hn(r.bin)||ca(i)&&i.aggregate&&!r.aggregate))return"vertical";if(ca(i)&&(hn(i.bin)||ca(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a&&(ca(r)&&r.type===Wr&&!dn(r.bin)||da(r)))return"horizontal";if(!o&&(ca(i)&&i.type===Wr&&!dn(i.bin)||da(i)))return"vertical"}case Ue:if(a&&(!ca(r)||!hn(r.bin))&&o&&(!ca(i)||!hn(i.bin)))return;case Ne:if(o)return ca(i)&&hn(i.bin)?"horizontal":"vertical";if(a)return ca(r)&&hn(r.bin)?"vertical":"horizontal";if(e===Ue){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case ze:case $e:var u=fa(r),c=fa(i);if(u&&!c)return"tick"!==e?"horizontal":"vertical";if(!u&&c)return"tick"!==e?"vertical":"horizontal";if(u&&c){var s=r,l=i,f=s.type===Kr,d=l.type===Kr;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!s.aggregate&&l.aggregate?"tick"!==e?"vertical":"horizontal":s.aggregate&&!l.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(e.type,t,a),void 0!==a&&a!==e.orient&&er((r=e.orient,i=a,'Specified orient "'.concat(r,'" overridden with "').concat(i,'".'))),"bar"===e.type&&e.orient){var o=Qa("cornerRadiusEnd",e,n);if(void 0!==o){var u="horizontal"===e.orient&&t.x2||"vertical"===e.orient&&t.y2?["cornerRadius"]:et[e.orient],c=!0,s=!1,l=void 0;try{for(var f,d=u[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)e[f.value]=o}catch(h){s=!0,l=h}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}void 0!==e.cornerRadiusEnd&&delete e.cornerRadiusEnd}}return void 0===Qa("opacity",e,n)&&(e.opacity=function(e,t){if(X([Le,$e,We,Ge],e)&&!co(t))return.7}(e.type,t)),void 0===Qa("cursor",e,n)&&(e.cursor=function(e,t,n){return t.href||e.href||Qa("href",e,n)?"pointer":e.cursor}(e,t,n)),e}function sp(e,t,n){if(n.graticule)return!1;var r=eo("filled",e,t),i=e.type;return we(r,i!==Le&&i!==ze&&i!==Ue)}function lp(e,t){return e.config,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Ic("x",e,{defaultPos:"mid"})),Ic("y",e,{defaultPos:"mid"})),Rc("size",e)),Rc("angle",e)),function(e,t,n){return n?{shape:{value:n}}:Rc("shape",e)}(e,0,t))}function fp(e){var t,n=e.config,r=e.markDef,i=r.orient,a="horizontal"===i?"width":"height",o=e.getScaleComponent("horizontal"===i?"x":"y"),u=null!==(t=Qa("size",r,n,{vgChannel:a}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==u)return u;var c=o?o.get("range"):void 0;return c&&wr(c)&&M(c.step)?3*c.step/4:3*Jo(n.view,a)/4}var dp={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Ic("x",e,{defaultPos:"mid"})),Ic("y",e,{defaultPos:"mid"})),Vc(e,"radius","arc")),Vc(e,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),Wc("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),Wc("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),es(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Vc(e,"x","bar")),Vc(e,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return lp(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&ca(t)&&t.type===Yr?{field:Oa(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),Vc(e,"x","image")),Vc(e,"y","image")),Fc(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Ic("x",e,{defaultPos:"mid"})),Ic("y",e,{defaultPos:"mid"})),Rc("size",e,{vgChannel:"strokeWidth"})),es(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return lp(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Vc(e,"x","rect")),Vc(e,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Wc("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),Wc("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),Rc("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(e){return lp(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;return e.encoding,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Ic("x",e,{defaultPos:"mid"})),Ic("y",e,{defaultPos:"mid"})),Fc(e)),Rc("size",e,{vgChannel:"fontSize"})),Rc("angle",e)),ts("align",function(e,t,n){if(void 0===Qa("align",e,n))return"center"}(e.markDef,0,t))),ts("baseline",function(e,t,n){if(void 0===Qa("baseline",e,n))return"middle"}(e.markDef,0,t))),Ic("radius",e,{defaultPos:null,isMidPoint:!0})),Ic("theta",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,i="horizontal"===r?"width":"height",a="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Ic("x",e,{defaultPos:"mid",vgChannel:"xc"})),Ic("y",e,{defaultPos:"mid",vgChannel:"yc"})),Rc("size",e,{defaultValue:fp(e),vgChannel:i})),s({},a,Ya(Qa("thickness",n,t))))}},trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zc(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Ic("x",e,{defaultPos:"mid"})),Ic("y",e,{defaultPos:"mid"})),Rc("size",e)),es(e))}}};function hp(e){if(X([ze,Ne,He],e.mark)){var t=go(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+e.requestDataName(Vu.Main),data:e.requestDataName(Vu.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:vp(e,{fromPrefix:"faceted_path_"})}]}(e,t)}else if(X([Be],e.mark)){var n=_r.some((function(t){return Qa(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&n)return function(e){var t,n,r=vp(e,{fromPrefix:"stack_group_"}),i=h(r,1)[0],a=e.scaleName(e.stack.fieldChannel),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},u=function(e,t){var n=[o({prefix:"min",suffix:"start",expr:t}),o({prefix:"max",suffix:"start",expr:t}),o({prefix:"min",suffix:"end",expr:t}),o({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(a,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(t=Object.assign(Object.assign({},G(i.encode.update,["y","yc","y2","height"].concat(_r))),{x:{signal:u("min","datum")},x2:{signal:u("max","datum")},clip:{value:!0}}),n={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},K(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(t=Object.assign(Object.assign({},G(i.encode.update,["x","xc","x2","width"])),{y:{signal:u("min","datum")},y2:{signal:u("max","datum")},clip:{value:!0}}),n={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},K(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var c=!0,l=!1,f=void 0;try{for(var d,p=_r[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=d.value,g=eo(v,e.markDef,e.config);i.encode.update[v]?(t[v]=i.encode.update[v],delete i.encode.update[v]):g&&(t[v]=Ya(g)),g&&(i.encode.update[v]={value:0})}}catch(b){l=!0,f=b}finally{try{c||null==p.return||p.return()}finally{if(l)throw f}}var m=e.fieldDef(e.stack.groupbyChannel),y=Oa(m)?[Oa(m)]:[];return((null===m||void 0===m?void 0:m.bin)||(null===m||void 0===m?void 0:m.timeUnit))&&y.push(Oa(m,{binSuffix:"end"})),(t=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(i.encode.update[n])return Object.assign(Object.assign({},t),s({},n,i.encode.update[n]));var r=eo(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),s({},n,Ya(r))):t}),t)).stroke&&(t.strokeForeground={value:!0},t.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Vu.Main),name:"stack_group_"+e.requestDataName(Vu.Main),groupby:y,aggregate:{fields:[o({suffix:"start"}),o({suffix:"start"}),o({suffix:"end"}),o({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:t},marks:[{type:"group",encode:{update:n},marks:[i]}]}]}(e)}return vp(e)}function pp(e){var t=e.encoding,n=e.stack,r=e.mark,i=e.markDef,a=e.config,o=t.order;if(!(!k(o)&&va(o)&&J(o.value)||!o&&J(Qa("order",i,a)))){if((k(o)||ca(o))&&!n)return ro(o,{expr:"datum"});if(Ve(r)){var u="horizontal"===i.orient?"y":"x",c=t[u];if(ca(c)){var s=c.sort;return k(s)?{field:Oa(c,{prefix:u,suffix:"sort_index",expr:"datum"})}:Ji(s)?{field:Oa({aggregate:co(e.encoding)?s.op:void 0,field:s.field},{expr:"datum"})}:Yi(s)?{field:Oa(e.fieldDef(s.encoding),{expr:"datum"}),order:s.order}:null===s?void 0:{field:Oa(c,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}}}function vp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=e.markDef,i=e.encoding,a=e.config,o=we(r.clip,gp(e),mp(e)),u=Za(r),c=i.key,s=pp(e),l=yp(e),f=Qa("aria",r,a),d=dp[n].postEncodingTransform?dp[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:dp[n].vgMark},o?{clip:!0}:{}),u?{style:u}:{}),c?{key:c.field}:{}),s?{sort:s}:{}),l||{}),!1===f?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(Vu.Main)},encode:{update:dp[n].encodeEntry(e)}}),d?{transform:d}:{})]}function gp(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}function mp(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function yp(e){if(!e.component.selection)return null;for(var t=oe(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=oe(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}var bp=function(e){function t(e,n,r){var i,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4?arguments[4]:void 0;f(this,t),(i=a(this,o(t).call(this,e,"unit",n,r,c,void 0,Ko(e)?e.view:void 0))).specifiedScales={},i.specifiedAxes={},i.specifiedLegends={},i.specifiedProjection={},i.selection={},i.children=[];var s=Xe(e.mark)?Object.assign({},e.mark):{type:e.mark},l=s.type;void 0===s.filled&&(s.filled=sp(s,c,{graticule:e.data&&nc(e.data)}));var d=i.encoding=lo(e.encoding||{},l,s.filled,c);return i.markDef=cp(s,d,c),i.size=up({encoding:d,size:Ko(e)?Object.assign(Object.assign(Object.assign({},u),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):u}),i.stack=xu(l,d),i.specifiedScales=i.initScales(l,d),i.specifiedAxes=i.initAxes(d),i.specifiedLegends=i.initLegend(d),i.specifiedProjection=e.projection,i.selection=e.selection,i}return c(t,e),d(t,[{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){return an.reduce((function(e,n){var r,i=Ba(t[n]);return i&&(e[n]=null!==(r=i.scale)&&void 0!==r?r:{}),e}),{})}},{key:"initAxes",value:function(e){return Jt.reduce((function(t,n){var r=e[n];if(ha(r)||n===gt&&ha(e.x2)||n===mt&&ha(e.y2)){var i=ha(r)?r.axis:void 0;t[n]=i?Object.assign({},i):i}return t}),{})}},{key:"initLegend",value:function(e){return nn.reduce((function(t,n){var r=Ba(e[n]);if(r&&function(e){switch(e){case kt:case jt:case _t:case Et:case St:case"opacity":case"strokeWidth":case"strokeDash":return!0;case"fillOpacity":case"strokeOpacity":case"angle":return!1}}(n)){var i=r.legend;t[n]=i?Object.assign({},i):i}return t}),{})}},{key:"parseData",value:function(){this.component.data=Jh(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t=e.size,n=e.component,r=!0,i=!1,a=void 0;try{for(var o,u=Jt[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=Gt(o.value);if(t[c]){var s=t[c];n.layoutSize.set(c,Go(s)?"step":s,!0)}else{var l=Wh(e,c);n.layoutSize.set(c,l,!1)}}}catch(f){i=!0,a=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r={},i=e.config.selection,a=!0,o=!1,u=void 0;try{for(var c,s=function(){var a=c.value,o=W(t[a]),u=R(i[o.type],["fields","encodings"]);for(var s in u)"encodings"===s&&o.fields||"fields"===s&&o.encodings||("mark"===s&&(o[s]=Object.assign(Object.assign({},u[s]),o[s])),void 0!==o[s]&&!0!==o[s]||(o[s]=null!==(n=u[s])&&void 0!==n?n:o[s]));var l=le(a),f=r[l]=Object.assign(Object.assign({},o),{name:l,events:P(o.on)?wc(o.on,"scope"):W(o.on)});xs(f,(function(n){n.has(f)&&n.parse&&n.parse(e,f,o,t[a])}))},l=oe(null!==t&&void 0!==t?t:{})[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)s()}catch(f){o=!0,u=f}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}return r}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=hp(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,Jt.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[op(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n=!1;return Is(e,(function(r,i){var a=r.name,o=N(a+Ns);if(0===t.filter((function(e){return e.name===a})).length){var u="global"===r.resolve?"union":r.resolve,c="multi"===r.type?", true)":")";t.push({name:r.name,update:"".concat(zs,"(").concat(o,", ").concat(N(u)).concat(c)})}n=!0,i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),xs(r,(function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}))})),n&&0===t.filter((function(e){return"unit"===e.name})).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),ks(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(p(Gl(this)),p((t=[],Is(e=this,(function(n,r){var i,a=n.name,o=r.modifyExpr(e,n);(i=t).push.apply(i,p(r.signals(e,n))),xs(n,(function(r){r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(o=r.modifyExpr(e,n,o))})),t.push({name:a+Rs,on:[{events:{signal:n.name+Bs},update:"modify(".concat(N(n.name+Ns),", ").concat(o,")")}]})})),ks(t))));var e,t}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n=p(t);return Is(e,(function(t){var r={name:t.name+Ns};if(t.init){var i=t.project.items.map((function(e){return R(e,["signals"])})),a=t.init.map((function(e){return ws(e,!1)}));r.values="interval"===t.type?[{unit:qs(e,{escape:!1}),fields:i,values:a}]:a.map((function(t){return{unit:qs(e,{escape:!1}),fields:i,values:t}}))}n.filter((function(e){return e.name===t.name+Ns})).length||n.push(r)})),n}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return jf(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&wh(this.parent)||(t=Os(this,t)),t.map(this.correctDataNames)}},{key:"getMapping",value:function(){return this.encoding}},{key:"channelHasField",value:function(e){return uo(this.encoding,e)}},{key:"fieldDef",value:function(e){return Na(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return pa(t)?t:null}},{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===Ke,n=e&&Ft.some((function(t){return ha(e[t])}));return t||n}},{key:"mark",get:function(){return this.markDef.type}}]),t}(kh),xp=function(e){function t(e,n,r,u,c){var s;f(this,t),s=a(this,o(t).call(this,e,"layer",n,r,c,e.resolve,e.view));var l=Object.assign(Object.assign(Object.assign({},u),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return s.children=e.layer.map((function(e,n){if(du(e))return new t(e,i(s),s.getName("layer_"+n),l,c);if(rt(e))return new bp(e,i(s),s.getName("layer_"+n),l,c);throw new Error(mn(e))})),s}return c(t,e),d(t,[{key:"parseData",value:function(){this.component.data=Jh(this);var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.parseData()}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseLayoutSize",value:function(){var e;$h(e=this),Hh(e,"width"),Hh(e,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a.parseSelections();var o=!0,u=!1,c=void 0;try{for(var s,l=oe(a.component.selection)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;this.component.selection[f]=a.component.selection[f]}}catch(d){u=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}}catch(d){t=!0,n=d}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseMarkGroup",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)r.value.parseMarkGroup()}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n=e.component,r=n.axes,i=n.resolve,a={top:0,bottom:0,right:0,left:0},o=!0,u=!1,c=void 0;try{for(var s,l=e.children[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;f.parseAxesAndHeaders();var d=!0,h=!1,p=void 0;try{for(var v,g=oe(f.component.axes)[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value;i.axis[m]=Ff(e.component.resolve,m),"shared"===i.axis[m]&&(r[m]=np(r[m],f.component.axes[m]),r[m]||(i.axis[m]="independent",delete r[m]))}}catch(G){h=!0,p=G}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}}}catch(G){u=!0,c=G}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}var y=!0,b=!1,x=void 0;try{for(var w,O=Jt[Symbol.iterator]();!(y=(w=O.next()).done);y=!0){var k=w.value,j=!0,_=!1,S=void 0;try{for(var E,A=e.children[Symbol.iterator]();!(j=(E=A.next()).done);j=!0){var C=E.value;if(C.component.axes[k]){if("independent"===i.axis[k]){r[k]=(null!==(t=r[k])&&void 0!==t?t:[]).concat(C.component.axes[k]);var D=!0,F=!1,T=void 0;try{for(var M,P=C.component.axes[k][Symbol.iterator]();!(D=(M=P.next()).done);D=!0){var N=M.value,B=N.getWithExplicit("orient"),R=B.value,z=B.explicit;if(!xr(R)){if(a[R]>0&&!z){var L=tp[R];a[R]>a[L]&&N.set("orient",L,!1)}a[R]++}}}catch(G){F=!0,T=G}finally{try{D||null==P.return||P.return()}finally{if(F)throw T}}}delete C.component.axes[k]}}}catch(G){_=!0,S=G}finally{try{j||null==A.return||A.return()}finally{if(_)throw S}}if("independent"===i.axis[k]&&r[k]&&r[k].length>1){var I=!0,U=!1,q=void 0;try{for(var $,H=r[k][Symbol.iterator]();!(I=($=H.next()).done);I=!0){var W=$.value;W.get("grid")&&!W.explicit.grid&&(W.implicit.grid=!1)}}catch(G){U=!0,q=G}finally{try{I||null==H.return||H.return()}finally{if(U)throw q}}}}}catch(G){b=!0,x=G}finally{try{y||null==O.return||O.return()}finally{if(b)throw x}}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),Gl(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),jf(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleTitle",value:function(){var e=u(o(t.prototype),"assembleTitle",this).call(this);if(e)return e;var n=!0,r=!1,i=void 0;try{for(var a,c=this.children[Symbol.iterator]();!(n=(a=c.next()).done);n=!0)if(e=a.value.assembleTitle())return e}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;yh(u)&&(t=Os(u,t))}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),Yf(this))}}]),t}(Oh);function wp(e,t,n,r,i){if(ea(e))return new Kh(e,t,n,i);if(du(e))return new xp(e,t,n,r,i);if(rt(e))return new bp(e,t,n,r,i);if(function(e){return Ho(e)||Wo(e)||$o(e)}(e))return new Xh(e,t,n,i);throw new Error(mn(e))}function Op(e,t,n,r){var i,a=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):P(t)&&(t={type:t}),a&&o&&("fit"===(i=t.type)||"fit-x"===i||"fit-y"===i))if("step"===a&&"step"===o)er(xn()),t.type="pad";else if("step"===a||"step"===o){var u="step"===a?"width":"height";er(xn(en(u)));var c="width"===u?"height":"width";t.type=function(e){return e?"fit-".concat(en(e)):"fit"}(c)}return Object.assign(Object.assign(Object.assign({},1===oe(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),Uu(n)),Uu(e))}function kp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=e.config?lu(e.config):void 0,a=[].concat(e.assembleSelectionData([]),zh(e.component.data,n)),o=e.assembleProjections(),u=e.assembleTitle(),c=e.assembleGroupStyle(),s=e.assembleGroupEncodeEntry(!0),l=e.assembleLayoutSignals();return l=l.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),u?{title:u}:{}),c?{style:c}:{}),s?{encode:{update:s}}:{}),{data:a}),o.length>0?{projections:o}:{}),e.assembleGroup([].concat(p(l),p(e.assembleSelectionTopLevelSignals([]))))),i?{config:i}:{}),r?{usermeta:r}:{})}t.compile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&Zn(t.logger),t.fieldTitle&&Aa(t.fieldTitle);try{var n=ou(S(t.config,e.config)),r=Ru(e,n),i=wp(r,null,"",void 0,n);i.parse(),qd(i.component.data,i);var a=kp(i,Op(e,r.autosize,n,i),e.datasets,e.usermeta);return{spec:a,normalized:r}}finally{t.logger&&Qn(),t.fieldTitle&&Ca()}},t.normalize=Ru,t.version="4.14.1",Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(147).Buffer)},function(e,t,n){"use strict";n.d(t,"default",(function(){return P}));var r,i=n(11),a=n.n(i),o=n(129),u=n(313),c=n(177),s=n.n(c),l=n(207),f=n(113),d=n(308),h=n(212),p=n.n(h),v=n(310),g=n(312),m=n(0),y=n(293),b=n(178),x=n(213),w=(n(277),f),O=d,k="undefined"!==typeof window?window:void 0;void 0===O&&(null===(r=null===k||void 0===k?void 0:k.vl)||void 0===r?void 0:r.compile)&&(O=k.vl);var j={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},_={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},S={vega:"Vega","vega-lite":"Vega-Lite"},E={vega:w.version,"vega-lite":O?O.version:"not available"},A={vega:function(e){return e},"vega-lite":function(e,t){return O.compile(e,{config:t}).spec}},C='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>';function D(e){return"function"===typeof e}function F(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),a="</code></pre>".concat(n,"</body></html>"),o=window.open("");o.document.write(i+e+a),o.document.title="".concat(S[r]," JSON Source")}function T(e,t){var n;if(e.$schema){var r=p()(e.$schema);t&&t!==r.library&&console.warn("The given visualization spec is written in ".concat(S[r.library],", but mode argument sets ").concat(null!==(n=S[t])&&void 0!==n?n:t,"."));var i=r.library;return Object(l.satisfies)(E[i],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(S[i]," ").concat(r.version,", but the current version of ").concat(S[i]," is v").concat(E[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==t&&void 0!==t?t:"vega"}function M(e){return!!(e&&"load"in e)}function P(e,t){var n,r,i,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(o.a)(this,void 0,void 0,a.a.mark((function o(){var c,s,l,f,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=M(u.loader)?u.loader:w.loader(u.loader),!Object(m.H)(t)){a.next=9;break}return a.t1=JSON,a.next=5,c.load(t);case 5:a.t2=a.sent,a.t0=a.t1.parse.call(a.t1,a.t2),a.next=10;break;case 9:a.t0=t;case 10:return s=a.t0,a.next=13,N(null!==(n=s.usermeta&&s.usermeta.embedOptions)&&void 0!==n?n:{},c);case 13:return l=a.sent,a.next=16,N(u,c);case 16:return f=a.sent,d=Object.assign(Object.assign({},Object(x.a)(f,l)),{config:Object(m.N)(null!==(r=f.config)&&void 0!==r?r:{},null!==(i=l.config)&&void 0!==i?i:{})}),a.next=20,R(e,s,d,c);case 20:return a.abrupt("return",a.sent);case 21:case"end":return a.stop()}}),o)})))}function N(e,t){var n;return Object(o.a)(this,void 0,void 0,a.a.mark((function r(){var i,o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Object(m.H)(e.config)){r.next=8;break}return r.t1=JSON,r.next=4,t.load(e.config);case 4:r.t2=r.sent,r.t0=r.t1.parse.call(r.t1,r.t2),r.next=9;break;case 8:r.t0=null!==(n=e.config)&&void 0!==n?n:{};case 9:if(i=r.t0,!Object(m.H)(e.patch)){r.next=18;break}return r.t4=JSON,r.next=14,t.load(e.patch);case 14:r.t5=r.sent,r.t3=r.t4.parse.call(r.t4,r.t5),r.next=19;break;case 18:r.t3=e.patch;case 19:return o=r.t3,r.abrupt("return",Object.assign(Object.assign(Object.assign({},e),o?{patch:o}:{}),i?{config:i}:{}));case 21:case"end":return r.stop()}}),r)})))}function B(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}function R(e,t){var n,r,i,c,f,d,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},O=arguments.length>3?arguments[3]:void 0;return Object(o.a)(this,void 0,void 0,a.a.mark((function k(){var S,M,P,N,R,z,L,I,U,q,$,H,W,G,K,V,Y,J,X,Z,Q,ee,te,ne,re,ie,ae,oe,ue,ce,se,le,fe,de,he,pe,ve;return a.a.wrap((function(k){for(;;)switch(k.prev=k.next){case 0:if(ve=function(){re&&document.removeEventListener("click",re),X.finalize()},S=h.theme?Object(m.N)(v[h.theme],null!==(n=h.config)&&void 0!==n?n:{}):h.config,M=Object(m.B)(h.actions)?h.actions:Object(x.a)({},j,null!==(r=h.actions)&&void 0!==r?r:{}),P=Object.assign(Object.assign({},_),h.i18n),N=null!==(i=h.renderer)&&void 0!==i?i:"canvas",R=null!==(c=h.logLevel)&&void 0!==c?c:w.Warn,z=null!==(f=h.downloadFileName)&&void 0!==f?f:"visualization",L="string"===typeof e?document.querySelector(e):e){k.next=10;break}throw new Error("".concat(e," does not exist"));case 10:return!1!==h.defaultStyle&&(I="vega-embed-style",U=B(L),q=U.root,$=U.rootContainer,q.getElementById(I)||((H=document.createElement("style")).id=I,H.innerText=void 0===h.defaultStyle||!0===h.defaultStyle?(null!==b.a&&void 0!==b.a?b.a:"").toString():h.defaultStyle,$.appendChild(H))),W=T(t,h.mode),G=A[W](t,S),"vega-lite"===W&&G.$schema&&(K=p()(G.$schema),Object(l.satisfies)(E.vega,"^".concat(K.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(K.version,", but current version is v").concat(E.vega,"."))),L.classList.add("vega-embed"),M&&L.classList.add("has-actions"),L.innerHTML="",(V=h.patch)&&(G=V instanceof Function?V(G):Object(u.a)(G,V,!0,!1).newDocument),h.formatLocale&&w.formatLocale(h.formatLocale),h.timeFormatLocale&&w.timeFormatLocale(h.timeFormatLocale),Y=h.ast,J=w.parse(G,"vega-lite"===W?{}:S,{ast:Y}),X=new w.View(J,Object.assign({loader:O,logLevel:R,renderer:N},Y?{expr:w.expressionInterpreter}:{})),!1!==h.tooltip&&(Z=D(h.tooltip)?h.tooltip:new g.a(!0===h.tooltip?{}:h.tooltip).call,X.tooltip(Z)),void 0===(Q=h.hover)&&(Q="vega"===W),Q&&(te=(ee="boolean"===typeof Q?{}:Q).hoverSet,ne=ee.updateSet,X.hover(te,ne)),h&&(null!=h.width&&X.width(h.width),null!=h.height&&X.height(h.height),null!=h.padding&&X.padding(h.padding)),k.next=31,X.initialize(e).runAsync();case 31:if(!1!==M){if(ie=L,!1!==h.defaultStyle&&((ae=document.createElement("details")).title=P.CLICK_TO_VIEW_ACTIONS,L.append(ae),ie=ae,(oe=document.createElement("summary")).innerHTML=C,ae.append(oe),re=function(e){ae.contains(e.target)||ae.removeAttribute("open")},document.addEventListener("click",re)),ue=document.createElement("div"),ie.append(ue),ue.classList.add("vega-actions"),!0===M||!1!==M.export)for(ce=function(){var e=le[se];if(!0===M||!0===M.export||M.export[e]){var t=P["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(z,".").concat(e),n.addEventListener("mousedown",(function(t){return Object(o.a)(this,void 0,void 0,a.a.mark((function n(){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,X.toImageURL(e,h.scaleFactor);case 3:r=n.sent,this.href=r;case 5:case"end":return n.stop()}}),n,this)})))})),ue.append(n)}},se=0,le=["svg","png"];se<le.length;se++)ce();!0!==M&&!1===M.source||((fe=document.createElement("a")).text=P.SOURCE_ACTION,fe.href="#",fe.addEventListener("click",(function(e){var n,r;F(s()(t),null!==(n=h.sourceHeader)&&void 0!==n?n:"",null!==(r=h.sourceFooter)&&void 0!==r?r:"",W),e.preventDefault()})),ue.append(fe)),"vega-lite"!==W||!0!==M&&!1===M.compiled||((de=document.createElement("a")).text=P.COMPILED_ACTION,de.href="#",de.addEventListener("click",(function(e){var t,n;F(s()(G),null!==(t=h.sourceHeader)&&void 0!==t?t:"",null!==(n=h.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),ue.append(de)),!0!==M&&!1===M.editor||(he=null!==(d=h.editorUrl)&&void 0!==d?d:"https://vega.github.io/editor/",(pe=document.createElement("a")).text=P.EDITOR_ACTION,pe.href="#",pe.addEventListener("click",(function(e){Object(y.a)(window,he,{config:S,mode:W,renderer:N,spec:s()(t)}),e.preventDefault()})),ue.append(pe))}return k.abrupt("return",{view:X,spec:t,vgSpec:G,finalize:ve});case 33:case"end":return k.stop()}}),k)})))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(0);function i(t,n){var i,a=n&&n.property?Object(r.t)(n.property):r.x;return!Object(r.F)(t)||(i=t,"function"===typeof e&&Object(r.D)(e.isBuffer)&&e.isBuffer(i))?a(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(a(t))}i.responseType="json"}).call(this,n(147).Buffer)},function(e,t,n){"use strict";var r=/("(?:[^\\"]|\\.)*")|[:,]/g;e.exports=function(e,t){var n,i,a;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),i=""===n?1/0:void 0===t.maxLength?80:t.maxLength,a=t.replacer,function e(t,o,u){var c,s,l,f,d,h,p,v,g,m,y,b;if(t&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0===(y=JSON.stringify(t,a)))return y;if(p=i-o.length-u,y.length<=p&&(g=y.replace(r,(function(e,t){return t||e+" "}))).length<=p)return g;if(null!=a&&(t=JSON.parse(y),a=void 0),"object"===typeof t&&null!==t){if(v=o+n,l=[],s=0,Array.isArray(t))for(m="[",c="]",p=t.length;s<p;s++)l.push(e(t[s],v,s===p-1?0:1)||"null");else for(m="{",c="}",p=(h=Object.keys(t)).length;s<p;s++)f=h[s],d=JSON.stringify(f)+": ",void 0!==(b=e(t[f],v,d.length+(s===p-1?0:1)))&&l.push(d+b);if(l.length>0)return[m,n+l.join(",\n"+v),c].join("\n"+o)}return y}(e,"",0)}},function(e,t,n){"use strict";t.a='.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=n.n(a),u=(n(15),n(28)),c=n(10),s=n(26),l=n(37),f=n(13),d=n(111),h=n(6),p=n(40),v=n(45),g=n(42),m=n(115);function y(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function b(e,t,n){return null!=n[t]?n[t]:e.props[t]}function x(e,t,n){var r=y(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var s=i[c][r];u[i[c][r]]=n(s)}u[c]=n(c)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(i).forEach((function(o){var u=i[o];if(Object(a.isValidElement)(u)){var c=o in t,s=o in r,l=t[o],f=Object(a.isValidElement)(l)&&!l.props.in;!s||c&&!f?s||!c||f?s&&c&&Object(a.isValidElement)(l)&&(i[o]=Object(a.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:b(u,"exit",e),enter:b(u,"enter",e)})):i[o]=Object(a.cloneElement)(u,{in:!1}):i[o]=Object(a.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:b(u,"exit",e),enter:b(u,"enter",e)})}})),i}var w=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},O=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(v.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(g.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,y(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:b(e,"appear",n),enter:b(e,"enter",n),exit:b(e,"exit",n)})}))):x(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=y(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(p.a)(e,["component","childFactory"]),i=this.state.contextValue,a=w(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(m.a.Provider,{value:i},a):o.a.createElement(m.a.Provider,{value:i},o.a.createElement(t,r,a))},t}(o.a.Component);O.propTypes={},O.defaultProps={component:"div",childFactory:function(e){return e}};var k=O,j="undefined"===typeof window?a.useEffect:a.useLayoutEffect;var _=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,f=e.onExited,d=void 0===f?function(){}:f,h=e.timeout,p=a.useState(!1),v=p[0],g=p[1],m=Object(c.default)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:u,height:u,top:-u/2+o,left:-u/2+i},b=Object(c.default)(t.child,v&&t.childLeaving,r&&t.childPulsate),x=Object(l.a)(d);return j((function(){if(!s){g(!0);var e=setTimeout(x,h);return function(){clearTimeout(e)}}}),[x,s,h]),a.createElement("span",{className:m,style:y},a.createElement("span",{className:b}))},S=a.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,u=e.classes,s=e.className,l=Object(i.a)(e,["center","classes","className"]),f=a.useState([]),d=f[0],p=f[1],v=a.useRef(0),g=a.useRef(null);a.useEffect((function(){g.current&&(g.current(),g.current=null)}),[d]);var m=a.useRef(!1),y=a.useRef(null),b=a.useRef(null),x=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var w=a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;p((function(e){return[].concat(Object(h.a)(e),[a.createElement(_,{key:v.current,classes:u,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),v.current+=1,g.current=o}),[u]),O=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,u=void 0===a?o||t.pulsate:a,c=t.fakeElement,s=void 0!==c&&c;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,d,h=s?null:x.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,g=v.clientX,O=v.clientY;l=Math.round(g-p.left),f=Math.round(O-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var k=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,j=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(k,2)+Math.pow(j,2))}e.touches?null===b.current&&(b.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[o,w]),j=a.useCallback((function(){O({},{pulsate:!0})}),[O]),S=a.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&b.current)return e.persist(),b.current(),b.current=null,void(y.current=setTimeout((function(){S(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:j,start:O,stop:S}}),[j,O,S]),a.createElement("span",Object(r.a)({className:Object(c.default)(u.root,s),ref:x},l),a.createElement(k,{component:null,exit:!0},d))})),E=Object(f.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(S)),A=a.forwardRef((function(e,t){var n=e.action,o=e.buttonRef,f=e.centerRipple,h=void 0!==f&&f,p=e.children,v=e.classes,g=e.className,m=e.component,y=void 0===m?"button":m,b=e.disabled,x=void 0!==b&&b,w=e.disableRipple,O=void 0!==w&&w,k=e.disableTouchRipple,j=void 0!==k&&k,_=e.focusRipple,S=void 0!==_&&_,A=e.focusVisibleClassName,C=e.onBlur,D=e.onClick,F=e.onFocus,T=e.onFocusVisible,M=e.onKeyDown,P=e.onKeyUp,N=e.onMouseDown,B=e.onMouseLeave,R=e.onMouseUp,z=e.onTouchEnd,L=e.onTouchMove,I=e.onTouchStart,U=e.onDragLeave,q=e.tabIndex,$=void 0===q?0:q,H=e.TouchRippleProps,W=e.type,G=void 0===W?"button":W,K=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),V=a.useRef(null);var Y=a.useRef(null),J=a.useState(!1),X=J[0],Z=J[1];x&&X&&Z(!1);var Q=Object(d.a)(),ee=Q.isFocusVisible,te=Q.onBlurVisible,ne=Q.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j;return Object(l.a)((function(r){return t&&t(r),!n&&Y.current&&Y.current[e](r),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){Z(!0),V.current.focus()}}}),[]),a.useEffect((function(){X&&S&&!O&&Y.current.pulsate()}),[O,S,X]);var ie=re("start",N),ae=re("stop",U),oe=re("stop",R),ue=re("stop",(function(e){X&&e.preventDefault(),B&&B(e)})),ce=re("start",I),se=re("stop",z),le=re("stop",L),fe=re("stop",(function(e){X&&(te(e),Z(!1)),C&&C(e)}),!1),de=Object(l.a)((function(e){V.current||(V.current=e.currentTarget),ee(e)&&(Z(!0),T&&T(e)),F&&F(e)})),he=function(){var e=u.findDOMNode(V.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},pe=a.useRef(!1),ve=Object(l.a)((function(e){S&&!pe.current&&X&&Y.current&&" "===e.key&&(pe.current=!0,e.persist(),Y.current.stop(e,(function(){Y.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),M&&M(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!x&&(e.preventDefault(),D&&D(e))})),ge=Object(l.a)((function(e){S&&" "===e.key&&Y.current&&X&&!e.defaultPrevented&&(pe.current=!1,e.persist(),Y.current.stop(e,(function(){Y.current.pulsate(e)}))),P&&P(e),D&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&D(e)})),me=y;"button"===me&&K.href&&(me="a");var ye={};"button"===me?(ye.type=G,ye.disabled=x):("a"===me&&K.href||(ye.role="button"),ye["aria-disabled"]=x);var be=Object(s.a)(o,t),xe=Object(s.a)(ne,V),we=Object(s.a)(be,xe),Oe=a.useState(!1),ke=Oe[0],je=Oe[1];a.useEffect((function(){je(!0)}),[]);var _e=ke&&!O&&!x;return a.createElement(me,Object(r.a)({className:Object(c.default)(v.root,g,X&&[v.focusVisible,A],x&&v.disabled),onBlur:fe,onClick:D,onFocus:de,onKeyDown:ve,onKeyUp:ge,onMouseDown:ie,onMouseLeave:ue,onMouseUp:oe,onDragLeave:ae,onTouchEnd:se,onTouchMove:le,onTouchStart:ce,ref:we,tabIndex:x?-1:$},ye,K),p,_e?a.createElement(E,Object(r.a)({ref:Y,center:h},H)):null)}));t.a=Object(f.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(A)},,,,,function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(124),o=n(57),u=n(90),c=n(58),s=n(136),l=n(137),f=n(71),d=n(230),h=n(81),p=n(23),v=n(232),g=p.List,m=p.Record,y=p.Repeat,b=p.Map,x=p.OrderedMap,w=m({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),O=h("draft_tree_data_support")?c:u,k=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=i.prototype;return u.getEntityMap=function(){return s},u.getBlockMap=function(){return this.get("blockMap")},u.getSelectionBefore=function(){return this.get("selectionBefore")},u.getSelectionAfter=function(){return this.get("selectionAfter")},u.getBlockForKey=function(e){return this.getBlockMap().get(e)},u.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},u.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},u.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},u.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},u.getBlocksAsArray=function(){return this.getBlockMap().toArray()},u.getFirstBlock=function(){return this.getBlockMap().first()},u.getLastBlock=function(){return this.getBlockMap().last()},u.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},u.getLastCreatedEntityKey=function(){return s.__getLastCreatedEntityKey()},u.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},u.createEntity=function(e,t,n){return s.__create(e,t,n),this},u.mergeEntityData=function(e,t){return s.__mergeData(e,t),this},u.replaceEntityData=function(e,t){return s.__replaceData(e,t),this},u.addEntity=function(e){return s.__add(e),this},u.getEntity=function(e){return s.__get(e)},u.getAllEntities=function(){return s.__getAll()},u.loadWithEntities=function(e){return s.__loadWithEntities(e)},i.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,r=a.createFromArray(n),o=r.isEmpty()?new l:l.createEmpty(r.first().getKey());return new i({blockMap:r,entityMap:t||s,selectionBefore:o,selectionAfter:o})},i.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t),r=n.map((function(e){return e=v(e),new O({key:f(),text:e,type:"unstyled",characterList:g(y(o.EMPTY,e.length))})}));return i.createFromBlockArray(r)},i.fromJS=function(e){return new i(r({},e,{blockMap:x(e.blockMap).map(i.createContentBlockFromJS),selectionBefore:new l(e.selectionBefore),selectionAfter:new l(e.selectionAfter)}))},i.createContentBlockFromJS=function(e){var t=e.characterList;return new O(r({},e,{data:b(e.data),characterList:null!=t?g((Array.isArray(t)?t:d(t)).map((function(e){return o.fromJS(e)}))):void 0}))},i}(w);e.exports=k},function(e,t,n){"use strict";var r=n(138),i=n(29),a="\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f",o="\u0608\u060b\u060d\u061b\u061c\u061d\u061e-\u061f\u0620-\u063f\u0640\u0641-\u064a\u066d\u066e-\u066f\u0671-\u06d3\u06d4\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06fd-\u06fe\u06ff\u0700-\u070d\u070e\u070f\u0710\u0712-\u072f\u074b-\u074c\u074d-\u07a5\u07b1\u07b2-\u07bf\u08a0-\u08b2\u08b3-\u08e3\ufb50-\ufbb1\ufbb2-\ufbc1\ufbc2-\ufbd2\ufbd3-\ufd3d\ufd40-\ufd4f\ufd50-\ufd8f\ufd90-\ufd91\ufd92-\ufdc7\ufdc8-\ufdcf\ufdf0-\ufdfb\ufdfc\ufdfe-\ufdff\ufe70-\ufe74\ufe75\ufe76-\ufefc\ufefd-\ufefe",u=new RegExp("["+"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u01ba\u01bb\u01bc-\u01bf\u01c0-\u01c3\u01c4-\u0293\u0294\u0295-\u02af\u02b0-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0482\u048a-\u052f\u0531-\u0556\u0559\u055a-\u055f\u0561-\u0587\u0589\u0903\u0904-\u0939\u093b\u093d\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096f\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09ef\u09f0-\u09f1\u09f4-\u09f9\u09fa\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0af0\u0b02-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b70\u0b71\u0b72-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bef\u0bf0-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c7f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cbe\u0cbf\u0cc0-\u0cc4\u0cc6\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0cf1-\u0cf2\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0d70-\u0d75\u0d79\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0df4\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e46\u0e4f\u0e50-\u0e59\u0e5a-\u0e5b\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f01-\u0f03\u0f04-\u0f12\u0f13\u0f14\u0f15-\u0f17\u0f1a-\u0f1f\u0f20-\u0f29\u0f2a-\u0f33\u0f34\u0f36\u0f38\u0f3e-\u0f3f\u0f40-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd0-\u0fd4\u0fd5-\u0fd8\u0fd9-\u0fda\u1000-\u102a\u102b-\u102c\u1031\u1038\u103b-\u103c\u103f\u1040-\u1049\u104a-\u104f\u1050-\u1055\u1056-\u1057\u105a-\u105d\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106d\u106e-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108c\u108e\u108f\u1090-\u1099\u109a-\u109c\u109e-\u109f\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fb\u10fc\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u1368\u1369-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166d-\u166e\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16eb-\u16ed\u16ee-\u16f0\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7-\u17c8\u17d4-\u17d6\u17d7\u17d8-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1946-\u194f\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c0\u19c1-\u19c7\u19c8-\u19c9\u19d0-\u19d9\u19da\u1a00-\u1a16\u1a19-\u1a1a\u1a1e-\u1a1f\u1a20-\u1a54\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aa6\u1aa7\u1aa8-\u1aad\u1b04\u1b05-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b45-\u1b4b\u1b50-\u1b59\u1b5a-\u1b60\u1b61-\u1b6a\u1b74-\u1b7c\u1b82\u1b83-\u1ba0\u1ba1\u1ba6-\u1ba7\u1baa\u1bae-\u1baf\u1bb0-\u1bb9\u1bba-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1bfc-\u1bff\u1c00-\u1c23\u1c24-\u1c2b\u1c34-\u1c35\u1c3b-\u1c3f\u1c40-\u1c49\u1c4d-\u1c4f\u1c50-\u1c59\u1c5a-\u1c77\u1c78-\u1c7d\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf1\u1cf2-\u1cf3\u1cf5-\u1cf6\u1d00-\u1d2b\u1d2c-\u1d6a\u1d6b-\u1d77\u1d78\u1d79-\u1d9a\u1d9b-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2134\u2135-\u2138\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c7b\u2c7c-\u2c7d\u2c7e-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005\u3006\u3007\u3021-\u3029\u302e-\u302f\u3031-\u3035\u3038-\u303a\u303b\u303c\u3041-\u3096\u309d-\u309e\u309f\u30a1-\u30fa\u30fc-\u30fe\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u3191\u3192-\u3195\u3196-\u319f\u31a0-\u31ba\u31f0-\u31ff\u3200-\u321c\u3220-\u3229\u322a-\u3247\u3248-\u324f\u3260-\u327b\u327f\u3280-\u3289\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua015\ua016-\ua48c\ua4d0-\ua4f7\ua4f8-\ua4fd\ua4fe-\ua4ff\ua500-\ua60b\ua60c\ua610-\ua61f\ua620-\ua629\ua62a-\ua62b\ua640-\ua66d\ua66e\ua680-\ua69b\ua69c-\ua69d\ua6a0-\ua6e5\ua6e6-\ua6ef\ua6f2-\ua6f7\ua722-\ua76f\ua770\ua771-\ua787\ua789-\ua78a\ua78b-\ua78e\ua790-\ua7ad\ua7b0-\ua7b1\ua7f7\ua7f8-\ua7f9\ua7fa\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua823-\ua824\ua827\ua830-\ua835\ua836-\ua837\ua840-\ua873\ua880-\ua881\ua882-\ua8b3\ua8b4-\ua8c3\ua8ce-\ua8cf\ua8d0-\ua8d9\ua8f2-\ua8f7\ua8f8-\ua8fa\ua8fb\ua900-\ua909\ua90a-\ua925\ua92e-\ua92f\ua930-\ua946\ua952-\ua953\ua95f\ua960-\ua97c\ua983\ua984-\ua9b2\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\ua9c1-\ua9cd\ua9cf\ua9d0-\ua9d9\ua9de-\ua9df\ua9e0-\ua9e4\ua9e6\ua9e7-\ua9ef\ua9f0-\ua9f9\ua9fa-\ua9fe\uaa00-\uaa28\uaa2f-\uaa30\uaa33-\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f\uaa60-\uaa6f\uaa70\uaa71-\uaa76\uaa77-\uaa79\uaa7a\uaa7b\uaa7d\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaadd\uaade-\uaadf\uaae0-\uaaea\uaaeb\uaaee-\uaaef\uaaf0-\uaaf1\uaaf2\uaaf3-\uaaf4\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5b\uab5c-\uab5f\uab64-\uab65\uabc0-\uabe2\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabeb\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\uf8ff\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uff6f\uff70\uff71-\uff9d\uff9e-\uff9f\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"+a+o+"]"),c=new RegExp("["+a+o+"]");function s(e){var t=u.exec(e);return null==t?null:t[0]}function l(e){var t=s(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function f(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=l(e);return n===r.NEUTRAL?t:n}function d(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||i(!1),f(e,t)}var h={firstStrongChar:s,firstStrongCharDir:l,resolveBlockDir:f,getDirection:d,isDirectionLTR:function(e,t){return d(e,t)===r.LTR},isDirectionRTL:function(e,t){return d(e,t)===r.RTL}};e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(91),a=(0,n(23).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=a},function(e,t,n){"use strict";var r=n(242).notEmptyKey;function i(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),a=t.getAnchorOffset();return a>0?(n=e.getBlockForKey(r).getEntityAt(a-1))!==e.getBlockForKey(r).getEntityAt(a)?null:i(e.getEntityMap(),n):null}var o=t.getStartKey(),u=t.getStartOffset(),c=e.getBlockForKey(o);return n=u===c.getLength()?null:c.getEntityAt(u),i(e.getEntityMap(),n)}},function(e,t,n){"use strict";var r=n(382);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var i={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=i},function(e,t,n){"use strict";n(191);e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),a=n.getStartOffset(),o=i,u=0;if(t>a){var c=r.getKeyBefore(i);if(null==c)o=i;else o=c,u=r.getBlockForKey(c).getText().length}else u=a-t;return n.merge({focusKey:o,focusOffset:u,isBackward:!0})}},function(e,t,n){"use strict";var r=n(251);e.exports=r},function(e,t,n){"use strict";var r=n(55),i=n(410),a=r.isPlatform("Mac OS X"),o={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return a&&e.altKey},usesMacOSHeuristics:function(){return a},hasCommandModifier:function(e){return a?!!e.metaKey&&!e.altKey:o.isCtrlKeyCommand(e)},isSoftNewlineEvent:i};e.exports=o},function(e,t){var n=/^[0-9]+$/,r=function(e,t){var r=n.test(e),i=n.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:function(e,t){return r(t,e)}}},function(e,t,n){var r=n(66);e.exports=function(e,t,n){return 0===r(e,t,n)}},function(e,t,n){var r=n(46);e.exports=function(e,t,n){var i=new r(e,n),a=new r(t,n);return i.compare(a)||i.compareBuild(a)}},function(e,t,n){var r=n(66);e.exports=function(e,t,n){return r(e,t,n)<0}},function(e,t,n){var r=n(66);e.exports=function(e,t,n){return r(e,t,n)>=0}},function(e,t,n){var r=n(66);e.exports=function(e,t,n){return r(e,t,n)<=0}},function(e,t,n){var r=n(46),i=n(153),a=i.ANY,o=n(67),u=n(154),c=n(152),s=n(196),l=n(198),f=n(197);e.exports=function(e,t,n,d){var h,p,v,g,m;switch(e=new r(e,d),t=new o(t,d),n){case">":h=c,p=l,v=s,g=">",m=">=";break;case"<":h=s,p=f,v=c,g="<",m="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(e,t,d))return!1;for(var y=function(n){var r=t.set[n],o=null,u=null;return r.forEach((function(e){e.semver===a&&(e=new i(">=0.0.0")),o=o||e,u=u||e,h(e.semver,o.semver,d)?o=e:v(e.semver,u.semver,d)&&(u=e)})),o.operator===g||o.operator===m?{v:!1}:u.operator&&u.operator!==g||!p(e,u.semver)?u.operator===m&&v(e,u.semver)?{v:!1}:void 0:{v:!1}},b=0;b<t.set.length;++b){var x=y(b);if("object"===typeof x)return x.v}return!0}},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=["debug","info","warn","error"],o=(i(r={},"debug",console.error.bind(console,"[wit][debug]")),i(r,"info",console.log.bind(console,"[wit]")),i(r,"warn",console.warn.bind(console,"[wit]")),i(r,"error",console.error.bind(console,"[wit]")),r),u=function(){};e.exports={Logger:function(e){var t=this;this.level=e||"info",a.forEach((function(n){var r=a.indexOf(n)>=a.indexOf(e);t[n]=r?o[n]:u}))},DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"}},function(e,t,n){"use strict";var r=n(105);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),a=(0,r(n(123)).default)(i.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=a},function(e,t,n){"use strict";(function(e,r){var i,a=n(279);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(70),n(346)(e))},function(e,t,n){"use strict";function r(e,t){return e===t}function i(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}n.d(t,"a",(function(){return o}));var o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,u=r.pop(),c=a(r),s=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(n)),l=e((function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return s.apply(null,e)}));return l.resultFunc=u,l.dependencies=c,l.recomputations=function(){return o},l.resetRecomputations=function(){return o=0},l}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,a=null;return function(){return i(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}))},function(e,t,n){"use strict";(function(e){var r=n(1),i=n.n(r),a=n(42),o=n(15),u=n.n(o),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function s(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var l=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=s(t.props.value),t}Object(a.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[o]=u.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(a.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[o]=u.a.object,i),{Provider:l,Consumer:f}};t.a=l}).call(this,n(70))},function(e,t,n){var r=n(347);e.exports=h,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(u+=e.slice(o,h),o=h+f.length,d)u+=d[1];else{var p=e[o],v=n[2],g=n[3],m=n[4],y=n[5],b=n[6],x=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,O="+"===b||"*"===b,k="?"===b||"*"===b,j=n[2]||l,_=m||y;r.push({name:g||a++,prefix:v||"",delimiter:j,optional:k,repeat:O,partial:w,asterisk:!!x,pattern:_?s(_):x?".*":"[^"+c(j)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},c=(i||{}).pretty?o:encodeURIComponent,s=0;s<e.length;s++){var l=e[s];if("string"!==typeof l){var f,d=u[l.name];if(null==d){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=c(d[h]),!n[s].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(d),!n[s].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var s=e[u];if("string"===typeof s)o+=c(s);else{var d=c(s.prefix),h="(?:"+s.pattern+")";t.push(s),s.repeat&&(h+="(?:"+d+h+")*"),o+=h=s.optional?s.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=c(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(a(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(1)),a=l(n(454)),o=l(n(455)),u=l(n(473)),c=l({buttonWrapper:"draftJsToolbar__buttonWrapper__1Dmqh",button:"draftJsToolbar__button__qi1gf",active:"draftJsToolbar__active__3qcpF"}),s=l({toolbar:"draftJsToolbar__toolbar__dNtBH"});function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buttonStyles:c.default,toolbarStyles:s.default},n=(0,a.default)({}),u=e.theme,l=void 0===u?t:u,f=function(e){return i.default.createElement(o.default,r({},e,{store:n,theme:l}))};return{initialize:function(e){var t=e.getEditorState,r=e.setEditorState;n.updateItem("getEditorState",t),n.updateItem("setEditorState",r)},onChange:function(e){return n.updateItem("selection",e.getSelection()),e},Toolbar:f}},t.Separator=u.default},function(e,t,n){var r=n(106);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(150).SEMVER_SPEC_VERSION,SemVer:n(46),compareIdentifiers:n(193).compareIdentifiers,rcompareIdentifiers:n(193).rcompareIdentifiers,parse:n(107),valid:n(504),clean:n(505),inc:n(506),diff:n(507),major:n(508),minor:n(509),patch:n(510),prerelease:n(511),compare:n(66),rcompare:n(512),compareLoose:n(513),compareBuild:n(195),sort:n(514),rsort:n(515),gt:n(152),lt:n(196),eq:n(194),neq:n(271),gte:n(197),lte:n(198),cmp:n(272),coerce:n(516),Comparator:n(153),Range:n(67),satisfies:n(154),toComparators:n(517),maxSatisfying:n(518),minSatisfying:n(519),minVersion:n(520),validRange:n(521),outside:n(199),gtr:n(522),ltr:n(523),intersects:n(524),simplifyRange:n(525),subset:n(526)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=r.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(e,t,n){"use strict";function r(e,t){var n;if(void 0===t){var r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;null!=c&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(g){i=!0,a=g}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}else{var s=-1,l=!0,f=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;null!=(v=t(v,++s,e))&&(n>v||void 0===n&&v>=v)&&(n=v)}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}return n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){var n;if(void 0===t){var r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;null!=c&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(g){i=!0,a=g}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}else{var s=-1,l=!0,f=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;null!=(v=t(v,++s,e))&&(n<v||void 0===n&&v>=v)&&(n=v)}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}return n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return g}));var r,i,a=0,o=0,u=0,c=0,s=0,l=0,f="object"===typeof performance&&performance.now?performance:Date,d="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return s||(d(p),s=f.now()+l)}function p(){s=0}function v(){this._call=this._time=this._next=null}function g(e,t,n){var r=new v;return r.restart(e,t,n),r}function m(){s=(c=f.now())+l,a=o=0;try{!function(){h(),++a;for(var e,t=r;t;)(e=s-t._time)>=0&&t._call.call(null,e),t=t._next;--a}()}finally{a=0,function(){var e,t,n=r,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);i=e,b(a)}(),s=0}}function y(){var e=f.now(),t=e-c;t>1e3&&(l-=t,c=e)}function b(e){a||(o&&(o=clearTimeout(o)),e-s>24?(e<1/0&&(o=setTimeout(m,e-f.now()-l)),u&&(u=clearInterval(u))):(u||(c=f.now(),u=setInterval(y,1e3)),a=1,d(m)))}v.prototype=g.prototype={constructor:v,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),this._next||i===this||(i?i._next=this:r=this,i=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(113);function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var u=o[i];a(e,u)}return e}function a(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];Object(r.writeConfig)(e,a,t[a],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e})},,,function(e,t,n){(function(t){e.exports=function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[o]={exports:{}};t[o][0].call(s.exports,(function(e){var n=t[o][1][e];return i(n||e)}),s,s.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,n,r){(function(e){"use strict";var t,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(l),u=e.document.createTextNode("");o.observe(u,{characterData:!0}),t=function(){u.data=a=++a%2}}else if(e.setImmediate||"undefined"===typeof e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,t=function(){c.port2.postMessage(0)}}var s=[];function l(){var e,t;r=!0;for(var n=s.length;n;){for(t=s,s=[],e=-1;++e<n;)t[e]();n=s.length}r=!1}n.exports=function(e){1!==s.push(e)||r||t()}}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var a={},o=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function s(e){if("function"!==typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,n){this.promise=e,"function"===typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(i){return a.reject(e,i)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=p((function(){t(i,r)}));"error"===o.status&&r(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=s,s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){if("function"!==typeof e&&this.state===u||"function"!==typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==c?f(n,this.state===u?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){a.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=u,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},s.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},s.reject=function(e){var t=new this(i);return a.reject(t,e)},s.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),u=0,c=-1,s=new this(i);++c<n;)l(e[c],c);return s;function l(e,i){t.resolve(e).then((function(e){o[i]=e,++u!==n||r||(r=!0,a.resolve(s,o))}),(function(e){r||(r=!0,a.reject(s,e))}))}},s.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o,u=-1,c=new this(i);++u<n;)o=e[u],t.resolve(o).then((function(e){r||(r=!0,a.resolve(c,e))}),(function(e){r||(r=!0,a.reject(c,e))}));return c}},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!==typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"===typeof Promise&&e(3);var o=Promise;function u(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,n){"function"===typeof t&&e.then(t),"function"===typeof n&&e.catch(n)}function s(e){return"string"!==typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f=void 0,d={},h=Object.prototype.toString;function p(e){return"boolean"===typeof f?o.resolve(f):function(e){return new o((function(t){var n=e.transaction("local-forage-detect-blob-support","readwrite"),r=a([""]);n.objectStore("local-forage-detect-blob-support").put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return f=e}))}function v(e){var t=d[e.name],n={};n.promise=new o((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function g(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function m(e,t){var n=d[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function y(e,t){return new o((function(n,r){if(d[e.name]=d[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);v(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var o=i.open.apply(i,a);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore("local-forage-detect-blob-support")}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){n(o.result),g(e)}}))}function b(e){return y(e,!1)}function x(e){return y(e,!0)}function w(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function O(e){return a([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function j(e){var t=this,n=t._initReady().then((function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(n,e,e),n}function _(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(a){if(r>0&&(!e.db||"InvalidStateError"===a.name||"NotFoundError"===a.name))return o.resolve().then((function(){if(!e.db||"NotFoundError"===a.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),x(e)})).then((function(){return function(e){v(e);for(var t=d[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,b(e).then((function(t){return e.db=t,w(e)?x(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw m(e,t),t}))}(e).then((function(){_(e,t,n,r-1)}))})).catch(n);n(a)}}var S={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=d[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},d[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=j);var a=[];function u(){return o.resolve()}for(var c=0;c<i.forages.length;c++){var s=i.forages[c];s!==t&&a.push(s._initReady().catch(u))}var l=i.forages.slice(0);return o.all(a).then((function(){return n.db=i.db,b(n)})).then((function(e){return n.db=e,w(n,t._defaultConfig.version)?x(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var a=l[r];a!==t&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(e,t){var n=this,r=new o((function(t,r){n.ready().then((function(){_(n._dbInfo,"readonly",(function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).openCursor(),u=1;o.onsuccess=function(){var n=o.result;if(n){var r=n.value;k(r)&&(r=O(r));var i=e(r,n.key,u++);void 0!==i?t(i):n.continue()}else t()},o.onerror=function(){r(o.error)}}catch(c){r(c)}}))})).catch(r)}));return u(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=new o((function(t,r){n.ready().then((function(){_(n._dbInfo,"readonly",(function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),k(e)&&(e=O(e)),t(e)},o.onerror=function(){r(o.error)}}catch(u){r(u)}}))})).catch(r)}));return u(r,t),r},setItem:function(e,t,n){var r=this;e=s(e);var i=new o((function(n,i){var a;r.ready().then((function(){return a=r._dbInfo,"[object Blob]"===h.call(t)?p(a.db).then((function(e){return e?t:(n=t,new o((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){_(r._dbInfo,"readwrite",(function(a,o){if(a)return i(a);try{var u=o.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=u.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),n(t)},o.onabort=o.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(s){i(s)}}))})).catch(i)}));return u(i,n),i},removeItem:function(e,t){var n=this;e=s(e);var r=new o((function(t,r){n.ready().then((function(){_(n._dbInfo,"readwrite",(function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){r(o.error)},a.onabort=function(){var e=o.error?o.error:o.transaction.error;r(e)}}catch(u){r(u)}}))})).catch(r)}));return u(r,t),r},clear:function(e){var t=this,n=new o((function(e,n){t.ready().then((function(){_(t._dbInfo,"readwrite",(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(o){n(o)}}))})).catch(n)}));return u(n,e),n},length:function(e){var t=this,n=new o((function(e,n){t.ready().then((function(){_(t._dbInfo,"readonly",(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(o){n(o)}}))})).catch(n)}));return u(n,e),n},key:function(e,t){var n=this,r=new o((function(t,r){e<0?t(null):n.ready().then((function(){_(n._dbInfo,"readonly",(function(i,a){if(i)return r(i);try{var o=a.objectStore(n._dbInfo.storeName),u=!1,c=o.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e?t(n.key):u?t(n.key):(u=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(s){r(s)}}))})).catch(r)}));return u(r,t),r},keys:function(e){var t=this,n=new o((function(e,n){t.ready().then((function(){_(t._dbInfo,"readonly",(function(r,i){if(r)return n(r);try{var a=i.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];a.onsuccess=function(){var t=a.result;t?(o.push(t.key),t.continue()):e(o)},a.onerror=function(){n(a.error)}}catch(u){n(u)}}))})).catch(n)}));return u(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!==typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,a=this;if(e.name){var c=e.name===n.name&&a._dbInfo.db,s=c?o.resolve(a._dbInfo.db):b(e).then((function(t){var n=d[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?s.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;v(e);var r=d[e.name],a=r.forages;t.close();for(var u=0;u<a.length;u++){var c=a[u];c._dbInfo.db=null,c._dbInfo.version=n}return new o((function(t,r){var a=i.open(e.name,n);a.onerror=function(e){a.result.close(),r(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<a.length;t++){var n=a[t];n._dbInfo.db=e,g(n._dbInfo)}})).catch((function(t){throw(m(e,t)||o.resolve()).catch((function(){})),t}))}})):s.then((function(t){v(e);var n=d[e.name],r=n.forages;t.close();for(var a=0;a<r.length;a++)r[a]._dbInfo.db=null;return new o((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)g(r[t]._dbInfo)})).catch((function(t){throw(m(e,t)||o.resolve()).catch((function(){})),t}))}))}else r=o.reject("Invalid arguments");return u(r,t),r}},E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=/^~~local_forage_type~([^~]+)~/,C="__lfsc__:".length,D=C+"arbf".length,F=Object.prototype.toString;function T(e){var t,n,r,i,a,o=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var s=new ArrayBuffer(o),l=new Uint8Array(s);for(t=0;t<u;t+=4)n=E.indexOf(e[t]),r=E.indexOf(e[t+1]),i=E.indexOf(e[t+2]),a=E.indexOf(e[t+3]),l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&a;return s}function M(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=E[n[t]>>2],r+=E[(3&n[t])<<4|n[t+1]>>4],r+=E[(15&n[t+1])<<2|n[t+2]>>6],r+=E[63&n[t+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}var P={serialize:function(e,t){var n="";if(e&&(n=F.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===F.call(e.buffer))){var r,i="__lfsc__:";e instanceof ArrayBuffer?(r=e,i+="arbf"):(r=e.buffer,"[object Int8Array]"===n?i+="si08":"[object Uint8Array]"===n?i+="ui08":"[object Uint8ClampedArray]"===n?i+="uic8":"[object Int16Array]"===n?i+="si16":"[object Uint16Array]"===n?i+="ur16":"[object Int32Array]"===n?i+="si32":"[object Uint32Array]"===n?i+="ui32":"[object Float32Array]"===n?i+="fl32":"[object Float64Array]"===n?i+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(i+M(r))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n="~~local_forage_type~"+e.type+"~"+M(this.result);t("__lfsc__:blob"+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(o){console.error("Couldn't convert value into a JSON string: ",e),t(null,o)}},deserialize:function(e){if("__lfsc__:"!==e.substring(0,C))return JSON.parse(e);var t,n=e.substring(D),r=e.substring(C,D);if("blob"===r&&A.test(n)){var i=n.match(A);t=i[1],n=n.substring(i[0].length)}var o=T(n);switch(r){case"arbf":return o;case"blob":return a([o],{type:t});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:T,bufferToString:M};function N(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function B(e,t,n,r,i,a){e.executeSql(n,r,i,(function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,u){u.rows.length?a(e,o):N(e,t,(function(){e.executeSql(n,r,i,a)}),a)}),a):a(e,o)}),a)}function R(e,t,n,r){var i=this;e=s(e);var a=new o((function(a,o){i.ready().then((function(){void 0===t&&(t=null);var u=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,s){s?o(s):c.db.transaction((function(n){B(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(u)}),(function(e,t){o(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void a(R.apply(i,[e,u,n,r-1]));o(t)}}))}))})).catch(o)}));return u(a,n),a}function z(e){return new o((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],a=0;a<r.rows.length;a++)i.push(r.rows.item(a).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var L={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!==typeof e[r]?e[r].toString():e[r];var i=new o((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction((function(i){N(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=P,i},_support:"function"===typeof openDatabase,iterate:function(e,t){var n=this,r=new o((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){B(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var a=r.rows,o=a.length,u=0;u<o;u++){var c=a.item(u),s=c.value;if(s&&(s=i.serializer.deserialize(s)),void 0!==(s=e(s,c.key,u+1)))return void t(s)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=new o((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){B(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r},setItem:function(e,t,n){return R.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=s(e);var r=new o((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){B(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r},clear:function(e){var t=this,n=new o((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n},length:function(e){var t=this,n=new o((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n},key:function(e,t){var n=this,r=new o((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){B(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return u(r,t),r},keys:function(e){var t=this,n=new o((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return u(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!==typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return u(r=e.name?new o((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(z(r))})).then((function(e){return new o((function(t,n){e.db.transaction((function(r){function i(e){return new o((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var a=[],u=0,c=e.storeNames.length;u<c;u++)a.push(i(e.storeNames[u]));o.all(a).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):o.reject("Invalid arguments"),t),r}};function I(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function U(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var q={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=I(e,this._defaultConfig),U()?(this._dbInfo=t,t.serializer=P,o.resolve()):o.reject()},_support:function(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,a=localStorage.length,o=1,u=0;u<a;u++){var c=localStorage.key(u);if(0===c.indexOf(r)){var s=localStorage.getItem(c);if(s&&(s=t.serializer.deserialize(s)),void 0!==(s=e(s,c.substring(i),o++)))return s}}}));return u(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return u(r,t),r},setItem:function(e,t,n){var r=this;e=s(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new o((function(i,a){var o=r._dbInfo;o.serializer.serialize(t,(function(t,r){if(r)a(r);else try{localStorage.setItem(o.keyPrefix+e,t),i(n)}catch(u){"QuotaExceededError"!==u.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==u.name||a(u),a(u)}}))}))}));return u(i,n),i},removeItem:function(e,t){var n=this;e=s(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return u(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return u(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return u(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(i){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return u(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var a=localStorage.key(i);0===a.indexOf(e.keyPrefix)&&r.push(a.substring(e.keyPrefix.length))}return r}));return u(n,e),n},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!==typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return u(r=e.name?new o((function(t){e.storeName?t(I(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):o.reject("Invalid arguments"),t),r}},$=function(e,t){for(var n,r,i=e.length,a=0;a<i;){if((n=e[a])===(r=t)||"number"===typeof n&&"number"===typeof r&&isNaN(n)&&isNaN(r))return!0;a++}return!1},H=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},W={},G={},K={INDEXEDDB:S,WEBSQL:L,LOCALSTORAGE:q},V=[K.INDEXEDDB._driver,K.WEBSQL._driver,K.LOCALSTORAGE._driver],Y=["dropInstance"],J=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Y),X={description:"",driver:V.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Z(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function Q(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(H(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ee=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),K)if(K.hasOwnProperty(n)){var r=K[n],i=r._driver;this[n]=i,W[i]||this.defineDriver(r)}this._defaultConfig=Q({},X),this._config=Q({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===("undefined"===typeof e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!==typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"===typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new o((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var a=J.concat("_initStorage"),c=0,s=a.length;c<s;c++){var l=a[c];if((!$(Y,l)||e[l])&&"function"!==typeof e[l])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=o.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=Y.length;n<r;n++){var i=Y[n];e[i]||(e[i]=t(i))}}();var f=function(n){W[r]&&console.info("Redefining LocalForage driver: "+r),W[r]=e,G[r]=n,t()};"_support"in e?e._support&&"function"===typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(d){n(d)}}));return c(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=W[e]?o.resolve(W[e]):o.reject(new Error("Driver not found."));return c(r,t,n),r},e.prototype.getSerializer=function(e){var t=o.resolve(P);return c(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;H(e)||(e=[e]);var i=this._getSupportedDrivers(e);function a(){r._config.driver=r.driver()}function u(e){return r._extend(e),a(),r._ready=r._initStorage(r._config),r._ready}var s=null!==this._driverSet?this._driverSet.catch((function(){return o.resolve()})):o.resolve();return this._driverSet=s.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,a(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(u).catch(n)}a();var c=new Error("No available storage method found.");return r._driverSet=o.reject(c),r._driverSet}()}}(i)}))})).catch((function(){a();var e=new Error("No available storage method found.");return r._driverSet=o.reject(e),r._driverSet})),c(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!G[e]},e.prototype._extend=function(e){Q(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=J.length;e<t;e++)Z(this,J[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=ee},{3:3}]},{},[4])(4)}).call(this,n(70))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n.n(r),a=n(161);function o(){return i.a.useContext(a.a)}},,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(170);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(58),i=n(71),a=n(23).OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return a(e.withMutations((function(e){e.forEach((function(r,a){var o=r.getKey(),u=r.getNextSiblingKey(),c=r.getPrevSiblingKey(),s=r.getChildKeys(),l=r.getParentKey(),f=i();(n[o]=f,u)&&(e.get(u)?e.setIn([u,"prevSibling"],f):e.setIn([o,"nextSibling"],null));c&&(e.get(c)?e.setIn([c,"nextSibling"],f):e.setIn([o,"prevSibling"],null));if(l&&e.get(l)){var d=e.get(l).getChildKeys();e.setIn([l,"children"],d.set(d.indexOf(r.getKey()),f))}else e.setIn([o,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],f),e.setIn([o,"prevSibling"],n[t.getKey()])),t=e.get(o);s.forEach((function(t){e.get(t)?e.setIn([t,"parent"],f):e.setIn([o,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return a(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},function(e,t,n){"use strict";var r=n(57),i=n(125),a=n(29);function o(e,t,n){var o=t.getCharacterList(),u=n>0?o.get(n-1):void 0,c=n<o.count()?o.get(n):void 0,s=u?u.getEntity():void 0,l=c?c.getEntity():void 0;if(l&&l===s&&"MUTABLE"!==e.__get(l).getMutability()){for(var f,d=function(e,t,n){var r;return i(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!==typeof r&&a(!1),r}(o,l,n),h=d.start,p=d.end;h<p;)f=o.get(h),o=o.set(h,r.applyEntity(f,null)),h++;return t.set("characterList",o)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},a=t.getStartKey(),u=t.getStartOffset(),c=n.get(a),s=o(r,c,u);s!==c&&(i[a]=s);var l=t.getEndKey(),f=t.getEndOffset(),d=n.get(l);a===l&&(d=s);var h=o(r,d,f);return h!==d&&(i[l]=h),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var i=r.slice(0,n),a=r.slice(n);r=i.concat(t,a).toList()}return r}},function(e,t,n){"use strict";var r=n(23).Map;e.exports=function(e,t,n){var i=t.getStartKey(),a=t.getEndKey(),o=e.getBlockMap(),u=o.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===a})).concat(r([[a,o.get(a)]])).map(n);return e.merge({blockMap:o.merge(u),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(58);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var a=t.get(i);a&&!a.getNextSiblingKey();){var o=a.getParentKey();a=o?t.get(o):null}return a?a.getNextSiblingKey():null}},function(e,t,n){"use strict";e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},function(e,t,n){"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getType=function(){return this.get("type")},i.getMutability=function(){return this.get("mutability")},i.getData=function(){return this.get("data")},r}((0,n(23).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},function(e,t,n){"use strict";var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},function(e,t,n){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";var r=n(92);e.exports=function e(t){if(r(t)){var n=t,i=n.getAttribute("data-offset-key");if(i)return i;for(var a=0;a<n.childNodes.length;a++){var o=e(n.childNodes[a]);if(o)return o}}return null}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},function(e,t,n){"use strict";var r=n(237),i=n(35),a=n(238),o=n(239);e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var n=e.props.editorState,u=o(n,a(e)),c=u.selectionState;c!==n.getSelection()&&(n=u.needsRecovery?i.forceSelection(n,c):i.acceptSelection(n,c),e.update(n))}}},function(e,t,n){"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},function(e,t,n){"use strict";var r=n(29),i=n(126);e.exports=function(e){var t=e.editorContainer;return t||r(!1),i(t.firstChild)||r(!1),t.firstChild}},function(e,t,n){"use strict";var r=n(240);e.exports=function(e,t){var n=t.ownerDocument.defaultView.getSelection(),i=n.anchorNode,a=n.anchorOffset,o=n.focusNode,u=n.focusOffset;return 0===n.rangeCount||null==i||null==o?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,i,a,o,u)}},function(e,t,n){"use strict";var r=n(139),i=n(234),a=n(241),o=n(29),u=n(92),c=n(48);function s(e,t,n){var a=t,s=r(a);(null!=s||e&&(e===a||e.firstChild===a)||o(!1),e===a)&&(a=a.firstChild,u(a)||o(!1),"true"!==(a=a).getAttribute("data-contents")&&o(!1),n>0&&(n=a.childNodes.length));if(0===n){var f=null;if(null!=s)f=s;else{var d=function(e){for(;e.firstChild&&(u(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||i(e.firstChild));)e=e.firstChild;return e}(a);f=c(i(d))}return{key:f,offset:0}}var h=a.childNodes[n-1],p=null,v=null;if(i(h)){var g=function(e){for(;e.lastChild&&(u(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||i(e.lastChild));)e=e.lastChild;return e}(h);p=c(i(g)),v=l(g)}else p=c(s),v=l(h);return{key:p,offset:v}}function l(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,i,o,u){var l=n.nodeType===Node.TEXT_NODE,f=o.nodeType===Node.TEXT_NODE;if(l&&f)return{selectionState:a(e,c(r(n)),i,c(r(o)),u),needsRecovery:!1};var d=null,h=null,p=!0;return l?(d={key:c(r(n)),offset:i},h=s(t,o,u)):f?(h={key:c(r(o)),offset:u},d=s(t,n,i)):(d=s(t,n,i),h=s(t,o,u),n===o&&i===u&&(p=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:a(e,d.key,d.offset,h.key,h.offset),needsRecovery:p}}},function(e,t,n){"use strict";var r=n(65),i=n(48);e.exports=function(e,t,n,a,o){var u=i(e.getSelection());if(!t||!a)return u;var c=r.decode(t),s=c.blockKey,l=e.getBlockTree(s),f=l&&l.getIn([c.decoratorKey,"leaves",c.leafKey]),d=r.decode(a),h=d.blockKey,p=e.getBlockTree(h),v=p&&p.getIn([d.decoratorKey,"leaves",d.leafKey]);if(!f||!v)return u;var g=f.get("start"),m=v.get("start"),y=f?g+n:null,b=v?m+o:null;if(u.getAnchorKey()===s&&u.getAnchorOffset()===y&&u.getFocusKey()===h&&u.getFocusOffset()===b)return u;var x=!1;if(s===h){var w=f.get("end"),O=v.get("end");x=m===g&&O===w?o<n:m<g}else{x=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===s||e===h})).first()===h}return u.merge({anchorKey:s,anchorOffset:y,focusKey:h,focusOffset:b,isBackward:x})}},function(e,t,n){"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},function(e,t,n){"use strict";var r=n(76);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(380),u=n(1),c=n(29),s=n(244),l=n(381).setDraftEditorSelection,f=function(e){var t,n;function f(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a(i(t=e.call.apply(e,[this].concat(r))||this),"leaf",void 0),t}n=e,(t=f).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=f.prototype;return d._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,i=t.text,a=n.getKey(),o=r+i.length;if(e.hasEdgeWithin(a,r,o)){var u=this.leaf;u||c(!1);var f,d=u.firstChild;d||c(!1),d.nodeType===Node.TEXT_NODE?f=d:s(d)?f=u:(f=d.firstChild)||c(!1),l(e,f,a,r,o)}}},d.shouldComponentUpdate=function(e){var t=this.leaf;return t||c(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},d.componentDidUpdate=function(){this._setSelection()},d.componentDidMount=function(){this._setSelection()},d.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,a=i.customStyleMap,c=i.customStyleFn,s=i.offsetKey,l=i.styleSet,f=l.reduce((function(e,t){var n={},i=a[t];return void 0!==i&&e.textDecoration!==i.textDecoration&&(n.textDecoration=[e.textDecoration,i.textDecoration].join(" ").trim()),r(e,i,n)}),{});if(c){var d=c(l,t);f=r(f,d)}return u.createElement("span",{"data-offset-key":s,ref:function(t){return e.leaf=t},style:f},u.createElement(o,null,n))},f}(u.Component);e.exports=f},function(e,t,n){"use strict";var r=n(92);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},function(e,t,n){"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},function(e,t,n){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=n(387);e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},function(e,t,n){"use strict";function r(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function i(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function a(){return{width:window.innerWidth||r(),height:window.innerHeight||i()}}a.withoutScrollbars=function(){return{width:r(),height:i()}},e.exports=a},function(e,t,n){"use strict";var r=n(76);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(243),c=n(65),s=n(1),l=n(189),f=n(142),d=n(185),h=n(138),p=n(91),v=n(247),g=n(143),m=n(248),y=n(29),b=n(126),x=n(48),w=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return o(a(t=e.call.apply(e,[this].concat(r))||this),"_node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var O=r.prototype;return O.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||w(e.selection,e.block.getKey())&&e.forceSelection},O.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,i=f.getScrollParent(n),a=g(i);if(i===window){var o=v(n);(r=o.y+o.height-m().height)>0&&window.scrollTo(a.x,a.y+r+10)}else{b(n)||y(!1),(r=n.offsetHeight+n.offsetTop-(i.offsetTop+i.offsetHeight+a.y))>0&&l.setTop(i,l.getTop(i)+r+10)}}}}},O._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),a=this.props.tree.size-1,o=w(this.props.selection,n);return this.props.tree.map((function(l,f){var p=l.get("leaves");if(0===p.size)return null;var v=p.size-1,g=p.map((function(i,l){var d=c.encode(n,f,l),h=i.get("start"),p=i.get("end");return s.createElement(u,{key:d,offsetKey:d,block:t,start:h,selection:o?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(h,p),styleSet:t.getInlineStyleAt(h),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:f===a&&l===v})})).toArray(),m=l.get("decoratorKey");if(null==m)return g;if(!e.props.decorator)return g;var y=x(e.props.decorator),b=y.getComponentForKey(m);if(!b)return g;var w=y.getPropsForKey(m),O=c.encode(n,f,0),k=p.first().get("start"),j=p.last().get("end"),_=r.slice(k,j),S=t.getEntityAt(l.get("start")),E=h.getHTMLDirIfDifferent(d.getDirection(_),e.props.direction),A={contentState:e.props.contentState,decoratedText:_,dir:E,start:k,end:j,blockKey:n,entityKey:S,offsetKey:O};return s.createElement(b,i({},w,A,{key:O}),g)})).toArray()},O.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,i=p({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return s.createElement("div",{"data-offset-key":r,className:i,ref:function(t){return e._node=t}},this._renderChildren())},r}(s.Component);e.exports=O},function(e,t,n){"use strict";var r=n(393),i=n(394),a=n(251),o=new RegExp("\r\n","g"),u={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var s=function(){function e(e){this.data=e,this.types=e.types?i(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return u[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(o,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var i=t[n].type;if(!r.isImage(i))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(a.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=s},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(29),i=/\.textClipping$/,a={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var o=0,u=[];e.forEach((function(c){!function(e,n){if(!t.FileReader||e.type&&!(e.type in a))return void n("");if(""===e.type){var o="";return i.test(e.name)&&(o=e.name.replace(i,"")),void n(o)}var u=new FileReader;u.onload=function(){var e=u.result;"string"!==typeof e&&r(!1),n(e)},u.onerror=function(){n("")},u.readAsText(e)}(c,(function(t){o++,t&&u.push(t.slice(0,5e3)),o==e.length&&n(u.join("\r"))}))}))}}).call(this,n(70))},function(e,t,n){"use strict";var r=n(135);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},function(e,t,n){"use strict";var r=n(35),i=n(93),a=n(190),o=n(127);e.exports=function(e){var t=o(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),u=n.getBlockForKey(r).getText()[o-1];return a(e,u?i.getUTF16Length(u,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},function(e,t,n){"use strict";var r=n(55),i=n(29);var a=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var a=r===e.commonAncestorContainer;a?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var o,u=Array.from(t.getClientRects());if(n.push(u),a)return n.reverse(),(o=[]).concat.apply(o,n);t.setEndBefore(r)}i(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=a},function(e,t,n){"use strict";var r="\\s|(?![_])"+n(415).getPunctuation(),i=new RegExp("^(?:"+r+")*(?:['\u2018\u2019]|(?!"+r+").)*(?:(?!"+r+").)"),a=new RegExp("(?:(?!"+r+").)(?:['\u2018\u2019]|(?!"+r+").)*(?:"+r+")*$");function o(e,t){var n=t?a.exec(e):i.exec(e);return n?n[0]:e}var u={getBackward:function(e){return o(e,!0)},getForward:function(e){return o(e,!1)}};e.exports=u},function(e,t,n){"use strict";n(191);e.exports=function(e,t){var n,r=e.getSelection(),i=r.getStartKey(),a=r.getStartOffset(),o=e.getCurrentContent(),u=i;return t>o.getBlockForKey(i).getText().length-a?(u=o.getKeyAfter(i),n=0):n=a+t,r.merge({focusKey:u,focusOffset:n})}},function(e,t,n){"use strict";var r;function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(57),u=n(90),c=n(58),s=n(186),l=n(136),f=n(425),d=n(91),h=n(71),p=n(259),v=n(81),g=n(23),m=g.List,y=g.Map,b=g.OrderedSet,x=n(426),w=n(244),O=n(126),k=n(427),j=v("draft_tree_data_support"),_=new RegExp("\r","g"),S=new RegExp("\n","g"),E=new RegExp("^\n","g"),A=new RegExp("&nbsp;","g"),C=new RegExp("&#13;?","g"),D=new RegExp("&#8203;?","g"),F=["bold","bolder","500","600","700","800","900"],T=["light","lighter","normal","100","200","300","400"],M=["className","href","rel","target","title"],P=["alt","className","height","src","width"],N=(a(r={},d("public/DraftStyleDefault/depth0"),0),a(r,d("public/DraftStyleDefault/depth1"),1),a(r,d("public/DraftStyleDefault/depth2"),2),a(r,d("public/DraftStyleDefault/depth3"),3),a(r,d("public/DraftStyleDefault/depth4"),4),r),B=y({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),R=function(e){var t={};return e.mapKeys((function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===t[n]?t[n]=e:"string"===typeof t[n]?t[n]=[t[n],e]:t[n].push(e)}))})),y(t)},z=function(e){if(O(e)&&e.style.fontFamily.includes("monospace"))return"CODE";return null},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(N).some((function(n){e.classList.contains(n)&&(t=N[n])})),t},I=function(e){if(!x(e))return!1;var t=e;return!(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)},U=function(e){if(!k(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},q=function(e,t){if(!O(e))return t;var n=e,r=n.style.fontWeight,i=n.style.fontStyle,a=n.style.textDecoration;return t.withMutations((function(e){F.indexOf(r)>=0?e.add("BOLD"):T.indexOf(r)>=0&&e.remove("BOLD"),"italic"===i?e.add("ITALIC"):"normal"===i&&e.remove("ITALIC"),"underline"===a&&e.add("UNDERLINE"),"line-through"===a&&e.add("STRIKETHROUGH"),"none"===a&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},$=function(e){return"ul"===e||"ol"===e},H=function(){function e(e,t){a(this,"characterList",m()),a(this,"currentBlockType","unstyled"),a(this,"currentDepth",0),a(this,"currentEntity",null),a(this,"currentText",""),a(this,"wrapper",null),a(this,"blockConfigs",[]),a(this,"contentBlocks",[]),a(this,"entityMap",l),a(this,"blockTypeMap",void 0),a(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=m(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=l,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(j?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||h(),n=i({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:m(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=m(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=i.nodeName.toLowerCase();if("body"===a||$(a)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var o=this.currentDepth,u=this.wrapper;$(a)&&(this.wrapper=a,$(u)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),t)),this.currentDepth=o,this.wrapper=u}else{var c=this.blockTypeMap.get(a);if(void 0===c)if("#text"!==a)if("br"!==a)if(U(i))this._addImgNode(i,t);else if(I(i))this._addAnchorNode(i,n,t);else{var s=t;B.has(a)&&(s=s.add(B.get(a))),s=q(i,s);var l=z(i);null!=l&&(s=s.add(l)),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),s))}else this._addBreakNode(i,t);else this._addTextNode(i,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var f=this.currentDepth,d=this.wrapper;if(this.wrapper="pre"===a?"pre":this.wrapper,"string"!==typeof c&&(c=this.disambiguate(a,this.wrapper)||c[0]||"unstyled"),!j&&O(i)&&("unordered-list-item"===c||"ordered-list-item"===c)){var p=i;this.currentDepth=L(p,this.currentDepth)}var v=h(),g=this._toBlockConfigs(Array.from(i.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:v,childConfigs:g,type:c})),this.currentDepth=f,this.wrapper=d}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=o.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=m()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(E,"")).replace(S," ")),this._appendText(n,t)},t._addBreakNode=function(e,t){w(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(k(e)){var n=e,r={};P.forEach((function(e){var t=n.getAttribute(e);t&&(r[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),v("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("\ud83d\udcf7",t):this._appendText("\ud83d\udcf7",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(x(e)){var r=e,i={};M.forEach((function(e){var t=r.getAttribute(e);t&&(i[e]=t)})),i.url=new f(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",i||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var a=e[r];a.parent=t,a.prevSibling=r>0?e[r-1].key:null,a.nextSibling=r<n?e[r+1].key:null,a.children=m(a.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new c(i({},a))),this._toContentBlocks(a.childConfigs,a.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return m(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,a=n.characterList;t.contentBlocks.push(new u(i({},e,{text:e.text+r,characterList:e.characterList.concat(a)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=m(),i=0;i<=t;i++){var a=e[i];n+=a.text,r=r.concat(a.characterList),""!==n&&"unstyled"!==a.type&&(n+="\n",r=r.push(r.last()));var o=this._extractTextFromBlockConfigs(a.childConfigs);n+=o.text,r=r.concat(o.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r=t(e=e.trim().replace(_,"").replace(A," ").replace(C,"").replace(D,""));if(!r)return null;var i=R(n),a=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new H(i,a).addDOMNode(r).getContentBlocks()}},function(e,t,n){"use strict";var r=n(55),i=n(29),a=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!a&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},function(e,t,n){"use strict";var r=n(47),i=n(35),a=n(428),o=n(48),u={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return u.toggleInlineStyle(e,"BOLD");case"italic":return u.toggleInlineStyle(e,"ITALIC");case"underline":return u.toggleInlineStyle(e,"UNDERLINE");case"code":return u.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return u.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return u.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=i.push(e,t,"insert-characters");return i.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),a=n.getBlockBefore(r);if(a&&"atomic"===a.getType()){var o=n.getBlockMap().delete(a.getKey()),c=n.merge({blockMap:o,selectionAfter:t});if(c!==n)return i.push(e,c,"remove-range")}var s=u.tryToRemoveBlockStyle(e);return s?i.push(e,s,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),a=t.getStartKey(),o=n.getBlockForKey(a).getLength();if(t.getStartOffset()<o)return null;var u=n.getBlockAfter(a);if(!u||"atomic"!==u.getType())return null;var c=t.merge({focusKey:u.getKey(),focusOffset:u.getLength()}),s=r.removeRange(n,c,"forward");return s!==n?i.push(e,s,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),o=r.getAnchorKey();if(o!==r.getFocusKey())return t;var u=t.getCurrentContent(),c=u.getBlockForKey(o),s=c.getType();if("unordered-list-item"!==s&&"ordered-list-item"!==s)return t;e.preventDefault();var l=c.getDepth();if(!e.shiftKey&&l===n)return t;var f=a(u,r,e.shiftKey?-1:1,n);return i.push(t,f,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),a=n.getStartKey(),u=n.getEndKey(),c=e.getCurrentContent(),s=n;if(a!==u&&0===n.getEndOffset()){var l=o(c.getBlockBefore(u));u=l.getKey(),s=s.merge({anchorKey:a,anchorOffset:n.getStartOffset(),focusKey:u,focusOffset:l.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==a})).reverse().skipWhile((function(e,t){return t!==u})).some((function(e){return"atomic"===e.getType()})))return e;var f=c.getBlockForKey(a).getType()===t?"unstyled":t;return i.push(e,r.setBlockType(c,s,f),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?u.toggleBlockType(e,"code-block"):u.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),a=e.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(e,a.has(t)?a.remove(t):a.add(t));var o,u=e.getCurrentContent();return o=a.has(t)?r.removeInlineStyle(u,n,t):r.applyInlineStyle(u,n,t),i.push(e,o,"change-inline-style")},toggleLink:function(e,t,n){var a=r.applyEntity(e.getCurrentContent(),t,n);return i.push(e,a,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var i=t.getAnchorKey(),a=e.getCurrentContent(),o=a.getBlockForKey(i).getType(),u=a.getBlockBefore(i);if("code-block"===o&&u&&"code-block"===u.getType()&&0!==u.getLength())return null;if("unstyled"!==o)return r.setBlockType(a,t,"unstyled")}return null}};e.exports=u},function(e,t,n){"use strict";var r=n(192),i=n(141),a=n(55),o=a.isPlatform("Mac OS X"),u=o&&a.isBrowser("Firefox < 29"),c=r.hasCommandModifier,s=r.isCtrlKeyCommand;function l(e){return o&&e.altKey||s(e)}e.exports=function(e){switch(e.keyCode){case 66:return c(e)?"bold":null;case 68:return s(e)?"delete":null;case 72:return s(e)?"backspace":null;case 73:return c(e)?"italic":null;case 74:return c(e)?"code":null;case 75:return o&&s(e)?"secondary-cut":null;case 77:case 79:return s(e)?"split-block":null;case 84:return o&&s(e)?"transpose-characters":null;case 85:return c(e)?"underline":null;case 87:return o&&s(e)?"backspace-word":null;case 89:return s(e)?o?"secondary-paste":"redo":null;case 90:return function(e){return c(e)?e.shiftKey?"redo":"undo":null}(e)||null;case i.RETURN:return"split-block";case i.DELETE:return function(e){return!o&&e.shiftKey?null:l(e)?"delete-word":"delete"}(e);case i.BACKSPACE:return function(e){return c(e)&&o?"backspace-to-start-of-line":l(e)?"backspace-word":"backspace"}(e);case i.LEFT:return u&&c(e)?"move-selection-to-start-of-block":null;case i.RIGHT:return u&&c(e)?"move-selection-to-end-of-block":null;default:return null}}},function(e,t,n){"use strict";var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.getBlockMap().keySeq().skipUntil((function(e){return e===t})).takeUntil((function(e){return e===n})).concat([n])}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(264),i=n(500),a=n(266);e.exports=function(e,t){return r(e)||i(e,t)||a()}},function(e,t,n){var r=n(66);e.exports=function(e,t,n){return 0!==r(e,t,n)}},function(e,t,n){var r=n(194),i=n(271),a=n(152),o=n(197),u=n(196),c=n(198);e.exports=function(e,t,n,s){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,s);case"!=":return i(e,n,s);case">":return a(e,n,s);case">=":return o(e,n,s);case"<":return u(e,n,s);case"<=":return c(e,n,s);default:throw new TypeError("Invalid operator: ".concat(t))}}},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}n.d(t,"a",(function(){return r}))},function(e){e.exports=JSON.parse('{"a":"5.13.0"}')},function(e){e.exports=JSON.parse('{"a":"4.14.1"}')},function(e,t){},function(e,t,n){"use strict";e.exports={DEFAULT_API_VERSION:"20160516",DEFAULT_MAX_STEPS:5,DEFAULT_WIT_URL:"https://api.wit.ai"}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},,,function(e,t,n){"use strict";var r=n(105);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),a=(0,r(n(123)).default)(i.default.createElement("path",{d:"M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"Navigation");t.default=a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(1)),a=n(22),o=f(n(474)),u=f(n(475)),c=f(n(476)),s=f({buttonWrapper:"draftJsEmojiPlugin__buttonWrapper__1Dmqh",button:"draftJsEmojiPlugin__button__qi1gf",active:"draftJsEmojiPlugin__active__3qcpF"}),l=f({alignmentTool:"draftJsEmojiPlugin__alignmentTool__2mkQr"});function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){var n=t.getEditorState,i=t.setEditorState;return function(t){var o=e.getEntityAt(0);if(o){var u=n();u.getCurrentContent().mergeEntityData(o,r({},t)),i(a.EditorState.forceSelection(u,u.getSelection()))}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,c.default)({isVisible:!1}),n={buttonStyles:s.default,alignmentToolStyles:l.default},a=e.theme,f=void 0===a?n:a,h=function(e){return i.default.createElement(u.default,r({},e,{store:t,theme:f}))};return{initialize:function(e){var n=e.getReadOnly,r=e.getEditorState,i=e.setEditorState;t.updateItem("getReadOnly",n),t.updateItem("getEditorState",r),t.updateItem("setEditorState",i)},decorator:(0,o.default)({config:e,store:t}),blockRendererFn:function(e,t){var n=t.getEditorState,r=t.setEditorState,i=e.getEntityAt(0),a=n().getCurrentContent();return{props:{alignment:(i?a.getEntity(i).data:{}).alignment||"default",setAlignment:d(e,{getEditorState:n,setEditorState:r})}}},AlignmentTool:h}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=h(n(477)),a=h(n(478)),o=h(n(479)),u=h(n(480)),c=h(n(481)),s=h(n(482)),l=h(n(263)),f=h(n(484)),d=h({unfocused:"draftJsFocusPlugin__unfocused__1Wvrs",focused:"draftJsFocusPlugin__focused__3Mksn"});function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){var n=e.getSelection();if(n.getAnchorKey()!==n.getFocusKey())return!1;var r=e.getCurrentContent().getBlockForKey(n.getAnchorKey());return t.includes(r.getKey())},v=["backspace","backspace-word","backspace-to-start-of-line","delete","delete-word","delete-to-end-of-block"];t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,c.default)({}),n=e.theme?e.theme:d.default,h=void 0,g=void 0;return{handleReturn:function(e,n,r){var a=r.setEditorState;return p(n,t)?(a((0,i.default)(n)),"handled"):"not-handled"},handleKeyCommand:function(e,n,r,i){var a=i.setEditorState;if(v.includes(e)&&p(n,t)){var o=n.getSelection().getStartKey(),u=(0,f.default)(n,o);if(u!==n)return a(u),"handled"}return"not-handled"},onChange:function(e){var n=e.getCurrentContent();if(!n.equals(g))return g=n,e;g=n;var i=e.getSelection();if(h&&i.equals(h))return h=e.getSelection(),e;var a=t.getAll();if(h&&(0,l.default)(n,h.getStartKey(),h.getEndKey()).some((function(e){return a.includes(e)})))return h=i,r.EditorState.forceSelection(e,e.getSelection());return(0,l.default)(n,i.getStartKey(),i.getEndKey()).some((function(e){return a.includes(e)}))?(h=i,r.EditorState.forceSelection(e,e.getSelection())):e},keyBindingFn:function(e,n){var r=n.getEditorState,i=n.setEditorState,o=r();if(p(o,t)&&(37===e.keyCode&&(0,a.default)(r,i,"up",e),39===e.keyCode&&(0,a.default)(r,i,"down",e),38===e.keyCode&&(0,a.default)(r,i,"up",event),40===e.keyCode))(0,a.default)(r,i,"down",event);else if(!e.shiftKey){if(37===e.keyCode){var u=o.getSelection(),c=u.getAnchorKey(),s=o.getCurrentContent().getBlockBefore(c);s&&0===u.getAnchorOffset()&&t.includes(s.getKey())&&(0,a.default)(r,i,"up",e)}if(39===e.keyCode){var l=o.getSelection(),f=l.getFocusKey(),d=o.getCurrentContent().getBlockForKey(f),h=o.getCurrentContent().getBlockAfter(f),v="atomic"!==d.getType()&&d.getLength()===l.getFocusOffset();h&&v&&t.includes(h.getKey())&&(0,a.default)(r,i,"down",e)}if(38===e.keyCode){var g=o.getSelection().getAnchorKey(),m=o.getCurrentContent().getBlockBefore(g);m&&t.includes(m.getKey())&&(0,a.default)(r,i,"up",event)}if(40===e.keyCode){var y=o.getSelection().getAnchorKey(),b=o.getCurrentContent().getBlockAfter(y);b&&t.includes(b.getKey())&&(0,a.default)(r,i,"down",event)}}},blockRendererFn:function(e,t){var n=t.getEditorState,r=t.setEditorState;if("atomic"===e.getType()){var i=n();return{props:{isFocused:(0,s.default)(i,e.getKey()),isCollapsedSelection:i.getSelection().isCollapsed(),setFocusToBlock:function(){(0,o.default)(n,r,e)}}}}},decorator:(0,u.default)({theme:n,blockKeyStore:t})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(22),o=n(485),u=(r=o)&&r.__esModule?r:{default:r};var c=function(e,t){var n=t.getEditorState,r=t.setEditorState;return function(t){var o=e.getEntityAt(0);if(o){var u=n();u.getCurrentContent().mergeEntityData(o,i({},t)),r(a.EditorState.forceSelection(u,u.getSelection()))}}};t.default=function(e){var t={getEditorRef:void 0,getReadOnly:void 0,getEditorState:void 0,setEditorState:void 0};return{initialize:function(e){var n=e.getEditorRef,r=e.getReadOnly,i=e.getEditorState,a=e.setEditorState;t.getReadOnly=r,t.getEditorRef=n,t.getEditorState=i,t.setEditorState=a},decorator:(0,u.default)({config:e,store:t}),blockRendererFn:function(e,t){var n=t.getEditorState,r=t.setEditorState,i=e.getEntityAt(0),a=n().getCurrentContent();return{props:{resizeData:i?a.getEntity(i).data:{},setResizeData:c(e,{getEditorState:n,setEditorState:r})}}}}}},function(e,t,n){"use strict";var r=n(112);t.a=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Object(r.a)(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(102),i=n(318),a=n(101),o=n(317),u=n(131),c=n(132);function s(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function l(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function f(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function d(e){var t=e.dateTime,n=e.date,u=e.time,c=e.periods,d=e.days,p=e.shortDays,v=e.months,g=e.shortMonths,m=b(c),y=x(c),je=b(d),_e=x(d),Se=b(p),Ee=x(p),Ae=b(v),Ce=x(v),De=b(g),Fe=x(g),Te={a:function(e){return p[e.getDay()]},A:function(e){return d[e.getDay()]},b:function(e){return g[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:null,d:U,e:U,f:G,H:q,I:$,j:H,L:W,m:K,M:V,p:function(e){return c[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Oe,s:ke,S:Y,u:J,U:X,V:Z,w:Q,W:ee,x:null,X:null,y:te,Y:ne,Z:re,"%":we},Me={a:function(e){return p[e.getUTCDay()]},A:function(e){return d[e.getUTCDay()]},b:function(e){return g[e.getUTCMonth()]},B:function(e){return v[e.getUTCMonth()]},c:null,d:ie,e:ie,f:se,H:ae,I:oe,j:ue,L:ce,m:le,M:fe,p:function(e){return c[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Oe,s:ke,S:de,u:he,U:pe,V:ve,w:ge,W:me,x:null,X:null,y:ye,Y:be,Z:xe,"%":we},Pe={a:function(e,t,n){var r=Se.exec(t.slice(n));return r?(e.w=Ee[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=je.exec(t.slice(n));return r?(e.w=_e[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=De.exec(t.slice(n));return r?(e.m=Fe[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.m=Ce[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return Re(e,t,n,r)},d:F,e:F,f:R,H:M,I:M,j:T,L:B,m:D,M:P,p:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.p=y[r[0].toLowerCase()],n+r[0].length):-1},q:C,Q:L,s:I,S:N,u:O,U:k,V:j,w:w,W:_,x:function(e,t,r){return Re(e,n,t,r)},X:function(e,t,n){return Re(e,u,t,n)},y:E,Y:S,Z:A,"%":z};function Ne(e,t){return function(n){var r,i,a,o=[],u=-1,c=0,s=e.length;for(n instanceof Date||(n=new Date(+n));++u<s;)37===e.charCodeAt(u)&&(o.push(e.slice(c,u)),null!=(i=h[r=e.charAt(++u)])?r=e.charAt(++u):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),c=u+1);return o.push(e.slice(c,u)),o.join("")}}function Be(e,t){return function(n){var u,c,d=f(1900,void 0,1);if(Re(d,e,n+="",0)!=n.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(!t||"Z"in d||(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(c=(u=l(f(d.y,0,1))).getUTCDay(),u=c>4||0===c?r.a.ceil(u):Object(r.a)(u),u=i.a.offset(u,7*(d.V-1)),d.y=u.getUTCFullYear(),d.m=u.getUTCMonth(),d.d=u.getUTCDate()+(d.w+6)%7):(c=(u=s(f(d.y,0,1))).getDay(),u=c>4||0===c?a.a.ceil(u):Object(a.a)(u),u=o.a.offset(u,7*(d.V-1)),d.y=u.getFullYear(),d.m=u.getMonth(),d.d=u.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),c="Z"in d?l(f(d.y,0,1)).getUTCDay():s(f(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(c+5)%7:d.w+7*d.U-(c+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,l(d)):s(d)}}function Re(e,t,n,r){for(var i,a,o=0,u=t.length,c=n.length;o<u;){if(r>=c)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=Pe[i in h?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return(Te.x=Ne(n,Te),Te.X=Ne(u,Te),Te.c=Ne(t,Te),Me.x=Ne(n,Me),Me.X=Ne(u,Me),Me.c=Ne(t,Me),{format:function(e){var t=Ne(e+="",Te);return t.toString=function(){return e},t},parse:function(e){var t=Be(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Ne(e+="",Me);return t.toString=function(){return e},t},utcParse:function(e){var t=Be(e+="",!0);return t.toString=function(){return e},t}})}var h={"-":"",_:" ",0:"0"},p=/^\s*\d+/,v=/^%/,g=/[\\^$*+?|[\]().{}]/g;function m(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function y(e){return e.replace(g,"\\$&")}function b(e){return new RegExp("^(?:"+e.map(y).join("|")+")","i")}function x(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function w(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function O(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function k(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function j(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function S(e,t,n){var r=p.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function E(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function A(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function C(e,t,n){var r=p.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function D(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function F(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function T(e,t,n){var r=p.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function M(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function P(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function N(e,t,n){var r=p.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function B(e,t,n){var r=p.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function R(e,t,n){var r=p.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function z(e,t,n){var r=v.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function L(e,t,n){var r=p.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function I(e,t,n){var r=p.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function U(e,t){return m(e.getDate(),t,2)}function q(e,t){return m(e.getHours(),t,2)}function $(e,t){return m(e.getHours()%12||12,t,2)}function H(e,t){return m(1+o.a.count(Object(u.a)(e),e),t,3)}function W(e,t){return m(e.getMilliseconds(),t,3)}function G(e,t){return W(e,t)+"000"}function K(e,t){return m(e.getMonth()+1,t,2)}function V(e,t){return m(e.getMinutes(),t,2)}function Y(e,t){return m(e.getSeconds(),t,2)}function J(e){var t=e.getDay();return 0===t?7:t}function X(e,t){return m(a.b.count(Object(u.a)(e)-1,e),t,2)}function Z(e,t){var n=e.getDay();return e=n>=4||0===n?Object(a.c)(e):a.c.ceil(e),m(a.c.count(Object(u.a)(e),e)+(4===Object(u.a)(e).getDay()),t,2)}function Q(e){return e.getDay()}function ee(e,t){return m(a.a.count(Object(u.a)(e)-1,e),t,2)}function te(e,t){return m(e.getFullYear()%100,t,2)}function ne(e,t){return m(e.getFullYear()%1e4,t,4)}function re(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+m(t/60|0,"0",2)+m(t%60,"0",2)}function ie(e,t){return m(e.getUTCDate(),t,2)}function ae(e,t){return m(e.getUTCHours(),t,2)}function oe(e,t){return m(e.getUTCHours()%12||12,t,2)}function ue(e,t){return m(1+i.a.count(Object(c.a)(e),e),t,3)}function ce(e,t){return m(e.getUTCMilliseconds(),t,3)}function se(e,t){return ce(e,t)+"000"}function le(e,t){return m(e.getUTCMonth()+1,t,2)}function fe(e,t){return m(e.getUTCMinutes(),t,2)}function de(e,t){return m(e.getUTCSeconds(),t,2)}function he(e){var t=e.getUTCDay();return 0===t?7:t}function pe(e,t){return m(r.b.count(Object(c.a)(e)-1,e),t,2)}function ve(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Object(r.c)(e):r.c.ceil(e),m(r.c.count(Object(c.a)(e),e)+(4===Object(c.a)(e).getUTCDay()),t,2)}function ge(e){return e.getUTCDay()}function me(e,t){return m(r.a.count(Object(c.a)(e)-1,e),t,2)}function ye(e,t){return m(e.getUTCFullYear()%100,t,2)}function be(e,t){return m(e.getUTCFullYear()%1e4,t,4)}function xe(){return"+0000"}function we(){return"%"}function Oe(e){return+e}function ke(e){return Math.floor(+e/1e3)}},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(c){n=function(){}}try{r=Set}catch(c){r=function(){}}try{i=Promise}catch(c){i=function(){}}function a(o,c,s,l,f){"object"===typeof c&&(s=c.depth,l=c.prototype,f=c.includeNonEnumerable,c=c.circular);var d=[],h=[],p="undefined"!=typeof t;return"undefined"==typeof c&&(c=!0),"undefined"==typeof s&&(s=1/0),function o(s,v){if(null===s)return null;if(0===v)return s;var g,m;if("object"!=typeof s)return s;if(e(s,n))g=new n;else if(e(s,r))g=new r;else if(e(s,i))g=new i((function(e,t){s.then((function(t){e(o(t,v-1))}),(function(e){t(o(e,v-1))}))}));else if(a.__isArray(s))g=[];else if(a.__isRegExp(s))g=new RegExp(s.source,u(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(a.__isDate(s))g=new Date(s.getTime());else{if(p&&t.isBuffer(s))return g=t.allocUnsafe?t.allocUnsafe(s.length):new t(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):"undefined"==typeof l?(m=Object.getPrototypeOf(s),g=Object.create(m)):(g=Object.create(l),m=l)}if(c){var y=d.indexOf(s);if(-1!=y)return h[y];d.push(s),h.push(g)}for(var b in e(s,n)&&s.forEach((function(e,t){var n=o(t,v-1),r=o(e,v-1);g.set(n,r)})),e(s,r)&&s.forEach((function(e){var t=o(e,v-1);g.add(t)})),s){var x;m&&(x=Object.getOwnPropertyDescriptor(m,b)),x&&null==x.set||(g[b]=o(s[b],v-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(s);for(b=0;b<w.length;b++){var O=w[b];(!(j=Object.getOwnPropertyDescriptor(s,O))||j.enumerable||f)&&(g[O]=o(s[O],v-1),j.enumerable||Object.defineProperty(g,O,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(s);for(b=0;b<k.length;b++){var j,_=k[b];(j=Object.getOwnPropertyDescriptor(s,_))&&j.enumerable||(g[_]=o(s[_],v-1),Object.defineProperty(g,_,{enumerable:!1}))}}return g}(o,s)}function o(e){return Object.prototype.toString.call(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=o,a.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},a.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},a.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},a.__getRegExpFlags=u,a}();e.exports&&(e.exports=n)}).call(this,n(147).Buffer)},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},function(e){e.exports=JSON.parse('{"name":"vega-themes","version":"2.8.5","description":"Themes for stylized Vega and Vega-Lite visualizations.","keywords":["vega","vega-lite","themes","style"],"license":"BSD-3-Clause","author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"contributors":[{"name":"Emily Gu","url":"https://github.com/emilygu"},{"name":"Arvind Satyanarayan","url":"http://arvindsatya.com"},{"name":"Jeffrey Heer","url":"https://idl.cs.washington.edu"},{"name":"Dominik Moritz","url":"https://www.domoritz.de"}],"main":"build/vega-themes.js","module":"build/src/index.js","unpkg":"build/vega-themes.min.js","jsdelivr":"build/vega-themes.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-themes.git"},"scripts":{"prepare":"beemo create-config --silent","clean":"rm -rf build examples/build","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","prebuild":"mkdir -p build","build":"tsc && rollup -c","postbuild":"terser build/vega-themes.js -cm > build/vega-themes.min.js","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","serve":"browser-sync start -s -f build examples --serveStatic examples","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'yarn serve\' \'tsc -w\' \'rollup -c -w\'"},"devDependencies":{"@rollup/plugin-json":"^4.1.0","browser-sync":"^2.26.7","concurrently":"^5.2.0","gh-pages":"^3.1.0","rollup":"^2.21.0","terser":"^4.8.0","typescript":"^3.9.6","vega":"^5.10.0","vega-lite":"^4.8.1","vega-lite-dev-config":"^0.11.8"},"peerDependencies":{"vega":"*","vega-lite":"*"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]}}')},function(e){e.exports=JSON.parse('{"name":"vega-tooltip","version":"0.23.2","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@rollup/plugin-commonjs":"13.0.0","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^8.1.0","@types/jest":"^26.0.4","browser-sync":"^2.26.7","codecov":"^3.7.0","concurrently":"^5.2.0","gh-pages":"^3.1.0","jest":"^26.1.0","node-sass":"^4.14.1","path":"^0.12.7","rollup":"^2.21.0","terser":"^4.8.0","ts-jest":"^26.1.1","typescript":"^3.9.6","vega-datasets":"^2.1.0","vega-lite-dev-config":"^0.11.8","vega-typings":"^0.18.0"},"dependencies":{"vega-util":"^1.14.1"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},function(e,t,n){"use strict";t.a=function(e,t,n){var r=e.open(t),i=new URL(t).origin,a=40;e.addEventListener("message",(function t(n){n.source===r&&(a=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){a<=0||(r.postMessage(n,i),setTimeout(e,250),a-=1)}),250)}},,function(e,t,n){"use strict";var r=n(105);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),a=(0,r(n(123)).default)(i.default.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");t.default=a},function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function u(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:c(u(e))}function s(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?l:10===e?f:l||f}function h(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function v(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}(o)?o:h(o);var u=p(e);return u.host?v(u.host,t):v(e,p(t).host)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(t,"top"),i=g(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function y(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function x(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _(e){return j({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=g(e,"top"),r=g(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(h){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?x(e.ownerDocument):{},u=a.width||e.clientWidth||i.width,c=a.height||e.clientHeight||i.height,s=e.offsetWidth-u,l=e.offsetHeight-c;if(s||l){var f=o(e);s-=y(f,"x"),l-=y(f,"y"),i.width-=s,i.height-=l}return _(i)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),i="HTML"===t.nodeName,a=S(e),u=S(t),s=c(e),l=o(t),f=parseFloat(l.borderTopWidth),h=parseFloat(l.borderLeftWidth);n&&i&&(u.top=Math.max(u.top,0),u.left=Math.max(u.left,0));var p=_({top:a.top-u.top-f,left:a.left-u.left-h,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!r&&i){var v=parseFloat(l.marginTop),g=parseFloat(l.marginLeft);p.top-=f-v,p.bottom-=f-v,p.left-=h-g,p.right-=h-g,p.marginTop=v,p.marginLeft=g}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=m(p,t)),p}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=E(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:g(n),u=t?0:g(n,"left"),c={top:o-r.top+r.marginTop,left:u-r.left+r.marginLeft,width:i,height:a};return _(c)}function C(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=u(e);return!!n&&C(n)}function D(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function F(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?D(e):v(e,s(t));if("viewport"===r)a=A(o,i);else{var l=void 0;"scrollParent"===r?"BODY"===(l=c(u(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var f=E(l,o,i);if("HTML"!==l.nodeName||C(o))a=f;else{var d=x(e.ownerDocument),h=d.height,p=d.width;a.top+=f.top-f.marginTop,a.bottom=h+f.top,a.left+=f.left-f.marginLeft,a.right=p+f.left}}var g="number"===typeof(n=n||0);return a.left+=g?n:n.left||0,a.top+=g?n:n.top||0,a.right-=g?n:n.right||0,a.bottom-=g?n:n.bottom||0,a}function T(e){return e.width*e.height}function M(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=F(n,r,a,i),u={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(u).map((function(e){return j({key:e},u[e],{area:T(u[e])})})).sort((function(e,t){return t.area-e.area})),s=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=s.length>0?s[0].key:c[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?D(t):v(t,s(n));return E(n,i,r)}function N(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function B(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function R(e,t,n){n=n.split("-")[0];var r=N(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",u=a?"left":"top",c=a?"height":"width",s=a?"width":"height";return i[o]=t[o]+t[c]/2-r[c]/2,i[u]=n===u?t[u]-r[s]:t[B(u)],i}function z(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function L(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=z(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=n(t,e))})),t}function I(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=L(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function U(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function q(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function $(){return this.state.isDestroyed=!0,U(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function H(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,r){n.updateBound=r,H(e).addEventListener("resize",n.updateBound,{passive:!0});var i=c(e);return function e(t,n,r,i){var a="BODY"===t.nodeName,o=a?t.ownerDocument.defaultView:t;o.addEventListener(n,r,{passive:!0}),a||e(c(o.parentNode),n,r,i),i.push(o)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function G(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function K(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,H(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function V(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&V(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var J=n&&/Firefox/i.test(navigator.userAgent);function X(e,t,n){var r=z(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var Z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=Z.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.indexOf(e),r=Q.slice(n+1).concat(Q.slice(0,n));return t?r.reverse():r}var te="flip",ne="clockwise",re="counterclockwise";function ie(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),u=o.indexOf(z(o,(function(e){return-1!==e.search(/,|\s/)})));o[u]&&-1===o[u].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,s=-1!==u?[o.slice(0,u).concat([o[u].split(c)[0]]),[o[u].split(c)[1]].concat(o.slice(u+1))]:[o];return(s=s.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){var u=void 0;switch(o){case"%p":u=n;break;case"%":case"%r":default:u=r}return _(u)[t]/100*a}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a}return a}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){V(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ae={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,u=-1!==["bottom","top"].indexOf(n),c=u?"left":"top",s=u?"width":"height",l={start:k({},c,a[c]),end:k({},c,a[c]+a[s]-o[s])};e.offsets.popper=j({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,u=r.split("-")[0],c=void 0;return c=V(+n)?[+n,0]:ie(n,a,o,u),"left"===u?(a.top+=c[0],a.left-=c[1]):"right"===u?(a.top+=c[0],a.left+=c[1]):"top"===u?(a.left+=c[0],a.top-=c[1]):"bottom"===u&&(a.left+=c[0],a.top+=c[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var r=q("transform"),i=e.instance.popper.style,a=i.top,o=i.left,u=i[r];i.top="",i.left="",i[r]="";var c=F(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=u,t.boundaries=c;var s=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),k({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),k({},n,r)}};return s.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=j({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),u=o?"right":"bottom",c=o?"left":"top",s=o?"width":"height";return n[u]<a(r[c])&&(e.offsets.popper[c]=a(r[c])-n[s]),n[c]>a(r[u])&&(e.offsets.popper[c]=a(r[u])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!X(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,u=a.popper,c=a.reference,s=-1!==["left","right"].indexOf(i),l=s?"height":"width",f=s?"Top":"Left",d=f.toLowerCase(),h=s?"left":"top",p=s?"bottom":"right",v=N(r)[l];c[p]-v<u[d]&&(e.offsets.popper[d]-=u[d]-(c[p]-v)),c[d]+v>u[p]&&(e.offsets.popper[d]+=c[d]+v-u[p]),e.offsets.popper=_(e.offsets.popper);var g=c[d]+c[l]/2-v/2,m=o(e.instance.popper),y=parseFloat(m["margin"+f]),b=parseFloat(m["border"+f+"Width"]),x=g-e.offsets.popper[d]-y-b;return x=Math.max(Math.min(u[l]-v,x),0),e.arrowElement=r,e.offsets.arrow=(k(n={},d,Math.round(x)),k(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(U(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=F(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=B(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case te:o=[r,i];break;case ne:o=ee(r);break;case re:o=ee(r,!0);break;default:o=t.behavior}return o.forEach((function(u,c){if(r!==u||o.length===c+1)return e;r=e.placement.split("-")[0],i=B(r);var s=e.offsets.popper,l=e.offsets.reference,f=Math.floor,d="left"===r&&f(s.right)>f(l.left)||"right"===r&&f(s.left)<f(l.right)||"top"===r&&f(s.bottom)>f(l.top)||"bottom"===r&&f(s.top)<f(l.bottom),h=f(s.left)<f(n.left),p=f(s.right)>f(n.right),v=f(s.top)<f(n.top),g=f(s.bottom)>f(n.bottom),m="left"===r&&h||"right"===r&&p||"top"===r&&v||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===a&&h||y&&"end"===a&&p||!y&&"start"===a&&v||!y&&"end"===a&&g),x=!!t.flipVariationsByContent&&(y&&"start"===a&&p||y&&"end"===a&&h||!y&&"start"===a&&g||!y&&"end"===a&&v),w=b||x;(d||m||w)&&(e.flipped=!0,(d||m)&&(r=o[c+1]),w&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=j({},e.offsets.popper,R(e.instance.popper,e.offsets.reference,e.placement)),e=L(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),u=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(u?i[o?"width":"height"]:0),e.placement=B(t),e.offsets.popper=_(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!X(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=z(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=z(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,u=h(e.instance.popper),c=S(u),s={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,u=function(e){return e},c=a(i.width),s=a(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),d=t?l||f||c%2===s%2?a:o:u,h=t?a:u;return{left:d(c%2===1&&s%2===1&&!f&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!J),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=q("transform"),v=void 0,g=void 0;if(g="bottom"===f?"HTML"===u.nodeName?-u.clientHeight+l.bottom:-c.height+l.bottom:l.top,v="right"===d?"HTML"===u.nodeName?-u.clientWidth+l.right:-c.width+l.right:l.left,o&&p)s[p]="translate3d("+v+"px, "+g+"px, 0)",s[f]=0,s[d]=0,s.willChange="transform";else{var m="bottom"===f?-1:1,y="right"===d?-1:1;s[f]=g*m,s[d]=v*y,s.willChange=f+", "+d}var b={"x-placement":e.placement};return e.attributes=j({},b,e.attributes),e.styles=j({},s,e.styles),e.arrowStyles=j({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Y(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=P(i,t,e,n.positionFixed),o=M(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),Y(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},oe=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=j({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(j({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=j({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return j({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var u=this.options.eventsEnabled;u&&this.enableEventListeners(),this.state.eventsEnabled=u}return O(e,[{key:"update",value:function(){return I.call(this)}},{key:"destroy",value:function(){return $.call(this)}},{key:"enableEventListeners",value:function(){return G.call(this)}},{key:"disableEventListeners",value:function(){return K.call(this)}}]),e}();oe.Utils=("undefined"!==typeof window?window:e).PopperUtils,oe.placements=Z,oe.Defaults=ae,t.a=oe}).call(this,n(70))},function(e,t,n){"use strict";var r=n(105);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),a=(0,r(n(123)).default)(i.default.createElement("path",{transform:"scale(1.2, 1.2)",d:"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"}),"Settings");t.default=a},,function(e,t,n){"use strict";var r=n(105);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(1)),a=(0,r(n(123)).default)(i.default.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link");t.default=a},,,function(e,t,n){e.exports=n(527)},function(e,t,n){"use strict";e.exports={log:n(200),Wit:n(528),interactive:n(531)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");var v=function(e){for(var t=(e=e||"_")+"-",n=0;n<7;n++)t+=p[Math.floor(Math.random()*p.length)];return t},g={"!":"\xa1","?":"\xbf\u0241",'"':'\u201c\u201d"\u275d\u275e',"'":"\u2018\u201b\u275b\u275c","-":"\u2014\u2013",a:"\xaa\xc0\xc1\xc2\xc3\xc4\xc5\xe0\xe1\xe2\xe3\xe4\xe5\u0100\u0101\u0102\u0103\u0104\u0105\u01cd\u01ce\u01de\u01df\u01e0\u01e1\u01fa\u01fb\u0200\u0201\u0202\u0203\u0226\u0227\u023a\u0386\u0391\u0394\u039b\u03ac\u03b1\u03bb\u0410\u0430\u0434\u0466\u0467\u04d0\u04d1\u04d2\u04d3\u019b\u0245\xe6",b:"\xdf\xfe\u0180\u0181\u0182\u0183\u0184\u0185\u0243\u0392\u03b2\u03d0\u03e6\u0411\u0412\u042a\u042c\u0432\u044a\u044c\u0462\u0463\u048c\u048d",c:"\xa2\xa9\xc7\xe7\u0106\u0107\u0108\u0109\u010a\u010b\u010c\u010d\u0186\u0187\u0188\u023b\u023c\u037b\u037c\u037d\u03f2\u03f9\u03fd\u03fe\u0421\u0441\u0454\u0480\u0481\u04aa\u04ab",d:"\xd0\u010e\u010f\u0110\u0111\u0189\u018a\u0221\u018b\u018c\u01f7",e:"\xc8\xc9\xca\xcb\xe8\xe9\xea\xeb\u0112\u0113\u0114\u0115\u0116\u0117\u0118\u0119\u011a\u011b\u018e\u018f\u0190\u01dd\u0204\u0205\u0206\u0207\u0228\u0229\u0246\u0247\u0388\u0395\u039e\u03a3\u03ad\u03b5\u03be\u03f1\u03f5\u03f6\u0400\u0401\u0415\u042d\u0435\u0450\u0451\u04bc\u04bd\u04be\u04bf\u04d6\u04d7\u04d8\u04d9\u04da\u04db\u04ec\u04ed",f:"\u0191\u0192\u03dc\u03dd\u04fa\u04fb\u0492\u0493\u017f",g:"\u011c\u011d\u011e\u011f\u0120\u0121\u0122\u0123\u0193\u01e4\u01e5\u01e6\u01e7\u01f4\u01f5",h:"\u0124\u0125\u0126\u0127\u0195\u01f6\u021e\u021f\u0389\u0397\u0402\u040a\u040b\u041d\u043d\u0452\u045b\u04a2\u04a3\u04a4\u04a5\u04ba\u04bb\u04c9\u04ca",I:"\xcc\xcd\xce\xcf",i:"\xec\xed\xee\xef\u0128\u0129\u012a\u012b\u012c\u012d\u012e\u012f\u0130\u0131\u0196\u0197\u0208\u0209\u020a\u020b\u038a\u0390\u03aa\u03af\u03b9\u03ca\u0406\u0407\u0456\u0457",j:"\u0134\u0135\u01f0\u0237\u0248\u0249\u03f3\u0408\u0458",k:"\u0136\u0137\u0138\u0198\u0199\u01e8\u01e9\u039a\u03ba\u040c\u0416\u041a\u0436\u043a\u045c\u049a\u049b\u049c\u049d\u049e\u049f\u04a0\u04a1",l:"\u0139\u013a\u013b\u013c\u013d\u013e\u013f\u0140\u0141\u0142\u019a\u01aa\u01c0\u01cf\u01d0\u0234\u023d\u0399\u04c0\u04cf",m:"\u039c\u03fa\u03fb\u041c\u043c\u04cd\u04ce",n:"\xd1\xf1\u0143\u0144\u0145\u0146\u0147\u0148\u0149\u014a\u014b\u019d\u019e\u01f8\u01f9\u0220\u0235\u039d\u03a0\u03ae\u03b7\u03de\u040d\u0418\u0419\u041b\u041f\u0438\u0439\u043b\u043f\u045d\u048a\u048b\u04c5\u04c6\u04e2\u04e3\u04e4\u04e5\u03c0",o:"\xd2\xd3\xd4\xd5\xd6\xd8\xf0\xf2\xf3\xf4\xf5\xf6\xf8\u014c\u014d\u014e\u014f\u0150\u0151\u019f\u01a0\u01a1\u01d1\u01d2\u01ea\u01eb\u01ec\u01ed\u01fe\u01ff\u020c\u020d\u020e\u020f\u022a\u022b\u022c\u022d\u022e\u022f\u0230\u0231\u038c\u0398\u039f\u03b8\u03bf\u03c3\u03cc\u03d5\u03d8\u03d9\u03ec\u03ed\u03f4\u041e\u0424\u043e\u0472\u0473\u04e6\u04e7\u04e8\u04e9\u04ea\u04eb",p:"\u01a4\u01bf\u03a1\u03c1\u03f7\u03f8\u03fc\u0420\u0440\u048e\u048f\xde",q:"\u024a\u024b",r:"\u0154\u0155\u0156\u0157\u0158\u0159\u01a6\u0210\u0211\u0212\u0213\u024c\u024d\u0403\u0413\u042f\u0433\u044f\u0453\u0490\u0491",s:"\u015a\u015b\u015c\u015d\u015e\u015f\u0160\u0161\u01a7\u01a8\u0218\u0219\u023f\u0405\u0455",t:"\u0162\u0163\u0164\u0165\u0166\u0167\u01ab\u01ac\u01ad\u01ae\u021a\u021b\u0236\u023e\u0393\u03a4\u03c4\u03ee\u0422\u0442",u:"\xb5\xd9\xda\xdb\xdc\xf9\xfa\xfb\xfc\u0168\u0169\u016a\u016b\u016c\u016d\u016e\u016f\u0170\u0171\u0172\u0173\u01af\u01b0\u01b1\u01b2\u01d3\u01d4\u01d5\u01d6\u01d7\u01d8\u01d9\u01da\u01db\u01dc\u0214\u0215\u0216\u0217\u0244\u03b0\u03bc\u03c5\u03cb\u03cd",v:"\u03bd\u0474\u0475\u0476\u0477",w:"\u0174\u0175\u019c\u03c9\u03ce\u03d6\u03e2\u03e3\u0428\u0429\u0448\u0449\u0461\u047f",x:"\xd7\u03a7\u03c7\u03d7\u03f0\u0425\u0445\u04b2\u04b3\u04fc\u04fd\u04fe\u04ff",y:"\xdd\xfd\xff\u0176\u0177\u0178\u01b3\u01b4\u0232\u0233\u024e\u024f\u038e\u03a5\u03ab\u03b3\u03c8\u03d2\u03d3\u03d4\u040e\u0423\u0443\u0447\u045e\u0470\u0471\u04ae\u04af\u04b0\u04b1\u04ee\u04ef\u04f0\u04f1\u04f2\u04f3",z:"\u0179\u017a\u017b\u017c\u017d\u017e\u01a9\u01b5\u01b6\u0224\u0225\u0240\u0396\u03b6"},m={};Object.keys(g).forEach((function(e){g[e].split("").forEach((function(t){m[t]=e}))}));var y=function(e){var t=e.split("");return t.forEach((function(e,n){m[e]&&(t[n]=m[e])})),t.join("")},b=/([A-Z]\.)+[A-Z]?,?$/,x=/^[A-Z]\.,?$/,w=/[A-Z]{2,}('s|,)?$/,O=/([a-z]\.){2,}[a-z]\.?$/,k=function(e){return!0===b.test(e)||(!0===O.test(e)||(!0===x.test(e)||!0===w.test(e)))},j=/[a-z\u00C0-\u00FF] ?\/ ?[a-z\u00C0-\u00FF]/,_=function(e){var t=e=(e=(e=e||"").toLowerCase()).trim();return e=y(e),!0===j.test(e)&&(e=e.replace(/\/.*/,"")),e=(e=(e=(e=(e=(e=(e=e.replace(/^[#@]/,"")).replace(/[,;.!?]+$/,"")).replace(/[\u0027\u0060\u00B4\u2018\u2019\u201A\u201B\u2032\u2035\u2039\u203A]+/g,"'")).replace(/[\u0022\u00AB\u00BB\u201C\u201D\u201E\u201F\u2033\u2034\u2036\u2037\u2E42\u301D\u301E\u301F\uFF02]+/g,'"')).replace(/\u2026/g,"...")).replace(/\u2013/g,"-")).replace(/([aeiou][ktrp])in$/,"$1ing"),!0===/^(re|un)-?[^aeiou]./.test(e)&&(e=e.replace("-","")),!1===/^[:;]/.test(e)&&(e=(e=(e=e.replace(/\.{3,}$/g,"")).replace(/[",\.!:;\?\)]+$/g,"")).replace(/^['"\(]+/g,"")),""===(e=e.trim())&&(e=t),k(e)&&(e=e.replace(/\./g,"")),e=e.replace(/([0-9]),([0-9])/g,"$1$2")},S=function(e){return e=(e=e.replace(/['\u2019]s$/,"")).replace(/s['\u2019]$/,"s")},E=/^[ \n\t\.\u2019'\[\](){}\u27e8\u27e9:,\u060c\u3001\u2012\u2013\u2014\u2015\u2026!.\u2039\u203a\xab\xbb\u2010\-?\u2018\u2019;\/\u2044\xb7&*\u2022^\u2020\u2021\xb0\xa1\xbf\u203b\u2116\xf7\xd7\xba\xaa%\u2030+\u2212=\u2031\xb6\u2032\u2033\u2034\xa7~|\u2016\xa6\xa9\u2117\xae\u2120\u2122\xa4\u20b3\u0e3f\u0022|\uFF02|\u0027|\u201C|\u2018|\u201F|\u201B|\u201E|\u2E42|\u201A|\u00AB|\u2039|\u2035|\u2036|\u2037|\u301D|\u0060|\u301F]+/,A=/[ \n\t\.\u2019'\[\](){}\u27e8\u27e9:,\u060c\u3001\u2012\u2013\u2014\u2015\u2026!.\u2039\u203a\xab\xbb\u2010\-?\u2018\u2019;\/\u2044\xb7&*@\u2022^\u2020\u2021\xb0\xa1\xbf\u203b#\u2116\xf7\xd7\xba\xaa\u2030+\u2212=\u2031\xb6\u2032\u2033\u2034\xa7~|\u2016\xa6\xa9\u2117\xae\u2120\u2122\xa4\u20b3\u0e3f\u0022|\uFF02|\u0027|\u201D|\u2019|\u201D|\u2019|\u201D|\u201D|\u2019|\u00BB|\u203A|\u2032|\u2033|\u2034|\u301E|\u00B4|\u301E]+$/,C=/\//,D=/['\u2019]/,F=/^[a-z]\.([a-z]\.)+/i,T=/^[-+\.][0-9]/,M=function(e){var t=e,n="",r="";""===(e=(e=e.replace(E,(function(t){return"-"!==(n=t)&&"+"!==n&&"."!==n||!T.test(e)?"":(n="",t)}))).replace(A,(function(i){return r=i,D.test(i)&&/[sn]['\u2019]$/.test(t)&&!1===D.test(n)?(r=r.replace(D,""),"'"):!0===F.test(e)?(r=r.replace(/\./,""),"."):""})))&&(t=t.replace(/ *$/,(function(e){return r=e||"",""})),e=t,n="",r=r);var i=_(e),a={text:e,clean:i,reduced:S(i),pre:n,post:r};return C.test(e)&&e.split(C).forEach((function(e){a.alias=a.alias||{},a.alias[e.trim()]=!0})),a};function P(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}var N=P((function(e,t){var n=/^[A-Z][a-z'\u00C0-\u00FF]/,r=/^[A-Z]+s?$/;t.toUpperCase=function(){return this.text=this.text.toUpperCase(),this},t.toLowerCase=function(){return this.text=this.text.toLowerCase(),this},t.toTitleCase=function(){return this.text=this.text.replace(/^ *[a-z\u00C0-\u00FF]/,(function(e){return e.toUpperCase()})),this},t.isUpperCase=function(){return r.test(this.text)},t.isTitleCase=function(){return n.test(this.text)},t.titleCase=t.isTitleCase})),B=P((function(e,t){var n=/(\u0022|\uFF02|\u0027|\u201C|\u2018|\u201F|\u201B|\u201E|\u2E42|\u201A|\u00AB|\u2039|\u2035|\u2036|\u2037|\u301D|\u0060|\u301F)/,r=/(\u0022|\uFF02|\u0027|\u201D|\u2019|\u201D|\u2019|\u201D|\u201D|\u2019|\u00BB|\u203A|\u2032|\u2033|\u2034|\u301E|\u00B4|\u301E)/;t.hasPost=function(e){return-1!==this.post.indexOf(e)},t.hasPre=function(e){return-1!==this.pre.indexOf(e)},t.hasQuote=function(){return n.test(this.pre)||r.test(this.post)},t.hasQuotation=t.hasQuote,t.hasComma=function(){return this.hasPost(",")},t.hasPeriod=function(){return!0===this.hasPost(".")&&!1===this.hasPost("...")},t.hasExclamation=function(){return this.hasPost("!")},t.hasQuestionMark=function(){return this.hasPost("?")||this.hasPost("\xbf")},t.hasEllipses=function(){return this.hasPost("..")||this.hasPost("\u2026")||this.hasPre("..")||this.hasPre("\u2026")},t.hasSemicolon=function(){return this.hasPost(";")},t.hasSlash=function(){return/\//.test(this.text)},t.hasHyphen=function(){var e=/(-|\u2013|\u2014)/;return e.test(this.post)||e.test(this.pre)},t.hasDash=function(){var e=/ (-|\u2013|\u2014) /;return e.test(this.post)||e.test(this.pre)},t.hasContraction=function(){return Boolean(this.implicit)},t.addPunctuation=function(e){return","!==e&&";"!==e||(this.post=this.post.replace(e,"")),this.post=e+this.post,this}})),R=function(){},z=function(e,t,n,r){return t.id===e.id||(!0===t.anything||(!0!==t.start||0===n)&&((!0!==t.end||n===r-1)&&(void 0!==t.word?null!==e.implicit&&e.implicit===t.word||(!(void 0===e.alias||!e.alias.hasOwnProperty(t.word))||(!0===t.soft&&t.word===e.root||(t.word===e.clean||t.word===e.text||t.word===e.reduced))):void 0!==t.tag?!0===e.tags[t.tag]:void 0!==t.method?"function"===typeof e[t.method]&&!0===e[t.method]():void 0!==t.regex?t.regex.test(e.clean):void 0!==t.oneOf?t.oneOf.hasOwnProperty(e.reduced)||t.oneOf.hasOwnProperty(e.text):void 0!==t.choices&&("and"===t.operator?t.choices.every((function(t){return R(e,t,n,r)})):t.choices.some((function(t){return R(e,t,n,r)}))))))},L=R=function(e,t,n,r){var i=z(e,t,n,r);return!0===t.negative?!i:i},I={},U={doesMatch:function(e,t,n){return L(this,e,t,n)},isAcronym:function(){return k(this.text)},isImplicit:function(){return""===this.text&&Boolean(this.implicit)},isKnown:function(){return Object.keys(this.tags).some((function(e){return!0!==I[e]}))},setRoot:function(e){var t=e.transforms,n=this.implicit||this.clean;if(this.tags.Plural&&(n=t.toSingular(n,e)),this.tags.Verb&&!this.tags.Negative&&!this.tags.Infinitive){var r=null;this.tags.PastTense?r="PastTense":this.tags.Gerund?r="Gerund":this.tags.PresentTense?r="PresentTense":this.tags.Participle?r="Participle":this.tags.Actor&&(r="Actor"),n=t.toInfinitive(n,e,r)}this.root=n}},q=/[\s-]/,$=/^[A-Z-]+$/,H={textOut:function(e,t,n){e=e||{};var r=this.text,i=this.pre,a=this.post;return!0===e.reduced&&(r=this.reduced||""),!0===e.root&&(r=this.root||""),!0===e.implicit&&this.implicit&&(r=this.implicit||""),!0===e.normal&&(r=this.clean||this.text||""),!0===e.root&&(r=this.root||this.reduced||""),!0===e.unicode&&(r=y(r)),!0===e.titlecase&&(this.tags.ProperNoun&&!this.titleCase()||(this.tags.Acronym?r=r.toUpperCase():$.test(r)&&!this.tags.Acronym&&(r=r.toLowerCase()))),!0===e.lowercase&&(r=r.toLowerCase()),!0===e.acronyms&&this.tags.Acronym&&(r=r.replace(/\./g,"")),!0!==e.whitespace&&!0!==e.root||(i="",a=" ",!1!==q.test(this.post)&&!e.last||this.implicit||(a="")),!0!==e.punctuation||e.root||(!0===this.hasPost(".")?a="."+a:!0===this.hasPost("?")?a="?"+a:!0===this.hasPost("!")?a="!"+a:!0===this.hasPost(",")?a=","+a:!0===this.hasEllipses()&&(a="..."+a)),!0!==t&&(i=""),!0!==n&&(a=""),!0===e.abbreviations&&this.tags.Abbreviation&&(a=a.replace(/^\./,"")),i+r+a}},W={Auxiliary:1,Possessive:1},G=function(e,t){var n=Object.keys(e.tags),r=t.tags;return n=n.sort((function(e,t){return W[t]||!r[t]?-1:r[t]?r[e]?r[e].lineage.length>r[t].lineage.length?1:r[e].isA.length>r[t].isA.length?-1:0:0:1}))},K={text:!0,tags:!0,implicit:!0,whitespace:!0,clean:!1,id:!1,index:!1,offset:!1,bestTag:!1},V={json:function(e,t){e=e||{};var n={};return(e=Object.assign({},K,e)).text&&(n.text=this.text),e.normal&&(n.normal=this.normal),e.tags&&(n.tags=Object.keys(this.tags)),e.clean&&(n.clean=this.clean),(e.id||e.offset)&&(n.id=this.id),e.implicit&&null!==this.implicit&&(n.implicit=this.implicit),e.whitespace&&(n.pre=this.pre,n.post=this.post),e.bestTag&&(n.bestTag=G(this,t)[0]),n}},Y=Object.assign({},N,B,U,H,V);function J(){return"undefined"!==typeof window&&window.document}var X=function(e,t){for(e=e.toString();e.length<t;)e+=" ";return e},Z=function(e,t,n){if(J())console.log("%c"+X(e.clean,3)+"  + "+t+" ","color: #6accb2;");else{var r="\x1b[33m"+X(e.clean,15)+"\x1b[0m + \x1b[32m"+t+"\x1b[0m ";n&&(r=X(r,35)+" "+n),console.log(r)}},Q=function(e,t,n){if(J())console.log("%c"+X(e.clean,3)+"  - "+t+" ","color: #AB5850;");else{var r="\x1b[33m"+X(e.clean,3)+" \x1b[31m - #"+t+"\x1b[0m ";n&&(r=X(r,35)+" "+n),console.log(r)}},ee=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},te=function(e,t,n,r){var i=r.tags;if(""!==t&&"."!==t&&"-"!==t&&("#"===t[0]&&(t=t.replace(/^#/,"")),t=ee(t),!0!==e.tags[t])){var a=r.isVerbose();!0===a&&Z(e,t,n),e.tags[t]=!0,!0===i.hasOwnProperty(t)&&(i[t].isA.forEach((function(t){e.tags[t]=!0,!0===a&&Z(e,"\u2192 "+t)})),e.unTag(i[t].notA,"\u2190",r))}},ne=function(e,t,n,r){if("string"!==typeof t)for(var i=0;i<t.length;i++)te(e,t[i],n,r);else te(e,t,n,r)},re=/^[a-z]/,ie=function(e,t,n,r){var i,a=r.isVerbose();if("*"===t)return e.tags={},e;t=t.replace(/^#/,""),!0===re.test(t)&&(t=(i=t).charAt(0).toUpperCase()+i.substr(1)),!0===e.tags[t]&&(delete e.tags[t],!0===a&&Q(e,t,n));var o=r.tags;if(o[t])for(var u=o[t].lineage,c=0;c<u.length;c++)!0===e.tags[u[c]]&&(delete e.tags[u[c]],!0===a&&Q(e," - "+u[c]));return e},ae=function(e,t,n,r){if("string"!==typeof t&&t)for(var i=0;i<t.length;i++)ie(e,t[i],n,r);else ie(e,t,n,r)},oe=function e(t,n,r){var i=r.tags;if("#"===n[0]&&(n=n.replace(/^#/,"")),void 0===i[n])return!0;for(var a=i[n].notA||[],o=0;o<a.length;o++)if(!0===t.tags[a[o]])return!1;return void 0===i[n].isA||e(t,i[n].isA,r)},ue={tag:function(e,t,n){return ne(this,e,t,n),this},tagSafe:function(e,t,n){return oe(this,e,n)&&ne(this,e,t,n),this},unTag:function(e,t,n){return ae(this,e,t,n),this},canBe:function(e,t){return oe(this,e,t)}},ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i(this,e),t=String(t);var n=M(t);this.text=n.text||"",this.clean=n.clean,this.reduced=n.reduced,this.root=null,this.implicit=null,this.pre=n.pre||"",this.post=n.post||"",this.tags={},this.prev=null,this.next=null,this.id=v(n.clean),this.isA="Term",n.alias&&(this.alias=n.alias)}return o(e,[{key:"set",value:function(e){var t=M(e);return this.text=t.text,this.clean=t.clean,this}}]),e}();ce.prototype.clone=function(){var e=new ce(this.text);return e.pre=this.pre,e.post=this.post,e.tags=Object.assign({},this.tags),e},Object.assign(ce.prototype,Y),Object.assign(ce.prototype,ue);var se=ce,le={terms:function(e){if(0===this.length)return[];if(this.cache.terms)return void 0!==e?this.cache.terms[e]:this.cache.terms;for(var t=[this.pool.get(this.start)],n=0;n<this.length-1;n+=1){var r=t[t.length-1].next;if(null===r){console.error("Compromise error: Linked list broken in phrase '"+this.start+"'");break}var i=this.pool.get(r);if(t.push(i),void 0!==e&&e===n)return t[e]}return void 0===e&&(this.cache.terms=t),void 0!==e?t[e]:t},clone:function(e){var t=this;if(e){var n=this.buildFrom(this.start,this.length);return n.cache=this.cache,n}var r=this.terms().map((function(e){return e.clone()}));return r.forEach((function(e,n){t.pool.add(e),r[n+1]&&(e.next=r[n+1].id),r[n-1]&&(e.prev=r[n-1].id)})),this.buildFrom(r[0].id,r.length)},lastTerm:function(){var e=this.terms();return e[e.length-1]},hasId:function(e){if(0===this.length||!e)return!1;if(this.start===e)return!0;if(this.cache.terms){for(var t=this.cache.terms,n=0;n<t.length;n++)if(t[n].id===e)return!0;return!1}for(var r=this.start,i=0;i<this.length-1;i+=1){var a=this.pool.get(r);if(void 0===a)return console.error("Compromise error: Linked list broken. Missing term '".concat(r,"' in phrase '").concat(this.start,"'\n")),!1;if(a.next===e)return!0;r=a.next}return!1},wordCount:function(){return this.terms().filter((function(e){return""!==e.text})).length},fullSentence:function(){for(var e=this.terms(0);e.prev;)e=this.pool.get(e.prev);for(var t=e.id,n=1;e.next;)e=this.pool.get(e.next),n+=1;return this.buildFrom(t,n)}},fe=function(e){return e.replace(/ +$/,"")},de={text:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;"string"===typeof e&&(e="normal"===e?{whitespace:!0,unicode:!0,lowercase:!0,punctuation:!0,acronyms:!0,abbreviations:!0,implicit:!0,normal:!0}:"clean"===e?{titlecase:!1,lowercase:!0,punctuation:!0,whitespace:!0,unicode:!0,implicit:!0}:"reduced"===e?{titlecase:!1,lowercase:!0,punctuation:!1,whitespace:!0,unicode:!0,implicit:!0,reduced:!0}:"root"===e?{titlecase:!1,lowercase:!0,punctuation:!0,whitespace:!0,unicode:!0,implicit:!0,root:!0}:{});var r=this.terms(),i=!1;r[0]&&null===r[0].prev&&null===r[r.length-1].next&&(i=!0);var a=r.reduce((function(a,o,u){e.last=n&&u===r.length-1;var c=!0,s=!0;return!1===i&&(0===u&&t&&(c=!1),u===r.length-1&&n&&(s=!1)),a+o.textOut(e,c,s)}),"");return!0===i&&n&&(a=fe(a)),!0===e.trim&&(a=a.trim()),a}},he={trim:function(){var e=this.terms();if(e.length>0){e[0].pre=e[0].pre.replace(/^\s+/,"");var t=e[e.length-1];t.post=t.post.replace(/\s+$/,"")}return this}},pe=/[.?!]\s*$/,ve=function(e,t){t[0].pre=e[0].pre;var n,r,i=e[e.length-1],a=t[t.length-1];a.post=(n=i.post,r=a.post,pe.test(r)?r+n.match(/\s*$/):n),i.post="",""===i.post&&(i.post+=" ")},ge=function(e,t,n){var r=e.terms(),i=t.terms();ve(r,i),function(e,t,n){var r=e[e.length-1],i=t[t.length-1],a=r.next;(r.next=t[0].id,i.next=a,a)&&(n.get(a).prev=i.id);var o=e[0].id;o&&(t[0].prev=o)}(r,i,e.pool);var a=[e],o=e.start,u=[n];return(u=u.concat(n.parents())).forEach((function(e){var t=e.list.filter((function(e){return e.hasId(o)}));a=a.concat(t)})),(a=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))}(a)).forEach((function(e){e.length+=t.length})),e.cache={},e},me=/ /,ye=function(e,t,n){var r=e.start,i=t.terms();!function(e){var t=e[e.length-1];!1===me.test(t.post)&&(t.post+=" ")}(i),function(e,t,n){var r=n[n.length-1];r.next=e.start;var i=e.pool,a=i.get(e.start);a.prev&&(i.get(a.prev).next=t.start);n[0].prev=e.terms(0).prev,e.terms(0).prev=r.id}(e,t,i);var a=[e],o=[n];return(o=o.concat(n.parents())).forEach((function(e){var n=e.list.filter((function(e){return e.hasId(r)||e.hasId(t.start)}));a=a.concat(n)})),(a=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))}(a)).forEach((function(e){e.length+=t.length,e.start===r&&(e.start=t.start),e.cache={}})),e},be=function(e,t){var n=t.pool(),r=e.terms(),i=n.get(r[0].prev)||{},a=n.get(r[r.length-1].next)||{};r[0].implicit&&i.implicit&&(i.set(i.implicit),i.post+=" "),function(e,t,n,r){var i=e.parents();i.push(e),i.forEach((function(e){var i=e.list.find((function(e){return e.hasId(t)}));i&&(i.length-=n,i.start===t&&(i.start=r.id),i.cache={})})),e.list=e.list.filter((function(e){return!(!e.start||!e.length)}))}(t,e.start,e.length,a),i&&(i.next=a.id),a&&(a.prev=i.id)},xe={append:function(e,t){return ge(this,e,t),this},prepend:function(e,t){return ye(this,e,t),this},delete:function(e){return be(this,e),this},replace:function(e,t){var n=this.length;ge(this,e,t);var r=this.buildFrom(this.start,this.length);r.length=n,be(r,t)},splitOn:function(e){var t=this.terms(),n={before:null,match:null,after:null},r=t.findIndex((function(t){return t.id===e.start}));if(-1===r)return n;var i=t.slice(0,r);i.length>0&&(n.before=this.buildFrom(i[0].id,i.length));var a=t.slice(r,r+e.length);a.length>0&&(n.match=this.buildFrom(a[0].id,a.length));var o=t.slice(r+e.length,t.length);return o.length>0&&(n.after=this.buildFrom(o[0].id,o.length,this.pool)),n}},we={json:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={};return e.text&&(n.text=this.text()),e.normal&&(n.normal=this.text("normal")),e.clean&&(n.clean=this.text("clean")),e.reduced&&(n.reduced=this.text("reduced")),e.root&&(n.root=this.text("root")),e.trim&&(n.text&&(n.text=n.text.trim()),n.normal&&(n.normal=n.normal.trim()),n.reduced&&(n.reduced=n.reduced.trim())),e.terms&&(!0===e.terms&&(e.terms={}),n.terms=this.terms().map((function(n){return n.json(e.terms,t)}))),n}},Oe={lookAhead:function(e){e||(e=".*");var t=this.pool,n=[],r=this.terms();return function e(r){var i=t.get(r);i&&(n.push(i),i.prev&&e(i.next))}(r[r.length-1].next),0===n.length?[]:this.buildFrom(n[0].id,n.length).match(e)},lookBehind:function(e){e||(e=".*");var t=this.pool,n=[];return function e(r){var i=t.get(r);i&&(n.push(i),i.prev&&e(i.prev))}(t.get(this.start).prev),0===n.length?[]:this.buildFrom(n[n.length-1].id,n.length).match(e)}},ke=Object.assign({},le,de,he,xe,we,Oe),je=function(e,t){if(0===t.length)return!0;for(var n=0;n<t.length;n+=1){var r=t[n];if(!0!==r.optional&&!0!==r.negative&&!0===r.start&&n>0)return!0;if(!0===r.anything&&!0===r.negative)return!0}return!1},_e=function(e,t,n,r,i,a){for(var o=t;t<e.length;t+=1){if(r&&e[t].doesMatch(r,i+t,a))return t;var u=t-o+1;if(void 0!==n.max&&u===n.max)return t;if(!1===e[t].doesMatch(n,i+t,a))return void 0!==n.min&&u<n.min?null:t}return t},Se=function(e,t,n,r,i){if(!n)return e.length;for(;t<e.length;t+=1)if(!0===e[t].doesMatch(n,r+t,i))return t;return null},Ee=function(e,t,n,r,i){var a=e[t];if(a)return a;var o=n[r].id;return e[t]={group:String(i),start:o,length:0},e[t]},Ae=function(e,t,n,r){for(var i={},a=null,o=0,u=0;u<t.length;u+=1){var c=t[u],s="string"===typeof c.named||"number"===typeof c.named,l=null;if(s){var f=t[u-1];f&&f.named===c.named&&a?l=a:a=l=v(c.named)}if(!e[o]){if(!1===t.slice(u).some((function(e){return!e.optional})))break;return[!1,null]}if(!0!==c.anything||!0!==c.greedy){if(!0===c.anything||!0===c.end&&!0===c.greedy&&n+o<r-1&&!0===e[o].doesMatch(Object.assign({},c,{end:!1}),n+o,r)||!0===e[o].doesMatch(c,n+o,r)){var d=o;if(c.optional&&t[u+1]&&!0===e[o].doesMatch(t[u+1],n+o,r)&&(e[o+1]&&!1!==e[o+1].doesMatch(t[u+1],n+o,r)||(u+=1)),o+=1,!0===c.end&&o!==e.length&&!0!==c.greedy)return[!1,null];if(!0===c.greedy){if(null===(o=_e(e,o,Object.assign({},c,{start:!1,end:!1}),t[u+1],n,r)))return[!1,null];if(!0===c.end&&n+o!==r)return[!1,null]}if(s){var h=Ee(i,l,e,d,c.named);o>1&&c.greedy?h.length+=o-d:h.length++}}else if(!0!==c.optional){if(!(e[o].isImplicit()&&t[u-1]&&e[o+1]&&e[o+1].doesMatch(c,n+o,r)))return[!1,null];o+=2}}else{var p=Se(e,o,t[u+1],c,n);if(void 0!==c.min&&p-o<c.min)return[!1,null];if(void 0!==c.max&&p-o>c.max){o+=c.max;continue}if(null===p)return[!1,null];s&&(Ee(i,l,e,o,c.named).length=p-o),o=p}}return[e.slice(0,o),i]},Ce=function(e,t,n){if(!n||0===n.length)return n;if(t.some((function(e){return e.end}))){var r=e[e.length-1];n=n.filter((function(e){return-1!==e.match.indexOf(r)}))}return n},De=/\{([0-9]+,?[0-9]*)\}/,Fe=/&&/,Te=new RegExp(/^<(\S+)>/),Me=function(e){return e[e.length-1]},Pe=function(e){return e[0]},Ne=function(e){return e.substr(1)},Be=function(e){return e.substr(0,e.length-1)},Re=function(e){return e=Ne(e),e=Be(e)},ze=function e(t){for(var n,r={},i=0;i<2;i+=1){if("$"===Me(t)&&(r.end=!0,t=Be(t)),"^"===Pe(t)&&(r.start=!0,t=Ne(t)),("["===Pe(t)||"]"===Me(t))&&(r.named=!0,"["===Pe(t)?r.groupType="]"===Me(t)?"single":"start":r.groupType="end",t=(t=t.replace(/^\[/,"")).replace(/\]$/,""),"<"===Pe(t))){var a=Te.exec(t);a.length>=2&&(r.named=a[1],t=t.replace(a[0],""))}if("+"===Me(t)&&(r.greedy=!0,t=Be(t)),"*"!==t&&"*"===Me(t)&&"\\*"!==t&&(r.greedy=!0,t=Be(t)),"?"===Me(t)&&(r.optional=!0,t=Be(t)),"!"===Pe(t)&&(r.negative=!0,t=Ne(t)),"("===Pe(t)&&")"===Me(t)){Fe.test(t)?(r.choices=t.split(Fe),r.operator="and"):(r.choices=t.split("|"),r.operator="or"),r.choices[0]=Ne(r.choices[0]);var o=r.choices.length-1;r.choices[o]=Be(r.choices[o]),r.choices=r.choices.map((function(e){return e.trim()})),r.choices=r.choices.filter((function(e){return e})),r.choices=r.choices.map(e),t=""}if("/"===Pe(t)&&"/"===Me(t))return t=Re(t),r.regex=new RegExp(t),r;if("~"===Pe(t)&&"~"===Me(t))return t=Re(t),r.soft=!0,r.word=t,r}return!0===De.test(t)&&(t=t.replace(De,(function(e,t){var n=t.split(/,/g);return 1===n.length?(r.min=Number(n[0]),r.max=Number(n[0])):(r.min=Number(n[0]),r.max=Number(n[1]||999)),r.greedy=!0,""}))),"#"===Pe(t)?(r.tag=Ne(t),r.tag=(n=r.tag).charAt(0).toUpperCase()+n.substr(1),r):"@"===Pe(t)?(r.method=Ne(t),r):"."===t?(r.anything=!0,r):"*"===t?(r.anything=!0,r.greedy=!0,r.optional=!0,r):(t&&(t=(t=t.replace("\\*","*")).replace("\\.","."),r.word=t.toLowerCase()),r)},Le=function(e){return e.filter((function(e){return e.groupType})).length>0&&(e=function(e){for(var t,n,r=!1,i=-1,a=0;a<e.length;a++){var o=e[a];"single"!==o.groupType||!0!==o.named?("start"===o.groupType&&(r=!0,t="string"===typeof(n=o.named)||"number"===typeof n?o.named:i+=1),r&&(o.named=t),"end"===o.groupType&&(r=!1)):(i+=1,o.named=i)}return e}(e)),e=function(e){return e.map((function(e){if(void 0!==e.choices&&!0===e.choices.every((function(e){return!0!==e.optional&&!0!==e.negative&&void 0!==e.word}))){var t={};e.choices.forEach((function(e){return t[e.word]=!0})),e.oneOf=t,delete e.choices}return e}))}(e)},Ie=function(e){if(null===e||void 0===e||""===e)return[];if("object"===r(e)){if(function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e)){if(0===e.length||!e[0])return[];if("object"===r(e[0]))return e;if("string"===typeof e[0])return function(e){return[{choices:e.map((function(e){return{word:e}}))}]}(e)}return e&&"Doc"===e.isA?function(e){if(!e||!e.list||!e.list[0])return[];var t=[];return e.list.forEach((function(e){e.terms().forEach((function(e){t.push({id:e.id})}))})),[{choices:t,greedy:!0}]}(e):[]}"number"===typeof e&&(e=String(e));var t=function(e){var t=e.split(/([\^\[\!]*(?:<\S+>)?\(.*?\)[?+*]*\]?\$?)/);return t=t.map((function(e){return e.trim()}))}(e);return t=(t=function(e){var t=[];return e.forEach((function(e){if(/^[[^_/]?\(/.test(e[0]))t.push(e);else{var n=e.split(" ");n=n.filter((function(e){return e})),t=t.concat(n)}})),t}(t)).map(ze),t=Le(t)},Ue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"===typeof t&&(t=Ie(t)),!0===je(e,t))return[];var r=t.filter((function(e){return!0!==e.optional})).length,i=e.terms(),a=[];if(!0===t[0].start){var o=Ae(i,t,0,i.length),u=d(o,2),c=u[0],s=u[1];return!1!==c&&c.length>0&&(c=c.filter((function(e){return e})),a.push({match:c,groups:s})),Ce(i,t,a)}for(var l=0;l<i.length&&!(l+r>i.length);l+=1){var f=Ae(i.slice(l),t,l,i.length),h=d(f,2),p=h[0],v=h[1];if(!1!==p&&p.length>0&&(l+=p.length-1,p=p.filter((function(e){return e})),a.push({match:p,groups:v}),!0===n))return Ce(i,t,a)}return Ce(i,t,a)},qe=function(e,t){var n={};Ue(e,t).forEach((function(e){e.match.forEach((function(e){n[e.id]=!0}))}));var r=e.terms(),i=[],a=[];return r.forEach((function(e){!0!==n[e.id]?a.push(e):a.length>0&&(i.push(a),a=[])})),a.length>0&&i.push(a),i},$e={match:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Ue(this,e,n);return r=r.map((function(e){var n=e.match,r=e.groups,i=t.buildFrom(n[0].id,n.length,r);return i.cache.terms=n,i}))},has:function(e){return Ue(this,e,!0).length>0},not:function(e){var t=this,n=qe(this,e);return n=n.map((function(e){return t.buildFrom(e[0].id,e.length)}))},canBe:function(e,t){for(var n=this,r=[],i=this.terms(),a=!1,o=0;o<i.length;o+=1){var u=i[o].canBe(e,t);!0===u&&(!0===a?r[r.length-1].push(i[o]):r.push([i[o]]),a=u)}return r=r.filter((function(e){return e.length>0})).map((function(e){return n.buildFrom(e[0].id,e.length)}))}},He=function e(t,n,r){i(this,e),this.start=t,this.length=n,this.isA="Phrase",Object.defineProperty(this,"pool",{enumerable:!1,writable:!0,value:r}),Object.defineProperty(this,"cache",{enumerable:!1,writable:!0,value:{}}),Object.defineProperty(this,"groups",{enumerable:!1,writable:!0,value:{}})};He.prototype.buildFrom=function(e,t,n){var r=new He(e,t,this.pool);return n&&Object.keys(n).length>0?r.groups=n:r.groups=this.groups,r},Object.assign(He.prototype,$e),Object.assign(He.prototype,ke);var We={term:"terms"};Object.keys(We).forEach((function(e){return He.prototype[e]=He.prototype[We[e]]}));var Ge=He,Ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),Object.defineProperty(this,"words",{enumerable:!1,value:t})}return o(e,[{key:"add",value:function(e){return this.words[e.id]=e,this}},{key:"get",value:function(e){return this.words[e]}},{key:"remove",value:function(e){delete this.words[e]}},{key:"merge",value:function(e){return Object.assign(this.words,e.words),this}},{key:"stats",value:function(){return{words:Object.keys(this.words).length}}}]),e}();Ke.prototype.clone=function(){var e=this,t=Object.keys(this.words).reduce((function(t,n){var r=e.words[n].clone();return t[r.id]=r,t}),{});return new Ke(t)};for(var Ve=Ke,Ye=function(e){e.forEach((function(t,n){n>0&&(t.prev=e[n-1].id),e[n+1]&&(t.next=e[n+1].id)}))},Je=/(\S.+?[.!?\u203D\u2E18\u203C\u2047-\u2049])(?=\s+|$)/g,Xe=/\S/,Ze=/[ .][A-Z]\.? *$/i,Qe=/(?:\u2026|\.{2,}) *$/,et=/((?:\r?\n|\r)+)/,tt=/[a-z0-9\u00C0-\u00FF\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]/i,nt=/^\s+/,rt=function(e,t){if(!0===Ze.test(e))return!1;if(!0===Qe.test(e))return!1;if(!1===tt.test(e))return!1;var n=e.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/,"").split(" "),r=n[n.length-1].toLowerCase();return!t.hasOwnProperty(r)},it=function(e,t){var n=t.cache.abbreviations;e=e||"";var r=[],i=[];if(!(e=String(e))||"string"!==typeof e||!1===Xe.test(e))return r;for(var a=function(e){for(var t=[],n=e.split(et),r=0;r<n.length;r++)for(var i=n[r].split(Je),a=0;a<i.length;a++)t.push(i[a]);return t}(e=e.replace("\xa0"," ")),o=0;o<a.length;o++){var u=a[o];if(void 0!==u&&""!==u){if(!1===Xe.test(u)){if(i[i.length-1]){i[i.length-1]+=u;continue}if(a[o+1]){a[o+1]=u+a[o+1];continue}}i.push(u)}}for(var c=0;c<i.length;c++){var s=i[c];i[c+1]&&!1===rt(s,n)?i[c+1]=s+(i[c+1]||""):s&&s.length>0&&(r.push(s),i[c]="")}if(0===r.length)return[e];for(var l=1;l<r.length;l+=1){var f=r[l].match(nt);null!==f&&(r[l-1]+=f[0],r[l]=r[l].replace(nt,""))}return r},at=/\S/,ot=/^[!?.]+$/,ut=/(\S+)/,ct=/[a-z] ?\/ ?[a-z]*$/,st={".":!0,"-":!0,"\u2013":!0,"\u2014":!0,"--":!0,"...":!0},lt=function(e){if(!0===/^(re|un)-?[^aeiou]./.test(e))return!1;return!0===/^([a-z\u00C0-\u00FF`"'/]+)(-|\u2013|\u2014)([a-z0-9\u00C0-\u00FF].*)/i.test(e)},ft=function(e){var t=[],n=e.split(/[-\u2013\u2014]/),r="-",i=e.match(/[-\u2013\u2014]/);i&&i[0]&&(r=i);for(var a=0;a<n.length;a++)a===n.length-1?t.push(n[a]):t.push(n[a]+r);return t},dt=function(e){var t=[],n=[];if("number"===typeof(e=e||"")&&(e=String(e)),function(e){return"[object Array]"===Object.prototype.toString.call(e)}(e))return e;for(var r=e.split(ut),i=0;i<r.length;i++)!0!==lt(r[i])?n.push(r[i]):n=n.concat(ft(r[i]));for(var a="",o=0;o<n.length;o++){var u=n[o];!0===at.test(u)&&!1===st.hasOwnProperty(u)&&!1===ot.test(u)?(t.length>0?(t[t.length-1]+=a,t.push(u)):t.push(a+u),a=""):a+=u}return a&&(0===t.length&&(t[0]=""),t[t.length-1]+=a),t=(t=function(e){for(var t=1;t<e.length-1;t++)ct.test(e[t])&&(e[t-1]+=e[t]+e[t+1],e[t]=null,e[t+1]=null);return e}(t)).filter((function(e){return e}))},ht=function(e){return"[object Array]"===Object.prototype.toString.call(e)},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=null;"string"!==typeof e&&("number"===typeof e?e=String(e):ht(e)&&(r=e)),r=(r=r||it(e,t)).map((function(e){return dt(e)})),n=n||new Ve;var i=r.map((function(e){e=e.map((function(e){var t=new se(e);return n.add(t),t})),Ye(e);var t=new Ge(e[0].id,e.length,n);return t.cache.terms=e,t}));return i},vt=function(e,t){var n=new Ve;return e.map((function(e,r){var i=e.terms.map((function(i,a){var o=new se(i.text);return o.pre=void 0!==i.pre?i.pre:"",void 0===i.post&&(i.post=" ",a>=e.terms.length-1&&(i.post=". ",r>=e.terms.length-1&&(i.post="."))),o.post=void 0!==i.post?i.post:" ",i.tags&&i.tags.forEach((function(e){return o.tag(e,"",t)})),n.add(o),o}));return Ye(i),new Ge(i[0].id,i.length,n)}))},gt={Comparative:"true\xa6better",Superlative:"true\xa6earlier",PresentTense:"true\xa6is,sounds",Value:"true\xa6a few",Noun:"true\xa6a5b4c2f1here,ie,lit,m0no doubt,pd,tce;a,d;t,y;a,ca,o0;l,rp;a,l;d,l,rc",Copula:"true\xa6a1is,w0;as,ere;m,re",PastTense:"true\xa6be3came,d2had,lied,meant,sa2taken,w0;as,e0;nt,re;id;en,gan",Condition:"true\xa6if,unless",Gerund:"true\xa6accord0be0develop0go0result0stain0;ing",Negative:"true\xa6n0;ever,o0;!n,t",QuestionWord:"true\xa6how3wh0;at,e1ich,o0y;!m,se;n,re; come,'s",Plural:"true\xa6records",Conjunction:"true\xa6&,aEbAcuz,how8in caDno7o6p4supposing,t1vers5wh0yet;eth8ile;h0o;eref9o0;!uC;l0rovided that;us;r,therwi6; matt1r;!ev0;er;e0ut;cau1f0;ore;se;lthou1nd,s 0;far as,if;gh",Pronoun:"true\xa6'em,elle,h4i3me,ourselves,she5th1us,we,you0;!rself;e0ou;m,y;!l,t;e0im;!'s",Singular:"true\xa60:0X;1:10;a0Wb0Kc0Bd04e02fXgShOici1jel0kitty,lNmJnIoHpDquestion mark,rBs7t4u2womW;nc0Rs 2;doll0Dst0F; rex,a3h2ic,ragedy,v show;ere,i1;l0x return;ist0Pky,omeone,t2uper bowl,yst0W;ep3ri1u2;de0Pff;faMmoM;al0i1o2;om,se;a4i0Jl05r3u2;dLrpoD;erogaVobl0O;rt,te0I;bjSceGthers;othi1umb0E;a4ee04o2;del,m2nopo0th0C;!my;n,yf0;i0unch;ead start,o2;l0me3u2;se;! run;adf0entlem5irlZlaci04od,rand3u2;l0y; slam,fa2mo2;th01;an;a5ella,ly,ol0r3un2;di1;iTo2;ntiWsN;mi0thV;conomy,gg,ner5veWx2;ampQecu7;ad7e4innSo2ragonf0ude;cumentFg2i0l0or;gy;ath,t2;ec2;tive;!dy;a8eili1h6i4o2redit card;ttage,u2;riJsin;ty,vil w2;ar;andeliGocol2;ate;n2rD;ary;aAel0lesHo6r4u2;n2tterf0;ti1;eakfast,o2;!th8;dy,tt4y2;!fri2;end;le;nki1r2;ri2;er;d4l0noma0u2;nt;ly; homin4verti2;si1;ng;em",Actor:"true\xa6aJbGcFdCengineIfAgardenIh9instructPjournalLlawyIm8nurse,opeOp5r3s1t0;echnCherapK;ailNcientJoldiGu0;pervKrgeon;e0oofE;ceptionGsearC;hotographClumbColi1r0sychologF;actitionBogrammB;cem6t5;echanic,inist9us4;airdress8ousekeep8;arm7ire0;fight6m2;eputy,iet0;ici0;an;arpent2lerk;ricklay1ut0;ch0;er;ccoun6d2ge7r0ssis6ttenda7;chitect,t0;ist;minist1v0;is1;rat0;or;ta0;nt",Honorific:"true\xa6a03b00cSdReQfiLgKhon,jr,king,lJmEoDp8queen,r4s0taoiseach,vice7;e1fc,gt,ir,r,u0;ltTpt,rg;c0nDrgeaL;ond liJretary;abbi,e0;ar1pAs,v0;!erend; admirY;astPhd,r0vt;esideEi1of0;!essN;me mini5nce0;!ss;fficOp,rd;a3essrs,i2lle,me,r1s0;!tr;!s;stK;gistrate,j,r6yF;i3lb,t;en,ov;eld mar3rst l0;ady,i0;eutena0;nt;shG;sq,xcellency;et,oct6r,utchess;apt6hance4mdr,o0pl;lonel,m2ngress0unci3;m0wom0;an;dr,mand5;ll0;or;!ain;ldg,rig0;!adi0;er;d0sst,tty,yatullah;j,m0v;!ir0;al",SportsTeam:"true\xa60:1A;1:1H;2:1G;a1Eb16c0Td0Kfc dallas,g0Ihouston 0Hindiana0Gjacksonville jagua0k0El0Bm01newToQpJqueens parkIreal salt lake,sAt5utah jazz,vancouver whitecaps,w3yW;ashington 3est ham0Rh10;natio1Oredski2wizar0W;ampa bay 6e5o3;ronto 3ttenham hotspur;blue ja0Mrapto0;nnessee tita2xasC;buccanee0ra0K;a7eattle 5heffield0Kporting kansas0Wt3;. louis 3oke0V;c1Frams;marine0s3;eah15ounG;cramento Rn 3;antonio spu0diego 3francisco gJjose earthquak1;char08paA; ran07;a8h5ittsburgh 4ortland t3;imbe0rail blaze0;pirat1steele0;il3oenix su2;adelphia 3li1;eagl1philNunE;dr1;akland 3klahoma city thunder,rlando magic;athle0Mrai3;de0; 3castle01;england 7orleans 6york 3;city fc,g4je0FknXme0Fred bul0Yy3;anke1;ian0D;pelica2sain0C;patrio0Brevolut3;ion;anchester Be9i3ontreal impact;ami 7lwaukee b6nnesota 3;t4u0Fvi3;kings;imberwolv1wi2;rewe0uc0K;dolphi2heat,marli2;mphis grizz3ts;li1;cXu08;a4eicesterVos angeles 3;clippe0dodDla9; galaxy,ke0;ansas city 3nE;chiefs,roya0E; pace0polis colU;astr06dynamo,rockeTtexa2;olden state warrio0reen bay pac3;ke0;.c.Aallas 7e3i05od5;nver 5troit 3;lio2pisto2ti3;ge0;broncZnuggeM;cowbo4maver3;ic00;ys; uQ;arCelKh8incinnati 6leveland 5ol3;orado r3umbus crew sc;api5ocki1;brow2cavalie0india2;bengaWre3;ds;arlotte horAicago 3;b4cubs,fire,wh3;iteB;ea0ulR;diff3olina panthe0; c3;ity;altimore 9lackburn rove0oston 5rooklyn 3uffalo bilN;ne3;ts;cel4red3; sox;tics;rs;oriol1rave2;rizona Ast8tlanta 3;brav1falco2h4u3;nited;aw9;ns;es;on villa,r3;os;c5di3;amondbac3;ks;ardi3;na3;ls",Uncountable:"true\xa6a1Ib1Ac11d0Ye0Rf0Lg0Hh0Ci08j07knowled1Hl02mUnews,oTpQrLsAt5vi4w0;a2ea05i1oo0;d,l;ldlife,ne;rmth,t17;neg0Yol06tae;e3h2oothpaste,r0una;affPou0;ble,sers,t;ermod1Eund12;a,nnis;a8cene04eri0Oh7il6kittl0Onow,o5p3t1u0;g0Rnshi0H;ati1De0;am,el;ace16e0;ci0Jed;ap,cc0U;k,v0T;eep,ingl0G;d04fe10l0nd;m0St;a3e1ic0;e,ke0D;c0laxa09search;ogni08rea08;bi09in;aJe1hys10last5o0ressV;lit0Zrk,w0J;a0Vtrol;bstetr0Xil,xygen;a5e3ilk,o2u0;mps,s0;ic;nGo0A;a0chan0S;slZt;chine0il,themat0Q; learn05ry;aught08e2i1ogi0Nu0;ck,g0C;ce,ghtn02ngui0LteratH;a0isG;th04;ewel7usti0G;ce,mp0nformaOtself;a0ortan0E;ti0;en0C;a3isto2o0;ck0mework,n0spitali06;ey;ry;ir,libut,ppi7;en01o1r0um,ymna08;a6ound;l0ssip;d,f;i4lour,o1urnit0;ure;od,rgive0uriNwl;ne0;ss;c6sh;conomZduca5lectr4n2quip3thZvery0;body,o0thE;ne;joy0tertain0;ment;iciNonU;tiF;ar1iabet0raugh1;es;ts;a7elcius,h3ivPl2o0urrency;al,ld w0nfusiAttA;ar;assMoth2;aos,e0;e1w0;ing;se;r4sh;a4eef,i1lood,owls,read,utt0;er;lliar1s0;on;ds;g0ss;ga0;ge;c6dvi5ero3ir2mnes1rt,thl0;et7;ty;craft;b4d0naut4;ynam3;ce;id,ou0;st0;ics",Infinitive:"true\xa60:6K;1:6Y;2:57;3:6V;4:6W;5:5Z;6:67;7:6Q;8:6I;9:6U;A:6P;B:6S;C:6D;D:6Z;E:56;F:5P;a6Cb61c52d4Ae3Uf3Hg3Bh34i2Rj2Pk2Nl2Fm25n22o1Xp1Iques3Ir0Qs05tXuSvOwHyG;awn,ield;aJe1Yhist6iIoGre65;nd0rG;k,ry;pe,sh,th0;lk,nHrGsh,tCve;n,raD;d0t;aIiGo9;eGsA;!w;l6Cry;nHpGr3se;gra4Mli3Z;dGi9lo5Spub3O;erGo;mi58w1I;aMeLhKoJrHuGwi7;ne,rn;aGe0Mi5Nu7y;de,in,nsf0p,v5F;r2XuC;ank,reat2N;nd,st;lk,rg1Ps9;aZcWeVhTi4Akip,lSmRnee3Jo4YpQtJuGwitC;bmAck,ff0gge7ppHrGspe5;ge,pri1rou4Vvi4;ly,o34;aLeKoJrHuG;dy,mb6;aEeGi4;ngth2Dss,tC;p,re;m,p;in,ke,r0Qy;laFoil,rink6;e1Xi6o3H;am,ip;a2iv0oG;ck,ut;arCem,le5n1r4tt6;aHo2rG;atCew;le,re;il,ve;a05eIisk,oHuG;in,le,sh;am,ll;a01cZdu8fYgXje5lUmTnt,pQquPsKtJvGwa5O;eGiew,o34;al,l,rG;se,t;aEi2u40;eJi7oItG;!o2rG;i5uc1Y;l4rt;mb6nt,r4;e7i2;air,eHlGo3ZreseD;a8y;at;aEemb0i3Vo4;aHeGi4y;a1nt;te,x;a56r0I;act1Wer,le5u1;a11ei4k5IoGyc6;gni2Anci6rd;ch,li29s5G;i1nG;ge,k;aTerSiRlOoMrIuG;b1Zll,mp,rGsh;cha1s4J;ai1eIiDoG;cGdu8greBhibAmi1te7vi2T;eBlaim;di5pa2ss,veD;iDp,rtr3ZsGur;e,t;aHuG;g,n3;n,y;ck,le;fo30mAsi7;ck,iDrt4Fss,u1;bJccur,ff0pera9utweIverGwe;co40lap,ta20u1wG;helm;igh;ser4taE;eHotG;e,i8;ed,gle5;aLeKiIoHuG;ltip3Crd0;nit11ve;nGrr10;d,g6us;asu2lt,n0Nr3;intaEna3rHtG;ch,t0;ch,kGry;et;aLeKiIoGu1B;aGck,ok,ve;d,n;ft,ke,mAnGst2Wve;e,k;a2Dc0Et;b0Nck,uG;gh,nC;iGno2Z;ck,ll,ss;am,oEuG;d3mp;gno2mQnGss3C;cOdica9flu0MhNsKtIvG;eGol4;nt,st;erGrodu8;a5fe2;i7tG;aGru5;ll;abAibA;lu1Er1C;agi22pG;lemeDo20ro4;aKeIi2oHuG;nt,rry;n02pe,st;aGlp;d,t;nd6ppGrm,te;en;aKloBove1MrIuG;arGeBi13;ant33d;aGip,umb6;b,sp;in,th0ze;aQeaPiNlLoIracHuncG;ti3D;tu2;cus,lHrG;ce,eca7m,s2V;d,l1Z;aFoG;at,od,w;gu2lGniFx;e,l;r,tu2;il,vG;or;a13cho,le5mSnPstNvalua9xG;a0AcLerKi7pGte17;a16eHi2laEoGreB;rt,se;ct,riG;en8;ci1t;el,han3;abGima9;liF;ab6couXdHfor8ga3han8j03riCsu2t0vG;isi2Qy;!u2;body,er3pG;hasiGow0;ze;a06eUiLoKrHuG;mp;aHeBiG;ft;g,in;d3ubt;ff0p,re5sHvG;iYor8;aKcHliGmiBpl16tinguiF;ke;oGuB;uGv0;ra3;gr1TppG;ear,ro4;cNem,fLliv0ma0Dny,pKsHterG;mi0E;cribe,er4iHtrG;oy;gn,re;a09e08i5osA;eGi09y;at,ct;iIlHrG;ea1;a2i05;de;ma3n8re,te;a0Ae09h06i9l04oJrG;aHeGoBuFy;a9dA;ck,ve;llZmSnHok,py,uGv0;gh,nt;cePdu5fMsKtIvG;eGin8;rt,y;aEin0SrG;a7ibu9ol;iGtitu9;d0st;iHoGroD;rm;gu2rm;rn;biLfoKmaJpG;a2laE;in;re;nd;rt;ne;ap1e5;aGip,o1;im,w;aHeG;at,ck,w;llen3n3r3se;a1nt0;ll,ncIrGt0u1;eGry;!en;el;aPeMloLoJruFuG;lGry;ly;sh;a7mb,o7rrGth0un8;ow;ck;ar,lHnefAtrG;ay;ie4ong;ng,se;band0Jc0Bd06ffo05gr04id,l01mu1nYppTrQsKttGvoid,waA;acIeHra5;ct;m0Fnd;h,k;k,sG;eIiHocia9uG;me;gn,st;mb6rt;le;chHgGri4;ue;!i4;eaJlIroG;aCve;ch;aud,y;l,r;noun8sw0tG;icipa9;ce;lHt0;er;e3ow;ee;rd;aRdIju7mAoR;it;st;!reB;ss;cJhie4knowled3tiva9;te;ge;ve;eIouDu1;se;nt;pt;on",Unit:"true\xa60:19;a14b12c0Od0Ne0Lf0Gg0Ch09in0Hjoule0k02l00mNnMoLpIqHsqCt7volts,w6y4z3\xb02\xb51;g,s;c,f,n;b,e2;a0Nb,d0Dears old,o1;tt0H;att0b;able4b3d,e2on1sp;!ne0;a2r0D;!l,sp;spo04; ft,uare 1;c0Id0Hf3i0Fkilo0Jm1ya0E;e0Mil1;e0li0H;eet0o0D;t,uart0;ascals,e2i1ou0Pt;c0Mnt0;rcent,t02;hms,uYz;an0JewtT;/s,b,e9g,i3l,m2p1\xb2,\xb3;h,s;!\xb2;!/h,cro5l1;e1li08;! pFs1\xb2;! 1;anEpD;g06s0B;gQter1;! 2s1;! 1;per second;b,i00m,u1x;men0x0;b,elvin0g,ilo2m1nR;!/h,ph,\xb2;byZgXmeter1;! p2s1;! p1;er1; hour;e1g,r0z;ct1rtz0;aXogQ;al2b,igAra1;in0m0;!l1;on0;a4emtPl2t1;\xb2,\xb3; oz,uid ou1;nce0;hrenheit0rad0;b,x1;abyH;eciCg,l,mA;arat0eAg,m9oulomb0u1;bic 1p0;c5d4fo3i2meAya1;rd0;nch0;ot0;eci2;enti1;me4;!\xb2,\xb3;lsius0nti1;g2li1me1;ter0;ram0;bl,y1;te0;c4tt1;os1;eco1;nd0;re0;!s",Organization:"true\xa60:46;a3Ab2Qc2Ad21e1Xf1Tg1Lh1Gi1Dj19k17l13m0Sn0Go0Dp07qu06rZsStFuBv8w3y1;amaha,m0Xou1w0X;gov,tu2S;a3e1orld trade organizati41;lls fargo,st1;fie22inghou16;l1rner br3D;-m11gree31l street journ25m11;an halNeriz3Wisa,o1;dafo2Gl1;kswagLvo;bs,kip,n2ps,s1;a tod2Rps;es35i1;lev2Xted natio2Uv; mobi2Kaco bePd bMeAgi frida9h3im horto2Tmz,o1witt2W;shiba,y1;ota,s r Y;e 1in lizzy;b3carpen33daily ma2Xguess w2holli0rolling st1Ms1w2;mashing pumpki2Ouprem0;ho;ea1lack eyed pe3Fyrds;ch bo1tl0;ys;l2s1;co,la m12;efoni07us;a6e4ieme2Gnp,o2pice gir5ta1ubaru;rbucks,to2N;ny,undgard1;en;a2Rx pisto1;ls;few25insbu26msu1X;.e.m.,adiohead,b6e3oyal 1yan2X;b1dutch she4;ank;/max,aders dige1Ed 1vl32;bu1c1Uhot chili peppe2Klobst28;ll;c,s;ant2Vizno2F;an5bs,e3fiz24hilip morrBi2r1;emier27octer & gamb1Rudenti14;nk floyd,zza hut;psi28tro1uge08;br2Qchina,n2Q; 2ason1Xda2G;ld navy,pec,range juli2xf1;am;us;a9b8e5fl,h4i3o1sa,wa;kia,tre dame,vart1;is;ke,ntendo,ss0K;l,s;c,st1Etflix,w1; 1sweek;kids on the block,york08;a,c;nd1Us2t1;ional aca2Fo,we0Q;a,cYd0O;aAcdonald9e5i3lb,o1tv,yspace;b1Nnsanto,ody blu0t1;ley crue,or0O;crosoft,t1;as,subisO;dica3rcedes2talli1;ca;!-benz;id,re;'s,s;c's milk,tt13z1Y;'ore09a3e1g,ittle caesa1Ktd;novo,x1;is,mark; pres5-z-boy,bour party;atv,fc,kk,m1od1K;art;iffy lu0Lo3pmorgan1sa;! cha1;se;hnson & johns1Sy d1R;bm,hop,n1tv;c,g,te1;l,rpol; & m,asbro,ewlett-packaTi3o1sbc,yundai;me dep1n1J;ot;tac1zbollah;hi;eneral 6hq,l5mb,o2reen d0Iu1;cci,ns n ros0;ldman sachs,o1;dye1g0B;ar;axo smith kliZencore;electr0Im1;oto0V;a3bi,da,edex,i1leetwood mac,oGrito-l0A;at,nancial1restoV; tim0;cebook,nnie mae;b06sa,u3xxon1; m1m1;ob0H;!rosceptics;aiml0Ae5isney,o3u1;nkin donuts,po0Wran dur1;an;j,w j1;on0;a,f leppa3ll,p2r spiegZstiny's chi1;ld;eche mode,t;rd;aEbc,hBi9nn,o3r1;aigsli5eedence clearwater reviv1ossra05;al;!ca c5l4m1o0Ast05;ca2p1;aq;st;dplMgate;ola;a,sco1tigroup;! systems;ev2i1;ck fil-a,na daily;r0Hy;dbury,pital o1rl's jr;ne;aGbc,eCfAl6mw,ni,o2p,r1;exiteeWos;ei3mbardiJston 1;glo1pizza;be;ng;ack & deckFo2ue c1;roX;ckbuster video,omingda1;le; g1g1;oodriN;cht3e ge0n & jer2rkshire hathaw1;ay;ryH;el;nana republ3s1xt5y5;f,kin robbi1;ns;ic;bXcSdidRerosmith,ig,lLmFnheuser-busEol,ppleAr7s3t&t,v2y1;er;is,on;hland2s1;n,ociated F; o1;il;by4g2m1;co;os; compu2bee1;'s;te1;rs;ch;c,d,erican3t1;!r1;ak; ex1;pre1;ss; 4catel2t1;air;!-luce1;nt;jazeera,qae1;da;as;/dc,a3er,t1;ivisi1;on;demy of scienc0;es;ba,c",Demonym:"true\xa60:16;1:13;a0Wb0Nc0Cd0Ae09f07g04h02iYjVkTlPmLnIomHpDqatari,rBs7t5u4v3wel0Rz2;am0Fimbabwe0;enezuel0ietnam0H;g9krai1;aiwThai,rinida0Iu2;ni0Qrkmen;a4cot0Ke3ingapoOlovak,oma0Tpa05udRw2y0X;edi0Kiss;negal0Br08;mo0uU;o6us0Lw2;and0;a3eru0Hhilipp0Po2;li0Ertugu06;kist3lesti1na2raguay0;ma1;ani;amiZi2orweP;caragu0geri2;an,en;a3ex0Mo2;ngo0Erocc0;cedo1la2;gasy,y08;a4eb9i2;b2thua1;e0Dy0;o,t02;azakh,eny0o2uwaiti;re0;a2orda1;ma0Bp2;anN;celandic,nd4r2sraeli,ta02vo06;a2iT;ni0qi;i0oneV;aiDin2ondur0unN;di;amDe2hanai0reek,uatemal0;or2rm0;gi0;i2ren7;lipino,n4;cuadoVgyp6ngliJsto1thiopi0urope0;a2ominXut4;niH;a9h6o4roa3ub0ze2;ch;ti0;lom2ngol5;bi0;a6i2;le0n2;ese;lifor1m2na3;bo2eroo1;di0;angladeshi,el8o6r3ul2;gaG;aziBi2;ti2;sh;li2s1;vi0;aru2gi0;si0;fAl7merBngol0r5si0us2;sie,tr2;a2i0;li0;gent2me1;ine;ba1ge2;ri0;ni0;gh0r2;ic0;an",Possessive:"true\xa6anyAh5its,m3noCo1sometBthe0yo1;ir1mselves;ur0;!s;i8y0;!se4;er1i0;mse2s;!s0;!e0;lf;o1t0;hing;ne",Currency:"true\xa6$,aud,bScQdLeurKfJgbp,hkd,iIjpy,kGlEp8r7s3usd,x2y1z0\xa2,\xa3,\xa5,\u0434\u0435\u043d,\u043b\u0432,\u0440\u0443\u0431,\u0e3f,\u20a1,\u20a8,\u20ac,\u20ad,\ufdfc;lotyS\u0142;en,uanR;af,of;h0t5;e0il5;k0q0;elM;iel,oubleLp,upeeL;e2ound st0;er0;lingI;n0soH;ceGn0;ies,y;e0i8;i,mpi7;n,r0wanzaCyatC;!onaBw;ls,nr;ori7ranc9;!o8;en3i2kk,o0;b0ll2;ra5;me4n0rham4;ar3;ad,e0ny;nt1;aht,itcoin0;!s",City:"true\xa6a2Wb26c1Wd1Re1Qf1Og1Ih1Ai18jakar2Hk0Zl0Tm0Gn0Co0ApZquiYrVsLtCuBv8w3y1z0;agreb,uri1Z;ang1Te0okohama;katerin1Hrev34;ars3e2i0rocl3;ckl0Vn0;nipeg,terth0W;llingt1Oxford;aw;a1i0;en2Hlni2Z;lenc2Uncouv0Gr2G;lan bat0Dtrecht;a6bilisi,e5he4i3o2rondheim,u0;nVr0;in,ku;kyo,ronIulouC;anj23l13miso2Jra2A; haJssaloni0X;gucigalpa,hr2Ol av0L;i0llinn,mpe2Bngi07rtu;chu22n2MpT;a3e2h1kopje,t0ydney;ockholm,uttga12;angh1Fenzh1X;o0KvZ;int peters0Ul3n0ppo1F; 0ti1B;jo0salv2;se;v0z0Q;adU;eykjavik,i1o0;me,sario,t25;ga,o de janei17;to;a8e6h5i4o2r0ueb1Qyongya1N;a0etor24;gue;rt0zn24; elizabe3o;ls1Grae24;iladelph1Znom pe07oenix;r0tah tik19;th;lerJr0tr10;is;dessa,s0ttawa;a1Hlo;a2ew 0is;delTtaip0york;ei;goya,nt0Upl0Uv1R;a5e4i3o1u0;mb0Lni0I;nt0scH;evideo,real;l1Mn01skolc;dell\xedn,lbour0S;drid,l5n3r0;ib1se0;ille;or;chest0dalWi0Z;er;mo;a4i1o0vAy01;nd00s angel0F;ege,ma0nz,sbZverpo1;!ss0;ol; pla0Iusan0F;a5hark4i3laipeda,o1rak0uala lump2;ow;be,pavog0sice;ur;ev,ng8;iv;b3mpa0Kndy,ohsiu0Hra0un03;c0j;hi;ncheMstanb0\u0307zmir;ul;a5e3o0; chi mi1ms,u0;stI;nh;lsin0rakliG;ki;ifa,m0noi,va0A;bu0SiltD;alw4dan3en2hent,iza,othen1raz,ua0;dalaj0Gngzhou;bu0P;eUoa;sk;ay;es,rankfu0;rt;dmont4indhovU;a1ha01oha,u0;blRrb0Eshanbe;e0kar,masc0FugavpiJ;gu,je0;on;a7ebu,h2o0raioJuriti01;lo0nstanJpenhagNrk;gFmbo;enn3i1ristchur0;ch;ang m1c0ttagoL;ago;ai;i0lgary,pe town,rac4;ro;aHeBirminghWogoAr5u0;char3dap3enos air2r0sZ;g0sa;as;es;est;a2isba1usse0;ls;ne;silPtisla0;va;ta;i3lgrade,r0;g1l0n;in;en;ji0rut;ng;ku,n3r0sel;celo1ranquil0;la;na;g1ja lu0;ka;alo0kok;re;aBb9hmedabad,l7m4n2qa1sh0thens,uckland;dod,gabat;ba;k0twerp;ara;m5s0;terd0;am;exandr0maty;ia;idj0u dhabi;an;lbo1rh0;us;rg",Abbreviation:"true\xa6a0Tb0Qc0Kd0Ie0Ff0Cg0Ah08i06j04k02l00mRnOoNpIqHrFs9t6u5v2w0yb,\xb5g;is0r,y0L;!c;a,b,e1i0ol,s,t;tro,vo;r,t;niv,safa,t;b1ce,d,e0sp;l,mp,nn,x;!l,sp;ask,e3fc,gt,i2q1r,s,t,u0;pt,rg;! ft;r,tu;c,nVp0;!t;b,d,e0;pSs,v;t,ue;a,d,enn3hd,l,p,r1s0t,vt;!a,eud;ef,o0;b,f,n;!a;ct,kla,nt,p,rd,z;e0ov;b0e;!r;a7b,d,essrs,g,i4l3m2p1rHs0t;!tr;h,s;!e;!le;!n1s0;c,ter;!n;!j,r,sc;at,b,it,lb,m,ng,t0x;!d;an6b,g,m0;!ph;an,d,r,u0;l,n;a,da,e,n0;c,f;g,on,r0wy,z;!s;a0b,en,ov;!l;e1ig,l0m,r,t,y;! oz,a;b,m;a,g,ng,s1tc,x0;!p;p,q,t;ak,e0g,ist,l,m,r;c,f,pt,t;a3ca,g,l,m2o0pl,res,t,yn;!l0mdr,nn,rp;!o;!dr;!l0pt;!if;a,c,l1r0;ig,os;!dg,vd;d4l3p2r1ss0tty,ug,ve;n,t;c,iz;prox,r,t;!ta;!j,m,v",Country:"true\xa60:38;1:2L;a2Wb2Dc21d1Xe1Rf1Lg1Bh19i13j11k0Zl0Um0Gn05om3CpZqat1JrXsKtCu6v4wal3yemTz2;a24imbabwe;es,lis and futu2X;a2enezue31ietnam;nuatu,tican city;.5gTkraiZnited 3ruXs2zbeE;a,sr;arab emirat0Kkingdom,states2;! of am2X;k.,s.2; 27a.;a7haBimor-les0Bo6rinidad4u2;nis0rk2valu;ey,me2Xs and caic1T; and 2-2;toba1J;go,kel0Ynga;iw2Vji2nz2R;ki2T;aCcotl1eBi8lov7o5pa2Bri lanka,u4w2yr0;az2ed9itzerl1;il1;d2Qriname;lomon1Vmal0uth 2;afr2IkLsud2O;ak0en0;erra leoEn2;gapo1Wt maart2;en;negKrb0ychellY;int 2moa,n marino,udi arab0;hele24luc0mart1Z;epublic of ir0Com2Cuss0w2;an25;a3eHhilippinTitcairn1Ko2uerto riM;l1rtugE;ki2Bl3nama,pua new0Tra2;gu6;au,esti2;ne;aAe8i6or2;folk1Gth3w2;ay; k2ern mariana1B;or0M;caragua,ger2ue;!ia;p2ther18w zeal1;al;mib0u2;ru;a6exi5icro09o2yanm04;ldova,n2roc4zamb9;a3gol0t2;enegro,serrat;co;c9dagascZl6r4urit3yot2;te;an0i14;shall0Vtin2;ique;a3div2i,ta;es;wi,ys0;ao,ed00;a5e4i2uxembourg;b2echtenste10thu1E;er0ya;ban0Gsotho;os,tv0;azakh1De2iriba02osovo,uwait,yrgyz1D;eling0Jnya;a2erF;ma15p1B;c6nd5r3s2taly,vory coast;le of m19rael;a2el1;n,q;ia,oI;el1;aiSon2ungary;dur0Mg kong;aAermany,ha0Pibralt9re7u2;a5ern4inea2ya0O;!-biss2;au;sey;deloupe,m,tema0P;e2na0M;ce,nl1;ar;bTmb0;a6i5r2;ance,ench 2;guia0Dpoly2;nes0;ji,nl1;lklandTroeT;ast tim6cu5gypt,l salv5ngl1quatorial3ritr4st2thiop0;on0; guin2;ea;ad2;or;enmark,jibou4ominica3r con2;go;!n B;ti;aAentral african 9h7o4roat0u3yprQzech2; 8ia;ba,racao;c3lo2morPngo-brazzaville,okFsta r03te d'ivoiK;mb0;osD;i2ristmasF;le,na;republic;m2naTpe verde,yman9;bod0ero2;on;aFeChut00o8r4u2;lgar0r2;kina faso,ma,undi;azil,itish 2unei;virgin2; is2;lands;liv0nai4snia and herzegoviGtswaGuvet2; isl1;and;re;l2n7rmuF;ar2gium,ize;us;h3ngladesh,rbad2;os;am3ra2;in;as;fghaFlCmAn5r3ustr2zerbaijH;al0ia;genti2men0uba;na;dorra,g4t2;arct6igua and barbu2;da;o2uil2;la;er2;ica;b2ger0;an0;ia;ni2;st2;an",Region:"true\xa60:1U;a20b1Sc1Id1Des1Cf19g13h10i0Xj0Vk0Tl0Qm0FnZoXpSqPrMsDtAut9v6w3y1zacatec22;o05u1;cat18kZ;a1est vi4isconsin,yomi14;rwick0shington1;! dc;er2i1;rgin1S;acruz,mont;ah,tar pradesh;a2e1laxca1DuscaA;nnessee,x1R;bas0Kmaulip1QsmJ;a6i4o2taf0Ou1ylh13;ffVrr00s0Y;me10no1Auth 1;cSdR;ber1Ic1naloa;hu0Sily;n2skatchew0Rxo1;ny; luis potosi,ta catari1I;a1hode7;j1ngp02;asth0Mshahi;inghai,u1;e1intana roo;bec,ensWreta0E;ara4e2rince edward1; isU;i,nnsylv1rnambu02;an14;!na;axa0Ndisha,h1klaho1Bntar1reg4x04;io;ayarit,eBo3u1;evo le1nav0L;on;r1tt0Rva scot0X;f6mandy,th1; 1ampton0;c3d2yo1;rk0;ako0Y;aroli0V;olk;bras0Xva01w1; 2foundland1;! and labrador;brunswick,hamp0jers1mexiJyork state;ey;a6i2o1;nta0Nrelos;ch3dlanBn2ss1;issippi,ouri;as geraGneso0M;igQoacQ;dhya,harasht04ine,ni3r1ssachusetts;anhao,y1;land;p1toba;ur;anca0e1incoln0ouis8;e1iH;ds;a1entucky,hul0A;ns08rnata0Dshmir;alis1iangxi;co;daho,llino2nd1owa;ia05;is;a2ert1idalEunA;ford0;mp0waii;ansu,eorgWlou5u1;an2erre1izhou,jarat;ro;ajuato,gdo1;ng;cester0;lori2uji1;an;da;sex;e4o2uran1;go;rs1;et;lawaErby0;a8ea7hi6o1umbrH;ahui4l3nnectic2rsi1ventry;ca;ut;iMorado;la;apEhuahua;ra;l8m1;bridge0peche;a5r4uck1;ingham0;shi1;re;emen,itish columb3;h2ja cal1sque,var2;iforn1;ia;guascalientes,l4r1;izo2kans1;as;na;a2ber1;ta;ba2s1;ka;ma",FemaleName:"true\xa60:FY;1:G2;2:FR;3:FD;4:FC;5:EP;6:ER;7:FS;8:GF;9:EZ;A:GB;B:E5;C:FO;D:FL;E:G8;F:EG;aE2bD4cB8dAIe9Gf91g8Hh83i7Sj6Uk60l4Om38n2To2Qp2Fqu2Er1Os0Qt04ursu6vUwOyLzG;aJeHoG;e,la,ra;lGna;da,ma;da,ra;as7EeHol1TvG;et5onB9;le0sen3;an9endBNhiB4iG;lInG;if3AniGo0;e,f39;a,helmi0lGma;a,ow;aMeJiG;cHviG;an9XenG1;kCZtor3;da,l8Vnus,rG;a,nGoniD2;a,iDC;leGnesEC;nDLrG;i1y;aSePhNiMoJrGu6y4;acG3iGu0E;c3na,sG;h9Mta;nHrG;a,i;i9Jya;a5IffaCGna,s7;al3eGomasi0;a,l8Go6Xres1;g7Uo6WrHssG;!a,ie;eFi,ri8;bNliMmKnIrHs7tGwa0;ia0um;a,yn;iGya;a,ka,s7;a4e4iGmCAra;!ka;a,t7;at7it7;a05carlet2Ye04hUiSkye,oQtMuHyG;bFJlvi1;e,sHzG;an2Tet5ie,y;anGi8;!a,e,nG;aDe;aIeG;fGl3DphG;an2;cF8r6;f3nGphi1;d4ia,ja,ya;er4lv3mon1nGobh75;dy;aKeGirlBLo0y6;ba,e0i6lIrG;iGrBPyl;!d70;ia,lBV;ki4nIrHu0w0yG;la,na;i,leAon,ron;a,da,ia,nGon;a,on;l5Yre0;bMdLi9lKmIndHrGs7vannaD;aDi0;ra,y;aGi4;nt7ra;lBNome;e,ie;in1ri0;a02eXhViToHuG;by,thBK;bQcPlOnNsHwe0xG;an94ie,y;aHeGie,lE;ann8ll1marBFtB;!lGnn1;iGyn;e,nG;a,d7W;da,i,na;an9;hel53io;bin,erByn;a,cGkki,na,ta;helBZki;ea,iannDXoG;da,n12;an0bIgi0i0nGta,y0;aGee;!e,ta;a,eG;cARkaD;chGe,i0mo0n5EquCDvCy0;aCCelGi9;!e,le;een2ia0;aMeLhJoIrG;iGudenAW;scil1Uyamva9;lly,rt3;ilome0oebe,ylG;is,lis;arl,ggy,nelope,r6t4;ige,m0Fn4Oo6rvaBBtHulG;a,et5in1;ricGsy,tA8;a,e,ia;ctav3deHfAWlGphAW;a,ga,iv3;l3t5;aQePiJoGy6;eHrG;aDeCma;ll1mi;aKcIkGla,na,s7ta;iGki;!ta;hoB2k8BolG;a,eBH;!mh;l7Tna,risF;dIi5PnHo23taG;li1s7;cy,et5;eAiCO;a01ckenz2eViLoIrignayani,uriBGyG;a,rG;a,na,tAS;i4ll9XnG;a,iG;ca,ka,qB4;a,chOkaNlJmi,nIrGtzi;aGiam;!n9;a,dy,erva,h,n2;a,dIi9JlG;iGy;cent,e;red;!e6;ae6el3G;ag4KgKi,lHrG;edi61isFyl;an2iGliF;nGsAM;a,da;!an,han;b08c9Ed06e,g04i03l01nZrKtJuHv6Sx87yGz2;a,bell,ra;de,rG;a,eC;h75il9t2;a,cSgOiJjor2l6In2s7tIyG;!aGbe5QjaAlou;m,n9S;a,ha,i0;!aIbALeHja,lEna,sGt53;!a,ol,sa;!l06;!h,m,nG;!a,e,n1;arIeHie,oGr3Kueri5;!t;!ry;et3IiB;elGi61y;a,l1;dGon,ue6;akranBy;iGlo36;a,ka,n9;a,re,s2;daGg2;!l2W;alEd2elGge,isBGon0;eiAin1yn;el,le;a0Ie08iWoQuKyG;d3la,nG;!a,dHe9SnGsAQ;!a,e9R;a,sAO;aB1cJelIiFlHna,pGz;e,iB;a,u;a,la;iGy;a2Ae,l25n9;is,l1GrHtt2uG;el6is1;aIeHi8na,rG;a6Zi8;lei,n1tB;!in1;aQbPd3lLnIsHv3zG;!a,be4Ket5z2;a,et5;a,dG;a,sGy;ay,ey,i,y;a,iaIlG;iGy;a8Ge;!n4F;b7Terty;!n5R;aNda,e0iLla,nKoIslARtGx2;iGt2;c3t3;la,nGra;a,ie,o4;a,or1;a,gh,laG;!ni;!h,nG;a,d4e,n4N;cNdon7Si6kes7na,rMtKurIvHxGy6;mi;ern1in3;a,eGie,yn;l,n;as7is7oG;nya,ya;a,isF;ey,ie,y;aZeUhadija,iMoLrIyG;lGra;a,ee,ie;istGy5B;a,en,iGy;!e,n48;ri,urtn9A;aMerLl99mIrGzzy;a,stG;en,in;!berlG;eGi,y;e,y;a,stC;!na,ra;el6PiJlInHrG;a,i,ri;d4na;ey,i,l9Qs2y;ra,s7;c8Wi5XlOma6nyakumari,rMss5LtJviByG;!e,lG;a,eG;e,i78;a5EeHhGi3PlEri0y;ar5Cer5Cie,leCr9Fy;!lyn73;a,en,iGl4Uyn;!ma,n31sF;ei72i,l2;a04eVilToMuG;anKdJliGst56;aHeGsF;!nAt0W;!n8X;i2Ry;a,iB;!anLcelEd5Vel71han6IlJni,sHva0yG;a,ce;eGie;fi0lEph4X;eGie;en,n1;!a,e,n36;!i10lG;!i0Z;anLle0nIrHsG;i5Qsi5Q;i,ri;!a,el6Pif1RnG;a,et5iGy;!e,f1P;a,e72iHnG;a,e71iG;e,n1;cLd1mi,nHqueliAsmin2Uvie4yAzG;min8;a8eHiG;ce,e,n1s;!lGsFt06;e,le;inHk2lEquelG;in1yn;da,ta;lPmNnMo0rLsHvaG;!na;aHiGob6U;do4;!belGdo4;!a,e,l2G;en1i0ma;a,di4es,gr5R;el9ogG;en1;a,eAia0o0se;aNeKilHoGyacin1N;ll2rten1H;aHdGlaH;a,egard;ry;ath0WiHlGnrietBrmiAst0W;en24ga;di;il75lKnJrGtt2yl75z6D;iGmo4Fri4G;etG;!te;aDnaD;ey,l2;aYeTiOlMold12rIwG;enGyne18;!dolE;acHetGisel9;a,chC;e,ieG;!la;adys,enGor3yn1Y;a,da,na;aJgi,lHna,ov71selG;a,e,le;da,liG;an;!n0;mYnIorgHrG;ald35i,m2Stru73;et5i5T;a,eGna;s1Nvieve;briel3Fil,le,rnet,yle;aReOio0loMrG;anHe9iG;da,e9;!cG;esHiGoi0G;n1s3V;!ca;!rG;a,en43;lHrnG;!an9;ec3ic3;rHtiGy8;ma;ah,rah;d0FileCkBl00mUn4ArRsMtLuKvG;aIelHiG;e,ta;in0Ayn;!ngel2H;geni1la,ni3R;h52ta;meral9peranJtG;eHhGrel6;er;l2Pr;za;iGma,nest29yn;cGka,n;a,ka;eJilImG;aGie,y;!liA;ee,i1y;lGrald;da,y;aTeRiMlLma,no4oJsIvG;a,iG;na,ra;a,ie;iGuiG;se;a,en,ie,y;a0c3da,nJsGzaH;aGe;!beG;th;!a,or;anor,nG;!a;in1na;en,iGna,wi0;e,th;aWeKiJoGul2U;lor51miniq3Yn30rGtt2;a,eCis,la,othGthy;ea,y;an09naDonAx2;anPbOde,eNiLja,lImetr3nGsir4U;a,iG;ce,se;a,iHla,orGphiA;es,is;a,l5J;dGrdG;re;!d4Mna;!b2CoraDra;a,d4nG;!a,e;hl3i0mMnKphn1rHvi1WyG;le,na;a,by,cHia,lG;a,en1;ey,ie;a,et5iG;!ca,el1Aka;arGia;is;a0Qe0Mh04i02lUoJrHynG;di,th3;istGy04;al,i0;lOnLrHurG;tn1D;aId28iGn28riA;!nG;a,e,n1;!l1S;n2sG;tanGuelo;ce,za;eGleC;en,t5;aIeoHotG;il4B;!pat4;ir8rIudG;et5iG;a,ne;a,e,iG;ce,sX;a4er4ndG;i,y;aPeMloe,rG;isHyG;stal;sy,tG;aHen,iGy;!an1e,n1;!l;lseHrG;!i8yl;a,y;nLrG;isJlHmG;aiA;a,eGot5;n1t5;!sa;d4el1PtG;al,el1O;cHlG;es5i3F;el3ilG;e,ia,y;iYlXmilWndVrNsLtGy6;aJeIhGri0;erGleCrEy;in1;ri0;li0ri0;a2GsG;a2Fie;a,iMlKmeIolHrG;ie,ol;!e,in1yn;lGn;!a,la;a,eGie,y;ne,y;na,sF;a0Di0D;a,e,l1;isBl2;tlG;in,yn;arb0CeYianXlVoTrG;andRePiIoHyG;an0nn;nwEok8;an2NdgKg0ItG;n27tG;!aHnG;ey,i,y;ny;etG;!t8;an0e,nG;da,na;i8y;bbi8nG;iBn2;ancGossom,ythe;a,he;ca;aRcky,lin9niBrNssMtIulaDvG;!erlG;ey,y;hHsy,tG;e,i0Zy8;!anG;ie,y;!ie;nGt7yl;adHiG;ce;et5iA;!triG;ce,z;a4ie,ra;aliy29b24d1Lg1Hi19l0Sm0Nn01rWsNthe0uJvIyG;anGes7;a,na;a,r25;drIgusHrG;el3;ti0;a,ey,i,y;hHtrG;id;aKlGt1P;eHi8yG;!n;e,iGy;gh;!nG;ti;iIleHpiB;ta;en,n1t5;an19elG;le;aYdWeUgQiOja,nHtoGya;inet5n3;!aJeHiGmI;e,ka;!mGt5;ar2;!belHliFmT;sa;!le;ka,sGta;a,sa;elGie;a,iG;a,ca,n1qG;ue;!t5;te;je6rea;la;!bHmGstas3;ar3;el;aIberHel3iGy;e,na;!ly;l3n9;da;aTba,eNiKlIma,yG;a,c3sG;a,on,sa;iGys0J;e,s0I;a,cHna,sGza;a,ha,on,sa;e,ia;c3is7jaIna,ssaIxG;aGia;!nd4;nd4;ra;ia;i0nHyG;ah,na;a,is,naD;c7da,leCmLnslKsG;haDlG;inGyW;g,n;!h;ey;ee;en;at7g2nG;es;ie;ha;aVdiSelLrG;eIiG;anLenG;a,e,ne;an0;na;aKeJiHyG;nn;a,n1;a,e;!ne;!iG;de;e,lEsG;on;yn;!lG;iAyn;ne;agaJbHiG;!gaI;ey,i8y;!e;il;ah",Place:"true\xa6a07b05cZdYeXfVgRhQiOjfk,kMlKmHneEoDp9que,rd,s8t5u4v3w0yyz;is1y0;!o;!c;a,t;pYsafa,t;e1he 0;bronx,hamptons;nn,x;ask,fo,oho,t,under6yd;a2e1h0;l,x;k,nnK;!cifX;kla,nt;b1w eng0;land;!r;a1co,i0t,uc;dKnn;libu,nhattS;a0gw,hr;s,x;an0ul;!s;a0cn,da,ndianMst;!x;arlem,kg,nd,wy;a2re0;at 0enwich;britain,lak6;!y village;co,l0ra;!a;urope,verglad2;ak,en,fw,ist,own4xb;al4dg,gk,hina3l2o1r0t;es;lo,nn;!t;town;!if;cn,e0kk,lvd,rooklyn;l air,verly hills;frica,lta,m5ntarct2r1sia,tl0ve;!ant1;ct0iz;ic0; oce0;an;ericas,s",WeekDay:"true\xa6fri2mon2s1t0wednesd3;hurs1ues1;aturd1und1;!d0;ay0;!s",Month:"true\xa6aBdec9feb7j2mar,nov9oct1sep0;!t8;!o8;an3u0;l1n0;!e;!y;!u1;!ru0;ary;!em0;ber;pr1ug0;!ust;!il",Date:"true\xa6t0weekend,yesterd2;mr2o0;d0morrow;ay;!w",FirstName:"true\xa6aEblair,cCdevBj8k6lashawn,m3nelly,quinn,re2sh0;ay,e0iloh;a,lby;g1ne;ar1el,org0;an;ion,lo;as8e0r9;ls7nyatta,rry;am0ess1ude;ie,m0;ie;an,on;as0heyenne;ey,sidy;lex1ndra,ubr0;ey;is",LastName:"true\xa60:34;1:39;2:3B;3:2Y;4:2E;5:30;a3Bb31c2Od2Ee2Bf25g1Zh1Pi1Kj1Ek17l0Zm0Nn0Jo0Gp05rYsMtHvFwCxBy8zh6;a6ou,u;ng,o;a6eun2Uoshi1Kun;ma6ng;da,guc1Zmo27sh21zaR;iao,u;a7eb0il6o3right,u;li3Bs1;gn0lk0ng,tanabe;a6ivaldi;ssilj37zqu2;a9h8i2Go7r6sui,urn0;an,ynisJ;lst0Prr1Uth;at1Uomps1;kah0Vnaka,ylor;aEchDeChimizu,iBmiAo9t7u6zabo;ar2lliv2AzuE;a6ein0;l23rm0;sa,u3;rn4th;lva,mmo24ngh;mjon4rrano;midt,neid0ulz;ito,n7sa6to;ki;ch2dLtos,z;amBeag1Zi9o7u6;bio,iz,sD;b6dri1MgIj0Tme24osevelt,ssi,ux;erts,ins1;c6ve0F;ci,hards1;ir2os;aEeAh8ic6ow20;as6hl0;so;a6illips;m,n1T;ders5et8r7t6;e0Nr4;ez,ry;ers;h21rk0t6vl4;el,te0J;baBg0Blivei01r6;t6w1O;ega,iz;a6eils1guy5ix1owak,ym1E;gy,ka6var1K;ji6muW;ma;aEeCiBo8u6;ll0n6rr0Bssolini,\xf16;oz;lina,oKr6zart;al0Me6r0U;au,no;hhail4ll0;rci0ssi6y0;!er;eWmmad4r6tsu07;in6tin2;!o;aCe8i6op2uo;!n6u;coln,dholm;fe7n0Qr6w0J;oy;bv6v6;re;mmy,rs5u;aBennedy,imuAle0Lo8u7wo6;k,n;mar,znets4;bay6vacs;asY;ra;hn,rl9to,ur,zl4;aAen9ha3imen2o6u3;h6nYu3;an6ns1;ss1;ki0Es5;cks1nsse0D;glesi9ke8noue,shik7to,vano6;u,v;awa;da;as;aBe8itchcock,o7u6;!a3b0ghNynh;a3ffmann,rvat;mingw7nde6rN;rs1;ay;ns5rrQs7y6;asDes;an4hi6;moJ;a9il,o8r7u6;o,tierr2;ayli3ub0;m2nzal2;nd6o,rcia;hi;erAis9lor8o7uj6;ita;st0urni0;es;ch0;nand2;d7insteHsposi6vaL;to;is1wards;aCeBi9omin8u6;bo6rand;is;gu2;az,mitr4;ov;lgado,vi;nkula,rw7vi6;es,s;in;aFhBlarkAo6;h5l6op0rbyn,x;em7li6;ns;an;!e;an8e7iu,o6ristens5u3we;i,ng,u3w,y;!n,on6u3;!g;mpb7rt0st6;ro;ell;aBe8ha3lanco,oyko,r6yrne;ooks,yant;ng;ck7ethov5nnett;en;er,ham;ch,h8iley,rn6;es,i0;er;k,ng;dDl9nd6;ers6rA;en,on,s1;on;eks7iy8var2;ez;ej6;ev;ams",MaleName:"true\xa60:CE;1:BL;2:C2;3:BT;4:B5;5:9V;6:BZ;7:AT;8:BD;9:AX;A:AO;aB4bA8c97d87e7Gf6Yg6Gh5Wi5Ij4Lk4Bl3Rm2Pn2Eo28p22qu20r1As0Qt06u05v00wNxavi3yGzB;aBor0;cBh8Ine;hCkB;!aB1;ar51eB0;ass2i,oCuB;sDu25;nEsDusB;oBsC;uf;ef;at0g;aJeHiCoByaAP;lfgang,odrow;lBn1O;bDey,frBJlB;aA5iB;am,e,s;e89ur;i,nde5sB;!l7t1;de,lCrr6yB;l1ne;lBt3;a93y;aEern1iB;cCha0kt5CnceBrg9Bva0;!nt;ente,t5A;lentin49n8Yughn;lyss4Msm0;aTeOhKiIoErCyB;!l3ro8s1;av9QeBist0oy,um0;nt9Iv54y;bDd7XmBny;!as,mBoharu;aAYie,y;i83y;mBt9;!my,othy;adDeoCia7DomB;!as;!do7M;!de9;dErB;en8HrB;an8GeBy;ll,n8F;!dy;dgh,ic9Tnn3req,ts45;aRcotPeNhJiHoFpenc3tBur1Oylve8Hzym1;anDeBua7B;f0phAFvBwa7A;e57ie;!islaw,l7;lom1nA3uB;leyma8ta;dBl7Jm1;!n7;aDeB;lBrm0;d1t1;h6Sne,qu0Uun,wn,y8;aBbasti0k1Xl41rg40th,ymo9I;m9n;!tB;!ie,y;lCmBnti21q4Iul;!mAu4;ik,vato6V;aWeShe92iOoFuCyB;an,ou;b6LdCf9pe6QssB;!elAI;ol2Uy;an,bIcHdGel,geFh0landA9mEnDry,sCyB;!ce;coe,s;!a95nA;an,eo;l3Jr;e4Qg3n7olfo,ri68;co,ky;bAe9U;cBl7;ar5Oc5NhCkBo;!ey,ie,y;a85ie;gCid,ub6x,yBza;ansh,nS;g8WiB;na8Ss;ch5Yfa4lDmCndBpha4sh6Uul,ymo70;al9Yol2By;i9Ion;f,ph;ent2inB;cy,t1;aFeDhilCier62ol,reB;st1;!ip,lip;d9Brcy,tB;ar,e2V;b3Sdra6Ft44ul;ctav2Vliv3m96rFsCtBum8Uw6;is,to;aCc8SvB;al52;ma;i,l49vJ;athJeHiDoB;aBel,l0ma0r2X;h,m;cCg4i3IkB;h6Uola;hol5XkBol5X;!ol5W;al,d,il,ls1vB;il50;anBy;!a4i4;aWeTiKoFuCyB;l21r1;hamCr5ZstaB;fa,p4G;ed,mF;dibo,e,hamDis1XntCsBussa;es,he;e,y;ad,ed,mB;ad,ed;cGgu4kElDnCtchB;!e5;a78ik;house,o03t1;e,olB;aj;ah,hBk7;a4eB;al,l;hClv2rB;le,ri5v2;di,met;ck,hNlLmOnu4rHs1tDuricCxB;!imilian8Cwe5;e,io;eo,hCi52tB;!eo,hew,ia;eBis;us,w;cDio,k86lCqu6Gsha5tBv2;i2Hy;in,on;!el,oKus;achBcolm,ik;ai,y;amBdi,moud;adB;ou;aReNiMlo2RoIuCyB;le,nd1;cEiDkBth3;aBe;!s;gi,s;as,iaB;no;g0nn6RrenDuBwe5;!iB;e,s;!zo;am,on4;a7Bevi,la4SnDoBst3vi;!nB;!a60el;!ny;mCnBr67ur4Twr4T;ce,d1;ar,o4N;aIeDhaled,iBrist4Vu48y3B;er0p,rB;by,k,ollos;en0iEnBrmit,v2;!dCnBt5C;e0Yy;a5ri4N;r,th;na68rBthem;im,l;aYeQiOoDuB;an,liBst2;an,o,us;aqu2eJhnInGrEsB;eChBi7Bue;!ua;!ph;dBge;an,i,on;!aBny;h,s,th4X;!ath4Wie,nA;!l,sBy;ph;an,e,mB;!mA;d,ffGrDsB;sBus;!e;a5JemCmai8oBry;me,ni0O;i6Uy;!e58rB;ey,y;cHd6kGmFrDsCvi3yB;!d6s1;on,p3;ed,od,rBv4M;e4Zod;al,es,is1;e,ob,ub;k,ob,quB;es;aNbrahMchika,gKkeJlija,nuIrGsDtBv0;ai,sB;uki;aBha0i6Fma4sac;ac,iaB;h,s;a,vinBw2;!g;k,nngu52;!r;nacBor;io;im;in,n;aJeFina4VoDuByd56;be25gBmber4CsD;h,o;m3ra33sBwa3X;se2;aDctCitCn4ErB;be20m0;or;th;bKlJmza,nIo,rDsCyB;a43d6;an,s0;lEo4FrDuBv7;hi40ki,tB;a,o;is1y;an,ey;k,s;!im;ib;aQeMiLlenKoIrEuB;illerCsB;!tavo;mo;aDegBov3;!g,orB;io,y;dy,h57nt;nzaBrd1;lo;!n;lbe4Qno,ovan4R;ne,oDrB;aBry;ld,rd4U;ffr7rge;bri4l6rBv2;la1Zr3Eth,y;aReNiLlJorr0IrB;anDedBitz;!dAeBri24;ri23;cDkB;!ie,lB;in,yn;esJisB;!co,zek;etch3oB;yd;d4lBonn;ip;deriDliCng,rnB;an01;pe,x;co;bi0di;arZdUfrTit0lNmGnFo2rCsteb0th0uge8vBym6zra;an,ere2V;gi,iCnBrol,v2w2;est45ie;c07k;och,rique,zo;aGerFiCmB;aFe2P;lCrB;!h0;!io;s1y;nu4;be09d1iEliDmCt1viBwood;n,s;er,o;ot1Ts;!as,j43sB;ha;a2en;!dAg32mEuCwB;a25in;arB;do;o0Su0S;l,nB;est;aYeOiLoErDuCwByl0;ay8ight;a8dl7nc0st2;ag0ew;minFnDri0ugCyB;le;!l03;!a29nBov0;e5ie,y;go,icB;!k;armuCeBll1on,rk;go;id;anIj0lbeHmetri9nFon,rEsDvCwBxt3;ay8ey;en,in;hawn,mo08;ek,ri0F;is,nBv3;is,y;rt;!dB;re;lKmInHrDvB;e,iB;!d;en,iDne5rByl;eBin,yl;l2Vn;n,o,us;!e,i4ny;iBon;an,en,on;e,lB;as;a06e04hWiar0lLoGrEuCyrB;il,us;rtB;!is;aBistobal;ig;dy,lEnCrB;ey,neli9y;or,rB;ad;by,e,in,l2t1;aGeDiByI;fBnt;fo0Ct1;meCt9velaB;nd;nt;rDuCyB;!t1;de;enB;ce;aFeErisCuB;ck;!tB;i0oph3;st3;d,rlBs;eBie;s,y;cBdric,s11;il;lEmer1rB;ey,lCro5y;ll;!os,t1;eb,v2;ar02eUilTlaSoPrCuByr1;ddy,rtI;aJeEiDuCyB;an,ce,on;ce,no;an,ce;nCtB;!t;dCtB;!on;an,on;dCndB;en,on;!foBl7y;rd;bCrByd;is;!by;i8ke;al,lA;nFrBshoi;at,nCtB;!r10;aBie;rd0S;!edict,iCjam2nA;ie,y;to;n7rBt;eBy;tt;ey;ar0Xb0Nd0Jgust2hm0Gid6ja0ElZmXnPputsiOrFsaEuCveBya0ziz;ry;gust9st2;us;hi;aIchHi4jun,maFnDon,tBy0;hBu06;ur;av,oB;ld;an,nd0A;el;ie;ta;aq;dGgel05tB;hoEoB;i8nB;!i02y;ne;ny;reBy;!as,s,w;ir,mBos;ar;an,beOd6eIfFi,lEonDphonHt1vB;aMin;on;so,zo;an,en;onCrB;edP;so;c,jaEksandDssaExB;!and3;er;ar,er;ndB;ro;rtH;ni;en;ad,eB;d,t;in;aColfBri0vik;!o;mBn;!a;dFeEraCuB;!bakr,lfazl;hBm;am;!l;allEel,oulaye,ulB;!lCrahm0;an;ah,o;ah;av,on",Person:"true\xa6ashton kutchSbRcMdKeIgastNhGinez,jEkDleCmBnettJoAp8r4s3t2v0;a0irgin maG;lentino rossi,n go3;heresa may,iger woods,yra banks;addam hussain,carlett johanssJlobodan milosevic,uB;ay romano,eese witherspoIo1ush limbau0;gh;d stewart,nald0;inho,o;a0ipJ;lmIris hiltD;prah winfrFra;essiaen,itt romnEubarek;bron james,e;anye west,iefer sutherland,obe bryant;aime,effers8k rowli0;ng;alle ber0itlBulk hogan;ry;ff0meril lagasse,zekiel;ie;a0enzel washingt2ick wolf;lt1nte;ar1lint0ruz;on;dinal wols1son0;! palm2;ey;arack obama,rock;er",Verb:"true\xa6awak9born,cannot,fr8g7h5k3le2m1s0wors9;e8h3;ake sure,sg;ngth6ss6;eep tabs,n0;own;as0e2;!t2;iv1onna;ight0;en",PhrasalVerb:"true\xa60:72;1:6Q;2:7E;3:74;4:6J;5:7H;6:76;7:6P;8:6C;9:6D;A:5I;B:71;C:70;a7Hb63c5Dd5Ae58f46g3Oh38iron0j34k2Zl2Km2Bn29o27p1Pr1Es09tQuOvacuum 1wGyammerCzD;eroAip EonD;e0k0;by,up;aJeGhFiEorDrit53;d 1k2R;mp0n4Ape0r8s8;eel Bip 7L;aEiD;gh 06rd0;n Br 3D;it 5Kk8lk6rm 0Qsh 74t67v4P;rgeCsD;e 9herA;aRePhNiJoHrFuDype 0N;ckArn D;d2in,o3Gup;ade YiDot0y 28;ckle68p 7A;ne67p Ds4D;d2o6Lup;ck FdEe Dgh5Tme0p o0Dre0;aw3ba4d2in,up;e5Ky 1;by,o6V;ink Drow 5V;ba4ov7up;aDe 4Ill4O;m 1r W;ckCke Elk D;ov7u4O;aDba4d2in,o31up;ba4ft7p4Tw3;a0Gc0Fe09h05i02lYmXnWoVpSquare RtJuHwD;earFiD;ngEtch D;aw3ba4o6P; by;ck Dit 1m 1ss0;in,up;aIe0RiHoFrD;aigh1MiD;ke 5Yn2Y;p Drm1P;by,in,o6B;n2Zr 1tc3I;c2Ymp0nd Dr6Hve6y 1;ba4d2up;d2o67up;ar2Vell0ill4UlErDurC;ingCuc8;a33it 3U;be4Crt0;ap 4Eow B;ash 4Zoke0;eep EiDow 9;c3Np 1;in,oD;ff,v7;gn Eng2Zt Dz8;d2o5up;in,o5up;aFoDu4F;ot Dut0w 5X;aw3ba4f37o5R;c2FdeAk4Sve6;e Hll0nd GtD; Dtl43;d2in,o5upD;!on;aw3ba4d2in,o1Yup;o5to;al4Lout0rap4L;il6v8;at0eKiJoGuD;b 4Ele0n Dstl8;aDba4d2in53o3Gt30u3E;c1Xw3;ot EuD;g2Knd6;a1Xf2Ro5;ng 4Op6;aDel6inAnt0;c4Yd D;o2Tu0C;aQePiOlMoKrHsyc2AuD;ll Ft D;aDba4d2in,o1Ht34up;p39w3;ap38d2in,o5t32up;attleCess EiGoD;p 1;ah1Hon;iDp 53re3Mur45wer 53;nt0;ay3ZuD;gAmp 9;ck 53g0leCn 9p3W;el 47ncilA;c3Pir 2In0ss FtEy D;ba4o4R; d2c1Y;aw3ba4o12;pDw3K;e3Jt B;arrow3Terd0oD;d6te3S;aJeHiGoEuD;ddl8ll37;c17p 1uth6ve D;al3Bd2in,o5up;ss0x 1;asur8lt 9ss D;a1Aup;ke Dn 9r30s1Lx0;do,o3Yup;aPeNiIoDuck0;a17c37g GoDse0;k Dse35;aft7ba4d2forw2Bin3Wov7uD;nd7p;in,o0J;e GghtFnEsDv1T;ten 4D;e 1k 1; 1e2Y;ar43d2;av1Ht 2YvelD; o3L;p 1sh DtchCugh6y1U;in3Lo5;eEick6nock D;d2o3H;eDyA;l2Hp D;aw3ba4d2fSin,o05to,up;aFoEuD;ic8mpA;ke2St2W;c31zz 1;aPeKiHoEuD;nker2Ts0U;lDneArse2O;d De 1;ba4d2fast,oZup;de Et D;ba4on,up;aw3o5;aDlp0;d Fl22r Dt 1;fDof;rom;in,oRu1A;cZm 1nDve it,ze1Y;d Dg 27kerF;d2in,o5;aReLive Jloss1VoFrEunD; f0M;in39ow 23; Dof 0U;aEb17it,oDr35t0Ou12;ff,n,v7;bo5ft7hJw3;aw3ba4d2in,oDup,w3;ff,n,ut;a17ek0t D;aEb11d2oDr2Zup;ff,n,ut,v7;cEhDl1Pr2Xt,w3;ead;ross;d aEnD;g 1;bo5;a08e01iRlNoJrFuD;cDel 1;k 1;eEighten DownCy 1;aw3o2L;eDshe1G; 1z8;lFol D;aDwi19;bo5r2I;d 9;aEeDip0;sh0;g 9ke0mDrD;e 2K;gLlJnHrFsEzzD;le0;h 2H;e Dm 1;aw3ba4up;d0isD;h 1;e Dl 11;aw3fI;ht ba4ure0;eInEsD;s 1;cFd D;fDo1X;or;e B;dQl 1;cHll Drm0t0O;apYbFd2in,oEtD;hrough;ff,ut,v7;a4ehi1S;e E;at0dge0nd Dy8;o1Mup;o09rD;ess 9op D;aw3bNin,o15;aShPlean 9oDross But 0T;me FoEuntD; o1M;k 1l6;aJbIforGin,oFtEuD;nd7;ogeth7;ut,v7;th,wD;ard;a4y;pDr19w3;art;eDipA;ck BeD;r 1;lJncel0rGsFtch EveA; in;o16up;h Bt6;ry EvD;e V;aw3o12;l Dm02;aDba4d2o10up;r0Vw3;a0He08l01oSrHuD;bbleFcklTilZlEndlTrn 05tDy 10zz6;t B;k 9; ov7;anMeaKiDush6;ghHng D;aEba4d2forDin,o5up;th;bo5lDr0Lw3;ong;teD;n 1;k D;d2in,o5up;ch0;arKgJil 9n8oGssFttlEunce Dx B;aw3ba4;e 9; ar0B;k Bt 1;e 1;d2up; d2;d 1;aIeed0oDurt0;cFw D;aw3ba4d2o5up;ck;k D;in,oK;ck0nk0st6; oJaGef 1nd D;d2ov7up;er;up;r0t D;d2in,oDup;ff,ut;ff,nD;to;ck Jil0nFrgEsD;h B;ainCe B;g BkC; on;in,o5; o5;aw3d2o5up;ay;cMdIsk Fuction6; oD;ff;arDo5;ouD;nd;d D;d2oDup;ff,n;own;t D;o5up;ut",Modal:"true\xa6c5lets,m4ought3sh1w0;ill,o5;a0o4;ll,nt;! to;ay,ight,ust;an,o0;uld",Adjective:"true\xa60:73;1:7I;2:7O;3:7H;4:7A;5:5B;6:4R;7:49;8:48;9:60;A:7F;a6Eb60c5Md52e4Pf45g3Xh3Mi31j2Zk2Yl2Nm2Cn23o1Np16quack,r0Ws0Ct05uMvJwByear5;arp0eFholeEiDoB;man5oBu67;d69zy;despr6Zs5B;!sa7;eClBste22;co1El o4H;!k5;aCiBola47;b7Nce versa,ol50;ca2gabo5Ynilla;ltSnFpCrb55su4tterB;!mo6U; f30b1KpCsBti1D;ca7et,ide dItairs;er,i3J;aLbeco6Lconvin23deIeHfair,ivers4knGprecedUrEsCwB;iel1Writt5U;i1RuB;pervis0specti3;eBu5;cognHgul6Bl6B;own;ndi3v5Oxpect0;cid0rB;!grou5JsB;iz0tood;b7ppeaHssu6AuthorB;iz0;i20ra;aFeDhough4KoCrB;i1oubl0;geth6p,rp6B;en5LlBm4Vrr2Q;li3;boo,lBn;ent0;aTcSeQhPiNmug,nobbi3AoLpKqueami3AtFuBymb5Y;bDi gener50pBrprisi3;erBre0H;! dup6b,i25;du0seq4P;anda6OeEi0LrBy34;aightBip0; fBfB;or56;adfa5Wreotyp0;a4Uec2Cir1Flend5Wot on; call0le,mb6phist1TrBu0Tvi3X;d5Ury;gnifica2nB;ce4Qg7;am2Le6ocki3ut;cBda1em5lfi2Uni1Spa63re8;o1Cr3R;at53ient24reec53;cr0me,ns serif;aIeEiCoB;bu5Ktt4PuOy4;ghtBv4;!-25f9;ar,bel,condi1du5Xfres4XlDpublic3RsBtard0;is43oB;lu1na2;e1Auc41;b5EciB;al,st;aMeKicayu8lac5Copuli5BrCuB;bl54mp0;eFiCoB;!b06fu5Cmi2Xp6;mCor,sBva1;ti8;a4Re;ci58mB;a0EiB;er,um;ac1WrBti1;feAma2Pplexi3v2Z;rBst;allelDtB;-tiBi4;me;!ed;bMffKkJld fashion0nIpHrg1Dth6utGvB;al,erB;!aDniCt,wB;eiBrouB;ght;ll;do0Rer,g2Hsi41;en,posi1; boa5Ag2Fli8;!ay; gua58bBli8;eat;eDsB;cBer0Dole1;e8u3F;d2Ose;ak0eIiHoBua4J;nFrCtB;ab7;thB;!eB;rn;chala2descri4Ustop;ght5;arby,cessa3Sighbor5xt;aJeHiEoBultip7;bi7derClBnth5ot,st;dy;a1n;nBx0;iaBor;tu2Y;di49naBre;ci3;cBgenta,in,jZkeshift,le,mmoth,ny,sculi8;ab2Uho;aKeFiCoBu0Z;uti0Yvi3;mCteraB;l,te;it0;ftEgBth4;al,eCitiB;ma1;nda38;!-08;ngu3Lst,tt6;ap1Oind5no06;agg0uB;niKstifi0veni7;de4gno46lleg4mOnDpso 1RrB;a1releB;va2; JaIbr0corHdFfluenPiPnEsDtB;aAen3GoxB;ic31;a8i2N;a1er,oce2;iCoB;or;reA;deq3Eppr2T;fBsitu,vitro;ro2;mFpB;arDerfeAoBrop6;li1rtB;a2ed;ti4;eBi0M;d2Ln30;aGelFiDoBumdr36;ne2Uok0rrBs03ur5;if2N;ghfalut1KspB;an2L;liVpf9;lEnDrB;d01roB;wi3;dy,gi3;f,low0;ainf9ener2Eiga1YlHoGraDuB;ilBng ho;ty;cCtB;ef9is;ef9;ne,od;ea28ob4;aQeKinJlIoDrB;a1PeBoz1G;e28q0Ytf9;oDrB; keeps,eBm6tuna1;g00ign;liB;sh;ag2Uue2;al,i1;dFmCrB;ti7;a7ini8;ne;le; up;bl0i2l20r Cux,voB;ri1uri1;oBreac1A;ff;aJfficie2lImiHnFreAthere4veExB;aAcess,pe1JtraCuB;be2Gl0D;!va19;n,ryday; Bcouragi3ti0M;rou1sui1;ne2;abo1YdMe14i1;g6sB;t,ygB;oi3;er;aReJiDoBrea11ue;mina2ne,ubB;le,tf9;dact16fficu1JsCvB;er1F;creDeas0gruntl0hone1AordCtB;a2ress0;er5;et; HadpGfFgene1KliDrang0spe1KtCvoB;ut;ail0ermin0;be1Hca1ghB;tf9;ia2;an;facto;i5magBngeroVs0E;ed,i3;ly;ertaNhief,ivil,oDrB;aBowd0u0D;mp0vYz0;loJmHnCoi3rrBve0K;eAu1D;cre1grEsDtB;emBra0B;po09;ta2;ue2;mer04pleB;te,x;ni4ss4;in;aLeHizarGlFoCrB;and new,isk,okL;gCna fiSttom,urgeoB;is;us;ank,iE;re;autif9hiClov0nBst,yoC;eRt;nd;ul;ckCnkru0SrrB;en;!wards; priori,b0Ic0Fd05fra04g00hZlUma01ntiquTppQrKsIttracti02utheHvEwB;aCkB;wa0P;ke,re;ant garCerB;age;de;ntQ;leep,tonisB;hi3;ab,bitEroDtiB;fiB;ci4;ga2;raB;ry;are2etiLrB;oprB;ia1;at0;arEcohCeBiIl,oof;rt;olB;ic;mi3;ead;ainDgressiConiB;zi3;ve;st;id; IeGuFvB;aCerB;se;nc0;ed;lt;pt,qB;ua1;hoc,infinitB;um;cuCtu4u1;al;ra1;erLlKoIruHsCuB;nda2;e2oCtraA;ct;lu1rbi3;ng;te;pt;aBve;rd;aze,e;ra2;nt",Comparable:"true\xa60:3Z;1:4G;2:43;3:2W;4:49;5:3V;a4Mb42c3Md3Be33f2Pg2Dh22i1Tj1Sk1Pl1Hm1Bn15o13p0Tqu0Rr0IsRtKuIvFw7y6za11;ell25ou4;aBe9hi1Wi7r6;o4y;ck0Mde,l6n1ry,se;d,y;a6i4Kt;k,ry;n1Rr6sI;m,y;a7e6ulgar;nge5rda2xi4;gue,in,st;g0n6pco3Kse5;like0ti1;aAen9hi8i7ough,r6;anqu2Oen1ue;dy,g3Sme0ny,r09;ck,n,rs2P;d40se;ll,me,rt,s6wd45;te5;aVcarUeThRiQkin0FlMmKoHpGqua1FtAu7w6;eet,ift;b7dd13per0Gr6;e,re2H;sta2Ft3;aAe9iff,r7u6;pXr1;a6ict,o4;ig3Fn0U;a1ep,rn;le,rk;e22i3Fright0;ci28ft,l7o6re,ur;n,thi4;emn,id;a6el0ooth;ll,rt;e8i6ow,y;ck,g35m6;!y;ek,nd3D;ck,l0mp3;a6iTort,rill,y;dy,ll0Xrp;cu0Rve0Rxy;ce,ed,y;d,fe,int0l1Vv14;aBe9i8o6ude;mantic,o1Isy,u6;gh,nd;ch,pe,tzy;a6d,mo0H;dy,l;gg7ndom,p6re,w;id;ed;ai2i6;ck,et;aEhoDi1QlCoBr8u6;ny,r6;e,p3;egna2ic7o6;fouYud;ey,k0;li04or,te1B;ain,easa2;ny;in5le;dd,f6i0ld,ranQ;fi10;aAe8i7o6;b3isy,rm15sy;ce,mb3;a6w;r,t;ive,rr01;aAe8ild,o7u6;nda19te;ist,o1;a6ek,llX;n,s0ty;d,tuQ;aBeAi9o6ucky;f0Un7o1Du6ve0w17y0T;d,sy;e0g;g1Tke0tt3ve0;an,wd;me,r6te;ge;e7i6;nd;en;ol0ui1P;cy,ll,n6;sBt6;e6ima8;llege2r6;es7media6;te;ti4;ecu6ta2;re;aEeBiAo8u6;ge,m6ng1R;b3id;ll6me0t;ow;gh,l0;a6f04sita2;dy,v6;en0y;nd1Hppy,r6te5;d,sh;aGenFhDiClBoofy,r6;a9e8is0o6ue1E;o6ss;vy;at,en,y;nd,y;ad,ib,ooI;a2d1;a6o6;st0;t3uiY;u1y;aIeeb3iDlat,oAr8u6;ll,n6r14;!ny;aHe6iend0;e,sh;a7r6ul;get5mG;my;erce8n6rm,t;an6e;ciC;! ;le;ir,ke,n0Fr,st,t,ulA;aAerie,mp9sse7v6xtre0Q;il;nti6;al;ty;r7s6;tern,y;ly,th0;aFeCi9r7u6;ll,mb;u6y;nk;r7vi6;ne;e,ty;a6ep,nD;d6f,r;!ly;mp,pp03rk;aHhDlAo8r7u6;dd0r0te;isp,uel;ar6ld,mmon,ol,st0ward0zy;se;e6ou1;a6vW;n,r;ar8e6il0;ap,e6;sy;mi4;gey,lm8r6;e5i4;ful;!i4;aNiLlIoEr8u6;r0sy;ly;aAi7o6;ad,wn;ef,g7llia2;nt;ht;sh,ve;ld,r7un6;cy;ed,i4;ng;a7o6ue;nd,o1;ck,nd;g,tt6;er;d,ld,w1;dy;bsu9ng8we6;so6;me;ry;rd",TextValue:"true\xa6bOeJfDhundredNmOninAone,qu8s6t0zeroN;enMh3rNw0;e0o;l0ntD;fHve;ir0ousandKree;d,t6;e0ix8;cond,pt1ven7xt1;adr0int0;illionD;e0th;!t0;e9ie8y;i3o0;rt1ur0;!t2;ie4y;ft0rst,ve;e3h,ie2y;ight0lev2;!e1h,ie0y;th;en0;!th;illion0;!s,th",Ordinal:"true\xa6bGeDf9hundredHmGnin7qu6s4t0zeroH;enGh1rFwe0;lfFn9;ir0ousandE;d,t4;e0ixt9;cond,ptAvent8xtA;adr9int9;et0th;e6ie8;i2o0;r0urt3;tie5;ft1rst;ight0lev1;e0h,ie2;en1;illion0;th",Cardinal:"true\xa6bHeEf8hundred,mHnineAone,qu6s4t0zero;en,h2rGw0;e0o;lve,n8;irt9ousandEree;e0ix5;pt1ven4xt1;adr0int0;illion;i3o0;r1ur0;!t2;ty;ft0ve;e2y;ight0lev1;!e0y;en;illion0;!s",Expression:"true\xa6a02b01dXeVfuck,gShLlImHnGoDpBshAtsk,u7voi04w3y0;a1eLu0;ck,p;!a,hoo,y;h1ow,t0;af,f;e0oa;e,w;gh,h0;! 0h,m;huh,oh;eesh,hh,it;ff,hew,l0sst;ease,z;h1o0w,y;h,o,ps;!h;ah,ope;eh,mm;m1ol0;!s;ao,fao;a4e2i,mm,oly1urr0;ah;! mo6;e,ll0y;!o;ha0i;!ha;ah,ee,o0rr;l0odbye;ly;e0h,t cetera,ww;k,p;'oh,a0uh;m0ng;mit,n0;!it;ah,oo,ye; 1h0rgh;!em;la",Adverb:"true\xa6a07by 05d01eYfShQinPjustOkinda,mMnJoEpCquite,r9s5t2up1very,w0Bye0;p,s; to,wards5;h1o0wiO;o,t6ward;en,us;everal,o0uch;!me1rt0; of;hXtimes,w07;a1e0;alS;ndomRthN;ar excellDer0oint blank; Mhaps;f3n0;ce0ly;! 0;ag00moU; courHten;ewJo0; longEt 0;onHwithstanding;aybe,eanwhiAore0;!ovB;! aboS;deed,steT;en0;ce;or2u0;l9rther0;!moH; 0ev3;examp0good,suF;le;n mas1v0;er;se;e0irect1; 1finite0;ly;ju7trop;far,n0;ow; CbroBd nauseam,gAl5ny2part,side,t 0w3;be5l0mo5wor5;arge,ea4;mo1w0;ay;re;l 1mo0one,ready,so,ways;st;b1t0;hat;ut;ain;ad;lot,posteriori",Preposition:"true\xa6'o,-,aKbHcGdFexcept,fEinDmidPnotwithstandiQoBpRqua,sAt6u3vi2w0;/o,hereMith0;!in,oQ;a,s-a-vis;n1p0;!on;like,til;h0ill,owards;an,r0;ough0u;!oI;ans,ince,o that;',f0n1ut;!f;!to;or,rom;espite,own,u3;hez,irca;ar1e0oAy;low,sides,tween;ri6;',bo7cross,ft6lo5m3propos,round,s1t0;!op;! long 0;as;id0ong0;!st;ng;er;ut",Determiner:"true\xa6aAboth,d8e5few,l3mu7neiCown,plenty,some,th2various,wh0;at0ich0;evB;at,e3is,ose;a,e0;!ast,s;a1i6l0nough,very;!se;ch;e0u;!s;!n0;!o0y;th0;er"},mt=["Person","Place","Organization"],yt={Noun:{notA:["Verb","Adjective","Adverb"]},Singular:{isA:"Noun",notA:"Plural"},ProperNoun:{isA:"Noun"},Person:{isA:["ProperNoun","Singular"],notA:["Place","Organization","Date"]},FirstName:{isA:"Person"},MaleName:{isA:"FirstName",notA:["FemaleName","LastName"]},FemaleName:{isA:"FirstName",notA:["MaleName","LastName"]},LastName:{isA:"Person",notA:["FirstName"]},NickName:{isA:"Person",notA:["FirstName","LastName"]},Honorific:{isA:"Noun",notA:["FirstName","LastName","Value"]},Place:{isA:"Singular",notA:["Person","Organization"]},Country:{isA:["Place","ProperNoun"],notA:["City"]},City:{isA:["Place","ProperNoun"],notA:["Country"]},Region:{isA:["Place","ProperNoun"]},Address:{isA:"Place"},Organization:{isA:["Singular","ProperNoun"],notA:["Person","Place"]},SportsTeam:{isA:"Organization"},School:{isA:"Organization"},Company:{isA:"Organization"},Plural:{isA:"Noun",notA:["Singular"]},Uncountable:{isA:"Noun"},Pronoun:{isA:"Noun",notA:mt},Actor:{isA:"Noun",notA:mt},Activity:{isA:"Noun",notA:["Person","Place"]},Unit:{isA:"Noun",notA:mt},Demonym:{isA:["Noun","ProperNoun"],notA:mt},Possessive:{isA:"Noun"}},bt={Verb:{notA:["Noun","Adjective","Adverb","Value"]},PresentTense:{isA:"Verb",notA:["PastTense","Copula","FutureTense"]},Infinitive:{isA:"PresentTense",notA:["PastTense","Gerund"]},Gerund:{isA:"PresentTense",notA:["PastTense","Copula","FutureTense"]},PastTense:{isA:"Verb",notA:["FutureTense"]},FutureTense:{isA:"Verb"},Copula:{isA:"Verb"},Modal:{isA:"Verb",notA:["Infinitive"]},PerfectTense:{isA:"Verb",notA:"Gerund"},Pluperfect:{isA:"Verb"},Participle:{isA:"Verb"},PhrasalVerb:{isA:"Verb"},Particle:{isA:"PhrasalVerb"}},xt={Value:{notA:["Verb","Adjective","Adverb"]},Ordinal:{isA:"Value",notA:["Cardinal"]},Cardinal:{isA:"Value",notA:["Ordinal"]},RomanNumeral:{isA:"Cardinal",notA:["Ordinal","TextValue"]},TextValue:{isA:"Value",notA:["NumericValue"]},NumericValue:{isA:"Value",notA:["TextValue"]},Money:{isA:"Cardinal"},Percent:{isA:"Value"}},wt=["Noun","Verb","Adjective","Adverb","Value","QuestionWord"],Ot={Adjective:{notA:["Noun","Verb","Adverb","Value"]},Comparable:{isA:["Adjective"]},Comparative:{isA:["Adjective"]},Superlative:{isA:["Adjective"],notA:["Comparative"]},NumberRange:{isA:["Contraction"]},Adverb:{notA:["Noun","Verb","Adjective","Value"]},Date:{notA:["Verb","Conjunction","Adverb","Preposition","Adjective"]},Month:{isA:["Date","Singular"],notA:["Year","WeekDay","Time"]},WeekDay:{isA:["Date","Noun"]},Time:{isA:["Date"],notA:["Value"]},Determiner:{notA:wt},Conjunction:{notA:wt},Preposition:{notA:wt},QuestionWord:{notA:["Determiner"]},Currency:{},Expression:{notA:["Noun","Adjective","Verb","Adverb"]},Abbreviation:{},Url:{notA:["HashTag","PhoneNumber","Verb","Adjective","Value","AtMention","Email"]},PhoneNumber:{notA:["HashTag","Verb","Adjective","Value","AtMention","Email"]},HashTag:{},AtMention:{isA:["Noun"],notA:["HashTag","Verb","Adjective","Value","Email"]},Emoji:{notA:["HashTag","Verb","Adjective","Value","AtMention"]},Emoticon:{notA:["HashTag","Verb","Adjective","Value","AtMention"]},Email:{notA:["HashTag","Verb","Adjective","Value","AtMention"]},Auxiliary:{notA:["Noun","Adjective","Value"]},Acronym:{notA:["Plural","RomanNumeral"]},Negative:{notA:["Noun","Adjective","Value"]},Condition:{notA:["Verb","Adjective","Noun","Value"]}},kt={Noun:"blue",Verb:"green",Negative:"green",Date:"red",Value:"red",Adjective:"magenta",Preposition:"cyan",Conjunction:"cyan",Determiner:"cyan",Adverb:"cyan"},jt=function(e){return Object.keys(e).forEach((function(t){e[t].color?e[t].color=e[t].color:kt[t]?e[t].color=kt[t]:e[t].isA.some((function(n){return!!kt[n]&&(e[t].color=kt[n],!0)}))})),e},_t=function(e){return Object.keys(e).forEach((function(t){for(var n=e[t],r=n.isA.length,i=0;i<r;i++){var a=n.isA[i];e[a]&&(n.isA=n.isA.concat(e[a].isA))}n.isA=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}(n.isA)})),e},St=function(e){var t=Object.keys(e);return t.forEach((function(n){var r=e[n];r.notA=r.notA||[],r.isA.forEach((function(t){if(e[t]&&e[t].notA){var n="string"===typeof e[t].notA?[e[t].isA]:e[t].notA||[];r.notA=r.notA.concat(n)}}));for(var i=0;i<t.length;i++){var a=t[i];-1!==e[a].notA.indexOf(n)&&r.notA.push(a)}r.notA=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}(r.notA)})),e},Et=function(e){var t=Object.keys(e);return t.forEach((function(n){var r=e[n];r.lineage=[];for(var i=0;i<t.length;i++)-1!==e[t[i]].isA.indexOf(n)&&r.lineage.push(t[i])})),e},At=function(e){return e=function(e){return Object.keys(e).forEach((function(t){var n=e[t];n.isA=n.isA||[],"string"===typeof n.isA&&(n.isA=[n.isA]),n.notA=n.notA||[],"string"===typeof n.notA&&(n.notA=[n.notA])})),e}(e),e=_t(e),e=St(e),e=jt(e),e=Et(e)},Ct=function(e,t){Object.keys(e).forEach((function(n){t[n]=e[n]}))},Dt=function(){var e={};return Ct(yt,e),Ct(bt,e),Ct(xt,e),Ct(Ot,e),e=At(e)}(),Ft="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Tt=Ft.split("").reduce((function(e,t,n){return e[t]=n,e}),{}),Mt=function(e){if(void 0!==Tt[e])return Tt[e];for(var t=0,n=1,r=36,i=1;n<e.length;t+=r,n++,r*=36);for(var a=e.length-1;a>=0;a--,i*=36){var o=e.charCodeAt(a)-48;o>10&&(o-=7),t+=o*i}return t},Pt=function(e,t,n){var r=Mt(t);return r<e.symCount?e.syms[r]:n+r+1-e.symCount},Nt=function(e){var t={nodes:e.split(";"),syms:[],symCount:0};return e.match(":")&&function(e){for(var t=new RegExp("([0-9A-Z]+):([0-9A-Z]+)"),n=0;n<e.nodes.length;n++){var r=t.exec(e.nodes[n]);if(!r){e.symCount=n;break}e.syms[Mt(r[1])]=Mt(r[2])}e.nodes=e.nodes.slice(e.symCount,e.nodes.length)}(t),function(e){var t=[];return function n(r,i){var a=e.nodes[r];"!"===a[0]&&(t.push(i),a=a.slice(1));for(var o=a.split(/([A-Z0-9,]+)/g),u=0;u<o.length;u+=2){var c=o[u],s=o[u+1];if(c){var l=i+c;if(","!==s&&void 0!==s)n(Pt(e,s,r),l);else t.push(l)}}}(0,""),t}(t)},Bt=function(e){var t=e.split("|").reduce((function(e,t){var n=t.split("\xa6");return e[n[0]]=n[1],e}),{}),n={};return Object.keys(t).forEach((function(e){var r=Nt(t[e]);"true"===e&&(e=!0);for(var i=0;i<r.length;i++){var a=r[i];!0===n.hasOwnProperty(a)?!1===Array.isArray(n[a])?n[a]=[n[a],e]:n[a].push(e):n[a]=e}})),n},Rt=function(e,t,n){void 0!==n[e]?("string"===typeof n[e]&&(n[e]=[n[e]]),"string"===typeof t?n[e].push(t):n[e]=n[e].concat(t)):n[e]=t},zt=Rt,Lt=function(e,t,n){var r=n.words,i=n.transforms,a=e.split(" ");if(a.length>1&&(n.hasCompound[a[0]]=!0),"Singular"===t){var o=i.toPlural(e,n);r[o]=r[o]||"Plural"}if("Infinitive"===t)for(var u=i.conjugate(e,n),c=Object.keys(u),s=0;s<c.length;s++){var l=u[c[s]];r[l]=r[l]||c[s]}if("Comparable"===t)for(var f=i.adjectives(e),d=Object.keys(f),h=0;h<d.length;h++){var p=f[d[h]];r[p]=r[p]||d[h]}if("PhrasalVerb"===t){Rt(e,"Infinitive",r);for(var v=i.conjugate(a[0],n),g=Object.keys(v),m=0;m<g.length;m++){n.hasCompound[v[g[m]]]=!0;var y=v[g[m]]+" "+a[1];Rt(y,g[m],r),Rt(y,"PhrasalVerb",r)}}if("Demonym"===t){var b=i.toPlural(e,n);r[b]=r[b]||["Demonym","Plural"]}},It=function(e){for(var t=e.irregulars.nouns,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];e.words[i]="Singular",e.words[t[i]]="Plural"}for(var a=e.irregulars.verbs,o=Object.keys(a),u=function(t){var n=o[t];e.words[n]=e.words[n]||"Infinitive";var r=e.transforms.conjugate(n,e);r=Object.assign(r,a[n]),Object.keys(r).forEach((function(t){e.words[r[t]]=e.words[r[t]]||t}))},c=0;c<o.length;c++)u(c)},Ut={"20th century fox":"Organization","7 eleven":"Organization","7-eleven":"Organization",g8:"Organization","motel 6":"Organization",vh1:"Organization",q1:"Date",q2:"Date",q3:"Date",q4:"Date"},qt={g:"Gerund",prt:"Participle",perf:"PerfectTense",pst:"PastTense",fut:"FuturePerfect",pres:"PresentTense",pluperf:"Pluperfect",a:"Actor"},$t={act:{a:"_or"},ache:{pst:"ached",g:"aching"},age:{g:"ageing",pst:"aged",pres:"ages"},aim:{a:"_er",g:"_ing",pst:"_ed"},arise:{prt:"_n",pst:"arose"},babysit:{a:"_ter",pst:"babysat"},ban:{a:"",g:"_ning",pst:"_ned"},be:{a:"",g:"am",prt:"been",pst:"was",pres:"is"},beat:{a:"_er",g:"_ing",prt:"_en"},become:{prt:"_"},begin:{g:"_ning",prt:"begun",pst:"began"},being:{g:"are",pst:"were",pres:"are"},bend:{prt:"bent"},bet:{a:"_ter",prt:"_"},bind:{pst:"bound"},bite:{g:"biting",prt:"bitten",pst:"bit"},bleed:{prt:"bled",pst:"bled"},blow:{prt:"_n",pst:"blew"},boil:{a:"_er"},brake:{prt:"broken"},break:{pst:"broke"},breed:{pst:"bred"},bring:{prt:"brought",pst:"brought"},broadcast:{pst:"_"},budget:{pst:"_ed"},build:{prt:"built",pst:"built"},burn:{prt:"_ed"},burst:{prt:"_"},buy:{prt:"bought",pst:"bought"},can:{a:"",fut:"_",g:"",pst:"could",perf:"could",pluperf:"could",pres:"_"},catch:{pst:"caught"},choose:{g:"choosing",prt:"chosen",pst:"chose"},cling:{prt:"clung"},come:{prt:"_",pst:"came",g:"coming"},compete:{a:"competitor",g:"competing",pst:"_d"},cost:{pst:"_"},creep:{prt:"crept"},cut:{prt:"_"},deal:{prt:"_t",pst:"_t"},develop:{a:"_er",g:"_ing",pst:"_ed"},die:{g:"dying",pst:"_d"},dig:{g:"_ging",prt:"dug",pst:"dug"},dive:{prt:"_d"},do:{pst:"did",pres:"_es"},draw:{prt:"_n",pst:"drew"},dream:{prt:"_t"},drink:{prt:"drunk",pst:"drank"},drive:{g:"driving",prt:"_n",pst:"drove"},drop:{g:"_ping",pst:"_ped"},eat:{a:"_er",g:"_ing",prt:"_en",pst:"ate"},edit:{pst:"_ed",g:"_ing"},egg:{pst:"_ed"},fall:{prt:"_en",pst:"fell"},feed:{prt:"fed",pst:"fed"},feel:{a:"_er",pst:"felt"},fight:{prt:"fought",pst:"fought"},find:{pst:"found"},flee:{g:"_ing",prt:"fled"},fling:{prt:"flung"},fly:{prt:"flown",pst:"flew"},forbid:{pst:"forbade"},forget:{g:"_ing",prt:"forgotten",pst:"forgot"},forgive:{g:"forgiving",prt:"_n",pst:"forgave"},free:{a:"",g:"_ing"},freeze:{g:"freezing",prt:"frozen",pst:"froze"},get:{pst:"got",prt:"gotten"},give:{g:"giving",prt:"_n",pst:"gave"},go:{prt:"_ne",pst:"went",pres:"goes"},grow:{prt:"_n"},hang:{prt:"hung",pst:"hung"},have:{g:"having",prt:"had",pst:"had",pres:"has"},hear:{prt:"_d",pst:"_d"},hide:{prt:"hidden",pst:"hid"},hit:{prt:"_"},hold:{prt:"held",pst:"held"},hurt:{prt:"_",pst:"_"},ice:{g:"icing",pst:"_d"},imply:{pst:"implied",pres:"implies"},is:{a:"",g:"being",pst:"was",pres:"_"},keep:{prt:"kept"},kneel:{prt:"knelt"},know:{prt:"_n"},lay:{prt:"laid",pst:"laid"},lead:{prt:"led",pst:"led"},leap:{prt:"_t"},leave:{prt:"left",pst:"left"},lend:{prt:"lent"},lie:{g:"lying",pst:"lay"},light:{prt:"lit",pst:"lit"},log:{g:"_ging",pst:"_ged"},loose:{prt:"lost"},lose:{g:"losing",pst:"lost"},make:{prt:"made",pst:"made"},mean:{prt:"_t",pst:"_t"},meet:{a:"_er",g:"_ing",prt:"met",pst:"met"},miss:{pres:"_"},name:{g:"naming"},pay:{prt:"paid",pst:"paid"},prove:{prt:"_n"},puke:{g:"puking"},put:{prt:"_"},quit:{prt:"_"},read:{prt:"_",pst:"_"},ride:{prt:"ridden"},ring:{prt:"rung",pst:"rang"},rise:{fut:"will have _n",g:"rising",prt:"_n",pst:"rose",pluperf:"had _n"},rub:{g:"_bing",pst:"_bed"},run:{g:"_ning",prt:"_",pst:"ran"},say:{prt:"said",pst:"said",pres:"_s"},seat:{prt:"sat"},see:{g:"_ing",prt:"_n",pst:"saw"},seek:{prt:"sought"},sell:{prt:"sold",pst:"sold"},send:{prt:"sent"},set:{prt:"_"},sew:{prt:"_n"},shake:{prt:"_n"},shave:{prt:"_d"},shed:{g:"_ding",pst:"_",pres:"_s"},shine:{prt:"shone",pst:"shone"},shoot:{prt:"shot",pst:"shot"},show:{pst:"_ed"},shut:{prt:"_"},sing:{prt:"sung",pst:"sang"},sink:{pst:"sank",pluperf:"had sunk"},sit:{pst:"sat"},ski:{pst:"_ied"},slay:{prt:"slain"},sleep:{prt:"slept"},slide:{prt:"slid",pst:"slid"},smash:{pres:"_es"},sneak:{prt:"snuck"},speak:{fut:"will have spoken",prt:"spoken",pst:"spoke",perf:"have spoken",pluperf:"had spoken"},speed:{prt:"sped"},spend:{prt:"spent"},spill:{prt:"_ed",pst:"spilt"},spin:{g:"_ning",prt:"spun",pst:"spun"},spit:{prt:"spat"},split:{prt:"_"},spread:{pst:"_"},spring:{prt:"sprung"},stand:{pst:"stood"},steal:{a:"_er",pst:"stole"},stick:{pst:"stuck"},sting:{pst:"stung"},stink:{prt:"stunk",pst:"stunk"},stream:{a:"_er"},strew:{prt:"_n"},strike:{g:"striking",pst:"struck"},suit:{a:"_er",g:"_ing",pst:"_ed"},sware:{prt:"sworn"},swear:{pst:"swore"},sweep:{prt:"swept"},swim:{g:"_ming",pst:"swam"},swing:{pst:"swung"},take:{fut:"will have _n",pst:"took",perf:"have _n",pluperf:"had _n"},teach:{pst:"taught",pres:"_es"},tear:{pst:"tore"},tell:{pst:"told"},think:{pst:"thought"},thrive:{prt:"_d"},tie:{g:"tying",pst:"_d"},undergo:{prt:"_ne"},understand:{pst:"understood"},upset:{prt:"_"},wait:{a:"_er",g:"_ing",pst:"_ed"},wake:{pst:"woke"},wear:{pst:"wore"},weave:{prt:"woven"},wed:{pst:"wed"},weep:{prt:"wept"},win:{g:"_ning",pst:"won"},wind:{prt:"wound"},withdraw:{pst:"withdrew"},wring:{prt:"wrung"},write:{g:"writing",prt:"written",pst:"wrote"}},Ht=Object.keys($t),Wt=function(e){var t=Ht[e],n={};Object.keys($t[t]).forEach((function(e){var r=$t[t][e];r=r.replace("_",t),n[qt[e]]=r})),$t[t]=n},Gt=0;Gt<Ht.length;Gt++)Wt(Gt);var Kt=$t,Vt={b:[{reg:/([^aeiou][aeiou])b$/i,repl:{pr:"$1bs",pa:"$1bbed",gr:"$1bbing"}}],d:[{reg:/(end)$/i,repl:{pr:"$1s",pa:"ent",gr:"$1ing",ar:"$1er"}},{reg:/(eed)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing",ar:"$1er"}},{reg:/(ed)$/i,repl:{pr:"$1s",pa:"$1ded",ar:"$1der",gr:"$1ding"}},{reg:/([^aeiou][ou])d$/i,repl:{pr:"$1ds",pa:"$1dded",gr:"$1dding"}}],e:[{reg:/(eave)$/i,repl:{pr:"$1s",pa:"$1d",gr:"eaving",ar:"$1r"}},{reg:/(ide)$/i,repl:{pr:"$1s",pa:"ode",gr:"iding",ar:"ider"}},{reg:/(t|sh?)(ake)$/i,repl:{pr:"$1$2s",pa:"$1ook",gr:"$1aking",ar:"$1$2r"}},{reg:/w(ake)$/i,repl:{pr:"w$1s",pa:"woke",gr:"waking",ar:"w$1r"}},{reg:/m(ake)$/i,repl:{pr:"m$1s",pa:"made",gr:"making",ar:"m$1r"}},{reg:/(a[tg]|i[zn]|ur|nc|gl|is)e$/i,repl:{pr:"$1es",pa:"$1ed",gr:"$1ing"}},{reg:/([bd]l)e$/i,repl:{pr:"$1es",pa:"$1ed",gr:"$1ing"}},{reg:/(om)e$/i,repl:{pr:"$1es",pa:"ame",gr:"$1ing"}}],g:[{reg:/([^aeiou][ou])g$/i,repl:{pr:"$1gs",pa:"$1gged",gr:"$1gging"}}],h:[{reg:/(..)([cs]h)$/i,repl:{pr:"$1$2es",pa:"$1$2ed",gr:"$1$2ing"}}],k:[{reg:/(ink)$/i,repl:{pr:"$1s",pa:"unk",gr:"$1ing",ar:"$1er"}}],m:[{reg:/([^aeiou][aeiou])m$/i,repl:{pr:"$1ms",pa:"$1mmed",gr:"$1mming"}}],n:[{reg:/(en)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}}],p:[{reg:/(e)(ep)$/i,repl:{pr:"$1$2s",pa:"$1pt",gr:"$1$2ing",ar:"$1$2er"}},{reg:/([^aeiou][aeiou])p$/i,repl:{pr:"$1ps",pa:"$1pped",gr:"$1pping"}},{reg:/([aeiu])p$/i,repl:{pr:"$1ps",pa:"$1p",gr:"$1pping"}}],r:[{reg:/([td]er)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}},{reg:/(er)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}}],s:[{reg:/(ish|tch|ess)$/i,repl:{pr:"$1es",pa:"$1ed",gr:"$1ing"}}],t:[{reg:/(ion|end|e[nc]t)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}},{reg:/(.eat)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}},{reg:/([aeiu])t$/i,repl:{pr:"$1ts",pa:"$1t",gr:"$1tting"}},{reg:/([^aeiou][aeiou])t$/i,repl:{pr:"$1ts",pa:"$1tted",gr:"$1tting"}}],w:[{reg:/(..)(ow)$/i,repl:{pr:"$1$2s",pa:"$1ew",gr:"$1$2ing",prt:"$1$2n"}}],y:[{reg:/([i|f|rr])y$/i,repl:{pr:"$1ies",pa:"$1ied",gr:"$1ying"}}],z:[{reg:/([aeiou]zz)$/i,repl:{pr:"$1es",pa:"$1ed",gr:"$1ing"}}]},Yt={pr:"PresentTense",pa:"PastTense",gr:"Gerund",prt:"Participle",ar:"Actor"},Jt=function(e,t){for(var n={},r=Object.keys(t.repl),i=0;i<r.length;i+=1){var a=r[i];n[Yt[a]]=e.replace(t.reg,t.repl[a])}return n},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e[e.length-1];if(!0===Vt.hasOwnProperty(t))for(var n=0;n<Vt[t].length;n+=1){var r=Vt[t][n].reg;if(!0===r.test(e))return Jt(e,Vt[t][n])}return{}},Zt=/[bcdfghjklmnpqrstvwxz]y$/,Qt={Gerund:function(e){return"e"===e.charAt(e.length-1)?e.replace(/e$/,"ing"):e+"ing"},PresentTense:function(e){return"s"===e.charAt(e.length-1)?e+"es":!0===Zt.test(e)?e.slice(0,-1)+"ies":e+"s"},PastTense:function(e){return"e"===e.charAt(e.length-1)?e+"d":"ed"===e.substr(-2)?e:!0===Zt.test(e)?e.slice(0,-1)+"ied":e+"ed"}},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n={};return t&&t.irregulars&&!0===t.irregulars.verbs.hasOwnProperty(e)&&(n=Object.assign({},t.irregulars.verbs[e])),void 0===(n=Object.assign({},Xt(e),n)).Gerund&&(n.Gerund=Qt.Gerund(e)),void 0===n.PastTense&&(n.PastTense=Qt.PastTense(e)),void 0===n.PresentTense&&(n.PresentTense=Qt.PresentTense(e)),n},tn=[/ght$/,/nge$/,/ough$/,/ain$/,/uel$/,/[au]ll$/,/ow$/,/oud$/,/...p$/],nn=[/ary$/],rn={nice:"nicest",late:"latest",hard:"hardest",inner:"innermost",outer:"outermost",far:"furthest",worse:"worst",bad:"worst",good:"best",big:"biggest",large:"largest"},an=[{reg:/y$/i,repl:"iest"},{reg:/([aeiou])t$/i,repl:"$1ttest"},{reg:/([aeou])de$/i,repl:"$1dest"},{reg:/nge$/i,repl:"ngest"},{reg:/([aeiou])te$/i,repl:"$1test"}],on=[/ght$/,/nge$/,/ough$/,/ain$/,/uel$/,/[au]ll$/,/ow$/,/old$/,/oud$/,/e[ae]p$/],un=[/ary$/,/ous$/],cn={grey:"greyer",gray:"grayer",green:"greener",yellow:"yellower",red:"redder",good:"better",well:"better",bad:"worse",sad:"sadder",big:"bigger"},sn=[{reg:/y$/i,repl:"ier"},{reg:/([aeiou])t$/i,repl:"$1tter"},{reg:/([aeou])de$/i,repl:"$1der"},{reg:/nge$/i,repl:"nger"}],ln={toSuperlative:function(e){if(rn.hasOwnProperty(e))return rn[e];for(var t=0;t<an.length;t++)if(an[t].reg.test(e))return e.replace(an[t].reg,an[t].repl);for(var n=0;n<nn.length;n++)if(!0===nn[n].test(e))return null;for(var r=0;r<tn.length;r++)if(!0===tn[r].test(e))return"e"===e.charAt(e.length-1)?e+"st":e+"est";return e+"est"},toComparative:function(e){if(cn.hasOwnProperty(e))return cn[e];for(var t=0;t<sn.length;t++)if(!0===sn[t].reg.test(e))return e.replace(sn[t].reg,sn[t].repl);for(var n=0;n<un.length;n++)if(!0===un[n].test(e))return null;for(var r=0;r<on.length;r++)if(!0===on[r].test(e))return e+"er";return!0===/e$/.test(e)?e+"r":e+"er"}},fn=function(e){var t={},n=ln.toSuperlative(e);n&&(t.Superlative=n);var r=ln.toComparative(e);return r&&(t.Comparative=r),t},dn={a:[[/(antenn|formul|nebul|vertebr|vit)a$/i,"$1ae"],[/([ti])a$/i,"$1a"]],e:[[/(kn|l|w)ife$/i,"$1ives"],[/(hive)$/i,"$1s"],[/([m|l])ouse$/i,"$1ice"],[/([m|l])ice$/i,"$1ice"]],f:[[/^(dwar|handkerchie|hoo|scar|whar)f$/i,"$1ves"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)f$/i,"$1ves"]],i:[[/(octop|vir)i$/i,"$1i"]],m:[[/([ti])um$/i,"$1a"]],n:[[/^(oxen)$/i,"$1"]],o:[[/(al|ad|at|er|et|ed|ad)o$/i,"$1oes"]],s:[[/(ax|test)is$/i,"$1es"],[/(alias|status)$/i,"$1es"],[/sis$/i,"ses"],[/(bu)s$/i,"$1ses"],[/(sis)$/i,"ses"],[/^(?!talis|.*hu)(.*)man$/i,"$1men"],[/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,"$1i"]],x:[[/(matr|vert|ind|cort)(ix|ex)$/i,"$1ices"],[/^(ox)$/i,"$1en"]],y:[[/([^aeiouy]|qu)y$/i,"$1ies"]],z:[[/(quiz)$/i,"$1zes"]]},hn=/(x|ch|sh|s|z)$/,pn=function(e){var t=e[e.length-1];if(!0===dn.hasOwnProperty(t))for(var n=0;n<dn[t].length;n+=1){var r=dn[t][n][0];if(!0===r.test(e))return e.replace(r,dn[t][n][1])}return null},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.irregulars.nouns;if(n.hasOwnProperty(e))return n[e];var r=pn(e);return null!==r?r:hn.test(e)?e+"es":e+"s"},gn=[[/([^v])ies$/i,"$1y"],[/ises$/i,"isis"],[/(kn|[^o]l|w)ives$/i,"$1ife"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)ves$/i,"$1f"],[/^(dwar|handkerchie|hoo|scar|whar)ves$/i,"$1f"],[/(antenn|formul|nebul|vertebr|vit)ae$/i,"$1a"],[/(octop|vir|radi|nucle|fung|cact|stimul)(i)$/i,"$1us"],[/(buffal|tomat|tornad)(oes)$/i,"$1o"],[/(eas)es$/i,"$1e"],[/(..[aeiou]s)es$/i,"$1"],[/(vert|ind|cort)(ices)$/i,"$1ex"],[/(matr|append)(ices)$/i,"$1ix"],[/(x|ch|ss|sh|z|o)es$/i,"$1"],[/men$/i,"man"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/([m|l])ice$/i,"$1ouse"],[/(cris|ax|test)es$/i,"$1is"],[/(alias|status)es$/i,"$1"],[/(ss)$/i,"$1"],[/(ics)$/i,"$1"],[/s$/i,""]],mn=function(e,t){var n,r=t.irregulars.nouns,i=(n=r,Object.keys(n).reduce((function(e,t){return e[n[t]]=t,e}),{}));if(i.hasOwnProperty(e))return i[e];for(var a=0;a<gn.length;a++)if(!0===gn[a][0].test(e))return e=e.replace(gn[a][0],gn[a][1]);return e},yn={Participle:[{reg:/own$/i,to:"ow"},{reg:/(.)un([g|k])$/i,to:"$1in$2"}],Actor:[{reg:/(er)er$/i,to:"$1"}],PresentTense:[{reg:/(..)(ies)$/i,to:"$1y"},{reg:/(tch|sh)es$/i,to:"$1"},{reg:/(ss|zz)es$/i,to:"$1"},{reg:/([tzlshicgrvdnkmu])es$/i,to:"$1e"},{reg:/(n[dtk]|c[kt]|[eo]n|i[nl]|er|a[ytrl])s$/i,to:"$1"},{reg:/(ow)s$/i,to:"$1"},{reg:/(op)s$/i,to:"$1"},{reg:/([eirs])ts$/i,to:"$1t"},{reg:/(ll)s$/i,to:"$1"},{reg:/(el)s$/i,to:"$1"},{reg:/(ip)es$/i,to:"$1e"},{reg:/ss$/i,to:"ss"},{reg:/s$/i,to:""}],Gerund:[{reg:/(..)(p|d|t|g){2}ing$/i,to:"$1$2"},{reg:/(ll|ss|zz)ing$/i,to:"$1"},{reg:/([^aeiou])ying$/i,to:"$1y"},{reg:/([^ae]i.)ing$/i,to:"$1e"},{reg:/(ea[dklnrtv])ing$/i,to:"$1"},{reg:/(ch|sh)ing$/i,to:"$1"},{reg:/(z)ing$/i,to:"$1e"},{reg:/(a[gdkvtc])ing$/i,to:"$1e"},{reg:/(u[rtcbn])ing$/i,to:"$1e"},{reg:/([^o]o[bdknprv])ing$/i,to:"$1e"},{reg:/([tbckg]l)ing$/i,to:"$1e"},{reg:/(c|s)ing$/i,to:"$1e"},{reg:/(..)ing$/i,to:"$1"}],PastTense:[{reg:/(ued)$/i,to:"ue"},{reg:/a([^aeiouy])ed$/i,to:"a$1e"},{reg:/([aeiou]zz)ed$/i,to:"$1"},{reg:/(e|i)lled$/i,to:"$1ll"},{reg:/(.)(sh|ch)ed$/i,to:"$1$2"},{reg:/(tl|gl)ed$/i,to:"$1e"},{reg:/(um?pt?)ed$/i,to:"$1"},{reg:/(ss)ed$/i,to:"$1"},{reg:/pped$/i,to:"p"},{reg:/tted$/i,to:"t"},{reg:/(..)gged$/i,to:"$1g"},{reg:/(..)lked$/i,to:"$1lk"},{reg:/([^aeiouy][aeiou])ked$/i,to:"$1ke"},{reg:/(.[aeiou])led$/i,to:"$1l"},{reg:/(..)(h|ion|n[dt]|ai.|[cs]t|pp|all|ss|tt|int|ail|ld|en|oo.|er|k|pp|w|ou.|rt|ght|rm)ed$/i,to:"$1$2"},{reg:/(.ut)ed$/i,to:"$1e"},{reg:/(.pt)ed$/i,to:"$1"},{reg:/(us)ed$/i,to:"$1e"},{reg:/(dd)ed$/i,to:"$1"},{reg:/(..[^aeiouy])ed$/i,to:"$1e"},{reg:/(..)ied$/i,to:"$1y"},{reg:/(.o)ed$/i,to:"$1o"},{reg:/(..i)ed$/i,to:"$1"},{reg:/(.a[^aeiou])ed$/i,to:"$1"},{reg:/([aeiou][^aeiou])ed$/i,to:"$1e"},{reg:/([rl])ew$/i,to:"$1ow"},{reg:/([pl])t$/i,to:"$1t"}]},bn={Gerund:["ing"],Actor:["erer"],Infinitive:["ate","ize","tion","rify","then","ress","ify","age","nce","ect","ise","ine","ish","ace","ash","ure","tch","end","ack","and","ute","ade","ock","ite","ase","ose","use","ive","int","nge","lay","est","ain","ant","ent","eed","er","le","own","unk","ung","en"],PastTense:["ed","lt","nt","pt","ew","ld"],PresentTense:["rks","cks","nks","ngs","mps","tes","zes","ers","les","acks","ends","ands","ocks","lays","eads","lls","els","ils","ows","nds","ays","ams","ars","ops","ffs","als","urs","lds","ews","ips","es","ts","ns"]},xn=bn=Object.keys(bn).reduce((function(e,t){return bn[t].forEach((function(n){return e[n]=t})),e}),{}),wn={nouns:{addendum:"addenda",alga:"algae",alumna:"alumnae",alumnus:"alumni",analysis:"analyses",antenna:"antennae",appendix:"appendices",avocado:"avocados",axis:"axes",bacillus:"bacilli",barracks:"barracks",beau:"beaux",bus:"buses",cactus:"cacti",chateau:"chateaux",child:"children",circus:"circuses",clothes:"clothes",corpus:"corpora",criterion:"criteria",curriculum:"curricula",database:"databases",deer:"deer",diagnosis:"diagnoses",echo:"echoes",embargo:"embargoes",epoch:"epochs",foot:"feet",formula:"formulae",fungus:"fungi",genus:"genera",goose:"geese",halo:"halos",hippopotamus:"hippopotami",index:"indices",larva:"larvae",leaf:"leaves",libretto:"libretti",loaf:"loaves",man:"men",matrix:"matrices",memorandum:"memoranda",modulus:"moduli",mosquito:"mosquitoes",mouse:"mice",move:"moves",nebula:"nebulae",nucleus:"nuclei",octopus:"octopi",opus:"opera",ovum:"ova",ox:"oxen",parenthesis:"parentheses",person:"people",phenomenon:"phenomena",prognosis:"prognoses",quiz:"quizzes",radius:"radii",referendum:"referenda",rodeo:"rodeos",sex:"sexes",shoe:"shoes",sombrero:"sombreros",stimulus:"stimuli",stomach:"stomachs",syllabus:"syllabi",synopsis:"synopses",tableau:"tableaux",thesis:"theses",thief:"thieves",tooth:"teeth",tornado:"tornados",tuxedo:"tuxedos",vertebra:"vertebrae"},verbs:Kt},On={conjugate:en,adjectives:fn,toPlural:vn,toSingular:mn,toInfinitive:function(e,t,n){if(!e)return"";if(!0===t.words.hasOwnProperty(e))for(var r=t.irregulars.verbs,i=Object.keys(r),a=0;a<i.length;a++)for(var o=Object.keys(r[i[a]]),u=0;u<o.length;u++)if(e===r[i[a]][o[u]])return i[a];if((n=n||function(e){var t=e.substr(e.length-3);if(!0===xn.hasOwnProperty(t))return xn[t];var n=e.substr(e.length-2);return!0===xn.hasOwnProperty(n)?xn[n]:"s"===e.substr(e.length-1)?"PresentTense":null}(e))&&yn[n])for(var c=0;c<yn[n].length;c++){var s=yn[n][c];if(!0===s.reg.test(e))return e.replace(s.reg,s.to)}return e}},kn=!1,jn=function(){function e(){i(this,e),Object.defineProperty(this,"words",{enumerable:!1,value:Ut,writable:!0}),Object.defineProperty(this,"hasCompound",{enumerable:!1,value:{},writable:!0}),Object.defineProperty(this,"irregulars",{enumerable:!1,value:wn,writable:!0}),Object.defineProperty(this,"tags",{enumerable:!1,value:Object.assign({},Dt),writable:!0}),Object.defineProperty(this,"transforms",{enumerable:!1,value:On,writable:!0}),Object.defineProperty(this,"taggers",{enumerable:!1,value:[],writable:!0}),this.unpackWords(gt),this.addIrregulars(),Object.defineProperty(this,"cache",{enumerable:!1,value:{abbreviations:this.getByTag("Abbreviation")}})}return o(e,[{key:"verbose",value:function(e){return kn=e,this}},{key:"isVerbose",value:function(){return kn}},{key:"getByTag",value:function(e){for(var t=this.words,n={},r=Object.keys(t),i=0;i<r.length;i++)"string"===typeof t[r[i]]?t[r[i]]===e&&(n[r[i]]=!0):t[r[i]].some((function(t){return t===e}))&&(n[r[i]]=!0);return n}},{key:"unpackWords",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)for(var r=Object.keys(Bt(e[t[n]])),i=0;i<r.length;i++)zt(r[i],t[n],this.words),Lt(r[i],t[n],this)}},{key:"addWords",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n].toLowerCase();zt(r,e[t[n]],this.words),Lt(r,e[t[n]],this)}}},{key:"addIrregulars",value:function(){return It(this),this}},{key:"addTags",value:function(e){return e=Object.assign({},e),this.tags=Object.assign(this.tags,e),this.tags=At(this.tags),this}},{key:"postProcess",value:function(e){return this.taggers.push(e),this}},{key:"stats",value:function(){return{words:Object.keys(this.words).length,plurals:Object.keys(this.irregulars.nouns).length,conjugations:Object.keys(this.irregulars.verbs).length,compounds:Object.keys(this.hasCompound).length,postProcessors:this.taggers.length}}}]),e}(),_n=function(e){return JSON.parse(JSON.stringify(e))};jn.prototype.clone=function(){var e=new jn;return e.words=Object.assign({},this.words),e.hasCompound=Object.assign({},this.hasCompound),e.irregulars=_n(this.irregulars),e.tags=_n(this.tags),e.transforms=this.transforms,e.taggers=this.taggers,e};var Sn=jn,En=P((function(e,t){t.all=function(){return this.parents()[0]||this},t.parent=function(){return this.from?this.from:this},t.parents=function(e){var t=[];return function e(n){n.from&&(t.push(n.from),e(n.from))}(this),t=t.reverse(),"number"===typeof e?t[e]:t},t.clone=function(e){var t=this.list.map((function(t){return t.clone(e)}));return this.buildFrom(t)},t.wordCount=function(){return this.list.reduce((function(e,t){return e+=t.wordCount()}),0)},t.wordcount=t.wordCount})),An=P((function(e,t){t.first=function(e){return void 0===e?this.get(0):this.slice(0,e)},t.last=function(e){if(void 0===e)return this.get(this.list.length-1);var t=this.list.length;return this.slice(t-e,t)},t.slice=function(e,t){var n=this.list.slice(e,t);return this.buildFrom(n)},t.eq=function(e){var t=this.list[e];return void 0===t?this.buildFrom([]):this.buildFrom([t])},t.get=t.eq,t.firstTerms=function(){return this.match("^.")},t.firstTerm=t.firstTerms,t.lastTerms=function(){return this.match(".$")},t.lastTerm=t.lastTerms,t.termList=function(e){for(var t=[],n=0;n<this.list.length;n++)for(var r=this.list[n].terms(),i=0;i<r.length;i++)if(t.push(r[i]),void 0!==e&&void 0!==t[e])return t[e];return t};t.groups=function(e){return void 0===e?function(e){for(var t={},n={},r=function(t){for(var r=e.list[t],i=Object.keys(r.groups).map((function(e){return r.groups[e]})),a=0;a<i.length;a++){var o=i[a],u=o.group,c=o.start,s=o.length;n[u]||(n[u]=[]),n[u].push(r.buildFrom(c,s))}},i=0;i<e.list.length;i++)r(i);for(var a=Object.keys(n),o=0;o<a.length;o++){var u=a[o];t[u]=e.buildFrom(n[u])}return t}(this):("number"===typeof e&&(e=String(e)),function(e,t){for(var n=[],r=function(r){var i=e.list[r],a=Object.keys(i.groups);(a=a.filter((function(e){return i.groups[e].group===t}))).forEach((function(e){n.push(i.buildFrom(i.groups[e].start,i.groups[e].length))}))},i=0;i<e.list.length;i++)r(i);return e.buildFrom(n)}(this,e)||this.buildFrom([]))},t.group=t.groups,t.sentences=function(e){var t=[];return this.list.forEach((function(e){t.push(e.fullSentence())})),"number"===typeof e?this.buildFrom([t[e]]):this.buildFrom(t)},t.sentence=t.sentences})),Cn=function(e,t){if(e._cache&&!0===e._cache.set){for(var n=function(e){var t=[],n=[];return e.forEach((function(e){!0!==e.optional&&!0!==e.negative&&(void 0!==e.tag&&t.push(e.tag),void 0!==e.word&&n.push(e.word))})),{tags:t,words:n}}(t),r=n.words,i=n.tags,a=0;a<r.length;a++)if(void 0===e._cache.words[r[a]])return!1;for(var o=0;o<i.length;o++)if(void 0===e._cache.tags[i[o]])return!1}return!0},Dn=P((function(e,t){t.match=function(e,t){var n=Ie(e);if(0===n.length)return this.buildFrom([]);if(!1===Cn(this,n))return this.buildFrom([]);var r=this.list.reduce((function(e,t){return e.concat(t.match(n))}),[]);return void 0!==t&&null!==t&&""!==t?this.buildFrom(r).groups(t):this.buildFrom(r)},t.not=function(e){var t=Ie(e);if(0===t.length||!1===Cn(this,t))return this;var n=this.list.reduce((function(e,n){return e.concat(n.not(t))}),[]);return this.buildFrom(n)},t.matchOne=function(e){var t=Ie(e);if(!1===Cn(this,t))return this.buildFrom([]);for(var n=0;n<this.list.length;n++){var r=this.list[n].match(t,!0);return this.buildFrom(r)}return this.buildFrom([])},t.if=function(e){var t=Ie(e);if(!1===Cn(this,t))return this.buildFrom([]);var n=this.list.filter((function(e){return!0===e.has(t)}));return this.buildFrom(n)},t.ifNo=function(e){var t=Ie(e),n=this.list.filter((function(e){return!1===e.has(t)}));return this.buildFrom(n)},t.has=function(e){var t=Ie(e);return!1!==Cn(this,t)&&this.list.some((function(e){return!0===e.has(t)}))},t.lookAhead=function(e){e||(e=".*");var t=Ie(e),n=[];return this.list.forEach((function(e){n=n.concat(e.lookAhead(t))})),n=n.filter((function(e){return e})),this.buildFrom(n)},t.lookAfter=t.lookAhead,t.lookBehind=function(e){e||(e=".*");var t=Ie(e),n=[];return this.list.forEach((function(e){n=n.concat(e.lookBehind(t))})),n=n.filter((function(e){return e})),this.buildFrom(n)},t.lookBefore=t.lookBehind,t.before=function(e){var t=Ie(e),n=this.if(t).list.map((function(e){var n=e.terms().map((function(e){return e.id})),r=e.match(t)[0],i=n.indexOf(r.start);return 0===i||-1===i?null:e.buildFrom(e.start,i)}));return n=n.filter((function(e){return null!==e})),this.buildFrom(n)},t.after=function(e){var t=Ie(e),n=this.if(t).list.map((function(e){var n=e.terms(),r=n.map((function(e){return e.id})),i=e.match(t)[0],a=r.indexOf(i.start);if(-1===a||!n[a+i.length])return null;var o=n[a+i.length].id,u=e.length-a-i.length;return e.buildFrom(o,u)}));return n=n.filter((function(e){return null!==e})),this.buildFrom(n)},t.hasAfter=function(e){return this.filter((function(t){return t.lookAfter(e).found}))},t.hasBefore=function(e){return this.filter((function(t){return t.lookBefore(e).found}))}})),Fn=function(e,t,n,r){var i=[];"string"===typeof e&&(i=e.split(" ")),t.list.forEach((function(a){var o=a.terms();!0===n&&(o=o.filter((function(n){return n.canBe(e,t.world)}))),o.forEach((function(n,a){i.length>1?i[a]&&"."!==i[a]&&n.tag(i[a],r,t.world):n.tag(e,r,t.world)}))}))},Tn={tag:function(e,t){return e?(Fn(e,this,!1,t),this):this},tagSafe:function(e,t){return e?(Fn(e,this,!0,t),this):this},unTag:function(e,t){var n=this;return this.list.forEach((function(r){r.terms().forEach((function(r){return r.unTag(e,t,n.world)}))})),this},canBe:function(e){if(!e)return this;var t=this.world,n=this.list.reduce((function(n,r){return n.concat(r.canBe(e,t))}),[]);return this.buildFrom(n)}},Mn={map:function(e){var t=this;if(!e)return this;var n=this.list.map((function(n,r){var i=t.buildFrom([n]);i.from=null;var a=e(i,r);return a&&a.list&&a.list[0]?a.list[0]:a}));return 0===(n=n.filter((function(e){return e}))).length?this.buildFrom(n):"object"!==r(n[0])||"Phrase"!==n[0].isA?n:this.buildFrom(n)},forEach:function(e,t){var n=this;return e?(this.list.forEach((function(r,i){var a=n.buildFrom([r]);!0===t&&(a.from=null),e(a,i)})),this):this},filter:function(e){var t=this;if(!e)return this;var n=this.list.filter((function(n,r){var i=t.buildFrom([n]);return i.from=null,e(i,r)}));return this.buildFrom(n)},find:function(e){var t=this;if(!e)return this;var n=this.list.find((function(n,r){var i=t.buildFrom([n]);return i.from=null,e(i,r)}));return n?this.buildFrom([n]):void 0},some:function(e){var t=this;return e?this.list.some((function(n,r){var i=t.buildFrom([n]);return i.from=null,e(i,r)})):this},random:function(e){if(!this.found)return this;var t=Math.floor(Math.random()*this.list.length);if(void 0===e){var n=[this.list[t]];return this.buildFrom(n)}return t+e>this.length&&(t=(t=this.length-e)<0?0:t),this.slice(t,t+e)}},Pn=function(e){return e.split(/[ -]/g)},Nn=function(e,t,n){for(var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach((function(e,r){var i=!0;void 0!==t[r]&&(i=t[r]),e=(e=(e||"").toLowerCase()).replace(/[,;.!?]+$/,"");var a=Pn(e).map((function(e){return e.trim()}));n[a[0]]=n[a[0]]||{},1===a.length?n[a[0]].value=i:(n[a[0]].more=n[a[0]].more||[],n[a[0]].more.push({rest:a.slice(1),value:i}))})),n}(e,t),i=[],a=function(e){for(var t=n.list[e],a=t.terms().map((function(e){return e.reduced})),o=function(e){void 0!==r[a[e]]&&(void 0!==r[a[e]].more&&r[a[e]].more.forEach((function(n){void 0!==a[e+n.rest.length]&&(!0===n.rest.every((function(t,n){return t===a[e+n+1]}))&&i.push({id:t.terms()[e].id,value:n.value,length:n.rest.length+1}))})),void 0!==r[a[e]].value&&i.push({id:t.terms()[e].id,value:r[a[e]].value,length:1}))},u=0;u<a.length;u++)o(u)},o=0;o<n.list.length;o++)a(o);return i},Bn=P((function(e,t){t.lookup=function(e){var t,n=this,r=[],i=(t=e)&&"[object Object]"===Object.prototype.toString.call(t);!0===i&&(e=Object.keys(e).map((function(t){return r.push(e[t]),t}))),"string"===typeof e&&(e=[e]),!0!==this._cache.set&&this.cache();var a=Nn(e,r,this),o=this.list[0];if(!0===i){var u={};return a.forEach((function(e){u[e.value]=u[e.value]||[],u[e.value].push(o.buildFrom(e.id,e.length))})),Object.keys(u).forEach((function(e){u[e]=n.buildFrom(u[e])})),u}return a=a.map((function(e){return o.buildFrom(e.id,e.length)})),this.buildFrom(a)},t.lookUp=t.lookup})),Rn={cache:function(e){var t=this;e=e||{};var n={},r={};return this._cache.words=n,this._cache.tags=r,this._cache.set=!0,this.list.forEach((function(i,a){i.cache=i.cache||{},i.terms().forEach((function(i){n[i.reduced]&&!n.hasOwnProperty(i.reduced)||(n[i.reduced]=n[i.reduced]||[],n[i.reduced].push(a),Object.keys(i.tags).forEach((function(e){r[e]=r[e]||[],r[e].push(a)})),e.root&&(i.setRoot(t.world),n[i.root]=!0))}))})),this},uncache:function(){return this._cache={},this.list.forEach((function(e){e.cache={}})),this.parents().forEach((function(e){e._cache={},e.list.forEach((function(e){e.cache={}}))})),this}},zn=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},Ln={replaceWith:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?(!0===n&&(n={keepTags:!0}),!1===n&&(n={keepTags:!1}),n=n||{},this.uncache(),this.list.forEach((function(i){var a,o=e;if("function"===typeof e&&(o=e(i)),o&&"object"===r(o)&&"Doc"===o.isA)a=o.list,t.pool().merge(o.pool());else{if("string"!==typeof o)return;!1!==n.keepCase&&i.terms(0).isTitleCase()&&(o=zn(o)),a=pt(o,t.world,t.pool());var u=t.buildFrom(a);u.tagger(),a=u.list}if(!0===n.keepTags){var c=i.json({terms:{tags:!0}}).terms;a[0].terms().forEach((function(e,n){c[n]&&e.tagSafe(c[n].tags,"keptTag",t.world)}))}i.replace(a[0],t)})),this):this.delete()},replace:function(e,t,n){return void 0===t?this.replaceWith(e,n):(this.match(e).replaceWith(t,n),this)}},In=P((function(e,t){t.append=function(e){var t=this;return e?(this.uncache(),this.list.forEach((function(n){var r=pt(e,t.world,t.pool())[0];t.buildFrom([r]).tagger(),n.append(r,t)})),this):this},t.insertAfter=t.append,t.insertAt=t.append,t.prepend=function(e){var t=this;return e?(this.uncache(),this.list.forEach((function(n){var r=pt(e,t.world,t.pool())[0];t.buildFrom([r]).tagger(),n.prepend(r,t)})),this):this},t.insertBefore=t.prepend,t.concat=function(){this.uncache();for(var e=this.list.slice(0),t=0;t<arguments.length;t++){var n=arguments[t];if("string"===typeof n){var r=pt(n,this.world);e=e.concat(r)}else"Doc"===n.isA?e=e.concat(n.list):"Phrase"===n.isA&&e.push(n)}return this.buildFrom(e)},t.delete=function(e){var t=this;this.uncache();var n=this;return e&&(n=this.match(e)),n.list.forEach((function(e){return e.delete(t)})),this},t.remove=t.delete})),Un={clean:!0,reduced:!0,root:!0},qn={text:function(e){var t=this;e=e||{};var n=!1;0===this.parents().length&&(n=!0),("root"===e||"object"===r(e)&&e.root)&&this.list.forEach((function(e){e.terms().forEach((function(e){null===e.root&&e.setRoot(t.world)}))}));var i=this.list.reduce((function(r,i,a){var o=!n&&0===a,u=!n&&a===t.list.length-1;return r+i.text(e,o,u)}),"");return!0!==Un[e]&&!0!==e.reduced&&!0!==e.clean&&!0!==e.root||(i=i.trim()),i}},$n=function(e,t,n){var r=function(e){var t=0,n=0,r={};return e.termList().forEach((function(e){r[e.id]={index:n,start:t+e.pre.length,length:e.text.length},t+=e.pre.length+e.text.length+e.post.length,n+=1})),r}(e.all());(n.terms.index||n.index)&&t.forEach((function(e){e.terms.forEach((function(e){e.index=r[e.id].index})),e.index=e.terms[0].index})),(n.terms.offset||n.offset)&&t.forEach((function(e){e.terms.forEach((function(e){e.offset=r[e.id]||{}})),e.offset=e.terms[0].offset,e.offset.length=e.text.length}))},Hn=P((function(e,t){var n={text:!0,terms:!0,trim:!0},r=function(e){return(e=Object.assign({},n,e)).unique&&(e.reduced=!0),e.offset&&(e.text=!0,e.terms&&!0!==e.terms||(e.terms={}),e.terms.offset=!0),(e.index||e.terms.index)&&(e.terms=!0===e.terms?{}:e.terms,e.terms.id=!0),e};t.json=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"===typeof t&&this.list[t])return this.list[t].json(n);!0===(t=r(t)).root&&this.list.forEach((function(t){t.terms().forEach((function(t){null===t.root&&t.setRoot(e.world)}))}));var i=this.list.map((function(n){return n.json(t,e.world)}));if((t.terms.offset||t.offset||t.terms.index||t.index)&&$n(this,i,t),t.frequency||t.freq||t.count){var a={};this.list.forEach((function(e){var t=e.text("reduced");a[t]=a[t]||0,a[t]+=1})),this.list.forEach((function(e,t){i[t].count=a[e.text("reduced")]}))}if(t.unique){var o={};i=i.filter((function(e){return!0!==o[e.reduced]&&(o[e.reduced]=!0,!0)}))}return i},t.data=t.json})),Wn=P((function(e){var t=function(e,t){for(e=e.toString();e.length<t;)e+=" ";return e};var n={green:"#7f9c6c",red:"#914045",blue:"#6699cc",magenta:"#6D5685",cyan:"#2D85A8",yellow:"#e6d7b3",black:"#303b50"},r={green:function(e){return"\x1b[32m"+e+"\x1b[0m"},red:function(e){return"\x1b[31m"+e+"\x1b[0m"},blue:function(e){return"\x1b[34m"+e+"\x1b[0m"},magenta:function(e){return"\x1b[35m"+e+"\x1b[0m"},cyan:function(e){return"\x1b[36m"+e+"\x1b[0m"},yellow:function(e){return"\x1b[33m"+e+"\x1b[0m"},black:function(e){return"\x1b[30m"+e+"\x1b[0m"}};e.exports=function(e){return"undefined"!==typeof window&&window.document?(function(e){var r=e.world.tags;e.list.forEach((function(e){console.log('\n%c"'+e.text()+'"',"color: #e6d7b3;"),e.terms().forEach((function(e){var i=Object.keys(e.tags),a=e.text||"-";e.implicit&&(a="["+e.implicit+"]");var o="'"+a+"'";o=t(o,8);var u=i.find((function(e){return r[e]&&r[e].color})),c="steelblue";r[u]&&(c=r[u].color,c=n[c]),console.log("   ".concat(o,"  -  %c").concat(i.join(", ")),"color: ".concat(c||"steelblue",";"))}))}))}(e),e):(console.log(r.blue("=====")),e.list.forEach((function(n){console.log(r.blue("  -----")),n.terms().forEach((function(n){var i=Object.keys(n.tags),a=n.text||"-";n.implicit&&(a="["+n.implicit+"]");var o="'"+(a=r.yellow(a))+"'";o=t(o,18);var u=r.blue("  \uff5c ")+o+"  - "+function(e,t){return(e=e.map((function(e){if(!t.tags.hasOwnProperty(e))return e;var n=t.tags[e].color||"blue";return r[n](e)}))).join(", ")}(i,e.world);console.log(u)}))})),console.log(""),e)}})),Gn=function(e){var t=e.json({text:!1,terms:!1,reduced:!0}),n={};t.forEach((function(e){n[e.reduced]||(e.count=0,n[e.reduced]=e),n[e.reduced].count+=1}));var r=Object.keys(n).map((function(e){return n[e]}));return r.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),r},Kn={debug:function(){return Wn(this),this},out:function(e){if("text"===e)return this.text();if("normal"===e)return this.text("normal");if("json"===e)return this.json();if("offset"===e||"offsets"===e)return this.json({offset:!0});if("array"===e)return this.json({terms:!1}).map((function(e){return e.text}));if("freq"===e||"frequency"===e)return Gn(this);if("terms"===e){var t=[];return this.json({text:!1,terms:{text:!0}}).forEach((function(e){var n=e.terms.map((function(e){return e.text}));n=n.filter((function(e){return e})),t=t.concat(n)})),t}return"tags"===e?this.list.map((function(e){return e.terms().reduce((function(e,t){return e[t.clean||t.implicit]=Object.keys(t.tags),e}),{})})):"debug"===e?(Wn(this),this):this.text()}},Vn={alpha:function(e,t){var n=e.text("clean"),r=t.text("clean");return n<r?-1:n>r?1:0},length:function(e,t){var n=e.text().trim().length,r=t.text().trim().length;return n<r?1:n>r?-1:0},wordCount:function(e,t){var n=e.wordCount(),r=t.wordCount();return n<r?1:n>r?-1:0}};Vn.alphabetical=Vn.alpha,Vn.wordcount=Vn.wordCount;var Yn={index:!0,sequence:!0,seq:!0,sequential:!0,chron:!0,chronological:!0},Jn={sort:function(e){return"freq"===(e=e||"alpha")||"frequency"===e||"topk"===e?function(e){var t={},n={case:!0,punctuation:!1,whitespace:!0,unicode:!0};return e.list.forEach((function(e){var r=e.text(n);t[r]=t[r]||0,t[r]+=1})),e.list.sort((function(e,r){var i=t[e.text(n)],a=t[r.text(n)];return i<a?1:i>a?-1:0})),e}(this):Yn.hasOwnProperty(e)?function(e){var t={};return e.json({terms:{offset:!0}}).forEach((function(e){t[e.terms[0].id]=e.terms[0].offset.start})),e.list=e.list.sort((function(e,n){return t[e.start]>t[n.start]?1:t[e.start]<t[n.start]?-1:0})),e}(this):"function"===typeof(e=Vn[e]||e)?(this.list=this.list.sort(e),this):this},reverse:function(){var e=[].concat(this.list);return e=e.reverse(),this.buildFrom(e)},unique:function(){var e=[].concat(this.list),t={};return e=e.filter((function(e){var n=e.text("reduced").trim();return!0!==t.hasOwnProperty(n)&&(t[n]=!0,!0)})),this.buildFrom(e)}},Xn=/[\[\]{}\u27e8\u27e9:,\u060c\u3001\u2012\u2013\u2014\u2015\u2026\u2039\u203a\xab\xbb\u2010\-;\/\u2044\xb7*\\u2022^\u2020\u2021\xb0\xa1\xbf\u203b\u2116\xf7\xd7\xba\xaa%\u2030=\u2031\xb6\xa7~|\u2016\xa6\xa9\u2117\xae\u2120\u2122\xa4\u20b3\u0e3f]/g,Zn=/['\u2018\u2019\u201c\u201d"\u2032\u2033\u2034]+/g,Qn={whitespace:function(e){var t=e.list.map((function(e){return e.terms()}));t.forEach((function(e,n){e.forEach((function(r,i){!0!==r.hasDash()?(r.pre=r.pre.replace(/\s/g,""),r.post=r.post.replace(/\s/g,""),(e.length-1!==i||t[n+1])&&(r.implicit&&!0===Boolean(r.text)||!0!==r.hasHyphen()&&(r.post+=" "))):r.post=" - "}))}))},punctuation:function(e){e.forEach((function(e){!0===e.hasHyphen()&&(e.post=" "),e.pre=e.pre.replace(Xn,""),e.post=e.post.replace(Xn,""),e.post=e.post.replace(/\.\.\./,""),!0===/!/.test(e.post)&&(e.post=e.post.replace(/!/g,""),e.post="!"+e.post),!0===/\?/.test(e.post)&&(e.post=e.post.replace(/[\?!]*/,""),e.post="?"+e.post)}))},unicode:function(e){e.forEach((function(e){!0!==e.isImplicit()&&(e.text=y(e.text))}))},quotations:function(e){e.forEach((function(e){e.post=e.post.replace(Zn,""),e.pre=e.pre.replace(Zn,"")}))},adverbs:function(e){e.match("#Adverb").not("(not|nary|seldom|never|barely|almost|basically|so)").remove()},abbreviations:function(e){e.list.forEach((function(e){var t=e.terms();t.forEach((function(e,n){!0===e.tags.Abbreviation&&t[n+1]&&(e.post=e.post.replace(/^\./,""))}))}))}},er={whitespace:!0,unicode:!0,punctuation:!0,emoji:!0,acronyms:!0,abbreviations:!0,case:!1,contractions:!1,parentheses:!1,quotations:!1,adverbs:!1,possessives:!1,verbs:!1,nouns:!1,honorifics:!1},tr={light:{},medium:{case:!0,contractions:!0,parentheses:!0,quotations:!0,adverbs:!0}};tr.heavy=Object.assign({},tr.medium,{possessives:!0,verbs:!0,nouns:!0,honorifics:!0});var nr={normalize:function(e){"string"===typeof(e=e||{})&&(e=tr[e]||{}),e=Object.assign({},er,e),this.uncache();var t=this.termList();return e.case&&this.toLowerCase(),e.whitespace&&Qn.whitespace(this),e.unicode&&Qn.unicode(t),e.punctuation&&Qn.punctuation(t),e.emoji&&this.remove("(#Emoji|#Emoticon)"),e.acronyms&&this.acronyms().strip(),e.abbreviations&&Qn.abbreviations(this),(e.contraction||e.contractions)&&this.contractions().expand(),e.parentheses&&this.parentheses().unwrap(),(e.quotations||e.quotes)&&Qn.quotations(t),e.adverbs&&Qn.adverbs(this),(e.possessive||e.possessives)&&this.possessives().strip(),e.verbs&&this.verbs().toInfinitive(),(e.nouns||e.plurals)&&this.nouns().toSingular(),e.honorifics&&this.remove("#Honorific"),this}},rr=P((function(e,t){t.splitOn=function(e){if(!e)return this.parent().splitOn(this);var t=Ie(e),n=[];return this.list.forEach((function(e){var r=e.match(t);if(0!==r.length){var i=e;r.forEach((function(e){var t=i.splitOn(e);t.before&&n.push(t.before),t.match&&n.push(t.match),i=t.after})),i&&n.push(i)}else n.push(e)})),this.buildFrom(n)},t.splitAfter=function(e){if(!e)return this.parent().splitAfter(this);var t=Ie(e),n=[];return this.list.forEach((function(e){var r=e.match(t);if(0!==r.length){var i=e;r.forEach((function(e){var t=i.splitOn(e);t.before&&t.match?(t.before.length+=t.match.length,n.push(t.before)):t.match&&n.push(t.match),i=t.after})),i&&n.push(i)}else n.push(e)})),this.buildFrom(n)},t.split=t.splitAfter,t.splitBefore=function(e){if(!e)return this.parent().splitBefore(this);var t=Ie(e),n=[];return this.list.forEach((function(e){var r=e.match(t);if(0!==r.length){var i=e;r.forEach((function(e){var t=i.splitOn(e);t.before&&n.push(t.before),t.match&&t.after&&(t.match.length+=t.after.length),i=t.match})),i&&n.push(i)}else n.push(e)})),this.buildFrom(n)},t.segment=function(e,t){e=e||{},t=t||{text:!0};var n=this,r=Object.keys(e);return r.forEach((function(e){n=n.splitOn(e)})),n.list.forEach((function(t){for(var n=0;n<r.length;n+=1)if(t.has(r[n]))return void(t.segment=e[r[n]])})),n.list.map((function(e){var n=e.json(t);return n.segment=e.segment||null,n}))}})),ir=function(e,t){var n=e.world;return e.list.forEach((function(e){e.terms().forEach((function(e){return e[t](n)}))})),e},ar={toLowerCase:function(){return ir(this,"toLowerCase")},toUpperCase:function(){return ir(this,"toUpperCase")},toTitleCase:function(){return ir(this,"toTitleCase")},toCamelCase:function(){return this.list.forEach((function(e){var t=e.terms();t.forEach((function(e,n){0!==n&&e.toTitleCase(),n!==t.length-1&&(e.post="")}))})),this}},or=P((function(e,t){t.pre=function(e,t){return void 0===e?this.list[0].terms(0).pre:(this.list.forEach((function(n){var r=n.terms(0);!0===t?r.pre+=e:r.pre=e})),this)},t.post=function(e,t){return void 0===e?this.list.map((function(e){var t=e.terms();return t[t.length-1].post})):(this.list.forEach((function(n){var r=n.terms(),i=r[r.length-1];!0===t?i.post+=e:i.post=e})),this)},t.trim=function(){return this.list=this.list.map((function(e){return e.trim()})),this},t.hyphenate=function(){return this.list.forEach((function(e){var t=e.terms();t.forEach((function(e,n){0!==n&&(e.pre=""),t[n+1]&&(e.post="-")}))})),this},t.dehyphenate=function(){var e=/(-|\u2013|\u2014)/;return this.list.forEach((function(t){t.terms().forEach((function(t){e.test(t.post)&&(t.post=" ")}))})),this},t.deHyphenate=t.dehyphenate,t.toQuotations=function(e,t){return e=e||'"',t=t||'"',this.list.forEach((function(n){var r=n.terms();r[0].pre=e+r[0].pre;var i=r[r.length-1];i.post=t+i.post})),this},t.toQuotation=t.toQuotations,t.toParentheses=function(e,t){return e=e||"(",t=t||")",this.list.forEach((function(n){var r=n.terms();r[0].pre=e+r[0].pre;var i=r[r.length-1];i.post=t+i.post})),this}})),ur={join:function(e){this.uncache();for(var t=this.list[0],n=t.length,r={},i=1;i<this.list.length;i++){var a=this.list[i];r[a.start]=!0;var o=t.lastTerm();e&&(o.post+=e),o.next=a.start,a.terms(0).prev=o.id,t.length+=a.length,t.cache={}}var u=t.length-n;return this.parents().forEach((function(e){e.list.forEach((function(e){for(var n=e.terms(),r=0;r<n.length;r++)if(n[r].id===t.start){e.length+=u;break}e.cache={}})),e.list=e.list.filter((function(e){return!0!==r[e.start]}))})),this.buildFrom([t])}},cr=/[,\)"';:\-\u2013\u2014\.\u2026]/,sr=function(e,t){if(e.found){for(var n=e.termList(),r=0;r<n.length-1;r++){var i=n[r];if(cr.test(i.post))return}n.forEach((function(e){e.implicit=e.clean})),n[0].text+=t,n.slice(1).forEach((function(e){e.text=""}));for(var a=0;a<n.length-1;a++){var o=n[a];o.post=o.post.replace(/ /,"")}}},lr={contract:function(){var e=this.not("@hasContraction"),t=e.match("(we|they|you) are");return sr(t,"'re"),t=e.match("(he|she|they|it|we|you) will"),sr(t,"'ll"),t=e.match("(he|she|they|it|we) is"),sr(t,"'s"),t=e.match("#Person is"),sr(t,"'s"),t=e.match("#Person would"),sr(t,"'d"),t=e.match("(is|was|had|would|should|could|do|does|have|has|can) not"),sr(t,"n't"),t=e.match("(i|we|they) have"),sr(t,"'ve"),t=e.match("(would|should|could) have"),sr(t,"'ve"),t=e.match("i am"),sr(t,"'m"),t=e.match("going to"),this}},fr=Object.assign({},En,An,Dn,Tn,Mn,Bn,Rn,Ln,In,qn,Hn,Kn,Jn,nr,rr,ar,or,ur,lr),dr={};[["terms","."],["hyphenated","@hasHyphen ."],["adjectives","#Adjective"],["hashTags","#HashTag"],["emails","#Email"],["emoji","#Emoji"],["emoticons","#Emoticon"],["atMentions","#AtMention"],["urls","#Url"],["adverbs","#Adverb"],["pronouns","#Pronoun"],["conjunctions","#Conjunction"],["prepositions","#Preposition"]].forEach((function(e){dr[e[0]]=function(t){var n=this.match(e[1]);return"number"===typeof t&&(n=n.get(t)),n}})),dr.emojis=dr.emoji,dr.atmentions=dr.atMentions,dr.words=dr.terms,dr.phoneNumbers=function(e){var t=this.splitAfter("@hasComma");return t=t.match("#PhoneNumber+"),"number"===typeof e&&(t=t.get(e)),t},dr.money=function(e){var t=this.match("#Money #Currency?");return"number"===typeof e&&(t=t.get(e)),t},dr.places=function(e){var t=this.match("(#City && @hasComma) (#Region|#Country)"),n=this.not(t).splitAfter("@hasComma");return(n=n.concat(t)).sort("index"),n=n.match("#Place+"),"number"===typeof e&&(n=n.get(e)),n},dr.organizations=function(e){var t=this.clauses();return t=t.match("#Organization+"),"number"===typeof e&&(t=t.get(e)),t},dr.entities=function(e){var t=this.clauses(),n=t.people();return(n=(n=(n=n.concat(t.places())).concat(t.organizations())).not(["someone","man","woman","mother","brother","sister","father"])).sort("sequence"),"number"===typeof e&&(n=n.get(e)),n},dr.things=dr.entities,dr.topics=dr.entities;var hr=dr,pr=/^(under|over)-?/,vr=function(e,t,n){var r=n.words,i=e[t].reduced+" "+e[t+1].reduced;return void 0!==r[i]&&!0===r.hasOwnProperty(i)?(e[t].tag(r[i],"lexicon-two",n),e[t+1].tag(r[i],"lexicon-two",n),1):t+2<e.length&&void 0!==r[i+=" "+e[t+2].reduced]&&!0===r.hasOwnProperty(i)?(e[t].tag(r[i],"lexicon-three",n),e[t+1].tag(r[i],"lexicon-three",n),e[t+2].tag(r[i],"lexicon-three",n),2):t+3<e.length&&void 0!==r[i+=" "+e[t+3].reduced]&&!0===r.hasOwnProperty(i)?(e[t].tag(r[i],"lexicon-four",n),e[t+1].tag(r[i],"lexicon-four",n),e[t+2].tag(r[i],"lexicon-four",n),e[t+3].tag(r[i],"lexicon-four",n),3):0},gr=function(e,t){for(var n=t.words,r=t.hasCompound,i=0;i<e.length;i+=1){var a=e[i].clean;if(!0===r[a]&&i+1<e.length){var o=vr(e,i,t);if(o>0){i+=o;continue}}if(void 0===n[a]||!0!==n.hasOwnProperty(a))if(a===e[i].reduced||!0!==n.hasOwnProperty(e[i].reduced)){if(!0===pr.test(a)){var u=a.replace(pr,"");!0===n.hasOwnProperty(u)&&e[i].tag(n[u],"noprefix-lexicon",t)}}else e[i].tag(n[e[i].reduced],"lexicon",t);else e[i].tag(n[a],"lexicon",t)}return e},mr=/[\'\u2018\u2019\u201b\u2035\u2032`\xb4]$/,yr=/^(m|k|cm|km|m)\/(s|h|hr)$/,br=[[/^[\w\.]+@[\w\.]+\.[a-z]{2,3}$/,"Email"],[/^#[a-z0-9_\u00C0-\u00FF]{2,}$/,"HashTag"],[/^@\w{2,}$/,"AtMention"],[/^(https?:\/\/|www\.)\w+\.[a-z]{2,3}/,"Url"],[/^[\w./]+\.(com|net|gov|org|ly|edu|info|biz|ru|jp|de|in|uk|br)/,"Url"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])$/,"Time"],[/^[012]?[0-9](:[0-5][0-9])?(:[0-5][0-9])? ?(am|pm)$/,"Time"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])? ?(am|pm)?$/,"Time"],[/^[PMCE]ST$/,"Time"],[/^utc ?[+-]?[0-9]+?$/,"Time"],[/^[a-z0-9]*? o\'?clock$/,"Time"],[/^[0-9]{1,4}-[0-9]{1,2}-[0-9]{1,4}$/,"Date"],[/^[0-9]{1,4}\/[0-9]{1,2}\/[0-9]{1,4}$/,"Date"],[/^ma?c\'.*/,"LastName"],[/^o\'[drlkn].*/,"LastName"],[/^ma?cd[aeiou]/,"LastName"],[/^(lol)+[sz]$/,"Expression"],[/^woo+a*?h?$/,"Expression"],[/^(un|de|re)\\-[a-z\u00C0-\u00FF]{2}/,"Verb"],[/^[0-9]{1,4}\.[0-9]{1,2}\.[0-9]{1,4}$/,"Date"],[/^[0-9]{3}-[0-9]{4}$/,"PhoneNumber"],[/^(\+?[0-9][ -])?[0-9]{3}[ -]?[0-9]{3}-[0-9]{4}$/,"PhoneNumber"],[/^[-+]?[\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6][-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(k|m|b|bn)?\+?$/,["Money","Value"]],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?[\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]\+?$/,["Money","Value"]],[/^[-+]?[0-9]([0-9,.])+?(usd|eur|jpy|gbp|cad|aud|chf|cny|hkd|nzd|kr|rub)$/i,["Money","Value"]],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?\+?$/,["Cardinal","NumericValue"]],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(st|nd|rd|th)$/,["Ordinal","NumericValue"]],[/^\.[0-9]+\+?$/,["Cardinal","NumericValue"]],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?%\+?$/,["Percent","Cardinal","NumericValue"]],[/^\.[0-9]+%$/,["Percent","Cardinal","NumericValue"]],[/^[0-9]{1,4}\/[0-9]{1,4}$/,"Fraction"],[/^[0-9.]{1,2}[-\u2013][0-9]{1,2}$/,["Value","NumberRange"]],[/^[0-9.]{1,4}(st|nd|rd|th)?[-\u2013][0-9\.]{1,4}(st|nd|rd|th)?$/,"NumberRange"],[/^[0-9.]+([a-z]{1,4})$/,"Value"]],xr=/^[IVXLCDM]{2,}$/,wr=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,Or="Adjective",kr="Infinitive",jr="PresentTense",_r="Singular",Sr="PastTense",Er="Expression",Ar="LastName",Cr={a:[[/.[aeiou]na$/,"Noun"],[/.[oau][wvl]ska$/,Ar],[/.[^aeiou]ica$/,_r],[/^([hyj]a)+$/,Er]],c:[[/.[^aeiou]ic$/,Or]],d:[[/[aeiou](pp|ll|ss|ff|gg|tt|rr|bb|nn|mm)ed$/,Sr],[/.[aeo]{2}[bdgmnprvz]ed$/,Sr],[/.[aeiou][sg]hed$/,Sr],[/.[aeiou]red$/,Sr],[/.[aeiou]r?ried$/,Sr],[/.[bcdgtr]led$/,Sr],[/.[aoui]f?led$/,Sr],[/.[iao]sed$/,Sr],[/[aeiou]n?[cs]ed$/,Sr],[/[aeiou][rl]?[mnf]ed$/,Sr],[/[aeiou][ns]?c?ked$/,Sr],[/[aeiou][nl]?ged$/,Sr],[/.[tdbwxz]ed$/,Sr],[/[^aeiou][aeiou][tvx]ed$/,Sr],[/.[cdlmnprstv]ied$/,Sr],[/[^aeiou]ard$/,_r],[/[aeiou][^aeiou]id$/,Or],[/.[vrl]id$/,Or]],e:[[/.[lnr]ize$/,kr],[/.[^aeiou]ise$/,kr],[/.[aeiou]te$/,kr],[/.[^aeiou][ai]ble$/,Or],[/.[^aeiou]eable$/,Or],[/.[ts]ive$/,Or]],h:[[/.[^aeiouf]ish$/,Or],[/.v[iy]ch$/,Ar],[/^ug?h+$/,Er],[/^uh[ -]?oh$/,Er]],i:[[/.[oau][wvl]ski$/,Ar]],k:[[/^(k){2}$/,Er]],l:[[/.[gl]ial$/,Or],[/.[^aeiou]ful$/,Or],[/.[nrtumcd]al$/,Or],[/.[^aeiou][ei]al$/,Or]],m:[[/.[^aeiou]ium$/,_r],[/[^aeiou]ism$/,_r],[/^h*u*m+$/,Er],[/^\d+ ?[ap]m$/,"Date"]],n:[[/.[lsrnpb]ian$/,Or],[/[^aeiou]ician$/,"Actor"],[/[aeiou][ktrp]in$/,"Gerund"]],o:[[/^no+$/,Er],[/^(yo)+$/,Er],[/^woo+[pt]?$/,Er]],r:[[/.[bdfklmst]ler$/,"Noun"],[/.[ilk]er$/,"Comparative"],[/[aeiou][pns]er$/,_r],[/[^i]fer$/,kr],[/.[^aeiou][ao]pher$/,"Actor"]],t:[[/.[di]est$/,"Superlative"],[/.[icldtgrv]ent$/,Or],[/[aeiou].*ist$/,Or],[/^[a-z]et$/,"Verb"]],s:[[/.[rln]ates$/,jr],[/.[^z]ens$/,"Verb"],[/.[lstrn]us$/,_r],[/.[aeiou]sks$/,jr],[/.[aeiou]kes$/,jr],[/[aeiou][^aeiou]is$/,_r],[/[a-z]\'s$/,"Noun"],[/^yes+$/,Er]],v:[[/.[^aeiou][ai][kln]ov$/,Ar]],y:[[/.[cts]hy$/,Or],[/.[st]ty$/,Or],[/.[gk]y$/,Or],[/.[tnl]ary$/,Or],[/.[oe]ry$/,_r],[/[rdntkbhs]ly$/,"Adverb"],[/...lly$/,"Adverb"],[/[bszmp]{2}y$/,Or],[/.(gg|bb|zz)ly$/,Or],[/.[aeiou]my$/,Or],[/[ea]{2}zy$/,Or],[/.[^aeiou]ity$/,_r]]},Dr="Adjective",Fr="Infinitive",Tr="PresentTense",Mr="Singular",Pr="PastTense",Nr="Adverb",Br="Plural",Rr="Verb",zr="LastName",Lr=[null,null,{ea:Mr,ia:"Noun",ic:Dr,ly:Nr,"'n":Rr,"'t":Rr},{oed:Pr,ued:Pr,xed:Pr," so":Nr,"'ll":"Modal","'re":"Copula",azy:Dr,end:Rr,ped:Pr,ffy:Dr,ify:Fr,ing:"Gerund",ize:Fr,lar:Dr,mum:Dr,nes:Tr,nny:Dr,oid:Dr,ous:Dr,que:Dr,rmy:Dr,rol:Mr,sis:Mr,zes:Tr},{amed:Pr,aped:Pr,ched:Pr,lked:Pr,nded:Pr,cted:Pr,dged:Pr,akis:zr,cede:Fr,chuk:zr,czyk:zr,ects:Tr,ends:Rr,enko:zr,ette:Mr,fies:Tr,fore:Nr,gate:Fr,gone:Dr,ices:Br,ints:Br,ions:Br,less:Nr,llen:Dr,made:Dr,nsen:zr,oses:Tr,ould:"Modal",some:Dr,sson:zr,tage:Fr,teen:"Value",tion:Mr,tive:Dr,tors:"Noun",vice:Mr},{tized:Pr,urned:Pr,eased:Pr,ances:Br,bound:Dr,ettes:Br,fully:Nr,ishes:Tr,ities:Br,marek:zr,nssen:zr,ology:"Noun",ports:Br,rough:Dr,tches:Tr,tieth:"Ordinal",tures:Br,wards:Nr,where:Nr},{auskas:zr,keeper:"Actor",logist:"Actor",teenth:"Value"},{opoulos:zr,borough:"Place",sdottir:zr}],Ir={":(":!0,":)":!0,":P":!0,":p":!0,":O":!0,":3":!0,":|":!0,":/":!0,":\\":!0,":$":!0,":*":!0,":@":!0,":-(":!0,":-)":!0,":-P":!0,":-p":!0,":-O":!0,":-3":!0,":-|":!0,":-/":!0,":-\\":!0,":-$":!0,":-*":!0,":-@":!0,":^(":!0,":^)":!0,":^P":!0,":^p":!0,":^O":!0,":^3":!0,":^|":!0,":^/":!0,":^\\":!0,":^$":!0,":^*":!0,":^@":!0,"):":!0,"(:":!0,"$:":!0,"*:":!0,")-:":!0,"(-:":!0,"$-:":!0,"*-:":!0,")^:":!0,"(^:":!0,"$^:":!0,"*^:":!0,"<3":!0,"</3":!0,"<\\3":!0},Ur=/^(\u00a9|\u00ae|[\u2319-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,qr={lexicon:gr,punctuation:function(e,t,n){var r=e[t];if(mr.test(r.text)&&!mr.test(r.pre)&&!mr.test(r.post)&&r.clean.length>2){var i=r.clean[r.clean.length-2];if("s"===i)return void r.tag(["Possessive","Noun"],"end-tick",n);"n"===i&&r.tag(["Gerund"],"chillin",n)}yr.test(r.text)&&r.tag("Unit","per-sec",n)},regex:function(e,t){for(var n=e.text,r=0;r<br.length;r+=1)if(!0===br[r][0].test(n)){e.tagSafe(br[r][1],"prefix #"+r,t);break}e.text.length>=2&&xr.test(n)&&wr.test(n)&&e.tag("RomanNumeral","xvii",t)},suffix:function(e,t){!function(e,t){var n=e.clean.length,r=7;n<=r&&(r=n-1);for(var i=r;i>1;i-=1){var a=e.clean.substr(n-i,n);if(!0===Lr[a.length].hasOwnProperty(a)){var o=Lr[a.length][a];e.tagSafe(o,"suffix -"+a,t);break}}}(e,t),function(e,t){var n=e.clean,r=n[n.length-1];if(!0===Cr.hasOwnProperty(r))for(var i=Cr[r],a=0;a<i.length;a+=1)if(!0===i[a][0].test(n)){e.tagSafe(i[a][1],"endReg ".concat(r," #").concat(a),t);break}}(e,t)},emoji:function(e,t){var n,r=e.pre+e.text+e.post;!0===function(e){return":"===e.charAt(0)&&(null!==e.match(/:.?$/)&&(!e.match(" ")&&!(e.length>35)))}(r=(r=r.trim()).replace(/[.!?,]$/,""))&&(e.tag("Emoji","comma-emoji",t),e.text=r,e.pre=e.pre.replace(":",""),e.post=e.post.replace(":","")),e.text.match(Ur)&&(e.tag("Emoji","unicode-emoji",t),e.text=r),!0===(n=(n=r).replace(/^[:;]/,":"),Ir.hasOwnProperty(n))&&(e.tag("Emoticon","emoticon-emoji",t),e.text=r)}},$r=function(e,t){var n=e.world;qr.lexicon(t,n);for(var r=0;r<t.length;r+=1){var i=t[r];qr.punctuation(t,r,n),qr.regex(i,n),qr.suffix(i,n),qr.emoji(i,n)}return e},Hr={beforeThisWord:{there:"Verb",me:"Verb",man:"Adjective",only:"Verb",him:"Verb",were:"Noun",took:"Noun",himself:"Verb",went:"Noun",who:"Noun",jr:"Person"},afterThisWord:{i:"Verb",first:"Noun",it:"Verb",there:"Verb",not:"Verb",because:"Noun",if:"Noun",but:"Noun",who:"Verb",this:"Noun",his:"Noun",when:"Noun",you:"Verb",very:"Adjective",old:"Noun",never:"Verb",before:"Noun"},beforeThisPos:{Copula:"Noun",PastTense:"Noun",Conjunction:"Noun",Modal:"Noun",Pluperfect:"Noun",PerfectTense:"Verb"},afterThisPos:{Adjective:"Noun",Possessive:"Noun",Determiner:"Noun",Adverb:"Verb",Pronoun:"Verb",Value:"Noun",Ordinal:"Noun",Modal:"Verb",Superlative:"Noun",Demonym:"Noun",Honorific:"Person"}},Wr=Object.keys(Hr.afterThisPos),Gr=Object.keys(Hr.beforeThisPos),Kr=function(e,t){for(var n=function(n){var r=e[n];if(!0===r.isKnown())return"continue";var i=e[n-1];if(i){if(!0===Hr.afterThisWord.hasOwnProperty(i.clean)){var a=Hr.afterThisWord[i.clean];return r.tag(a,"after-"+i.clean,t),"continue"}var o=Wr.find((function(e){return i.tags[e]}));if(void 0!==o){var u=Hr.afterThisPos[o];return r.tag(u,"after-"+o,t),"continue"}}var c=e[n+1];if(c){if(!0===Hr.beforeThisWord.hasOwnProperty(c.clean)){var s=Hr.beforeThisWord[c.clean];return r.tag(s,"before-"+c.clean,t),"continue"}var l=Gr.find((function(e){return c.tags[e]}));if(void 0!==l){var f=Hr.beforeThisPos[l];return r.tag(f,"before-"+l,t),"continue"}}},r=0;r<e.length;r+=1)n(r)},Vr=/^[A-Z][a-z'\u00C0-\u00FF]/,Yr=/[0-9]/,Jr=function(e){var t=e.world;e.list.forEach((function(e){for(var n=e.terms(),r=1;r<n.length;r++){var i=n[r];!0===Vr.test(i.text)&&!1===Yr.test(i.text)&&i.tag("ProperNoun","titlecase-noun",t)}}))},Xr=/^(re|un)-?[a-z\u00C0-\u00FF]/,Zr=/^(re|un)-?/,Qr=function(e,t){var n=t.words;e.forEach((function(e){if(!0!==e.isKnown()&&!0===Xr.test(e.clean)){var r=e.clean.replace(Zr,"");r&&r.length>3&&void 0!==n[r]&&!0===n.hasOwnProperty(r)&&e.tag(n[r],"stem-"+r,t)}}))},ei={isSingular:[/(ax|test)is$/i,/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,/(octop|vir)i$/i,/(rl)f$/i,/(alias|status)$/i,/(bu)s$/i,/(al|ad|at|er|et|ed|ad)o$/i,/(ti)um$/i,/(ti)a$/i,/sis$/i,/(?:(^f)fe|(lr)f)$/i,/hive$/i,/s[aeiou]+ns$/i,/(^aeiouy|qu)y$/i,/(x|ch|ss|sh|z)$/i,/(matr|vert|ind|cort)(ix|ex)$/i,/(m|l)ouse$/i,/(m|l)ice$/i,/(antenn|formul|nebul|vertebr|vit)a$/i,/.sis$/i,/^(?!talis|.*hu)(.*)man$/i],isPlural:[/(^v)ies$/i,/ises$/i,/ives$/i,/(antenn|formul|nebul|vertebr|vit)ae$/i,/(octop|vir|radi|nucle|fung|cact|stimul)i$/i,/(buffal|tomat|tornad)oes$/i,/(analy|ba|diagno|parenthe|progno|synop|the)ses$/i,/(vert|ind|cort)ices$/i,/(matr|append)ices$/i,/(x|ch|ss|sh|s|z|o)es$/i,/is$/i,/men$/i,/news$/i,/.tia$/i,/(^f)ves$/i,/(lr)ves$/i,/(^aeiouy|qu)ies$/i,/(m|l)ice$/i,/(cris|ax|test)es$/i,/(alias|status)es$/i,/ics$/i]},ti=["Uncountable","Pronoun","Place","Value","Person","Month","WeekDay","Holiday"],ni=[/ss$/,/sis$/,/[^aeiou][uo]s$/,/'s$/],ri=[/i$/,/ae$/],ii=function(e,t){if(e.tags.Noun&&!e.tags.Acronym){var n=e.clean;if(e.tags.Singular||e.tags.Plural)return;if(n.length<=3)return void e.tag("Singular","short-singular",t);if(ti.find((function(t){return e.tags[t]})))return;if(ei.isPlural.find((function(e){return e.test(n)})))return void e.tag("Plural","plural-rules",t);if(ei.isSingular.find((function(e){return e.test(n)})))return void e.tag("Singular","singular-rules",t);if(!0===/s$/.test(n)){if(ni.find((function(e){return e.test(n)})))return;return void e.tag("Plural","plural-fallback",t)}if(ri.find((function(e){return e.test(n)})))return;e.tag("Singular","singular-fallback",t)}},ai=["academy","administration","agence","agences","agencies","agency","airlines","airways","army","assoc","associates","association","assurance","authority","autorite","aviation","bank","banque","board","boys","brands","brewery","brotherhood","brothers","building society","bureau","cafe","caisse","capital","care","cathedral","center","central bank","centre","chemicals","choir","chronicle","church","circus","clinic","clinique","club","co","coalition","coffee","collective","college","commission","committee","communications","community","company","comprehensive","computers","confederation","conference","conseil","consulting","containers","corporation","corps","corp","council","crew","daily news","data","departement","department","department store","departments","design","development","directorate","division","drilling","education","eglise","electric","electricity","energy","ensemble","enterprise","enterprises","entertainment","estate","etat","evening news","faculty","federation","financial","fm","foundation","fund","gas","gazette","girls","government","group","guild","health authority","herald","holdings","hospital","hotel","hotels","inc","industries","institut","institute","institute of technology","institutes","insurance","international","interstate","investment","investments","investors","journal","laboratory","labs","liberation army","limited","local authority","local health authority","machines","magazine","management","marine","marketing","markets","media","memorial","mercantile exchange","ministere","ministry","military","mobile","motor","motors","musee","museum","news","news service","observatory","office","oil","optical","orchestra","organization","partners","partnership","people's party","petrol","petroleum","pharmacare","pharmaceutical","pharmaceuticals","pizza","plc","police","polytechnic","post","power","press","productions","quartet","radio","regional authority","regional health authority","reserve","resources","restaurant","restaurants","savings","school","securities","service","services","social club","societe","society","sons","standard","state police","state university","stock exchange","subcommittee","syndicat","systems","telecommunications","telegraph","television","times","tribunal","tv","union","university","utilities","workers"].reduce((function(e,t){return e[t]="Noun",e}),{}),oi=function(e){return!!e.tags.Noun&&(!(e.tags.Pronoun||e.tags.Comma||e.tags.Possessive)&&!!(e.tags.Organization||e.tags.Acronym||e.tags.Place||e.titleCase()))},ui=/^[A-Z]('s|,)?$/,ci=/([A-Z]\.){2}[A-Z]?/i,si={I:!0,A:!0},li={neighbours:Kr,case:Jr,stem:Qr,plural:ii,organizations:function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(void 0!==ai[r.clean]&&!0===ai.hasOwnProperty(r.clean)){var i=e[n-1];if(void 0!==i&&!0===oi(i)){i.tagSafe("Organization","org-word-1",t),r.tagSafe("Organization","org-word-2",t);continue}var a=e[n+1];if(void 0!==a&&"of"===a.clean&&e[n+2]&&oi(e[n+2])){r.tagSafe("Organization","org-of-word-1",t),a.tagSafe("Organization","org-of-word-2",t),e[n+2].tagSafe("Organization","org-of-word-3",t);continue}}}},acronyms:function(e,t){e.forEach((function(e){!0!==e.tags.RomanNumeral&&(!0===ci.test(e.text)&&e.tag("Acronym","period-acronym",t),e.isUpperCase()&&function(e,t){var n=e.reduced;return!!e.tags.Acronym||!t.words[n]&&e.isAcronym()}(e,t)?(e.tag("Acronym","acronym-step",t),e.tag("Noun","acronym-infer",t)):!si.hasOwnProperty(e.text)&&ui.test(e.text)&&(e.tag("Acronym","one-letter-acronym",t),e.tag("Noun","one-letter-infer",t)),e.tags.Organization&&e.text.length<=3&&e.tag("Acronym","acronym-org",t),e.tags.Organization&&e.isUpperCase()&&e.text.length<=6&&e.tag("Acronym","acronym-org-case",t))}))}},fi=function(e,t){var n=e.world;return li.neighbours(t,n),li.case(e),li.stem(t,n),t.forEach((function(t){!1===t.isKnown()&&t.tag("Noun","noun-fallback",e.world)})),li.organizations(t,n),li.acronyms(t,n),t.forEach((function(t){li.plural(t,e.world)})),e},di=/n't$/,hi={"won't":["will","not"],wont:["will","not"],"can't":["can","not"],cant:["can","not"],cannot:["can","not"],"shan't":["should","not"],dont:["do","not"],dun:["do","not"]},pi=function(e,t){return!0===hi.hasOwnProperty(e.clean)?hi[e.clean]:"ain't"===e.clean||"aint"===e.clean?function(e,t){var n=t.terms(),r=n.indexOf(e),i=n.slice(0,r).find((function(e){return e.tags.Noun}));return i&&i.tags.Plural?["are","not"]:["is","not"]}(e,t):!0===di.test(e.clean)?[e.clean.replace(di,""),"not"]:null},vi=/([a-z\u00C0-\u00FF]+)[\u0027\u0060\u00B4\u2018\u2019\u201A\u201B\u2032\u2035\u2039\u203A]([a-z]{1,2})$/i,gi={ll:"will",ve:"have",re:"are",m:"am","n't":"not"},mi=function(e){var t=e.text.match(vi);return null===t?null:gi.hasOwnProperty(t[2])?[t[1],gi[t[2]]]:null},yi={wanna:["want","to"],gonna:["going","to"],im:["i","am"],alot:["a","lot"],ive:["i","have"],imma:["I","will"],"where'd":["where","did"],whered:["where","did"],"when'd":["when","did"],whend:["when","did"],howd:["how","did"],whatd:["what","did"],dunno:["do","not","know"],brb:["be","right","back"],gtg:["got","to","go"],irl:["in","real","life"],tbh:["to","be","honest"],imo:["in","my","opinion"],til:["today","i","learned"],rn:["right","now"],twas:["it","was"],"@":["at"]},bi=function(e){return yi.hasOwnProperty(e.clean)?yi[e.clean]:null},xi=/([a-z\u00C0-\u00FF]+)[\u0027\u0060\u00B4\u2018\u2019\u201A\u201B\u2032\u2035\u2039\u203A]s$/i,wi={that:!0,there:!0},Oi=function(e,t,n){var r=e.text.match(xi);if(null!==r){if(!0===function(e,t){if(e.tags.Possessive)return!0;if(e.tags.Pronoun||e.tags.QuestionWord)return!1;if(wi.hasOwnProperty(e.reduced))return!1;var n=t.get(e.next);if(!n)return!0;if(n.tags.Verb)return!!n.tags.Infinitive||!!n.tags.PresentTense;if(n.tags.Noun)return!0;var r=t.get(n.next);return!(!r||!r.tags.Noun||r.tags.Pronoun)||(n.tags.Adjective||n.tags.Adverb||n.tags.Verb,!1)}(e,t.pool))return e.tag("#Possessive","isPossessive",n),null;if(null!==r)return function(e,t){var n=t.terms(),r=n.indexOf(e);return n.slice(r+1,r+3).find((function(e){return e.tags.PastTense}))}(e,t)?[r[1],"has"]:[r[1],"is"]}return null},ki=/[a-z\u00C0-\u00FF]'d$/,ji={how:!0,what:!0},_i=function(e,t){if(ki.test(e.clean)){for(var n=e.clean.replace(/'d$/,""),r=t.terms(),i=r.indexOf(e),a=r.slice(i+1,i+4),o=0;o<a.length;o++){var u=a[o];if(u.tags.Verb)return u.tags.PastTense?[n,"had"]:!0===ji[n]?[n,"did"]:[n,"would"]}return[n,"would"]}return null},Si=/^([0-9]+)[-\u2013\u2014]([0-9]+)$/i,Ei=function(e){if(!0===e.tags.PhoneNumber)return null;var t=e.text.match(Si);return null!==t?[t[1],"to",t[2]]:null},Ai=/^(l|c|d|j|m|n|qu|s|t)[\u0027\u0060\u00B4\u2018\u2019\u201A\u201B\u2032\u2035\u2039\u203A]([a-z\u00C0-\u00FF]+)$/i,Ci={l:"le",c:"ce",d:"de",j:"je",m:"me",n:"ne",qu:"que",s:"se",t:"tu"},Di=function(e){var t=e.text.match(Ai);if(null===t||!1===Ci.hasOwnProperty(t[1]))return null;var n=[Ci[t[1]],t[2]];return n[0]&&n[1]?n:null},Fi=/^[0-9]+$/,Ti=function(e,t){var n=pt(e.join(" "),t.world,t.pool())[0],r=n.terms();return gr(r,t.world),r.forEach((function(e){e.implicit=e.text,e.text="",e.clean="",e.pre="",e.post="",Fi.test(e.implicit)&&(e.tags.Number=!0,e.tags.Cardinal=!0)})),n},Mi=function(e){var t=e.world;return e.list.forEach((function(n){for(var r=n.terms(),i=0;i<r.length;i+=1){var a=r[i],o=pi(a,n);if(null!==(o=(o=(o=(o=(o=(o=o||mi(a))||bi(a))||Oi(a,n,t))||_i(a,n))||Ei(a))||Di(a))){var u=Ti(o,e);!0===n.has("#NumberRange")&&e.buildFrom([u]).tag("NumberRange"),u.terms(0).text=a.text,n.buildFrom(a.id,1,e.pool()).replace(u,e,!0)}}})),e},Pi=function(e,t){var n=e._cache.tags[t]||[];return n=n.map((function(t){return e.list[t]})),e.buildFrom(n)},Ni=function(e){var t=function(e,t){var n=e._cache.words[t]||[];return n=n.map((function(t){return e.list[t]})),e.buildFrom(n)}(e,"like");return t.match("#Adverb like").notIf("(really|generally|typically|usually|sometimes|often) [like]").tag("Adverb","adverb-like"),(t=Pi(e,"Adjective")).match("#Determiner #Adjective$").notIf("(#Comparative|#Superlative)").terms(1).tag("Noun","the-adj-1"),(t=Pi(e,"FirstName")).match("#FirstName (#Noun|@titleCase)").ifNo("^#Possessive").ifNo("#Pronoun").lastTerm().tag("#LastName","firstname-noun"),(t=(t=Pi(e,"Value")).match("#Value #PresentTense")).found&&(!0===t.has("(one|1)")?t.terms(1).tag("Singular","one-presentTense"):t.terms(1).tag("Plural","value-presentTense")),e.match("^(well|so|okay)").tag("Expression","well-"),(t=Pi(e,"Gerund")).match("(be|been) (#Adverb|not)+? #Gerund").not("#Verb$").tag("Auxiliary","be-walking"),e.match("(try|use|attempt|build|make) #Verb").ifNo("(@hasComma|#Negative|#Copula|will|be)").lastTerm().tag("#Noun","do-verb"),(t=(t=Pi(e,"Possessive")).match("#Possessive [#Infinitive]",0)).lookBehind("(let|made|make|force|ask)").found||t.tag("Noun","her-match"),e},Bi=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)},Ri=[{match:"too much",tag:"Adverb Adjective",reason:"bit-4"},{match:"u r",tag:"Pronoun Copula",reason:"u r"},{match:"#Copula (pretty|dead|full|well) (#Adjective|#Noun)",tag:"#Copula #Adverb #Adjective",reason:"sometimes-adverb"},{match:"[#Gerund] #Adverb? not? #Copula",group:0,tag:"Activity",reason:"gerund-copula"},{match:"[#Gerund] #Modal",group:0,tag:"Activity",reason:"gerund-modal"},{match:"holy (shit|fuck|hell)",tag:"Expression",reason:"swears-expression"},{match:"#Noun #Actor",tag:"Actor",reason:"thing-doer"},{match:"#Conjunction [u]",group:0,tag:"Pronoun",reason:"u-pronoun-2"},{match:"[u] #Verb",group:0,tag:"Pronoun",reason:"u-pronoun-1"},{match:"#Noun [(who|whom)]",group:0,tag:"Determiner",reason:"captain-who"},{match:"that #Noun [#Verb]",group:0,tag:"Determiner",reason:"that-determiner"},{match:"a bit much",tag:"Determiner Adverb Adjective",reason:"bit-3"},{match:"#Verb #Adverb? #Noun [(that|which)]",group:0,tag:"Preposition",reason:"that-prep"},{match:"@hasComma [which] (#Pronoun|#Verb)",group:0,tag:"Preposition",reason:"which-copula"},{match:"just [like]",group:0,tag:"Preposition",reason:"like-preposition"},{match:"#Noun [like] #Noun",group:0,tag:"Preposition",reason:"noun-like"},{match:"#Noun [#Particle]",group:0,tag:"Preposition",reason:"repair-noPhrasal"},{match:"[had] #Noun+ #PastTense",group:0,tag:"Condition",reason:"had-he"},{match:"[were] #Noun+ to #Infinitive",group:0,tag:"Condition",reason:"were-he"},{match:"^how",tag:"QuestionWord",reason:"how-question"},{match:"[how] (#Determiner|#Copula|#Modal|#PastTense)",group:0,tag:"QuestionWord",reason:"how-is"},{match:"^which",tag:"QuestionWord",reason:"which-question"},{match:"[which] . (#Noun)+ #Pronoun",group:0,tag:"QuestionWord",reason:"which-question2"},{match:"[so] #Noun",group:0,tag:"Conjunction",reason:"so-conj"},{match:"[(who|what|where|why|how|when)] #Noun #Copula #Adverb? (#Verb|#Adjective)",group:0,tag:"Conjunction",reason:"how-he-is-x"},{match:"[(who|what|where|why|how|when)] #Noun #Adverb? #Infinitive not? #Gerund",group:0,tag:"Conjunction",reason:"when i go fishing"}],zi="(april|june|may|jan|august|eve)",Li=[{match:"#Holiday (day|eve)",tag:"Holiday",reason:"holiday-day"},{match:"[sun] the #Ordinal",tag:"WeekDay",reason:"sun-the-5th"},{match:"[sun] #Date",group:0,tag:"WeekDay",reason:"sun-feb"},{match:"#Date (on|this|next|last|during)? [sun]",group:0,tag:"WeekDay",reason:"1pm-sun"},{match:"(in|by|before|during|on|until|after|of|within|all) [sat]",group:0,tag:"WeekDay",reason:"sat"},{match:"[sat] #Date",group:0,tag:"WeekDay",reason:"sat-feb"},{match:"#Preposition [(march|may)]",group:0,tag:"Month",reason:"in-month"},{match:"this [(march|may)]",group:0,tag:"Month",reason:"this-month"},{match:"next [(march|may)]",group:0,tag:"Month",reason:"this-month"},{match:"last [(march|may)]",group:0,tag:"Month",reason:"this-month"},{match:"[(march|may)] the? #Value",group:0,tag:"Month",reason:"march-5th"},{match:"#Value of? [(march|may)]",group:0,tag:"Month",reason:"5th-of-march"},{match:"[(march|may)] .? #Date",group:0,tag:"Month",reason:"march-and-feb"},{match:"#Date .? [(march|may)]",group:0,tag:"Month",reason:"feb-and-march"},{match:"#Adverb [(march|may)]",group:0,tag:"Infinitive",reason:"quickly-march"},{match:"(march|may) [#Adverb]",group:0,tag:"Infinitive",reason:"march-quickly"},{match:"#Value of #Month",tag:"Date",reason:"value-of-month"},{match:"#Cardinal #Month",tag:"Date",reason:"cardinal-month"},{match:"#Month #Value to #Value",tag:"Date",reason:"value-to-value"},{match:"#Month the #Value",tag:"Date",reason:"month-the-value"},{match:"(#WeekDay|#Month) #Value",tag:"Date",reason:"date-value"},{match:"#Value (#WeekDay|#Month)",tag:"Date",reason:"value-date"},{match:"(#TextValue && #Date) #TextValue",tag:"Date",reason:"textvalue-date"},{match:"in [".concat(zi,"]"),group:0,tag:"Date",reason:"in-june"},{match:"during [".concat(zi,"]"),group:0,tag:"Date",reason:"in-june"},{match:"on [".concat(zi,"]"),group:0,tag:"Date",reason:"in-june"},{match:"by [".concat(zi,"]"),group:0,tag:"Date",reason:"in-june"},{match:"before [".concat(zi,"]"),group:0,tag:"Date",reason:"in-june"},{match:"#Date [".concat(zi,"]"),group:0,tag:"Date",reason:"in-june"},{match:"".concat(zi," #Value"),tag:"Date",reason:"june-5th"},{match:"".concat(zi," #Date"),tag:"Date",reason:"june-5th"},{match:"".concat(zi," #ProperNoun"),tag:"Person",reason:"june-smith",safe:!0},{match:"".concat(zi," #Acronym? (#ProperNoun && !#Month)"),tag:"Person",reason:"june-smith-jr"},{match:"#Cardinal [second]",tag:"Unit",reason:"one-second"}],Ii="(misty|rusty|dusty|rich|randy)",Ui=[{match:"[all] #Determiner? #Noun",group:0,tag:"Adjective",reason:"all-noun"},{match:"#Adverb [".concat(Ii,"]"),group:0,tag:"Adjective",reason:"really-rich"},{match:"".concat(Ii," #Person"),tag:"Person",reason:"randy-smith"},{match:"".concat(Ii," #Acronym? #ProperNoun"),tag:"Person",reason:"rusty-smith"},{match:"#Copula [(just|alone)]$",group:0,tag:"Adjective",reason:"not-adverb"},{match:"#Singular is #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"is-filled"},{match:"[#PastTense] #Singular is",group:0,tag:"Adjective",reason:"smoked-poutine"},{match:"[#PastTense] #Plural are",group:0,tag:"Adjective",reason:"baked-onions"},{match:"(a|an) [#Gerund]",group:0,tag:"Adjective",reason:"a|an"},{match:"#Copula [fucked up?]",tag:"Adjective",reason:"swears-adjective"},{match:"#Singular (seems|appears) #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"seems-filled"}],qi="(pat|wade|ollie|will|rob|buck|bob|mark|jack)",$i=[{match:"#Noun #Adverb? [left]",group:0,tag:"PastTense",reason:"left-verb"},{match:"(this|that) [#Plural]",group:0,tag:"PresentTense",reason:"this-verbs"},{match:"[#Copula (#Adverb|not)+?] (#Gerund|#PastTense)",group:0,tag:"Auxiliary",reason:"copula-walking"},{match:"[(has|had) (#Adverb|not)+?] #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[(#Modal|did) (#Adverb|not)+?] #Verb",group:0,tag:"Auxiliary",reason:"modal-verb"},{match:"[#Modal (#Adverb|not)+? have (#Adverb|not)+? had (#Adverb|not)+?] #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"#Modal (#Adverb|not)+? be (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-be"},{match:"(#Modal|had|has) (#Adverb|not)+? been (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"had-been"},{match:"[#Copula (#Adverb|not)+?] (#Gerund|#PastTense)",group:0,tag:"Auxiliary",reason:"copula-walking"},{match:"[(has|had) (#Adverb|not)+?] #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[(#Modal|did) (#Adverb|not)+?] #Verb",group:0,tag:"Auxiliary",reason:"modal-verb"},{match:"[(do|does|will|have|had)] (not|#Adverb)? #Verb",group:0,tag:"Auxiliary",reason:"have-had"},{match:"[about to] #Adverb? #Verb",group:0,tag:["Auxiliary","Verb"],reason:"about-to"},{match:"#Modal (#Adverb|not)+? be (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-be"},{match:"[#Modal (#Adverb|not)+? have (#Adverb|not)+? had (#Adverb|not)+?] #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"(#Modal|had|has) (#Adverb|not)+? been (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"had-been"},{match:"[being] #Participle",group:0,tag:"Auxiliary",reason:"being-foo"},{match:"(#Verb && @hasHyphen) up",group:0,tag:"PhrasalVerb",reason:"foo-up"},{match:"(#Verb && @hasHyphen) off",group:0,tag:"PhrasalVerb",reason:"foo-off"},{match:"(#Verb && @hasHyphen) over",group:0,tag:"PhrasalVerb",reason:"foo-over"},{match:"(#Verb && @hasHyphen) out",group:0,tag:"PhrasalVerb",reason:"foo-out"},{match:"#PhrasalVerb [#PhrasalVerb]",group:0,tag:"Particle",reason:"phrasal-particle"},{match:"[will #Adverb? not? #Adverb? be] #Gerund",group:0,tag:"Copula",reason:"will-be-copula"},{match:"will #Adverb? not? #Adverb? [be] #Adjective",group:0,tag:"Copula",reason:"be-copula"},{match:"[march] (up|down|back|to|toward)",group:0,tag:"Infinitive",reason:"march-to"},{match:"#Modal [march]",group:0,tag:"Infinitive",reason:"must-march"},{match:"(let|make|made) (him|her|it|#Person|#Place|#Organization)+ [#Singular] (a|an|the|it)",group:0,tag:"Infinitive",reason:"let-him-glue"},{match:"#Noun #Adverb [#Noun]",group:0,tag:"Verb",reason:"quickly-foo"},{match:"will [#Adjective]",group:0,tag:"Verb",reason:"will-adj"},{match:"#Pronoun [#Adjective] #Determiner #Adjective? #Noun",group:0,tag:"Verb",reason:"he-adj-the"},{match:"#Copula [#Adjective to] #Verb",group:0,tag:"Verb",reason:"adj-to"},{match:"[open] #Determiner",group:0,tag:"Infinitive",reason:"open-the"},{match:"#Modal [".concat(qi,"]"),group:0,tag:"Verb",reason:"would-mark"},{match:"#Adverb [".concat(qi,"]"),group:0,tag:"Verb",reason:"really-mark"},{match:"".concat(qi," #Person"),tag:"Person",reason:"rob-smith"},{match:"".concat(qi," #Acronym? #ProperNoun"),tag:"Person",reason:"rob-a-smith"},{match:"[shit] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear1-verb"},{match:"[damn] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear2-verb"},{match:"[fuck] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear3-verb"}],Hi="(paris|alexandria|houston|kobe|salvador|sydney)",Wi=[{match:"(west|north|south|east|western|northern|southern|eastern)+ #Place",tag:"Region",reason:"west-norfolk"},{match:"#City [(al|ak|az|ar|ca|ct|dc|fl|ga|id|il|nv|nh|nj|ny|oh|or|pa|sc|tn|tx|ut|vt|pr)]",group:0,tag:"Region",reason:"us-state"},{match:"#ProperNoun+ (district|region|province|county|prefecture|municipality|territory|burough|reservation)",tag:"Region",reason:"foo-district"},{match:"(district|region|province|municipality|territory|burough|state) of #ProperNoun",tag:"Region",reason:"district-of-Foo"},{match:"in [#ProperNoun] #Place",group:0,tag:"Place",reason:"propernoun-place"},{match:"#Value #Noun (st|street|rd|road|crescent|cr|way|tr|terrace|avenue|ave)",tag:"Address",reason:"address-st"},{match:"in [".concat(Hi,"]"),group:0,tag:"Place",reason:"in-paris"},{match:"near [".concat(Hi,"]"),group:0,tag:"Place",reason:"near-paris"},{match:"at [".concat(Hi,"]"),group:0,tag:"Place",reason:"at-paris"},{match:"from [".concat(Hi,"]"),group:0,tag:"Place",reason:"from-paris"},{match:"to [".concat(Hi,"]"),group:0,tag:"Place",reason:"to-paris"},{match:"#Place [".concat(Hi,"]"),group:0,tag:"Place",reason:"tokyo-paris"},{match:"[".concat(Hi,"] #Place"),group:0,tag:"Place",reason:"paris-france"}],Gi="(rose|robin|dawn|ray|holly|bill|joy|viola|penny|sky|violet|daisy|melody|kelvin|hope|mercedes|olive|jewel|faith|van|charity|miles|lily|summer|dolly|rod|dick|cliff|lane|reed|kitty|art|jean|trinity)",Ki="(january|april|may|june|jan|sep)",Vi=[{match:"[(1st|2nd|first|second)] #Honorific",group:0,tag:"Honorific",reason:"ordinal-honorific"},{match:"[(private|general|major|corporal|lord|lady|secretary|premier)] #Honorific? #Person",group:0,tag:"Honorific",reason:"ambg-honorifics"},{match:"#Copula [(#Noun|#PresentTense)] #LastName",group:0,tag:"FirstName",reason:"copula-noun-lastname"},{match:"(lady|queen|sister) #ProperNoun",tag:"FemaleName",reason:"lady-titlecase",safe:!0},{match:"(king|pope|father) #ProperNoun",tag:"MaleName",reason:"pope-titlecase",safe:!0},{match:"[(will|may|april|june|said|rob|wade|ray|rusty|drew|miles|jack|chuck|randy|jan|pat|cliff|bill)] #LastName",group:0,tag:"FirstName",reason:"maybe-lastname"},{match:"#FirstName [#Determiner #Noun] #LastName",group:0,tag:"NickName",reason:"first-noun-last"},{match:"#Possessive [#FirstName]",group:0,tag:"Person",reason:"possessive-name"},{match:"#Acronym #ProperNoun",tag:"Person",reason:"acronym-titlecase",safe:!0},{match:"#Person (jr|sr|md)",tag:"Person",reason:"person-honorific"},{match:"#Person #Person the? #RomanNumeral",tag:"Person",reason:"roman-numeral"},{match:"#FirstName [/^[^aiurck]$/]",group:0,tag:["Acronym","Person"],reason:"john-e"},{match:"#Honorific #Person",tag:"Person",reason:"honorific-person"},{match:"#Honorific #Acronym",tag:"Person",reason:"Honorific-TitleCase"},{match:"#Noun van der? #Noun",tag:"Person",reason:"von der noun",safe:!0},{match:"(king|queen|prince|saint|lady) of? #Noun",tag:"Person",reason:"king-of-noun",safe:!0},{match:"[#ProperNoun] #Person",group:0,tag:"Person",reason:"proper-person",safe:!0},{match:"al (#Person|#ProperNoun)",tag:"Person",reason:"al-borlen",safe:!0},{match:"#FirstName de #Noun",tag:"Person",reason:"bill-de-noun"},{match:"#FirstName (bin|al) #Noun",tag:"Person",reason:"bill-al-noun"},{match:"#FirstName #Acronym #ProperNoun",tag:"Person",reason:"bill-acronym-title"},{match:"#FirstName #FirstName #ProperNoun",tag:"Person",reason:"bill-firstname-title"},{match:"#Honorific #FirstName? #ProperNoun",tag:"Person",reason:"dr-john-Title"},{match:"#FirstName the #Adjective",tag:"Person",reason:"name-the-great"},{match:"#FirstName (green|white|brown|hall|young|king|hill|cook|gray|price)",tag:"Person",reason:"bill-green"},{match:"".concat(Gi," #Person"),tag:"Person",reason:"ray-smith",safe:!0},{match:"".concat(Gi," #Acronym? #ProperNoun"),tag:"Person",reason:"ray-a-smith",safe:!0},{match:"#Infinitive #Determiner? #Adjective? #Noun? (to|for) [".concat(Ki,"]"),group:0,tag:"Person",reason:"ambig-person"},{match:"#Infinitive [".concat(Ki,"]"),group:0,tag:"Person",reason:"infinitive-person"},{match:"[".concat(Ki,"] #PresentTense for"),group:0,tag:"Person",reason:"ambig-active-for"},{match:"[".concat(Ki,"] #PresentTense to"),group:0,tag:"Person",reason:"ambig-active-to"},{match:"[".concat(Ki,"] #Modal"),group:0,tag:"Person",reason:"ambig-modal"},{match:"#Modal [".concat(Ki,"]"),group:0,tag:"Person",reason:"modal-ambig"},{match:"#Copula [".concat(Ki,"]"),group:0,tag:"Person",reason:"is-may"},{match:"[".concat(Ki,"] #Copula"),group:0,tag:"Person",reason:"may-is"},{match:"that [".concat(Ki,"]"),group:0,tag:"Person",reason:"that-month"},{match:"with [".concat(Ki,"]"),group:0,tag:"Person",reason:"with-month"},{match:"for [".concat(Ki,"]"),group:0,tag:"Person",reason:"for-month"},{match:"this [".concat(Ki,"]"),group:0,tag:"Month",reason:"this-may"},{match:"next [".concat(Ki,"]"),group:0,tag:"Month",reason:"next-may"},{match:"last [".concat(Ki,"]"),group:0,tag:"Month",reason:"last-may"},{match:"#Date [".concat(Ki,"]"),group:0,tag:"Month",reason:"date-may"},{match:"[".concat(Ki,"] the? #Value"),group:0,tag:"Month",reason:"may-5th"},{match:"#Value of [".concat(Ki,"]"),group:0,tag:"Month",reason:"5th-of-may"},{match:"#ProperNoun (van|al|bin) #ProperNoun",tag:"Person",reason:"title-van-title",safe:!0},{match:"#ProperNoun (de|du) la? #ProperNoun",tag:"Person",reason:"title-de-title",safe:!0},{match:"#Singular #Acronym #LastName",tag:"#Person",reason:"title-acro-noun",safe:!0},{match:"#FirstName (#Noun && #ProperNoun) #ProperNoun?",tag:"Person",reason:"firstname-titlecase"},{match:"#FirstName #Acronym #Noun",tag:"Person",reason:"n-acro-noun",safe:!0}],Yi=[];Yi=(Yi=(Yi=(Yi=(Yi=(Yi=(Yi=(Yi=(Yi=(Yi=Yi.concat(Ri)).concat(Li)).concat([{match:"there (are|were) #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"there-are"},{match:"#Determiner [sun]",group:0,tag:"Singular",reason:"the-sun"},{match:"#Verb (a|an) [#Value]",group:0,tag:"Singular",reason:"did-a-value"},{match:"#Determiner [(can|will|may)]",group:0,tag:"Singular",reason:"the can"},{match:"#FirstName #Acronym? (#Possessive && #LastName)",tag:"Possessive",reason:"name-poss"},{match:"#Organization+ #Possessive",tag:"Possessive",reason:"org-possessive"},{match:"#Place+ #Possessive",tag:"Possessive",reason:"place-possessive"},{match:"#Adjective [#PresentTense]",group:0,tag:"Noun",reason:"adj-presentTense"},{match:"(his|her|its) [#Adjective]",group:0,tag:"Noun",reason:"his-fine"},{match:"some [#Verb] #Plural",group:0,tag:"Noun",reason:"determiner6"},{match:"more #Noun",tag:"Noun",reason:"more-noun"},{match:"(#Noun && @hasComma) #Noun (and|or) [#PresentTense]",group:0,tag:"Noun",reason:"noun-list"},{match:"(right|rights) of .",tag:"Noun",reason:"right-of"},{match:"a [bit]",group:0,tag:"Noun",reason:"bit-2"},{match:"#Gerund #Determiner [#Infinitive]",group:0,tag:"Noun",reason:"running-a-show"},{match:"#Determiner #Adverb [#Infinitive]",group:0,tag:"Noun",reason:"the-reason"},{match:"(the|this|those|these) #Adjective [#Verb]",group:0,tag:"Noun",reason:"the-adj-verb"},{match:"(the|this|those|these) #Adverb #Adjective [#Verb]",group:0,tag:"Noun",reason:"determiner4"},{match:"#Determiner [#Adjective] (#Copula|#PastTense|#Auxiliary)",group:0,tag:"Noun",reason:"the-adj-2"},{match:"(the|this|a|an) [#Infinitive] #Adverb? #Verb",group:0,tag:"Noun",reason:"determiner5"},{match:"#Determiner [#Infinitive] #Noun",group:0,tag:"Noun",reason:"determiner7"},{match:"#Determiner #Adjective [#Infinitive]$",group:0,tag:"Noun",reason:"a-inf"},{match:"(the|this) [#Verb] #Preposition .",group:0,tag:"Noun",reason:"determiner1"},{match:"#Determiner [#Verb] of",group:0,tag:"Noun",reason:"the-verb-of"},{match:"#Determiner #Noun of [#Verb]",group:0,tag:"Noun",reason:"noun-of-noun"},{match:"#Determiner [(western|eastern|northern|southern|central)] #Noun",group:0,tag:"Noun",reason:"western-line"},{match:"#Possessive [#Gerund]",group:0,tag:"Noun",reason:"her-polling"},{match:"(his|her|its) [#PresentTense]",group:0,tag:"Noun",reason:"its-polling"},{match:"(#Determiner|#Value) [(linear|binary|mobile|lexical|technical|computer|scientific|formal)] #Noun",group:0,tag:"Noun",reason:"technical-noun"},{match:"(the|those|these) #Adjective? [#Infinitive]",group:0,tag:"Noun",reason:"det-inf"},{match:"(the|those|these) #Adjective? [#PresentTense]",group:0,tag:"Noun",reason:"det-pres"},{match:"(the|those|these) #Adjective? [#PastTense]",group:0,tag:"Noun",reason:"det-past"},{match:"(#Noun && @hasHyphen) #Verb",tag:"Noun",reason:"hyphen-verb"},{match:"is no [#Verb]",group:0,tag:"Noun",reason:"is-no-verb"},{match:"[#Verb] than",group:0,tag:"Noun",reason:"correction"},{match:"(go|goes|went) to [#Infinitive]",group:0,tag:"Noun",reason:"goes-to-verb"},{match:"(a|an) #Adjective [(#Infinitive|#PresentTense)]",tag:"Noun",reason:"a|an2"},{match:"(a|an) #Noun [#Infinitive]",group:0,tag:"Noun",reason:"a-noun-inf"},{match:"do [so]",group:0,tag:"Noun",reason:"so-noun"},{match:"#Copula [#Infinitive] #Noun",group:0,tag:"Noun",reason:"is-pres-noun"},{match:"#Determiner #Adverb? [close]",group:0,tag:"Adjective",reason:"a-close"},{match:"#Determiner [(shit|damn|hell)]",group:0,tag:"Noun",reason:"swears-noun"}])).concat(Ui)).concat([{match:"[still] #Adjective",group:0,tag:"Adverb",reason:"still-advb"},{match:"[still] #Verb",group:0,tag:"Adverb",reason:"still-verb"},{match:"[so] #Adjective",group:0,tag:"Adverb",reason:"so-adv"},{match:"[all] #Verb",group:0,tag:"Adverb",reason:"all-verb"},{match:"#Verb [like]",group:0,tag:"Adverb",reason:"verb-like"},{match:"(barely|hardly) even",tag:"Adverb",reason:"barely-even"},{match:"#PresentTense [(hard|quick|long|bright|slow)]",group:0,tag:"Adverb",reason:"lazy-ly"},{match:"[much] #Adjective",group:0,tag:"Adverb",reason:"bit-1"}])).concat([{match:"1 #Value #PhoneNumber",tag:"PhoneNumber",reason:"1-800-Value"},{match:"#NumericValue #PhoneNumber",tag:"PhoneNumber",reason:"(800) PhoneNumber"},{match:"#Demonym #Currency",tag:"Currency",reason:"demonym-currency"},{match:"[second] #Noun",group:0,tag:"Ordinal",reason:"second-noun"},{match:"#Value+ [#Currency]",group:0,tag:"Unit",reason:"5-yan"},{match:"#Value [(foot|feet)]",group:0,tag:"Unit",reason:"foot-unit"},{match:"(minus|negative) #Value",tag:"Value",reason:"minus-value"},{match:"#Value [#Abbreviation]",group:0,tag:"Unit",reason:"value-abbr"},{match:"#Value [k]",group:0,tag:"Unit",reason:"value-k"},{match:"#Unit an hour",tag:"Unit",reason:"unit-an-hour"},{match:"#Value (point|decimal) #Value",tag:"Value",reason:"value-point-value"},{match:"(#Value|a) [(buck|bucks|grand)]",group:0,tag:"Currency",reason:"value-bucks"},{match:"#Determiner [(half|quarter)] #Ordinal",group:0,tag:"Value",reason:"half-ordinal"},{match:"a #Value",tag:"Value",reason:"a-value"},{match:"[#Value+] #Currency",group:0,tag:"Money",reason:"15 usd"},{match:"(hundred|thousand|million|billion|trillion|quadrillion)+ and #Value",tag:"Value",reason:"magnitude-and-value"},{match:"[(a|an)] (#Duration|hundred|thousand|million|billion|trillion)",group:0,tag:"Value",reason:"a-is-one"}])).concat($i)).concat(Wi)).concat([{match:"#Noun (&|n) #Noun",tag:"Organization",reason:"Noun-&-Noun"},{match:"#Organization of the? #ProperNoun",tag:"Organization",reason:"org-of-place",safe:!0},{match:"#Organization #Country",tag:"Organization",reason:"org-country"},{match:"#ProperNoun #Organization",tag:"Organization",reason:"titlecase-org"},{match:"#ProperNoun (ltd|co|inc|dept|assn|bros)",tag:"Organization",reason:"org-abbrv"},{match:"the [#Acronym]",group:0,tag:"Organization",reason:"the-acronym",safe:!0},{match:"(world|global|international|national|#Demonym) #Organization",tag:"Organization",reason:"global-org"},{match:"#Noun+ (public|private) school",tag:"School",reason:"noun-public-school"}])).concat(Vi);var Ji=[];Yi.forEach((function(e){e.reg=Ie(e.match);var t=function(e){var t=[];if(1===e.reg.filter((function(e){return void 0!==e.oneOf})).length){var n=e.reg.findIndex((function(e){return void 0!==e.oneOf}));Object.keys(e.reg[n].oneOf).forEach((function(r){var i=Object.assign({},e);i.reg=i.reg.slice(0),i.reg[n]=Object.assign({},i.reg[n]),i.reg[n].word=r,delete i.reg[n].operator,delete i.reg[n].oneOf,i.reason+="-"+r,t.push(i)}))}return t}(e);t.length>0?Ji=Ji.concat(t):Ji.push(e)})),Ji.forEach((function(e){return e.required=function(e){var t=[],n=[];return e.forEach((function(e){!0!==e.optional&&!0!==e.negative&&(void 0!==e.tag&&t.push(e.tag),void 0!==e.word&&n.push(e.word))})),{tags:Bi(t),words:Bi(n)}}(e.reg),e}));var Xi=Ji,Zi=function(e){Xi.forEach((function(t){var n=[];t.required.words.forEach((function(t){n.push(e._cache.words[t]||[])})),t.required.tags.forEach((function(t){n.push(e._cache.tags[t]||[])}));var r=function(e){if(0===e.length)return[];var t={};e.forEach((function(e){e=Bi(e);for(var n=0;n<e.length;n++)t[e[n]]=t[e[n]]||0,t[e[n]]+=1}));var n=Object.keys(t);return n=(n=n.filter((function(n){return t[n]===e.length}))).map((function(e){return Number(e)}))}(n);if(0!==r.length){var i=r.map((function(t){return e.list[t]})),a=e.buildFrom(i).match(t.reg,t.group);a.found&&(!0===t.safe?a.tagSafe(t.tag,t.reason):a.tag(t.tag,t.reason))}}))},Qi=function(e){return Zi(e),Ni(e),e},ea=function(e){var t=e.termList();return e=$r(e,t),e=fi(e,t),(e=Mi(e)).cache(),(e=Qi(e)).uncache(),e.world.taggers.forEach((function(t){t(e)})),e},ta=function(e){var t=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"stripPeriods",value:function(){return this.termList().forEach((function(e){!0===e.tags.Abbreviation&&e.next&&(e.post=e.post.replace(/^\./,""));var t=e.text.replace(/\./,"");e.set(t)})),this}},{key:"addPeriods",value:function(){return this.termList().forEach((function(e){e.post=e.post.replace(/^\./,""),e.post="."+e.post})),this}}]),n}(e);return t.prototype.unwrap=t.prototype.stripPeriods,e.prototype.abbreviations=function(e){var n=this.match("#Abbreviation");return"number"===typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e},na=/\./,ra=function(e){var t=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"stripPeriods",value:function(){return this.termList().forEach((function(e){var t=e.text.replace(/\./g,"");e.set(t)})),this}},{key:"addPeriods",value:function(){return this.termList().forEach((function(e){var t=e.text.replace(/\./g,"");t=t.split("").join("."),!1===na.test(e.post)&&(t+="."),e.set(t)})),this}}]),n}(e);return t.prototype.unwrap=t.prototype.stripPeriods,t.prototype.strip=t.prototype.stripPeriods,e.prototype.acronyms=function(e){var n=this.match("#Acronym");return"number"===typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e},ia=function(e){return e.prototype.clauses=function(t){var n=this.if("@hasComma").notIf("@hasComma @hasComma").notIf("@hasComma . .? (and|or) .").notIf("(#City && @hasComma) #Country").notIf("(#Date && @hasComma) #Year").notIf("@hasComma (too|also)$").match("@hasComma"),r=this.splitAfter(n),i=r.quotations(),a=(r=r.splitOn(i)).parentheses(),o=(r=r.splitOn(a)).if("#Copula #Adjective #Conjunction (#Pronoun|#Determiner) #Verb").match("#Conjunction"),u=(r=r.splitBefore(o)).if("if .{2,9} then .").match("then"),c=(r=(r=(r=(r=(r=(r=r.splitBefore(u)).splitBefore("as well as .")).splitBefore("such as .")).splitBefore("in addition to .")).splitAfter("@hasSemicolon")).splitAfter("@hasDash")).filter((function(e){return e.wordCount()>5&&e.match("#Verb+").length>=2}));if(c.found){var s=c.splitAfter("#Noun .* #Verb .* #Noun+");r=r.splitOn(s.eq(0))}return"number"===typeof t&&(r=r.get(t)),new e(r.list,this,this.world)},e},aa=function(e){var t=function(e){u(n,e);var t=f(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this,e,r,a)).contracted=null,o}return o(n,[{key:"expand",value:function(){return this.list.forEach((function(e){var t=e.terms(),n=t[0].isTitleCase();t.forEach((function(e,n){e.set(e.implicit||e.text),e.implicit=void 0,n<t.length-1&&""===e.post&&(e.post+=" ")})),n&&t[0].toTitleCase()})),this}}]),n}(e);return e.prototype.contractions=function(e){var n=this.match("@hasContraction+");return"number"===typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e.prototype.expanded=e.prototype.isExpanded,e.prototype.contracted=e.prototype.isContracted,e},oa=function(e){var t=function(e){var t=e.splitAfter("@hasComma").splitOn("(and|or) not?").not("(and|or) not?"),n=e.match("[.] (and|or)",0);return{things:t,conjunction:e.match("(and|or) not?"),beforeLast:n,hasOxford:n.has("@hasComma")}},n=function(e){u(r,e);var n=f(r);function r(){return i(this,r),n.apply(this,arguments)}return o(r,[{key:"conjunctions",value:function(){return this.match("(and|or)")}},{key:"parts",value:function(){return this.splitAfter("@hasComma").splitOn("(and|or) not?")}},{key:"items",value:function(){return t(this).things}},{key:"add",value:function(e){return this.forEach((function(n){var r=t(n).beforeLast;r.append(e),r.termList(0).addPunctuation(",")})),this}},{key:"remove",value:function(e){return this.items().if(e).remove()}},{key:"hasOxfordComma",value:function(){return this.filter((function(e){return t(e).hasOxford}))}},{key:"addOxfordComma",value:function(){var e=this.items(),t=e.eq(e.length-2);return t.found&&!1===t.has("@hasComma")&&t.post(", "),this}},{key:"removeOxfordComma",value:function(){var e=this.items(),t=e.eq(e.length-2);return t.found&&!0===t.has("@hasComma")&&t.post(" "),this}}]),r}(e);return n.prototype.things=n.prototype.items,e.prototype.lists=function(e){var t=this.if("@hasComma+ .? (and|or) not? ."),r=t.match("(#Noun|#Adjective|#Determiner|#Article)+ #Conjunction not? (#Article|#Determiner)? #Adjective? #Noun+").if("#Noun"),i=t.match("(#Adjective|#Adverb)+ #Conjunction not? #Adverb? #Adjective+"),a=t.match("(#Verb|#Adverb)+ #Conjunction not? #Adverb? #Verb+"),o=r.concat(i);return o=(o=o.concat(a)).if("@hasComma"),"number"===typeof e&&(o=t.get(e)),new n(o.list,this,this.world)},e},ua=function(e){return!0===e.has("#Plural")||!0!==e.has("(#Pronoun|#Place|#Value|#Person|#Uncountable|#Month|#WeekDay|#Holiday|#Possessive)")},ca={hour:"an",heir:"an",heirloom:"an",honest:"an",honour:"an",honor:"an",uber:"an"},sa={a:!0,e:!0,f:!0,h:!0,i:!0,l:!0,m:!0,n:!0,o:!0,r:!0,s:!0,x:!0},la=[/^onc?e/i,/^u[bcfhjkqrstn][aeiou]/i,/^eul/i],fa=function(e){if(e.has("#Person")||e.has("#Place"))return"";if(e.has("#Plural"))return"the";var t=e.text("normal").trim();if(ca.hasOwnProperty(t))return ca[t];var n=t.substr(0,1);if(e.has("^@isAcronym")&&sa.hasOwnProperty(n))return"an";for(var r=0;r<la.length;r++)if(la[r].test(t))return"a";return/^[aeiou]/i.test(t)?"an":"a"},da={isSingular:[/(ax|test)is$/i,/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,/(octop|vir)i$/i,/(rl)f$/i,/(alias|status)$/i,/(bu)s$/i,/(al|ad|at|er|et|ed|ad)o$/i,/(ti)um$/i,/(ti)a$/i,/sis$/i,/(?:(^f)fe|(lr)f)$/i,/hive$/i,/(^aeiouy|qu)y$/i,/(x|ch|ss|sh|z)$/i,/(matr|vert|ind|cort)(ix|ex)$/i,/(m|l)ouse$/i,/(m|l)ice$/i,/(antenn|formul|nebul|vertebr|vit)a$/i,/.sis$/i,/^(?!talis|.*hu)(.*)man$/i],isPlural:[/(antenn|formul|nebul|vertebr|vit)ae$/i,/(octop|vir|radi|nucle|fung|cact|stimul)i$/i,/men$/i,/.tia$/i,/(m|l)ice$/i]},ha=/s$/,pa=function(e){return!da.isSingular.find((function(t){return t.test(e)}))&&(!0===ha.test(e)||(!!da.isPlural.find((function(t){return t.test(e)}))||null))},va={he:"his",she:"hers",they:"theirs",we:"ours",i:"mine",you:"yours",her:"hers",their:"theirs",our:"ours",my:"mine",your:"yours"},ga=function(e){var t=e.text("text").trim();return va.hasOwnProperty(t)?(e.replaceWith(va[t],!0),void e.tag("Possessive","toPossessive")):/s$/.test(t)?(t+="'",e.replaceWith(t,!0),void e.tag("Possessive","toPossessive")):(t+="'s",e.replaceWith(t,!0),void e.tag("Possessive","toPossessive"))},ma=function(e){var t={main:e};if(e.has("#Noun (of|by|for) .")){var n=e.splitAfter("[#Noun+]",0);t.main=n.eq(0),t.post=n.eq(1)}return t},ya={json:function(e){var t=null;"number"===typeof e&&(t=e,e=null),e=e||{text:!0,normal:!0,trim:!0,terms:!0};var n=[];return this.forEach((function(t){var r=t.json(e)[0];r.article=fa(t),n.push(r)})),null!==t?n[t]:n},adjectives:function(){var e=this.lookAhead("^(that|who|which)? (was|is|will)? be? #Adverb? #Adjective+");return(e=(e=e.concat(this.lookBehind("#Adjective+ #Adverb?$"))).match("#Adjective")).sort("index")},isPlural:function(){return this.if("#Plural")},hasPlural:function(){return this.filter((function(e){return ua(e)}))},toPlural:function(e){var t=this,n=this.world.transforms.toPlural;return this.forEach((function(r){if(!r.has("#Plural")&&!1!==ua(r)){var i=ma(r).main,a=i.text("reduced");if((i.has("#Singular")||!0!==pa(a))&&(a=n(a,t.world),i.replace(a).tag("#Plural"),e)){var o=i.lookBefore("(an|a) #Adjective?$").not("#Adjective");!0===o.found&&o.remove()}}})),this},toSingular:function(e){var t=this,n=this.world.transforms.toSingular;return this.forEach((function(r){if(!r.has("^#Singular+$")&&!1!==ua(r)){var i=ma(r).main,a=i.text("reduced");if((i.has("#Plural")||!0===pa(a))&&(a=n(a,t.world),i.replace(a).tag("#Singular"),e)){var o=r,u=r.lookBefore("#Adjective");u.found&&(o=u);var c=fa(o);o.insertBefore(c)}}})),this},toPossessive:function(){return this.forEach((function(e){ga(e)})),this}},ba=function(e){var t=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(e);return Object.assign(t.prototype,ya),e.prototype.nouns=function(e){var n=this.match("(#City && @hasComma) (#Region|#Country)"),r=this.not(n).splitAfter("@hasComma");return r=(r=(r=(r=(r=(r=(r=r.concat(n)).match("#Noun+ (of|by)? the? #Noun+?")).not("#Pronoun")).not("(there|these)")).not("(#Month|#WeekDay)")).not("(my|our|your|their|her|his)")).not("(of|for|by|the)$"),"number"===typeof e&&(r=r.get(e)),new t(r.list,this,this.world)},e},xa=/\(/,wa=/\)/,Oa=function(e){var t=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"unwrap",value:function(){return this.list.forEach((function(e){var t=e.terms(0);t.pre=t.pre.replace(xa,"");var n=e.lastTerm();n.post=n.post.replace(wa,"")})),this}}]),n}(e);return e.prototype.parentheses=function(e){var n=[];return this.list.forEach((function(e){for(var t=e.terms(),r=0;r<t.length;r+=1){var i=t[r];if(xa.test(i.pre))for(var a=r;a<t.length;a+=1)if(wa.test(t[a].post)){var o=a-r+1;n.push(e.buildFrom(i.id,o)),r=a;break}}})),"number"===typeof e?(n=n[e]?[n[e]]:[],new t(n,this,this.world)):new t(n,this,this.world)},e},ka=function(e){var t=function(e){u(n,e);var t=f(n);function n(e,r,a){var o;return i(this,n),(o=t.call(this,e,r,a)).contracted=null,o}return o(n,[{key:"strip",value:function(){return this.list.forEach((function(e){e.terms().forEach((function(e){var t=e.text.replace(/'s$/,"");e.set(t||e.text)}))})),this}}]),n}(e);return e.prototype.possessives=function(e){var n=this.match("#Noun+? #Possessive");return"number"===typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e},ja={'"':'"',"\uff02":"\uff02","'":"'","\u201c":"\u201d","\u2018":"\u2019","\u201f":"\u201d","\u201b":"\u2019","\u201e":"\u201d","\u2e42":"\u201d","\u201a":"\u2019","\xab":"\xbb","\u2039":"\u203a","\u2035":"\u2032","\u2036":"\u2033","\u2037":"\u2034","\u301d":"\u301e","`":"\xb4","\u301f":"\u301e"},_a=RegExp("("+Object.keys(ja).join("|")+")"),Sa=function(e,t){var n=e.verb,r=n.text("normal");if(n.has("#Infinitive"))return r;var i=null;return n.has("#PastTense")?i="PastTense":n.has("#Gerund")?i="Gerund":n.has("#PresentTense")?i="PresentTense":n.has("#Participle")?i="Participle":n.has("#Actor")&&(i="Actor"),t.transforms.toInfinitive(r,t,i)},Ea=function(e){var t=e.verb;if(t.has("(are|were|does)")||e.auxiliary.has("(are|were|does)"))return!0;if(t.has("(is|am|do|was)")||e.auxiliary.has("(is|am|do|was)"))return!1;var n=function(e){return e.lookBehind("#Noun+").last()}(t);return!!n.has("(we|they|you)")||(!!n.has("#Plural")||!n.has("#Singular")&&null)},Aa=function(e,t){var n=e.verb;if(!e.negative.found)if(e.auxiliary.found)e.auxiliary.eq(0).append("not");else if(n.has("(#Copula|will|has|had|do)"))n.append("not");else{if(n.has("#PastTense")){var r=Sa(e,t);return n.replaceWith(r,!0),void n.prepend("did not")}if(n.has("#PresentTense")){var i=Sa(e,t);return n.replaceWith(i,!0),void(Ea(e)?n.prepend("do not"):n.prepend("does not"))}if(n.has("#Gerund")){var a=Sa(e,t);return n.replaceWith(a,!0),void n.prepend("not")}Ea(e)?n.prepend("does not"):n.prepend("do not")}},Ca=function(e){var t={adverb:e.match("#Adverb+"),negative:e.match("#Negative"),auxiliary:e.match("#Auxiliary").not("(#Negative|#Adverb)"),particle:e.match("#Particle"),verb:e.match("#Verb").not("(#Adverb|#Negative|#Auxiliary|#Particle)")};if(!t.verb.found)return Object.keys(t).forEach((function(e){t[e]=t[e].not(".")})),t.verb=e,t;if(t.adverb&&t.adverb.found){var n=t.adverb.text("reduced")+"$";e.has(n)&&(t.adverbAfter=!0)}return t},Da=function(e){var t=!1,n=Ea(e),r=e.negative.found;e.verb.lookBehind("(i|we) (#Adverb|#Verb)?$").found&&(t=!0);var i={PastTense:"was",PresentTense:"is",FutureTense:"will be",Infinitive:"is",Gerund:"being",Actor:"",PerfectTense:"been",Pluperfect:"been"};return!0===t&&(i.PresentTense="am",i.Infinitive="am"),n&&(i.PastTense="were",i.PresentTense="are",i.Infinitive="are"),r&&(i.PastTense+=" not",i.PresentTense+=" not",i.FutureTense="will not be",i.Infinitive+=" not",i.PerfectTense="not "+i.PerfectTense,i.Pluperfect="not "+i.Pluperfect,i.Gerund="not "+i.Gerund),i},Fa=function(e,t){var n=e.verb;if(n.has("#Copula")||"be"===n.out("normal")&&e.auxiliary.has("will"))return Da(e);var r=e.verb.termList(0).hasHyphen(),i=Sa(e,t);if(!i)return{};var a=t.transforms.conjugate(i,t);if(a.Infinitive=i,e.particle.found){var o=e.particle.text(),u=!0===r?"-":" ";Object.keys(a).forEach((function(e){return a[e]+=u+o}))}if(e.adverb.found){var c=e.adverb.text(),s=!0===r?"-":" ";!0===e.adverbAfter?Object.keys(a).forEach((function(e){return a[e]+=s+c})):Object.keys(a).forEach((function(e){return a[e]=c+s+a[e]}))}var l=e.negative.found;return l&&(a.PastTense="did not "+a.Infinitive,a.PresentTense="does not "+a.Infinitive,a.Gerund="not "+a.Gerund),a.FutureTense||(a.FutureTense=l?"will not "+a.Infinitive:"will "+a.Infinitive),l&&(a.Infinitive="not "+a.Infinitive),a},Ta={json:function(e){var t=this,n=null;"number"===typeof e&&(n=e,e=null),e=e||{text:!0,normal:!0,trim:!0,terms:!0};var r=[];return this.forEach((function(n){var i=n.json(e)[0],a=Ca(n);i.parts={},Object.keys(a).forEach((function(e){a[e]&&"Doc"===a[e].isA?i.parts[e]=a[e].text("normal"):i.parts[e]=a[e]})),i.isNegative=n.has("#Negative"),i.conjugations=Fa(a,t.world),r.push(i)})),null!==n?r[n]:r},adverbs:function(){var e=[];this.forEach((function(t){var n=Ca(t).adverb;n.found&&(e=e.concat(n.list))}));var t=this.lookBehind("#Adverb+$");return t.found&&(e=t.list.concat(e)),(t=this.lookAhead("^#Adverb+")).found&&(e=e.concat(t.list)),this.buildFrom(e)},isPlural:function(){var e=this,t=[];return this.forEach((function(n){var r=Ca(n);!0===Ea(r,e.world)&&t.push(n.list[0])})),this.buildFrom(t)},isSingular:function(){var e=this,t=[];return this.forEach((function(n){var r=Ca(n);!1===Ea(r,e.world)&&t.push(n.list[0])})),this.buildFrom(t)},conjugate:function(){var e=this,t=[];return this.forEach((function(n){var r=Ca(n),i=Fa(r,e.world);t.push(i)})),t},toPastTense:function(){var e=this;return this.forEach((function(t){var n=Ca(t),r=Fa(n,e.world).PastTense;r&&t.replaceWith(r,!1)})),this},toPresentTense:function(){var e=this;return this.forEach((function(t){var n=Ca(t),r=Fa(n,e.world),i=r.PresentTense;t.lookBehind("(i|we) (#Adverb|#Verb)?$").found&&(i=r.Infinitive),i&&(t.replaceWith(i,!1),t.tag("PresentTense"))})),this},toFutureTense:function(){var e=this;return this.forEach((function(t){var n=Ca(t),r=Fa(n,e.world).FutureTense;r&&(t.replaceWith(r,!1),t.tag("FutureTense"))})),this},toInfinitive:function(){var e=this;return this.forEach((function(t){var n=Ca(t),r=Fa(n,e.world).Infinitive;r&&(t.replaceWith(r,!1),t.tag("Infinitive"))})),this},toGerund:function(){var e=this;return this.forEach((function(t){var n=Ca(t),r=Fa(n,e.world).Gerund;r&&(t.replaceWith(r,!1),t.tag("Gerund"))})),this},isNegative:function(){return this.if("#Negative")},isPositive:function(){return this.ifNo("#Negative")},toNegative:function(){var e=this;return this.list.forEach((function(t){var n=e.buildFrom([t]),r=Ca(n);Aa(r,n.world)})),this},toPositive:function(){var e=this.match("do not #Verb");return e.found&&e.remove("do not"),this.remove("#Negative")}},Ma=[ta,ra,ia,aa,oa,ba,Oa,ka,function(e){var t=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return o(n,[{key:"unwrap",value:function(){return this}}]),n}(e);return e.prototype.quotations=function(e){var n=[];return this.list.forEach((function(e){for(var t=e.terms(),r=0;r<t.length;r+=1){var i=t[r];if(_a.test(i.pre))for(var a=(i.pre.match(_a)||[])[0],o=ja[a],u=r;u<t.length;u+=1)if(-1!==t[u].post.indexOf(o)){var c=u-r+1;n.push(e.buildFrom(i.id,c)),r=u;break}}})),"number"===typeof e?(n=n[e]?[n[e]]:[],new t(n,this,this.world)):new t(n,this,this.world)},e.prototype.quotes=e.prototype.quotations,e},function(e){var t=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(e);return Object.assign(t.prototype,Ta),t.prototype.negate=t.prototype.toNegative,e.prototype.verbs=function(e){var n=this.match("(#Adverb|#Auxiliary|#Verb|#Negative|#Particle)+"),r=(n=(n=n.not("^#Adverb+")).not("#Adverb+$")).match("(#Adverb && @hasComma) #Adverb"),i=n.not(r).splitAfter("@hasComma");return(i=i.concat(r)).sort("index"),(i=i.if("#Verb")).has("(is|was)$")&&(i=i.splitBefore("(is|was)$")),"number"===typeof e&&(i=i.get(e)),new t(i.list,this,this.world)},e},function(e){var t=function(e){u(n,e);var t=f(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(e);return e.prototype.people=function(e){var n=this.splitAfter("@hasComma");return n=n.match("#Person+"),"number"===typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e}],Pa=function(e){return Object.keys(hr).forEach((function(t){return e.prototype[t]=hr[t]})),Ma.forEach((function(t){return t(e)})),e},Na={misc:fr,selections:hr},Ba=function(){function e(t,n,r){var a=this;i(this,e),this.list=t,Object.defineProperty(this,"from",{enumerable:!1,value:n,writable:!0}),void 0===r&&void 0!==n&&(r=n.world),Object.defineProperty(this,"world",{enumerable:!1,value:r,writable:!0}),Object.defineProperty(this,"_cache",{enumerable:!1,writable:!0,value:{}}),Object.defineProperty(this,"found",{get:function(){return a.list.length>0}}),Object.defineProperty(this,"length",{get:function(){return a.list.length}}),Object.defineProperty(this,"isA",{get:function(){return"Doc"}})}return o(e,[{key:"tagger",value:function(){return ea(this)}},{key:"pool",value:function(){return this.list.length>0?this.list[0].pool:this.all().list[0].pool}}]),e}();Ba.prototype.buildFrom=function(e){return e=e.map((function(e){return e.clone(!0)})),new Ba(e,this,this.world)},Ba.prototype.fromText=function(e){var t=pt(e,this.world,this.pool());return this.buildFrom(t)},Object.assign(Ba.prototype,Na.misc),Object.assign(Ba.prototype,Na.selections),Pa(Ba);var Ra={untag:"unTag",and:"match",notIf:"ifNo",only:"if",onlyIf:"if"};Object.keys(Ra).forEach((function(e){return Ba.prototype[e]=Ba.prototype[Ra[e]]}));var za=Ba,La=function(e){var t=e.termList();return gr(t,e.world),e};var Ia=function e(t){var n=t,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;t&&n.addWords(t);var r=pt(e,n),i=new za(r,null,n);return i.tagger(),i};return r.tokenize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=n;t&&((r=r.clone()).words={},r.addWords(t));var i=pt(e,r),a=new za(i,null,r);return t&&La(a),a},r.extend=function(e){return e(za,n,this,Ge,se,Ve),this},r.fromJSON=function(e){var t=vt(e,n);return new za(t,null,n)},r.clone=function(){return e(n.clone())},r.verbose=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return n.verbose(e),this},r.world=function(){return n},r.version="13.3.1",r.import=r.load,r}(new Sn);t.a=Ia},,function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function s(e){var t="undefined"==typeof e?"undefined":k(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,d,h){h=h||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof d){if(r){if("function"==typeof r&&r(p,d))return;if("object"===("undefined"==typeof r?"undefined":k(r))){if(r.prefilter&&r.prefilter(p,d))return;if(r.normalize){var v=r.normalize(p,d,e,t);v&&(e=v[0],t=v[1])}}}p.push(d)}"regexp"===s(e)&&"regexp"===s(t)&&(e=e.toString(),t=t.toString());var g="undefined"==typeof e?"undefined":k(e),m="undefined"==typeof t?"undefined":k(t),y="undefined"!==g||h&&h[h.length-1].lhs&&h[h.length-1].lhs.hasOwnProperty(d),b="undefined"!==m||h&&h[h.length-1].rhs&&h[h.length-1].rhs.hasOwnProperty(d);if(!y&&b)n(new a(p,t));else if(!b&&y)n(new o(p,e));else if(s(e)!==s(t))n(new i(p,e,t));else if("date"===s(e)&&e-t!==0)n(new i(p,e,t));else if("object"===g&&null!==e&&null!==t)if(h.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(h.push({lhs:e,rhs:t}),Array.isArray(e)){var x;for(e.length,x=0;x<e.length;x++)x>=t.length?n(new u(p,x,new o(void 0,e[x]))):l(e[x],t[x],n,r,p,x,h);for(;x<t.length;)n(new u(p,x,new a(void 0,t[x++])))}else{var w=Object.keys(e),O=Object.keys(t);w.forEach((function(i,a){var o=O.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,h),O=c(O,o)):l(e[i],void 0,n,r,p,i,h)})),O.forEach((function(e){l(void 0,t[e],n,r,p,e,h)}))}h.length=h.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,a=t[n],o=r.path.length-1;for(i=0;i<o;i++)a=a[r.path[i]];switch(r.kind){case"A":e(a[r.path[i]],r.index,r.item);break;case"D":delete a[r.path[i]];break;case"E":case"N":a[r.path[i]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=c(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function h(e){return"color: "+S[e].color+"; font-weight: bold"}function p(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}(e);n.log.apply(n,["%c "+S[t].text,h(t)].concat(j(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function v(e,t,n,r){switch("undefined"==typeof e?"undefined":k(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,j(n)):e[r];case"function":return e(t);default:return e}}function g(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?function(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}(t):i,o=t.collapsed,u=t.colors,c=t.level,s=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var d=i.started,h=i.startedTime,g=i.action,m=i.prevState,y=i.error,b=i.took,x=i.nextState,O=e[f+1];O&&(x=O.prevState,b=O.started-d);var k=r(g),j="function"==typeof o?o((function(){return x}),g,i):o,_=w(h),S=u.title?"color: "+u.title(k)+";":"",E=["color: gray; font-weight: lighter;"];E.push(S),t.timestamp&&E.push("color: gray; font-weight: lighter;"),t.duration&&E.push("color: gray; font-weight: lighter;");var A=a(k,_,b);try{j?u.title&&l?n.groupCollapsed.apply(n,["%c "+A].concat(E)):n.groupCollapsed(A):u.title&&l?n.group.apply(n,["%c "+A].concat(E)):n.group(A)}catch(e){n.log(A)}var C=v(c,k,[m],"prevState"),D=v(c,k,[k],"action"),F=v(c,k,[y,m],"error"),T=v(c,k,[x],"nextState");if(C)if(u.prevState){var M="color: "+u.prevState(m)+"; font-weight: bold";n[C]("%c prev state",M,m)}else n[C]("prev state",m);if(D)if(u.action){var P="color: "+u.action(k)+"; font-weight: bold";n[D]("%c action    ",P,k)}else n[D]("action    ",k);if(y&&F)if(u.error){var N="color: "+u.error(y,m)+"; font-weight: bold;";n[F]("%c error     ",N,y)}else n[F]("error     ",y);if(T)if(u.nextState){var B="color: "+u.nextState(x)+"; font-weight: bold";n[T]("%c next state",B,x)}else n[T]("next state",x);s&&p(m,x,n,j);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},E,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var n=e.getState;return function(e){return function(s){if("function"==typeof a&&!a(n,s))return e(s);var l={};c.push(l),l.started=O.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=s;var f=void 0;if(o)try{f=e(s)}catch(e){l.error=i(e)}else f=e(s);l.took=O.now()-l.started,l.nextState=r(n());var d=t.diff&&"function"==typeof u?u(n,s):t.diff;if(g(c,Object.assign({},t,{diff:d})),c.length=0,l.error)throw l.error;return f}}}}var y,b,x=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},w=function(e){return x(e.getHours(),2)+":"+x(e.getMinutes(),2)+":"+x(e.getSeconds(),2)+"."+x(e.getMilliseconds(),3)},O="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},_=[];y="object"===("undefined"==typeof e?"undefined":k(e))&&e?e:"undefined"!=typeof window?window:{},(b=y.DeepDiff)&&_.push((function(){"undefined"!=typeof b&&y.DeepDiff===f&&(y.DeepDiff=b,b=void 0)})),n(i,r),n(a,r),n(o,r),n(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))},enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,a=t[n],o=r.path.length-1;for(i=0;i<o;i++)a=a[r.path[i]];switch(r.kind){case"A":e(a[r.path[i]],r.index,r.item);break;case"D":case"E":a[r.path[i]]=r.lhs;break;case"N":delete a[r.path[i]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=c(t,n)}return t}(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof b},enumerable:!0},noConflict:{value:function(){return _&&(_.forEach((function(e){e()})),_=null),f},enumerable:!0}});var S={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},E={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?m()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=E,t.createLogger=m,t.logger=A,t.default=A,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(70))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o(e),function(t){return function(n){o(e);try{return t(n)}finally{o(e)}}}};var r,i=n(538),a=(r=i)&&r.__esModule?r:{default:r};function o(e){var t,n=e.getState();null!==(t=n)&&"object"===typeof t&&(0,a.default)(n)}e.exports=t.default},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"invalidSpec",(function(){return Xt})),n.d(r,"FIT_NON_SINGLE",(function(){return Zt})),n.d(r,"containerSizeNonSingle",(function(){return Qt})),n.d(r,"containerSizeNotCompatibleWithAutosize",(function(){return en})),n.d(r,"droppingFit",(function(){return tn})),n.d(r,"unknownField",(function(){return nn})),n.d(r,"cannotProjectOnChannelWithoutField",(function(){return rn})),n.d(r,"cannotProjectAggregate",(function(){return an})),n.d(r,"nearestNotSupportForContinuous",(function(){return on})),n.d(r,"selectionNotSupported",(function(){return un})),n.d(r,"selectionNotFound",(function(){return cn})),n.d(r,"SCALE_BINDINGS_CONTINUOUS",(function(){return sn})),n.d(r,"LEGEND_BINDINGS_MUST_HAVE_PROJECTION",(function(){return ln})),n.d(r,"noSameUnitLookup",(function(){return fn})),n.d(r,"NEEDS_SAME_SELECTION",(function(){return dn})),n.d(r,"INTERVAL_INITIALIZED_WITH_X_Y",(function(){return hn})),n.d(r,"noSuchRepeatedValue",(function(){return pn})),n.d(r,"columnsNotSupportByRowCol",(function(){return vn})),n.d(r,"CONCAT_CANNOT_SHARE_AXIS",(function(){return gn})),n.d(r,"unrecognizedParse",(function(){return mn})),n.d(r,"differentParse",(function(){return yn})),n.d(r,"ADD_SAME_CHILD_TWICE",(function(){return bn})),n.d(r,"invalidTransformIgnored",(function(){return xn})),n.d(r,"NO_FIELDS_NEEDS_AS",(function(){return wn})),n.d(r,"customFormatTypeNotAllowed",(function(){return On})),n.d(r,"projectionOverridden",(function(){return kn})),n.d(r,"REPLACE_ANGLE_WITH_THETA",(function(){return jn})),n.d(r,"primitiveChannelDef",(function(){return _n})),n.d(r,"invalidFieldType",(function(){return Sn})),n.d(r,"invalidFieldTypeForCountAggregate",(function(){return En})),n.d(r,"invalidAggregate",(function(){return An})),n.d(r,"missingFieldType",(function(){return Cn})),n.d(r,"droppingColor",(function(){return Dn})),n.d(r,"emptyFieldDef",(function(){return Fn})),n.d(r,"latLongDeprecated",(function(){return Tn})),n.d(r,"LINE_WITH_VARYING_SIZE",(function(){return Mn})),n.d(r,"incompatibleChannel",(function(){return Pn})),n.d(r,"invalidEncodingChannel",(function(){return Nn})),n.d(r,"facetChannelShouldBeDiscrete",(function(){return Bn})),n.d(r,"facetChannelDropped",(function(){return Rn})),n.d(r,"discreteChannelCannotEncode",(function(){return zn})),n.d(r,"lineWithRange",(function(){return Ln})),n.d(r,"orientOverridden",(function(){return In})),n.d(r,"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN",(function(){return Un})),n.d(r,"RANGE_STEP_DEPRECATED",(function(){return qn})),n.d(r,"cannotUseScalePropertyWithNonColor",(function(){return $n})),n.d(r,"unaggregateDomainHasNoEffectForRawField",(function(){return Hn})),n.d(r,"unaggregateDomainWithNonSharedDomainOp",(function(){return Wn})),n.d(r,"unaggregatedDomainWithLogScale",(function(){return Gn})),n.d(r,"cannotApplySizeToNonOrientedMark",(function(){return Kn})),n.d(r,"scaleTypeNotWorkWithChannel",(function(){return Vn})),n.d(r,"scaleTypeNotWorkWithFieldDef",(function(){return Yn})),n.d(r,"scalePropertyNotWorkWithScaleType",(function(){return Jn})),n.d(r,"scaleTypeNotWorkWithMark",(function(){return Xn})),n.d(r,"stepDropped",(function(){return Zn})),n.d(r,"mergeConflictingProperty",(function(){return Qn})),n.d(r,"mergeConflictingDomainProperty",(function(){return er})),n.d(r,"independentScaleMeansIndependentGuide",(function(){return tr})),n.d(r,"domainSortDropped",(function(){return nr})),n.d(r,"MORE_THAN_ONE_SORT",(function(){return rr})),n.d(r,"FACETED_INDEPENDENT_DIFFERENT_SOURCES",(function(){return ir})),n.d(r,"FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES",(function(){return ar})),n.d(r,"FACETED_INDEPENDENT_SAME_SOURCE",(function(){return or})),n.d(r,"INVALID_CHANNEL_FOR_AXIS",(function(){return ur})),n.d(r,"cannotStackRangedMark",(function(){return cr})),n.d(r,"cannotStackNonLinearScale",(function(){return sr})),n.d(r,"stackNonSummativeAggregate",(function(){return lr})),n.d(r,"invalidTimeUnit",(function(){return fr})),n.d(r,"droppedDay",(function(){return dr})),n.d(r,"errorBarCenterAndExtentAreNotNeeded",(function(){return hr})),n.d(r,"errorBarCenterIsUsedWithWrongExtent",(function(){return pr})),n.d(r,"errorBarContinuousAxisHasCustomizedAggregate",(function(){return vr})),n.d(r,"errorBand1DNotSupport",(function(){return gr})),n.d(r,"channelRequiredForBinned",(function(){return mr})),n.d(r,"channelShouldNotBeUsedForBinned",(function(){return yr})),n.d(r,"domainRequiredForThresholdScale",(function(){return br}));var i=n(276),a=n(0),o=n(6);function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var c=n(14);Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var s=n(289),l=n.n(s),f=n(290),d=n.n(f),h=n(100),p=n.n(h);function v(e){return!!e.or}function g(e){return!!e.and}function m(e){return!!e.not}function y(e,t){return m(e)?{not:y(e.not,t)}:g(e)?{and:e.and.map((function(e){return y(e,t)}))}:v(e)?{or:e.or.map((function(e){return y(e,t)}))}:t(e)}var b=d.a,x=l.a;function w(e,t){var n={},r=!0,i=!1,o=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value;Object(a.v)(e,s)&&(n[s]=e[s])}}catch(l){i=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}function O(e,t){var n=Object.assign({},e),r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){delete n[o.value]}}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}Set.prototype.toJSON=function(){return"Set(".concat(Object(o.a)(this).map((function(e){return p()(e)})).join(","),")")};var k=p.a;function j(e){if(Object(a.E)(e))return e;var t=Object(a.H)(e)?e:p()(e);if(t.length<250)return t;for(var n=0,r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n&=n}return n}function _(e){return!1===e||null===e}function S(e,t){return e.indexOf(t)>-1}function E(e,t){var n=0,r=!0,i=!1,a=void 0;try{for(var o,u=e.entries()[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=Object(c.a)(o.value,2),l=s[0];if(t(s[1],l,n++))return!0}}catch(f){i=!0,a=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return!1}function A(e,t){var n=0,r=!0,i=!1,a=void 0;try{for(var o,u=e.entries()[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var s=Object(c.a)(o.value,2),l=s[0];if(!t(s[1],l,n++))return!1}}catch(f){i=!0,a=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return!0}function C(e,t){var n=!0,r=!1,i=void 0;try{for(var o,u=N(t)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=o.value;Object(a.jb)(e,c,t[c],!0)}}catch(s){r=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}}function D(e,t){var n,r=[],i={},a=!0,o=!1,u=void 0;try{for(var c,s=e[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;(n=t(l))in i||(i[n]=1,r.push(l))}}catch(f){o=!0,u=f}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}return r}function F(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(t.has(u))return!0}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!1}function T(e){var t=new Set,n=!0,r=!1,i=void 0;try{for(var o,u=function(){var e=o.value,n=Object(a.Y)(e).map((function(e,t){return 0===t?e:"[".concat(e,"]")})),r=n.map((function(e,t){return n.slice(0,t+1).join("")})),i=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var f=s.value;t.add(f)}}catch(d){u=!0,c=d}finally{try{i||null==l.return||l.return()}finally{if(u)throw c}}},c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0)u()}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return t}function M(e,t){return void 0===e||void 0===t||F(T(e),T(t))}function P(e){return 0===N(e).length}var N=Object.keys,B=Object.values;function R(e){var t=[];for(var n in e)Object(a.v)(e,n)&&t.push({key:n,value:e[n]});return t}function z(e){return!0===e||!1===e}function L(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function I(e,t){return m(e)?"!("+I(e.not,t)+")":g(e)?"("+e.and.map((function(e){return I(e,t)})).join(") && (")+")":v(e)?"("+e.or.map((function(e){return I(e,t)})).join(") || (")+")":t(e)}function U(e,t){if(0===t.length)return!0;var n=t.shift();return n in e&&U(e[n],t)&&delete e[n],P(e)}function q(e){return e.charAt(0).toUpperCase()+e.substr(1)}function $(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum",n=Object(a.Y)(e),r=[],i=1;i<=n.length;i++){var o="[".concat(n.slice(0,i).map(a.Z).join("]["),"]");r.push("".concat(t).concat(o))}return r.join(" && ")}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"datum";return"".concat(t,"[").concat(Object(a.Z)(Object(a.Y)(e).join(".")),"]")}function W(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function G(e){return"".concat(Object(a.Y)(e).map(W).join("\\."))}function K(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function V(e){return"".concat(Object(a.Y)(e).join("."))}function Y(e){return e?Object(a.Y)(e).length:0}function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];if(void 0!==a)return a}}var X=42;function Z(e){return function(e){return 0===e.indexOf("__")}(e)?e:"__".concat(e)}function Q(e){if(void 0!==e)return(e%360+360)%360}function ee(e){return!!Object(a.E)(e)||!isNaN(e)&&!isNaN(parseFloat(e))}var te={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null};function ne(e){return e&&e.condition}var re=["domain","grid","labels","ticks","title"],ie={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},ae={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},oe=Object.assign(Object.assign({},ae),{style:1,labelExpr:1,encoding:1});function ue(e){return!!oe[e]}N(oe);var ce=n(8),se=n(7),le={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},fe=le.arc,de=le.area,he=le.bar,pe=le.image,ve=le.line,ge=le.point,me=le.rect,ye=le.rule,be=le.text,xe=le.tick,we=le.trail,Oe=le.circle,ke=le.square,je=le.geoshape;function _e(e){return S(["line","area","trail"],e)}function Se(e){return S(["rect","bar","image","arc"],e)}var Ee=N(le);function Ae(e){return e.type}Object(a.db)(Ee);var Ce=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),De=N({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),Fe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Te={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},Me={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function Pe(e){return"mark"in e}var Ne=function(){function e(t,n){Object(ce.a)(this,e),this.name=t,this.run=n}return Object(se.a)(e,[{key:"hasMatchingType",value:function(e){return!!Pe(e)&&(Ae(t=e.mark)?t.type:t)===this.name;var t}}]),e}(),Be=n(5),Re={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},ze={count:1,min:1,max:1};function Le(e){return!!e&&!!e.argmin}function Ie(e){return!!e&&!!e.argmax}N(Re);function Ue(e){return Object(a.H)(e)&&!!Re[e]}var qe=["count","valid","missing","distinct"];function $e(e){return Object(a.H)(e)&&S(qe,e)}var He=["count","sum","distinct","valid","missing"],We=Object(a.db)(["mean","average","median","q1","q3","min","max"]),Ge="row",Ke="column",Ve="x",Ye="y",Je="x2",Xe="y2",Ze="radius",Qe="theta",et="theta2",tt="color",nt="fill",rt="stroke",it="shape",at="size",ot={theta:1,theta2:1,radius:1,radius2:1};function ut(e){return e in ot}var ct={longitude:1,longitude2:1,latitude:1,latitude2:1};var st=N(ct),lt=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),ot),ct),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function ft(e){return e===tt||e===nt||e===rt}var dt={row:1,column:1,facet:1},ht=N(dt),pt=Object.assign(Object.assign({},lt),dt),vt=N(pt),gt=(pt.order,pt.detail,pt.tooltip,u(pt,["order","detail","tooltip"])),mt=(gt.row,gt.column,gt.facet,u(gt,["row","column","facet"]));N(gt),N(mt);function yt(e){return!!pt[e]}var bt=[Je,Xe,"latitude2","longitude2",et,"radius2"];function xt(e){return wt(e)!==e}function wt(e){switch(e){case Je:return Ve;case Xe:return Ye;case"latitude2":return"latitude";case"longitude2":return"longitude";case et:return Qe;case"radius2":return Ze}return e}function Ot(e){if(ut(e))switch(e){case Qe:return"startAngle";case et:return"endAngle";case Ze:return"outerRadius";case"radius2":return"innerRadius"}return e}function kt(e){switch(e){case Ve:return Je;case Ye:return Xe;case"latitude":return"latitude2";case"longitude":return"longitude2";case Qe:return et;case Ze:return"radius2"}}function jt(e){switch(e){case Ve:case Je:return"width";case Ye:case Xe:return"height"}}N(lt),lt.x,lt.y,lt.x2,lt.y2,lt.latitude,lt.longitude,lt.latitude2,lt.longitude2,lt.theta,lt.theta2,lt.radius,lt.radius2;var _t=u(lt,["x","y","x2","y2","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),St=N(_t),Et={x:1,y:1},At=N(Et);function Ct(e){return e in Et}var Dt={theta:1,radius:1},Ft=N(Dt);function Tt(e){return"width"===e?Ve:Ye}_t.text,_t.tooltip,_t.href,_t.url,_t.description,_t.detail,_t.key,_t.order;var Mt=u(_t,["text","tooltip","href","url","description","detail","key","order"]),Pt=N(Mt);var Nt=Object.assign(Object.assign(Object.assign({},Et),Dt),Mt),Bt=N(Nt);function Rt(e){return!!Nt[e]}function zt(e,t){return function(e){switch(e){case tt:case nt:case rt:case"description":case"detail":case"key":case"tooltip":case"href":case"order":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"facet":case Ge:case Ke:return Lt;case Ve:case Ye:case"latitude":case"longitude":return It;case Je:case Xe:case"latitude2":case"longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case at:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case"strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case it:return{point:"always",geoshape:"always"};case"text":return{text:"always"};case"angle":return{point:"always",square:"always",text:"always"};case"url":return{image:"always"};case Qe:case Ze:return{text:"always",arc:"always"};case et:case"radius2":return{arc:"always"}}}(e)[t]}var Lt={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},It=u(Lt,["geoshape"]);function Ut(e){switch(e){case Ve:case Ye:case Qe:case Ze:case at:case"angle":case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case Je:case Xe:case et:case"radius2":return;case"facet":case Ge:case Ke:case it:case"strokeDash":case"text":case"tooltip":case"href":case"url":case"description":return"discrete";case tt:case nt:case rt:return"flexible";case"latitude":case"longitude":case"latitude2":case"longitude2":case"detail":case"key":case"order":return}}function qt(e){return Object(a.B)(e)&&(e=co(e,void 0)),"bin"+N(e).map((function(t){return Gt(e[t])?L("_".concat(t,"_").concat(Object.entries(e[t]))):L("_".concat(t,"_").concat(e[t]))})).join("")}function $t(e){return!0===e||Wt(e)&&!e.binned}function Ht(e){return"binned"===e||Wt(e)&&!0===e.binned}function Wt(e){return Object(a.F)(e)}function Gt(e){return null===e||void 0===e?void 0:e.selection}function Kt(e){switch(e){case Ge:case Ke:case at:case tt:case nt:case rt:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case it:return 6;case"strokeDash":return 4;default:return 10}}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Jt(e,t,n){return(Jt=Yt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Vt(i,n.prototype),i}).apply(null,arguments)}function Xt(e){return"Invalid specification ".concat(JSON.stringify(e),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}var Zt='Autosize "fit" only works for single views and layered views.';function Qt(e){return"".concat("width"==e?"Width":"Height",' "container" only works for single views and layered views.')}function en(e){var t="width"==e?"x":"y";return"".concat("width"==e?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(t,'".')}function tn(e){return e?'Dropping "fit-'.concat(e,'" because spec has discrete ').concat(jt(e),"."):'Dropping "fit" because spec has discrete size.'}function nn(e){return"Unknown field for ".concat(e,". Cannot calculate view size.")}function rn(e){return'Cannot project a selection on encoding channel "'.concat(e,'", which has no field.')}function an(e,t){return'Cannot project a selection on encoding channel "'.concat(e,'" as it uses an aggregate function ("').concat(t,'").')}function on(e){return'The "nearest" transform is not supported for '.concat(e," marks.")}function un(e){return"Selection not supported for ".concat(e," yet.")}function cn(e){return'Cannot find a selection named "'.concat(e,'".')}var sn="Scale bindings are currently only supported for scales with unbinned, continuous domains.",ln="Legend bindings are only supported for selections over an individual field or encoding channel.";function fn(e){return'Cannot define and lookup the "'.concat(e,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?"}var dn="The same selection must be used to override scale domains in a layered view.",hn='Interval selections should be initialized using "x" and/or "y" keys.';function pn(e){return'Unknown repeated value "'.concat(e,'".')}function vn(e){return'The "columns" property cannot be used when "'.concat(e,'" has nested row/column.')}var gn="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function mn(e){return'Unrecognized parse "'.concat(e,'".')}function yn(e,t,n){return'An ancestor parsed field "'.concat(e,'" as ').concat(n," but a child wants to parse the field as ").concat(t,".")}var bn="Attempt to add the same child twice.";function xn(e){return"Ignoring an invalid transform: ".concat(k(e),".")}var wn='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function On(e){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(e," are dropped.")}function kn(e){var t=e.parentProjection,n=e.projection;return"Layer's shared projection ".concat(k(t)," is overridden by a child projection ").concat(k(n),".")}var jn="Arc marks uses theta channel rather than angle, replacing angle with theta.";function _n(e,t,n){return"Channel ".concat(e," is a ").concat(t,". Converted to {value: ").concat(k(n),"}.")}function Sn(e){return'Invalid field type "'.concat(e,'".')}function En(e,t){return'Invalid field type "'.concat(e,'" for aggregate: "').concat(t,'", using "quantitative" instead.')}function An(e){return'Invalid aggregation operator "'.concat(e,'".')}function Cn(e,t){return'Missing type for channel "'.concat(e,'", using "').concat(t,'" instead.')}function Dn(e,t){var n=t.fill,r=t.stroke;return"Dropping color ".concat(e," as the plot also has ").concat(n&&r?"fill and stroke":n?"fill":"stroke",".")}function Fn(e,t){return"Dropping ".concat(k(e),' from channel "').concat(t,'" since it does not contain any data field, datum, value, or signal.')}function Tn(e,t,n){return"".concat(e,"-encoding with type ").concat(t," is deprecated. Replacing with ").concat(n,"-encoding.")}var Mn="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Pn(e,t,n){return"".concat(e,' dropped as it is incompatible with "').concat(t,'"').concat(n?" when ".concat(n):"",".")}function Nn(e){return"".concat(e,"-encoding is dropped as ").concat(e," is not a valid encoding channel.")}function Bn(e){return"".concat(e," encoding should be discrete (ordinal / nominal / binned).")}function Rn(e){return"Facet encoding dropped as ".concat(e.join(" and ")," ").concat(e.length>1?"are":"is"," also specified.")}function zn(e,t){return'Using discrete channel "'.concat(e,'" to encode "').concat(t,'" field can be misleading as it does not encode ').concat("ordinal"===t?"order":"magnitude",".")}function Ln(e,t){return"Line mark is for continuous lines and thus cannot be used with ".concat(e&&t?"x2 and y2":e?"x2":"y2",". We will use the rule mark (line segments) instead.")}function In(e,t){return'Specified orient "'.concat(e,'" overridden with "').concat(t,'".')}var Un="Custom domain scale cannot be unioned with default field-based domain.",qn='Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function $n(e){return'Cannot use the scale property "'.concat(e,'" with non-color channel.')}function Hn(e){return"Using unaggregated domain with raw field has no effect (".concat(k(e),").")}function Wn(e){return'Unaggregated domain not applicable for "'.concat(e,'" since it produces values outside the origin domain of the source data.')}function Gn(e){return"Unaggregated domain is currently unsupported for log scale (".concat(k(e),").")}function Kn(e){return'Cannot apply size to non-oriented mark "'.concat(e,'".')}function Vn(e,t,n){return'Channel "'.concat(e,'" does not work with "').concat(t,'" scale. We are using "').concat(n,'" scale instead.')}function Yn(e,t){return'FieldDef does not work with "'.concat(e,'" scale. We are using "').concat(t,'" scale instead.')}function Jn(e,t,n){return"".concat(n,"-scale's \"").concat(t,'" is dropped as it does not work with ').concat(e," scale.")}function Xn(e,t){return'Scale type "'.concat(t,'" does not work with mark "').concat(e,'".')}function Zn(e){return'The step for "'.concat(e,'" is dropped because the ').concat("width"===e?"x":"y"," is continuous.")}function Qn(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(k(n)," and ").concat(k(r),"). Using ").concat(k(n),".")}function er(e,t,n,r){return"Conflicting ".concat(t.toString(),' property "').concat(e.toString(),'" (').concat(k(n)," and ").concat(k(r),"). Using the union of the two domains.")}function tr(e){return'Setting the scale to be independent for "'.concat(e,'" means we also have to set the guide (axis or legend) to be independent.')}function nr(e){return"Dropping sort property ".concat(k(e),' as unioned domains only support boolean or op "count", "min", and "max".')}var rr="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",ir="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",ar="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",or="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.",ur="Invalid channel for axis.";function cr(e){return'Cannot stack "'.concat(e,'" if there is already "').concat(e,'2".')}function sr(e){return"Cannot stack non-linear scale (".concat(e,").")}function lr(e){return'Stacking is applied even though the aggregate function is non-summative ("'.concat(e,'").')}function fr(e,t){return"Invalid ".concat(e,": ").concat(k(t),".")}function dr(e){return"Dropping day from datetime ".concat(k(e)," as day cannot be combined with other units.")}function hr(e,t){return"".concat(t?"extent ":"").concat(t&&e?"and ":"").concat(e?"center ":"").concat(t&&e?"are ":"is ","not needed when data are aggregated.")}function pr(e,t,n){return"".concat(e," is not usually used with ").concat(t," for ").concat(n,".")}function vr(e,t){return"Continuous axis should not have customized aggregation function ".concat(e,"; ").concat(t," already agregates the axis.")}function gr(e){return"1D error band does not support ".concat(e,".")}function mr(e){return"Channel ".concat(e,' is required for "binned" bin.')}function yr(e){return"Channel ".concat(e,' should not be used with "binned" bin.')}function br(e){return"Domain for ".concat(e," is required for threshold scale.")}var xr=Object(a.K)(a.e),wr=xr;function Or(e){return wr=e}function kr(){return wr=xr}function jr(){var e;(e=wr).warn.apply(e,arguments)}function _r(e){if(e&&Object(a.F)(e)){var t=!0,n=!1,r=void 0;try{for(var i,o=Nr[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){if(i.value in e)return!0}}catch(u){n=!0,r=u}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}return!1}new WeakMap;var Sr=["january","february","march","april","may","june","july","august","september","october","november","december"],Er=Sr.map((function(e){return e.substr(0,3)})),Ar=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Cr=Ar.map((function(e){return e.substr(0,3)}));function Dr(e,t){var n=[];if(t&&void 0!==e.day&&N(e).length>1&&(jr(r.droppedDay(e)),delete(e=x(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){var i=t?function(e){if(ee(e)&&(e=+e),Object(a.E)(e))return e-1;var t=e.toLowerCase(),n=Sr.indexOf(t);if(-1!==n)return n;var i=t.substr(0,3),o=Er.indexOf(i);if(-1!==o)return o;throw new Error(r.invalidTimeUnit("month",e))}(e.month):e.month;n.push(i)}else if(void 0!==e.quarter){var o=t?function(e){if(ee(e)&&(e=+e),Object(a.E)(e))return e>4&&jr(r.invalidTimeUnit("quarter",e)),e-1;throw new Error(r.invalidTimeUnit("quarter",e))}(e.quarter):e.quarter;n.push(Object(a.E)(o)?3*o:o+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var u=t?function(e){if(ee(e)&&(e=+e),Object(a.E)(e))return e%7;var t=e.toLowerCase(),n=Ar.indexOf(t);if(-1!==n)return n;var i=t.substr(0,3),o=Cr.indexOf(i);if(-1!==o)return o;throw new Error(r.invalidTimeUnit("day",e))}(e.day):e.day;n.push(Object(a.E)(u)?u+1:u+"+1")}else n.push(1);for(var c=0,s=["hours","minutes","seconds","milliseconds"];c<s.length;c++){var l=e[s[c]];n.push("undefined"===typeof l?0:l)}return n}function Fr(e){var t=Dr(e,!0).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function Tr(e){var t=Dr(e,!1).join(", ");return e.utc?"utc(".concat(t,")"):"datetime(".concat(t,")")}function Mr(e){var t=Dr(e,!0);return e.utc?+new Date(Date.UTC.apply(Date,Object(o.a)(t))):+Jt(Date,Object(o.a)(t))}var Pr={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Nr=N(Pr);function Br(e){return e.startsWith("utc")}var Rr={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function zr(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=Nr[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;Lr(e,u)&&t.push(u)}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}function Lr(e,t){var n=e.indexOf(t);return!(n<0)&&(!(n>0&&"seconds"===t&&"i"===e.charAt(n-1))&&(!(e.length>n+3&&"day"===t&&"o"===e.charAt(n+3))&&!(n>0&&"year"===t&&"f"===e.charAt(n-1))))}function Ir(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{end:!1},i=r.end,a=$(t),o=Br(e)?"utc":"";function u(e){return"quarter"===e?"(".concat(o,"quarter(").concat(a,")-1)"):"".concat(o).concat(e,"(").concat(a,")")}var c={},s=!0,l=!1,f=void 0;try{for(var d,h=Nr[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;Lr(e,p)&&(c[p]=u(p),n=p)}}catch(v){l=!0,f=v}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}return i&&(c[n]+="+1"),Tr(c)}function Ur(e){if(e){var t=zr(e);return"timeUnitSpecifier(".concat(p()(t),", ").concat(p()(Rr),")")}}function qr(e){var t;if(e)return Object(a.H)(e)?t={unit:e}:Object(a.F)(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),Br(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function $r(e){var t=qr(e),n=t.utc,r=u(t,["utc"]);return r.unit?(n?"utc":"")+N(r).map((function(e){return L("".concat("unit"===e?"":"_".concat(e,"_")).concat(r[e]))})).join(""):(n?"utc":"")+"timeunit"+N(r).map((function(e){return L("_".concat(e,"_").concat(r[e]))})).join("")}function Hr(e){return e&&!!e.signal}function Wr(e){return!!e.step}function Gr(e){return!Object(a.A)(e)&&("field"in e&&"data"in e)}var Kr=N({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),Vr={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Yr=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function Jr(e){return e&&!!e.field&&void 0!==e.equal}function Xr(e){return e&&!!e.field&&void 0!==e.lt}function Zr(e){return e&&!!e.field&&void 0!==e.lte}function Qr(e){return e&&!!e.field&&void 0!==e.gt}function ei(e){return e&&!!e.field&&void 0!==e.gte}function ti(e){if(e&&e.field){if(Object(a.A)(e.range)&&2===e.range.length)return!0;if(Hr(e.range))return!0}return!1}function ni(e){return e&&!!e.field&&(Object(a.A)(e.oneOf)||Object(a.A)(e.in))}function ri(e){return e&&!!e.field&&void 0!==e.valid}function ii(e){return ni(e)||Jr(e)||ti(e)||Xr(e)||Qr(e)||Zr(e)||ei(e)}function ai(e,t){return ho(e,{timeUnit:t,wrapTime:!0})}function oi(e,t){return e.map((function(e){return ai(e,t)}))}function ui(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.field,i=null===(t=qr(e.timeUnit))||void 0===t?void 0:t.unit,a=i?"time("+Ir(i,r)+")":Ha(e,{expr:"datum"});if(Jr(e))return a+"==="+ai(e.equal,i);if(Xr(e)){var o=e.lt;return"".concat(a,"<").concat(ai(o,i))}if(Qr(e)){var u=e.gt;return"".concat(a,">").concat(ai(u,i))}if(Zr(e)){var c=e.lte;return"".concat(a,"<=").concat(ai(c,i))}if(ei(e)){var s=e.gte;return"".concat(a,">=").concat(ai(s,i))}if(ni(e))return"indexof([".concat(oi(e.oneOf,i).join(","),"], ").concat(a,") !== -1");if(ri(e))return ci(a,e.valid);if(ti(e)){var l=e.range,f=Hr(l)?{signal:"".concat(l.signal,"[0]")}:l[0],d=Hr(l)?{signal:"".concat(l.signal,"[1]")}:l[1];if(null!==f&&null!==d&&n)return"inrange("+a+", ["+ai(f,i)+", "+ai(d,i)+"])";var h=[];return null!==f&&h.push("".concat(a," >= ").concat(ai(f,i))),null!==d&&h.push("".concat(a," <= ").concat(ai(d,i))),h.length>0?h.join(" && "):"true"}throw new Error("Invalid field predicate: ".concat(JSON.stringify(e)))}function ci(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?"isValid(".concat(e,") && isFinite(+").concat(e,")"):"!isValid(".concat(e,") || !isFinite(+").concat(e,")")}function si(e){var t;return ii(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=qr(e.timeUnit))||void 0===t?void 0:t.unit}):e}var li={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};var fi=li.quantitative,di=li.ordinal,hi=li.temporal,pi=li.nominal,vi=li.geojson;N(li);function gi(e){if(e)switch(e=e.toLowerCase()){case"q":case fi:return"quantitative";case"t":case hi:return"temporal";case"o":case di:return"ordinal";case"n":case pi:return"nominal";case vi:return"geojson"}}var mi="linear",yi="log",bi="pow",xi="sqrt",wi="symlog",Oi="time",ki="utc",ji="quantile",_i="quantize",Si="threshold",Ei="point",Ai="band",Ci={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};N(Ci);function Di(e,t){var n=Ci[e],r=Ci[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}var Fi={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Ti(e){return Fi[e]}var Mi=["linear","log","pow","sqrt","symlog","time","utc"],Pi=Object(a.db)(Mi),Ni=Object(a.db)(["linear","log","pow","sqrt","symlog"]);var Bi=Object(a.db)(["quantile","quantize","threshold"]),Ri=Mi.concat(["quantile","quantize","threshold","sequential","identity"]),zi=Object(a.db)(Ri),Li=Object(a.db)(["ordinal","bin-ordinal","point","band"]);function Ii(e){return e in Li}function Ui(e){return e in zi}function qi(e){return e in Pi}function $i(e){return e in Bi}function Hi(e){return null===e||void 0===e?void 0:e.selection}var Wi={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},Gi=(N(Wi),u(Wi,["type","domain","range","rangeMax","rangeMin","scheme"])),Ki=N(Gi);function Vi(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!S(["point","band","identity"],e);case"bins":return!S(["point","band","identity","ordinal"],e);case"round":return qi(e)||"band"===e||"point"===e;case"padding":case"rangeMin":case"rangeMax":return qi(e)||S(["point","band"],e);case"paddingOuter":case"align":return S(["point","band"],e);case"paddingInner":return"band"===e;case"domainMax":case"domainMid":case"domainMin":case"clamp":return qi(e);case"nice":return qi(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return Ui(e)&&!S(["log","time","utc","threshold","quantile"],e)}}function Yi(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return ft(e)?void 0:r.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function Ji(e){var t=e.channel,n=e.channelDef,r=e.markDef,i=e.scale,a=e.config,o=na(e);return Da(n)&&!$e(n.aggregate)&&i&&qi(i.get("type"))&&!1===i.get("zero")?Xi({fieldDef:n,channel:t,markDef:r,ref:o,config:a}):o}function Xi(e){var t=e.fieldDef,n=e.channel,r=e.markDef,i=e.ref,a=e.config;return _e(r.type)?i:null===Oo("invalid",r,a)?i:[Zi(t,n),i]}function Zi(e,t){var n=Qi(e,!0),r="y"===wt(t)?{field:{group:"height"}}:{value:0};return Object.assign({test:n},r)}function Qi(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ci(Object(a.H)(e)?e:Ha(e,{expr:"datum"}),!t)}function ea(e,t,n,r){var i={};if(t&&(i.scale=t),Ta(e)){var a=e.datum;_r(a)?i.signal=Fr(a):Hr(a)?i.signal=a.signal:i.value=a}else i.field=Ha(e,n);if(r){var o=r.offset,u=r.band;o&&(i.offset=o),u&&(i.band=u)}return i}function ta(e){var t=e.scaleName,n=e.fieldOrDatumDef,r=e.fieldOrDatumDef2,i=e.offset,a=e.startSuffix,o=e.band,u=void 0===o?.5:o,c=0<u&&u<1?"datum":void 0,s=Ha(n,{expr:c,suffix:a}),l=void 0!==r?Ha(r,{expr:c}):Ha(n,{suffix:"end",expr:c}),f={};if(0===u||1===u){f.scale=t;var d=0===u?s:l;f.field=d}else{var h="".concat(u," * ").concat(s," + ").concat(1-u," * ").concat(l);f.signal='scale("'.concat(t,'", ').concat(h,")")}return i&&(f.offset=i),f}function na(e){var t,n=e.channel,i=e.channelDef,o=e.channel2Def,u=e.markDef,c=e.config,s=e.scaleName,l=e.scale,f=e.stack,d=e.offset,h=e.defaultRef,p=e.band;if(i){if(Na(i)){if(Ba(i)){p=null!==p&&void 0!==p?p:_a({channel:n,fieldDef:i,fieldDef2:o,markDef:u,stack:f,config:c,isMidPoint:!0});var v=i.bin,g=i.timeUnit,m=i.type;if($t(v)||p&&g&&m===hi)return f&&f.impute?ea(i,s,{binSuffix:"mid"},{offset:d}):p?ta({scaleName:s,fieldOrDatumDef:i,band:p,offset:d}):ea(i,s,vo(i,n)?{binSuffix:"range"}:{},{offset:d});if(Ht(v)){if(Da(o))return ta({scaleName:s,fieldOrDatumDef:i,fieldOrDatumDef2:o,band:p,offset:d});var y=n===Ve?Je:Xe;jr(r.channelRequiredForBinned(y))}}var b=null===l||void 0===l?void 0:l.get("type");return ea(i,s,Ii(b)?{binSuffix:"range"}:{},{offset:d,band:"band"===b?null!==(t=null!==p&&void 0!==p?p:i.band)&&void 0!==t?t:.5:void 0})}if(Ra(i)){var x=i.value,w=d?{offset:d}:{};return Object.assign(Object.assign({},ra(n,x)),w)}}return Object(a.D)(h)&&(h=h()),h?Object.assign(Object.assign({},h),d?{offset:d}:{}):h}function ra(e,t){return S(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:S(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:yo(t)}function ia(e){return e&&"number"!==e&&"time"!==e}function aa(e,t,n){return"".concat(e,"(").concat(t).concat(n?", ".concat(JSON.stringify(n)):"",")")}function oa(e){var t,n,r=e.fieldOrDatumDef,i=e.format,o=e.formatType,u=e.expr,c=e.normalizeStack,s=e.config;if(ia(o))return ca({fieldOrDatumDef:r,format:i,formatType:o,expr:u,config:s});var l=ua(r,u,c);if(fo(r)){var f=function(e,t,n,r,i){return!t||n?(n=Object(a.H)(n)?n:r,"".concat(i?"utc":"time","Format(").concat(e,", '").concat(n,"')")):function(e,t,n){if(e){var r=Ur(e),i=n||Br(e);return"".concat(i?"utc":"time","Format(").concat(t,", ").concat(r,")")}}(t,e,i)}(l,Da(r)?null===(t=qr(r.timeUnit))||void 0===t?void 0:t.unit:void 0,i,s.timeFormat,za(r)&&(null===(n=r.scale)||void 0===n?void 0:n.type)===ki);return f?{signal:f}:void 0}return i=fa(Fa(r),i,s),Da(r)&&$t(r.bin)?{signal:pa(l,Ha(r,{expr:u,binSuffix:"end"}),i,o,s)}:i||"quantitative"===Fa(r)?{signal:"".concat(da(l,i))}:{signal:"isValid(".concat(l,") ? ").concat(l,' : ""+').concat(l)}}function ua(e,t,n){return Da(e)?n?"".concat(Ha(e,{expr:t,suffix:"end"}),"-").concat(Ha(e,{expr:t,suffix:"start"})):Ha(e,{expr:t}):function(e){var t=e.datum;return _r(t)?Fr(t):"".concat(JSON.stringify(t))}(e)}function ca(e){var t=e.fieldOrDatumDef,n=e.format,r=e.formatType,i=e.expr,a=e.normalizeStack,o=e.config,u=e.field;return u=null!==u&&void 0!==u?u:ua(t,i,a),Da(t)&&$t(t.bin)?{signal:pa(u,Ha(t,{expr:i,binSuffix:"end"}),n,r,o)}:{signal:aa(r,u,n)}}function sa(e,t,n,r,i,a){var o;if(!ia(r))return fo(e)?function(e,t,n,r){if(e)return e;if(t)return{signal:Ur(t)};return r?void 0:n.timeFormat}(n,Da(e)?null===(o=qr(e.timeUnit))||void 0===o?void 0:o.unit:void 0,i,a):fa(t,n,i)}function la(e,t,n){return e&&(Hr(e)||"number"===e||"time"===e)?e:fo(t)&&"time"!==n&&"utc"!==n?"time":void 0}function fa(e,t,n){return Object(a.H)(t)?t:e===fi?n.numberFormat:void 0}function da(e,t){return"format(".concat(e,', "').concat(t||"",'")')}function ha(e,t,n,r){var i;return ia(n)?aa(n,e,t):da(e,null!==(i=Object(a.H)(t)?t:void 0)&&void 0!==i?i:r.numberFormat)}function pa(e,t,n,r,i){var a=ha(e,n,r,i),o=ha(t,n,r,i);return"".concat(ci(e,!1),' ? "null" : ').concat(a,' + "').concat(" \u2013 ",'" + ').concat(o)}var va={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function ga(e){return e in va}function ma(e){return!!e&&!!e.encoding}function ya(e){return!!e&&("count"===e.op||!!e.field)}function ba(e){return!!e&&Object(a.A)(e)}function xa(e){return"row"in e||"column"in e}function wa(e){return!!e&&"header"in e}function Oa(e){return"facet"in e}function ka(e){var t=e.field,n=e.timeUnit,r=e.bin,i=e.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function ja(e){return"sort"in e}function _a(e){var t=e.channel,n=e.fieldDef,r=e.fieldDef2,i=e.markDef,a=e.stack,o=e.config,u=e.isMidPoint;if(Na(n)&&void 0!==n.band)return n.band;if(Da(n)){var c=n.timeUnit,s=n.bin;if(c&&!r)return u?ko("timeUnitBandPosition",i,o):Se(i.type)?ko("timeUnitBand",i,o):0;if($t(s))return Se(i.type)&&!u?1:.5}return(null===a||void 0===a?void 0:a.fieldChannel)===t&&u?.5:void 0}function Sa(e,t,n,r,i,a){return!!($t(t.bin)||t.timeUnit&&Ba(t)&&"temporal"===t.type)&&!!_a({channel:e,fieldDef:t,fieldDef2:n,stack:r,markDef:i,config:a})}function Ea(e){return!!e&&"condition"in e}function Aa(e){var t=e&&e.condition;return!!t&&!Object(a.A)(t)&&Da(t)}function Ca(e){var t=e&&e.condition;return!!t&&!Object(a.A)(t)&&Na(t)}function Da(e){return!!e&&(!!e.field||"count"===e.aggregate)}function Fa(e){return e&&e.type}function Ta(e){return!!e&&"datum"in e}function Ma(e){return Ba(e)&&Ga(e)||Pa(e)}function Pa(e){return Ta(e)&&Object(a.E)(e.datum)}function Na(e){return Da(e)||Ta(e)}function Ba(e){return!!e&&("field"in e||"count"===e.aggregate)&&"type"in e}function Ra(e){return e&&"value"in e&&"value"in e}function za(e){return!!e&&("scale"in e||"sort"in e)}function La(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function Ia(e){return!!e&&"legend"in e}function Ua(e){return!!e&&("format"in e||"formatType"in e)}function qa(e){return O(e,["legend","axis","header","scale"])}function $a(e){return"op"in e}function Ha(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.field,o=i.prefix,u=i.suffix,c="";if(Ka(e))a=Z("count");else{var s;if(!i.nofn)if($a(e))s=e.op;else{var l=e.bin,f=e.aggregate,d=e.timeUnit;$t(l)?(s=qt(l),u=(null!==(t=i.binSuffix)&&void 0!==t?t:"")+(null!==(n=i.suffix)&&void 0!==n?n:"")):f?Ie(f)?(c='["'.concat(a,'"]'),a="argmax_".concat(f.argmax)):Le(f)?(c='["'.concat(a,'"]'),a="argmin_".concat(f.argmin)):s=String(f):d&&(s=$r(d),u=(!S(["range","mid"],i.binSuffix)&&i.binSuffix||"")+(null!==(r=i.suffix)&&void 0!==r?r:""))}s&&(a=a?"".concat(s,"_").concat(a):s)}return u&&(a="".concat(a,"_").concat(u)),o&&(a="".concat(o,"_").concat(a)),i.forAs?V(a):i.expr?H(a,i.expr)+c:G(a)+c}function Wa(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Da(e)&&!!e.bin;case"temporal":return!1}throw new Error(r.invalidFieldType(e.type))}function Ga(e){return!Wa(e)}function Ka(e){return"count"===e.aggregate}var Va=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){var t=e.aggregate,n=e.bin,r=e.timeUnit,i=e.field;if(Ie(t))return"".concat(i," for argmax(").concat(t.argmax,")");if(Le(t))return"".concat(i," for argmin(").concat(t.argmin,")");var a=qr(r),o=t||(null===a||void 0===a?void 0:a.unit)||(null===a||void 0===a?void 0:a.maxbins)&&"timeunit"||$t(n)&&"bin";return o?o.toUpperCase()+"("+i+")":i}(e);default:return function(e,t){var n,r=e.field,i=e.bin,a=e.timeUnit,o=e.aggregate;if("count"===o)return t.countTitle;if($t(i))return"".concat(r," (binned)");if(a){var u=null===(n=qr(a))||void 0===n?void 0:n.unit;if(u)return"".concat(r," (").concat(zr(u).join("-"),")")}else if(o)return Ie(o)?"".concat(r," for max ").concat(o.argmax):Le(o)?"".concat(r," for min ").concat(o.argmin):"".concat(q(o)," of ").concat(r);return r}(e,t)}},Ya=Va;function Ja(e){Ya=e}function Xa(){Ja(Va)}function Za(e,t,n){var r,i,a=n.allowDisabling,o=n.includeDefault,u=void 0===o||o,c=null===(r=Qa(e))||void 0===r?void 0:r.title;if(!Da(e))return c;var s=e,l=u?eo(s,t):void 0;return a?J(c,s.title,l):null!==(i=null!==c&&void 0!==c?c:s.title)&&void 0!==i?i:l}function Qa(e){return La(e)&&e.axis?e.axis:Ia(e)&&e.legend?e.legend:wa(e)&&e.header?e.header:void 0}function eo(e,t){return Ya(e,t)}function to(e){var t;if(Ua(e))return{format:e.format,formatType:e.formatType};var n=null!==(t=Qa(e))&&void 0!==t?t:{};return{format:n.format,formatType:n.formatType}}function no(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal"}if(ja(e)&&Object(a.A)(e.sort))return"ordinal";var r=e.aggregate,i=e.bin;if(e.timeUnit)return"temporal";if(i||r&&!Ie(r)&&!Le(r))return"quantitative";if(za(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(Ci[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function ro(e){return Da(e)?e:Aa(e)?e.condition:void 0}function io(e){return Na(e)?e:Ca(e)?e.condition:void 0}function ao(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Object(a.H)(e)||Object(a.E)(e)||Object(a.B)(e)){var o=Object(a.H)(e)?"string":Object(a.E)(e)?"number":"boolean";return jr(r.primitiveChannelDef(t,o,e)),{value:e}}return Na(e)?oo(e,t,n,i):Ca(e)?Object.assign(Object.assign({},e),{condition:oo(e.condition,t,n,i)}):e}function oo(e,t,n,i){if(Ua(e)){e.format;var o=e.formatType,c=u(e,["format","formatType"]);if(ia(o)&&!n.customFormatTypes)return jr(r.customFormatTypeNotAllowed(t)),oo(c,t,n,i)}else{var s=La(e)?"axis":Ia(e)?"legend":wa(e)?"header":null;if(s&&e[s]){var l=e[s],f=(l.format,l.formatType),d=u(l,["format","formatType"]);if(ia(f)&&!n.customFormatTypes)return jr(r.customFormatTypeNotAllowed(t)),oo(Object.assign(Object.assign({},e),Object(Be.a)({},s,d)),t,n,i)}}return Da(e)?uo(e,t,i):function(e){var t=e.type;if(t)return e;var n=e.datum;return t=Object(a.E)(n)?"quantitative":Object(a.H)(n)?"nominal":_r(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.compositeMark,o=void 0!==i&&i,c=e.aggregate,s=e.timeUnit,l=e.bin,f=e.field,d=Object.assign({},e);if(o||!c||Ue(c)||Ie(c)||Le(c)||(jr(r.invalidAggregate(c)),delete d.aggregate),s&&(d.timeUnit=qr(s)),f&&(d.field="".concat(f)),$t(l)&&(d.bin=co(l,t)),Ht(l)&&!Ct(t)&&jr(r.channelShouldNotBeUsedForBinned(t)),Ba(d)){var h=d.type,p=gi(h);h!==p&&(d.type=p),"quantitative"!==h&&$e(c)&&(jr(r.invalidFieldTypeForCountAggregate(h,c)),d.type="quantitative")}else if(!xt(t)){var v=no(d,t);d.type=v}if(Ba(d)){var g=lo(d,t)||{},m=g.compatible,y=g.warning;!1===m&&jr(y)}if(ja(d)&&Object(a.H)(d.sort)){var b=d.sort;if(ga(b))return Object.assign(Object.assign({},d),{sort:{encoding:b}});var x=b.substr(1);if("-"===b.charAt(0)&&ga(x))return Object.assign(Object.assign({},d),{sort:{encoding:x,order:"descending"}})}if(wa(d)){var w=d.header,O=w.orient,k=u(w,["orient"]);if(O)return Object.assign(Object.assign({},d),{header:Object.assign(Object.assign({},k),{labelOrient:w.labelOrient||O,titleOrient:w.titleOrient||O})})}return d}function co(e,t){return Object(a.B)(e)?{maxbins:Kt(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:Kt(t)})}var so={compatible:!0};function lo(e,t){var n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:"Channel ".concat(t," should not be used with a geojson data.")};switch(t){case Ge:case Ke:case"facet":return Ga(e)?{compatible:!1,warning:r.facetChannelShouldBeDiscrete(t)}:so;case Ve:case Ye:case tt:case nt:case rt:case"text":case"detail":case"key":case"tooltip":case"href":case"url":case"angle":case Qe:case Ze:case"description":return so;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==fi?{compatible:!1,warning:"Channel ".concat(t," should be used with a quantitative field only, not ").concat(e.type," field.")}:so;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case at:case et:case"radius2":case Je:case Xe:return"nominal"!==n||e.sort?so:{compatible:!1,warning:"Channel ".concat(t," should not be used with an unsorted discrete field.")};case"strokeDash":return S(["ordinal","nominal"],e.type)?so:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case it:return S(["ordinal","nominal","geojson"],e.type)?so:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==e.type||"sort"in e?so:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function fo(e){var t,n=to(e).formatType;return"time"===n||!n&&((t=e)&&("temporal"===t.type||Da(t)&&!!t.timeUnit))}function ho(e,t){var n,r,i=t.timeUnit,o=t.type,u=t.wrapTime,c=t.undefinedIfExprNotRequired,s=i&&(null===(n=qr(i))||void 0===n?void 0:n.unit),l=s||"temporal"===o;return Hr(e)?r=e.signal:_r(e)?(l=!0,r=Fr(e)):(Object(a.H)(e)||Object(a.E)(e))&&l&&(r="datetime(".concat(JSON.stringify(e),")"),function(e){return!!Pr[e]}(s)&&(Object(a.E)(e)&&e<1e4||Object(a.H)(e)&&isNaN(Date.parse(e)))&&(r=Fr(Object(Be.a)({},s,e)))),r?u&&l?"time(".concat(r,")"):r:c?void 0:JSON.stringify(e)}function po(e,t){var n=e.type;return t.map((function(t){var r=ho(t,{timeUnit:Da(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==r?{signal:r}:t}))}function vo(e,t){return $t(e.bin)?Rt(t)&&S(["ordinal","nominal"],e.type):(console.warn("Only call this method for binned field defs."),!1)}function go(e){var t=e.anchor,n=e.frame,r=e.offset,i=e.orient,a=e.color,o=e.subtitleColor,c=e.subtitleFont,s=e.subtitleFontSize,l=e.subtitleFontStyle,f=e.subtitleFontWeight,d=e.subtitleLineHeight,h=e.subtitlePadding,p=u(e,["anchor","frame","offset","orient","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),v=Object.assign(Object.assign({},p),a?{fill:a}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o?{subtitleColor:o}:{}),c?{subtitleFont:c}:{}),s?{subtitleFontSize:s}:{}),l?{subtitleFontStyle:l}:{}),f?{subtitleFontWeight:f}:{}),d?{subtitleLineHeight:d}:{}),h?{subtitlePadding:h}:{});return{titleMarkConfig:v,subtitleMarkConfig:w(v,["align","baseline","dx","dy","limit"]),nonMark:g,subtitle:m}}function mo(e){return Object(a.H)(e)||Object(a.A)(e)&&Object(a.H)(e[0])}function yo(e){return Hr(e)?e:void 0!==e?{value:e}:void 0}function bo(e){return Hr(e)?e.signal:Object(a.Z)(e.value)}function xo(e){return Hr(e)?e.signal:null==e?null:Object(a.Z)(e)}function wo(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function Oo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel,a=r.ignoreVgConfig;return i&&void 0!==t[i]?t[i]:void 0!==t[e]?t[e]:!a||i&&i!==e?ko(e,t,n,r):void 0}function ko(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.vgChannel;return J(i?jo(e,t,n.style):void 0,jo(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function jo(e,t,n){return _o(e,wo(t),n)}function _o(e,t,n){var r;t=Object(a.i)(t);var i=!0,o=!1,u=void 0;try{for(var c,s=t[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=n[c.value];l&&void 0!==l[e]&&(r=l[e])}}catch(f){o=!0,u=f}finally{try{i||null==s.return||s.return()}finally{if(o)throw u}}return r}function So(e,t){return Object(a.i)(e).reduce((function(e,n){var r;return e.field.push(Ha(n,t)),e.order.push(null!==(r=n.sort)&&void 0!==r?r:"ascending"),e}),{field:[],order:[]})}function Eo(e,t){var n=Object(o.a)(e);return t.forEach((function(e){var t=!0,r=!1,i=void 0;try{for(var a,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var u=a.value;if(b(u,e))return}}catch(c){r=!0,i=c}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}n.push(e)})),n}function Ao(e,t){return b(e,t)||!t?e:e?[].concat(Object(o.a)(Object(a.i)(e)),Object(o.a)(Object(a.i)(t))).join(", "):t}function Co(e,t){var n=e.value,r=t.value;if(null==n||null===r)return{explicit:e.explicit,value:null};if((mo(n)||Hr(n))&&(mo(r)||Hr(r)))return{explicit:e.explicit,value:Ao(n,r)};if(mo(n)||Hr(n))return{explicit:e.explicit,value:n};if(mo(r)||Hr(r))return{explicit:e.explicit,value:r};if(!mo(n)&&!Hr(n)&&!mo(r)&&!Hr(r))return{explicit:e.explicit,value:Eo(n,r)};throw new Error("It should never reach here")}function Do(e,t){var n=e&&e[t];return!!n&&(Object(a.A)(n)?E(n,(function(e){return!!e.field})):Da(n)||Aa(n))}function Fo(e){return E(vt,(function(t){if(Do(e,t)){var n=e[t];if(Object(a.A)(n))return E(n,(function(e){return!!e.aggregate}));var r=ro(n);return r&&!!r.aggregate}return!1}))}function To(e,t){var n=[],r=[],i=[],a=[],o={};return Bo(e,(function(c,s){if(Da(c)){var l=c.field,f=c.aggregate,d=c.bin,h=c.timeUnit,p=u(c,["field","aggregate","bin","timeUnit"]);if(f||h||d){var v,g=Qa(c),m=g&&g.title,y=Ha(c,{forAs:!0}),b=Object.assign(Object.assign(Object.assign({},m?[]:{title:Za(c,t,{allowDisabling:!0})}),p),{field:y});if(f){if(Ie(f)?(v="argmax",y=Ha({op:"argmax",field:f.argmax},{forAs:!0}),b.field="".concat(y,".").concat(l)):Le(f)?(v="argmin",y=Ha({op:"argmin",field:f.argmin},{forAs:!0}),b.field="".concat(y,".").concat(l)):"boxplot"!==f&&"errorbar"!==f&&"errorband"!==f&&(v=f),v){var x={op:v,as:y};l&&(x.field=l),a.push(x)}}else if(n.push(y),Ba(c)&&$t(d)){if(r.push({bin:d,field:l,as:y}),n.push(Ha(c,{binSuffix:"end"})),vo(c,s)&&n.push(Ha(c,{binSuffix:"range"})),Ct(s)){var w={field:y+"_end"};o[s+"2"]=w}b.bin="binned",xt(s)||(b.type=fi)}else if(h){i.push({timeUnit:h,field:l,as:y});var O=Ba(c)&&c.type!==hi&&"time";O&&("text"===s||"tooltip"===s?b.formatType=O:!function(e){return!!_t[e]}(s)?Ct(s)&&(b.axis=Object.assign({formatType:O},b.axis)):b.legend=Object.assign({formatType:O},b.legend))}o[s]=b}else n.push(l),o[s]=e[s]}else o[s]=e[s]})),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:o}}function Mo(e,t,n,i){return N(e).reduce((function(o,u){if(!yt(u))return jr(r.invalidEncodingChannel(u)),o;var c=e[u];if("angle"!==u||"arc"!==t||e.theta||(jr(r.REPLACE_ANGLE_WITH_THETA),u=Qe),!function(e,t,n){var r=zt(t,n);if(!r)return!1;if("binned"===r){var i=e[t===Je?Ve:Ye];return!!(Da(i)&&Da(e[t])&&Ht(i.bin))}return!0}(e,u,t))return jr(r.incompatibleChannel(u,t)),o;if(u===at&&"line"===t){var s=ro(e[u]);if(null===s||void 0===s?void 0:s.aggregate)return jr(r.LINE_WITH_VARYING_SIZE),o}if(u===tt&&(n?"fill"in e:"stroke"in e))return jr(r.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),o;if("detail"===u||"order"===u&&!Object(a.A)(c)&&!Ra(c)||"tooltip"===u&&Object(a.A)(c))c&&(o[u]=Object(a.i)(c).reduce((function(e,t){return Da(t)?e.push(uo(t,u)):jr(r.emptyFieldDef(t,u)),e}),[]));else{if("tooltip"===u&&null===c)o[u]=null;else if(!Da(c)&&!Ta(c)&&!Ra(c)&&!Ea(c)&&!Hr(c))return jr(r.emptyFieldDef(c,u)),o;o[u]=ao(c,u,i)}return o}),{})}function Po(e,t){return N(e).reduce((function(n,r){var i=ao(e[r],r,t,{compositeMark:!0});return n[r]=i,n}),{})}function No(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,u=N(e)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=o.value;if(Do(e,c)){var s=e[c],l=Object(a.i)(s),f=!0,d=!1,h=void 0;try{for(var p,v=l[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;Da(g)?t.push(g):Aa(g)&&t.push(g.condition)}}catch(m){d=!0,h=m}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}}}catch(m){r=!0,i=m}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}function Bo(e,t,n){if(e){var r=!0,i=!1,o=void 0;try{for(var u,c=N(e)[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value,l=e[s];if(Object(a.A)(l)){var f=!0,d=!1,h=void 0;try{for(var p,v=l[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;t.call(n,g,s)}}catch(m){d=!0,h=m}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}else t.call(n,l,s)}}catch(m){i=!0,o=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}}}function Ro(e,t,n,r){return e?N(e).reduce((function(n,i){var o=e[i];return Object(a.A)(o)?o.reduce((function(e,n){return t.call(r,e,n,i)}),n):t.call(r,n,o,i)}),n):n}function zo(e,t){return N(t).reduce((function(n,r){switch(r){case Ve:case Ye:case"href":case"description":case"url":case Je:case Xe:case Qe:case et:case Ze:case"radius2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case it:case"angle":case"tooltip":return n;case"order":if("line"===e||"trail"===e)return n;case"detail":case"key":var i=t[r];if(Object(a.A)(i)||Da(i)){var o=!0,u=!1,c=void 0;try{for(var s,l=Object(a.i)(i)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;f.aggregate||n.push(Ha(f,{}))}}catch(h){u=!0,c=h}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}return n;case at:if("trail"===e)return n;case tt:case nt:case rt:case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeDash":case"strokeWidth":var d=ro(t[r]);return d&&!d.aggregate&&n.push(Ha(d,{})),n}}),[])}function Lo(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("tooltip"in n)return{tooltip:n.tooltip};var i=e.map((function(e){var n=e.fieldPrefix,i=e.titlePrefix,a=r?" of ".concat(Io(t)):"";return{field:n+t.field,type:t.type,title:Hr(i)?{signal:i+'"'.concat(escape(a),'"')}:i+a}})),a=No(n).map(qa);return{tooltip:[].concat(Object(o.a)(i),Object(o.a)(D(a,j)))}}function Io(e){return J(e.title,e.field)}function Uo(e,t,n,r,i){var o=n.scale,u=n.axis;return function(c){var s=c.partName,l=c.mark,f=c.positionPrefix,d=c.endPositionPrefix,h=void 0===d?void 0:d,p=c.extraEncoding,v=void 0===p?{}:p,g=Io(n);return qo(e,s,i,{mark:l,encoding:Object.assign(Object.assign(Object.assign(Object(Be.a)({},t,Object.assign(Object.assign(Object.assign({field:f+"_"+n.field,type:n.type},void 0!==g?{title:g}:{}),void 0!==o?{scale:o}:{}),void 0!==u?{axis:u}:{})),Object(a.H)(h)?Object(Be.a)({},t+"2",{field:h+"_"+n.field}):{}),r),v)})}}function qo(e,t,n,r){var i=e.clip,o=e.color,u=e.opacity,c=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),o?{color:o}:{}),u?{opacity:u}:{}),Ae(r.mark)?r.mark:{type:r.mark}),{style:"".concat(c,"-").concat(t)}),Object(a.B)(e[t])?{}:e[t])})]:[]}function $o(e,t,n){var r=e.encoding,i="vertical"===t?"y":"x",a=r[i],o=r[i+"2"],u=r[i+"Error"],c=r[i+"Error2"];return{continuousAxisChannelDef:Ho(a,n),continuousAxisChannelDef2:Ho(o,n),continuousAxisChannelDefError:Ho(u,n),continuousAxisChannelDefError2:Ho(c,n),continuousAxis:i}}function Ho(e,t){if(e&&e.aggregate){var n=e.aggregate,i=u(e,["aggregate"]);return n!==t&&jr(r.errorBarContinuousAxisHasCustomizedAggregate(n,t)),i}return e}function Wo(e,t){var n=e.mark,r=e.encoding,i=r.x,a=r.y;if(Ae(n)&&n.orient)return n.orient;if(Ma(i)){if(Ma(a)){var o=Da(i)&&i.aggregate,u=Da(a)&&a.aggregate;if(o||u!==t){if(u||o!==t){if(o===t&&u===t)throw new Error("Both x and y cannot have aggregate");return fo(a)&&!fo(i)?"horizontal":"vertical"}return"horizontal"}return"vertical"}return"horizontal"}if(Ma(a))return"vertical";throw new Error("Need a valid continuous axis for ".concat(t,"s"))}var Go=new Ne("boxplot",Vo);function Ko(e){return Object(a.E)(e)?"tukey":e}function Vo(e,t){var n,i,c=t.config,s=e=Object.assign(Object.assign({},e),{encoding:Po(e.encoding,c)}),l=s.mark,f=(s.encoding,s.selection),d=(s.projection,u(e,["mark","encoding","selection","projection"])),h=Ae(l)?l:{type:l};f&&jr(r.selectionNotSupported("boxplot"));var p=null!==(n=h.extent)&&void 0!==n?n:c.boxplot.extent,v=Oo("size",h,c),g=Ko(p),m=function(e,t,n){var r=Wo(e,"boxplot"),i=$o(e,r,"boxplot"),c=i.continuousAxisChannelDef,s=i.continuousAxis,l=c.field,f=Ko(t),d=[].concat(Object(o.a)(Yo(l)),[{op:"median",field:l,as:"mid_box_"+l},{op:"min",field:l,as:("min-max"===f?"lower_whisker_":"min_")+l},{op:"max",field:l,as:("min-max"===f?"upper_whisker_":"max_")+l}]),h="min-max"===f||"tukey"===f?[]:[{calculate:'datum["upper_box_'.concat(l,'"] - datum["lower_box_').concat(l,'"]'),as:"iqr_"+l},{calculate:'min(datum["upper_box_'.concat(l,'"] + datum["iqr_').concat(l,'"] * ').concat(t,', datum["max_').concat(l,'"])'),as:"upper_whisker_"+l},{calculate:'max(datum["lower_box_'.concat(l,'"] - datum["iqr_').concat(l,'"] * ').concat(t,', datum["min_').concat(l,'"])'),as:"lower_whisker_"+l}],p=e.encoding,v=s,g=(p[v],function(e){var t,n,r=e.tooltip,i=u(e,["tooltip"]);if(!r)return{filteredEncoding:i};if(Object(a.A)(r)){var o=!0,c=!1,s=void 0;try{for(var l,f=r[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var d=l.value;d.aggregate?(t||(t=[]),t.push(d)):(n||(n=[]),n.push(d))}}catch(h){c=!0,s=h}finally{try{o||null==f.return||f.return()}finally{if(c)throw s}}t&&(i.tooltip=t)}else r.aggregate?i.tooltip=r:n=r;return Object(a.A)(n)&&1===n.length&&(n=n[0]),{customTooltipWithoutAggregatedField:n,filteredEncoding:i}}(u(p,["symbol"===typeof v?v:v+""]))),m=g.customTooltipWithoutAggregatedField,y=To(g.filteredEncoding,n),b=y.bins,x=y.timeUnits,w=y.aggregate,O=y.groupby,k=y.encoding,j="vertical"===r?"horizontal":"vertical",_=r,S=[].concat(Object(o.a)(b),Object(o.a)(x),[{aggregate:[].concat(Object(o.a)(w),Object(o.a)(d)),groupby:O}],h);return{bins:b,timeUnits:x,transform:S,groupby:O,aggregate:w,continuousAxisChannelDef:c,continuousAxis:s,encodingWithoutContinuousAxis:k,ticksOrient:j,boxOrient:_,customTooltipWithoutAggregatedField:m}}(e,p,c),y=m.bins,b=m.timeUnits,x=m.transform,w=m.continuousAxisChannelDef,k=m.continuousAxis,j=m.groupby,_=m.aggregate,S=m.encodingWithoutContinuousAxis,E=m.ticksOrient,A=m.boxOrient,C=m.customTooltipWithoutAggregatedField,D=(S.color,S.size),F=u(S,["color","size"]),T=function(e){return Uo(h,k,w,e,c.boxplot)},M=T(F),N=T(S),B=T(Object.assign(Object.assign({},F),D?{size:D}:{})),R=Lo([{fieldPrefix:"min-max"===g?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===g?"lower_whisker_":"min_",titlePrefix:"Min"}],w,S),z={type:"tick",color:"black",opacity:1,orient:E,invalid:null,aria:!1},L="min-max"===g?R:Lo([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],w,S),I=[].concat(Object(o.a)(M({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:L})),Object(o.a)(M({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:L})),Object(o.a)(M({partName:"ticks",mark:z,positionPrefix:"lower_whisker",extraEncoding:L})),Object(o.a)(M({partName:"ticks",mark:z,positionPrefix:"upper_whisker",extraEncoding:L}))),U=[].concat(Object(o.a)("tukey"!==g?I:[]),Object(o.a)(N({partName:"box",mark:Object.assign(Object.assign({type:"bar"},v?{size:v}:{}),{orient:A,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:R})),Object(o.a)(B({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},Object(a.F)(c.boxplot.median)&&c.boxplot.median.color?{color:c.boxplot.median.color}:{}),v?{size:v}:{}),{orient:E,aria:!1}),positionPrefix:"mid_box",extraEncoding:R})));if("min-max"===g)return Object.assign(Object.assign({},d),{transform:(null!==(i=d.transform)&&void 0!==i?i:[]).concat(x),layer:U});var q,$,H='datum["lower_box_'.concat(w.field,'"]'),W='datum["upper_box_'.concat(w.field,'"]'),G="(".concat(W," - ").concat(H,")"),K="".concat(H," - ").concat(p," * ").concat(G),V="".concat(W," + ").concat(p," * ").concat(G),Y='datum["'.concat(w.field,'"]'),J={joinaggregate:Yo(w.field),groupby:j},X={transform:[{filter:"(".concat(K," <= ").concat(Y,") && (").concat(Y," <= ").concat(V,")")},{aggregate:[{op:"min",field:w.field,as:"lower_whisker_"+w.field},{op:"max",field:w.field,as:"upper_whisker_"+w.field},{op:"min",field:"lower_box_"+w.field,as:"lower_box_"+w.field},{op:"max",field:"upper_box_"+w.field,as:"upper_box_"+w.field}].concat(Object(o.a)(_)),groupby:j}],layer:I},Z=(F.tooltip,u(F,["tooltip"])),Q=w.scale,ee=w.axis,te=Io(w),ne=O(ee,["title"]),re=qo(h,"outliers",c.boxplot,{transform:[{filter:"(".concat(Y," < ").concat(K,") || (").concat(Y," > ").concat(V,")")}],mark:"point",encoding:Object.assign(Object.assign(Object(Be.a)({},k,Object.assign(Object.assign(Object.assign({field:w.field,type:w.type},void 0!==te?{title:te}:{}),void 0!==Q?{scale:Q}:{}),P(ne)?{}:{axis:ne})),Z),C?{tooltip:C}:{})})[0],ie=[].concat(Object(o.a)(y),Object(o.a)(b),[J]);re?q={transform:ie,layer:[re,X]}:($=(q=X).transform).unshift.apply($,Object(o.a)(ie));return Object.assign(Object.assign({},d),{layer:[q,{transform:x,layer:U}]})}function Yo(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}var Jo=new Ne("errorbar",Xo);function Xo(e,t){var n=t.config,r=Qo(e=Object.assign(Object.assign({},e),{encoding:Po(e.encoding,n)}),"errorbar",n),i=r.transform,a=r.continuousAxisChannelDef,u=r.continuousAxis,c=r.encodingWithoutContinuousAxis,s=r.ticksOrient,l=r.markDef,f=r.outerSpec,d=r.tooltipEncoding;delete c.size;var h=Uo(l,u,a,c,n.errorbar),p=l.thickness,v=l.size,g=Object.assign(Object.assign({type:"tick",orient:s,aria:!1},void 0!==p?{thickness:p}:{}),void 0!==v?{size:v}:{}),m=[].concat(Object(o.a)(h({partName:"ticks",mark:g,positionPrefix:"lower",extraEncoding:d})),Object(o.a)(h({partName:"ticks",mark:g,positionPrefix:"upper",extraEncoding:d})),Object(o.a)(h({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},void 0!==p?{size:p}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:d})));return Object.assign(Object.assign(Object.assign({},f),{transform:i}),m.length>1?{layer:m}:Object.assign({},m[0]))}function Zo(e,t){var n=e.encoding;if(function(e){return(Na(e.x)||Na(e.y))&&!Na(e.x2)&&!Na(e.y2)&&!Na(e.xError)&&!Na(e.xError2)&&!Na(e.yError)&&!Na(e.yError2)}(n))return{orient:Wo(e,t),inputType:"raw"};var r=function(e){return Na(e.x2)||Na(e.y2)}(n),i=function(e){return Na(e.xError)||Na(e.xError2)||Na(e.yError)||Na(e.yError2)}(n),a=n.x,o=n.y;if(r){if(i)throw new Error("".concat(t," cannot be both type aggregated-upper-lower and aggregated-error"));var u=n.x2,c=n.y2;if(Na(u)&&Na(c))throw new Error("".concat(t," cannot have both x2 and y2"));if(Na(u)){if(Ma(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in ".concat(t))}if(Na(c)){if(Ma(o))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in ".concat(t))}throw new Error("No ranged axis")}var s=n.xError,l=n.xError2,f=n.yError,d=n.yError2;if(Na(l)&&!Na(s))throw new Error("".concat(t," cannot have xError2 without xError"));if(Na(d)&&!Na(f))throw new Error("".concat(t," cannot have yError2 without yError"));if(Na(s)&&Na(f))throw new Error("".concat(t," cannot have both xError and yError with both are quantiative"));if(Na(s)){if(Ma(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(Na(f)){if(Ma(o))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}function Qo(e,t,n){var i,a=e.mark,c=e.encoding,s=e.selection,l=(e.projection,u(e,["mark","encoding","selection","projection"])),f=Ae(a)?a:{type:a};s&&jr(r.selectionNotSupported(t));var d=Zo(e,t),h=d.orient,p=d.inputType,v=$o(e,h,t),g=v.continuousAxisChannelDef,m=v.continuousAxisChannelDef2,y=v.continuousAxisChannelDefError,b=v.continuousAxisChannelDefError2,x=v.continuousAxis,w=function(e,t,n,i,a,o,u,c){var s,l=[],f=[],d=t.field,h=!1;if("raw"===o){var p,v,g,m=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":c.errorbar.center,y=e.extent?e.extent:"mean"===m?"stderr":"iqr";if("median"===m!==("iqr"===y)&&jr(r.errorBarCenterIsUsedWithWrongExtent(m,y,u)),"stderr"===y||"stdev"===y)l=[{op:y,field:d,as:"extent_"+d},{op:m,field:d,as:"center_"+d}],f=[{calculate:'datum["center_'.concat(d,'"] + datum["extent_').concat(d,'"]'),as:"upper_"+d},{calculate:'datum["center_'.concat(d,'"] - datum["extent_').concat(d,'"]'),as:"lower_"+d}],s=[{fieldPrefix:"center_",titlePrefix:q(m)},{fieldPrefix:"upper_",titlePrefix:eu(m,y,"+")},{fieldPrefix:"lower_",titlePrefix:eu(m,y,"-")}],h=!0;else"ci"===y?(p="mean",v="ci0",g="ci1"):(p="median",v="q1",g="q3"),l=[{op:v,field:d,as:"lower_"+d},{op:g,field:d,as:"upper_"+d},{op:p,field:d,as:"center_"+d}],s=[{fieldPrefix:"upper_",titlePrefix:Za({field:d,aggregate:g,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Za({field:d,aggregate:v,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Za({field:d,aggregate:p,type:"quantitative"},c,{allowDisabling:!1})}]}else{(e.center||e.extent)&&jr(r.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===o?(s=[],f=[{calculate:'datum["'.concat(n.field,'"]'),as:"upper_"+d},{calculate:'datum["'.concat(d,'"]'),as:"lower_"+d}]):"aggregated-error"===o&&(s=[{fieldPrefix:"",titlePrefix:d}],f=[{calculate:'datum["'.concat(d,'"] + datum["').concat(i.field,'"]'),as:"upper_"+d}],a?f.push({calculate:'datum["'.concat(d,'"] + datum["').concat(a.field,'"]'),as:"lower_"+d}):f.push({calculate:'datum["'.concat(d,'"] - datum["').concat(i.field,'"]'),as:"lower_"+d}));var b=!0,x=!1,w=void 0;try{for(var O,k=f[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var j=O.value;s.push({fieldPrefix:j.as.substring(0,6),titlePrefix:K(K(j.calculate,'datum["',""),'"]',"")})}}catch(_){x=!0,w=_}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}}return{postAggregateCalculates:f,errorBarSpecificAggregate:l,tooltipSummary:s,tooltipTitleWithFieldName:h}}(f,g,m,y,b,p,t,n),O=w.errorBarSpecificAggregate,k=w.postAggregateCalculates,j=w.tooltipSummary,_=w.tooltipTitleWithFieldName,S=c,E=x,A=(S[E],"x"===x?"x2":"y2"),C=(S[A],"x"===x?"xError":"yError"),D=(S[C],"x"===x?"xError2":"yError2"),F=(S[D],To(u(S,["symbol"===typeof E?E:E+"","symbol"===typeof A?A:A+"","symbol"===typeof C?C:C+"","symbol"===typeof D?D:D+""]),n)),T=F.bins,M=F.timeUnits,P=F.aggregate,N=F.groupby,B=F.encoding,R=[].concat(Object(o.a)(P),Object(o.a)(O)),z="raw"!==p?[]:N,L=Lo(j,g,B,_);return{transform:[].concat(Object(o.a)(null!==(i=l.transform)&&void 0!==i?i:[]),Object(o.a)(T),Object(o.a)(M),Object(o.a)(0===R.length?[]:[{aggregate:R,groupby:z}]),Object(o.a)(k)),groupby:z,continuousAxisChannelDef:g,continuousAxis:x,encodingWithoutContinuousAxis:B,ticksOrient:"vertical"===h?"horizontal":"vertical",markDef:f,outerSpec:l,tooltipEncoding:L}}function eu(e,t,n){return q(e)+" "+n+" "+t}var tu=new Ne("errorband",nu);function nu(e,t){var n=t.config,i=Qo(e=Object.assign(Object.assign({},e),{encoding:Po(e.encoding,n)}),"errorband",n),a=i.transform,u=i.continuousAxisChannelDef,c=i.continuousAxis,s=i.encodingWithoutContinuousAxis,l=i.markDef,f=i.outerSpec,d=i.tooltipEncoding,h=l,p=Uo(h,c,u,s,n.errorband),v=void 0!==e.encoding.x&&void 0!==e.encoding.y,g={type:v?"area":"rect"},m={type:v?"line":"rule"},y=Object.assign(Object.assign({},h.interpolate?{interpolate:h.interpolate}:{}),h.tension&&h.interpolate?{tension:h.tension}:{});return v?(g=Object.assign(Object.assign(Object.assign({},g),y),{ariaRoleDescription:"errorband"}),m=Object.assign(Object.assign(Object.assign({},m),y),{aria:!1})):h.interpolate?jr(r.errorBand1DNotSupport("interpolate")):h.tension&&jr(r.errorBand1DNotSupport("tension")),Object.assign(Object.assign({},f),{transform:a,layer:[].concat(Object(o.a)(p({partName:"band",mark:g,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:d})),Object(o.a)(p({partName:"borders",mark:m,positionPrefix:"lower",extraEncoding:d})),Object(o.a)(p({partName:"borders",mark:m,positionPrefix:"upper",extraEncoding:d})))})}var ru={};function iu(e,t,n){var r=new Ne(e,t);ru[e]={normalizer:r,parts:n}}iu("boxplot",Vo,["box","median","outliers","rule","ticks"]),iu("errorbar",Xo,["ticks","rule"]),iu("errorband",nu,["band","borders"]);var au=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],ou=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],uu={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},cu={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},su=(N(cu),{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}});function lu(e){return!!e&&("legend"===e||!!e.legend)}function fu(e){return lu(e)&&Object(a.F)(e)}function du(e){return"concat"in e}function hu(e){return"vconcat"in e}function pu(e){return"hconcat"in e}function vu(e){return Object(a.F)(e)&&void 0!==e.step}function gu(e){return e.view||e.width||e.height}var mu=N({align:1,bounds:1,center:1,columns:1,spacing:1});function yu(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e["width"===t?"continuousWidth":"continuousHeight"]}function bu(e,t){var n=xu(e,t);return vu(n)?n.step:wu}function xu(e,t){var n;return J(null!==(n=e[t])&&void 0!==n?n:e["width"===t?"discreteWidth":"discreteHeight"],{step:e.step})}var wu=20;var Ou={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:wu},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:Te,circle:{},geoshape:{},image:{},line:{},point:{},rect:Me,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:su,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},ku=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],ju={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},_u={blue:ku[0],orange:ku[1],red:ku[2],teal:ku[3],green:ku[4],yellow:ku[5],purple:ku[6],pink:ku[7],brown:ku[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:Object(a.F)(e)?Object.assign(Object.assign({},_u),e):_u}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Eu(e){return{signals:[{name:"fontSize",value:Object(a.F)(e)?Object.assign(Object.assign({},ju),e):ju}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function Au(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.font,r=e.fontSize,i=u(e,["color","font","fontSize"]);return Object(a.N)({},Ou,n?Au(n):{},t?Su(t):{},r?Eu(r):{},i||{})}var Du=["view"].concat(Object(o.a)(Ee)),Fu=["color","fontSize","background","padding","facet","concat","numberFormat","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],Tu=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});function Mu(e){e=x(e);var t=!0,n=!1,r=void 0;try{for(var i,o=Fu[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){delete e[i.value]}}catch(V){n=!0,r=V}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}if(e.axis)for(var u in e.axis)ne(e.axis[u])&&delete e.axis[u];if(e.legend){var c=!0,s=!1,l=void 0;try{for(var f,d=au[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value;delete e.legend[h]}}catch(V){s=!0,l=V}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}}if(e.mark){var p=!0,v=!1,g=void 0;try{for(var m,y=De[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;delete e.mark[b]}}catch(V){v=!0,g=V}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}e.mark.tooltip&&Object(a.F)(e.mark.tooltip)&&delete e.mark.tooltip}var w=!0,O=!1,k=void 0;try{for(var j,_=Du[Symbol.iterator]();!(w=(j=_.next()).done);w=!0){var S=j.value,E=!0,A=!1,C=void 0;try{for(var D,F=De[Symbol.iterator]();!(E=(D=F.next()).done);E=!0){var T=D.value;delete e[S][T]}}catch(V){A=!0,C=V}finally{try{E||null==F.return||F.return()}finally{if(A)throw C}}var M=Tu[S];if(M){var B=!0,R=!1,z=void 0;try{for(var L,I=M[Symbol.iterator]();!(B=(L=I.next()).done);B=!0){var U=L.value;delete e[S][U]}}catch(V){R=!0,z=V}finally{try{B||null==I.return||I.return()}finally{if(R)throw z}}}Pu(e,S)}}catch(V){O=!0,k=V}finally{try{w||null==_.return||_.return()}finally{if(O)throw k}}var q=!0,$=!1,H=void 0;try{for(var W,G=N(ru)[Symbol.iterator]();!(q=(W=G.next()).done);q=!0){delete e[W.value]}}catch(V){$=!0,H=V}finally{try{q||null==G.return||G.return()}finally{if($)throw H}}for(var K in function(e){var t=go(e.title),n=t.titleMarkConfig,r=t.subtitleMarkConfig,i=t.subtitle;P(n)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),n));P(r)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),r));P(i)?delete e.title:e.title=i}(e),e)Object(a.F)(e[K])&&P(e[K])&&delete e[K];return P(e)?void 0:e}function Pu(e,t,n,r){var i=r?e[t][r]:e[t];"view"===t&&(n="cell");var a=Object.assign(Object.assign({},i),e.style[null!==n&&void 0!==n?n:t]);P(a)||(e.style[null!==n&&void 0!==n?n:t]=a),r||delete e[t]}function Nu(e){return"layer"in e}var Bu=n(78),Ru=n(45);function zu(e,t){return!t||"object"!==Object(Bu.a)(t)&&"function"!==typeof t?Object(Ru.a)(e):t}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iu(e,t,n){return(Iu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lu(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Uu(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}var qu=function(){function e(){Object(ce.a)(this,e)}return Object(se.a)(e,[{key:"map",value:function(e,t){return Oa(e)?this.mapFacet(e,t):function(e){return"repeat"in e}(e)?this.mapRepeat(e,t):pu(e)?this.mapHConcat(e,t):hu(e)?this.mapVConcat(e,t):du(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}},{key:"mapLayerOrUnit",value:function(e,t){if(Nu(e))return this.mapLayer(e,t);if(Pe(e))return this.mapUnit(e,t);throw new Error(r.invalidSpec(e))}},{key:"mapLayer",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{layer:e.layer.map((function(e){return n.mapLayerOrUnit(e,t)}))})}},{key:"mapHConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapVConcat",value:function(e,t){var n=this;return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map((function(e){return n.map(e,t)}))})}},{key:"mapConcat",value:function(e,t){var n=this,r=e.concat,i=u(e,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map((function(e){return n.map(e,t)}))})}},{key:"mapFacet",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}},{key:"mapRepeat",value:function(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}]),e}(),$u={zero:1,center:1,normalize:1};function Hu(e){return e in $u}var Wu=new Set([fe,he,de,ye,ge,Oe,ke,ve,be,xe]),Gu=new Set([he,de,fe]);function Ku(e,t){var n,r,i="x"===t?"y":"radius",a=e[t],o=e[i];if(Da(a)&&Da(o))if("quantitative"===Fa(a)&&"quantitative"===Fa(o)){if(a.stack)return t;if(o.stack)return i;var u=Da(a)&&!!a.aggregate;if(u!==(Da(o)&&!!o.aggregate))return u?t:i;var c=null===(n=a.scale)||void 0===n?void 0:n.type,s=null===(r=o.scale)||void 0===r?void 0:r.type;if(c&&"linear"!==c)return i;if(s&&"linear"!==s)return t}else{if("quantitative"===Fa(a))return t;if("quantitative"===Fa(o))return i}else{if("quantitative"===Fa(a))return t;if("quantitative"===Fa(o))return i}}function Vu(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function Yu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Ae(e)?e.type:e;if(!Wu.has(i))return null;var o=Ku(t,"x")||Ku(t,"theta");if(!o)return null;var u=t[o],c=Da(u)?Ha(u,{}):void 0,s=Vu(o),l=t[s],f=Da(l)?Ha(l,{}):void 0;f===c&&(f=void 0,l=void 0,s=void 0);var d,h=St.reduce((function(e,n){if("tooltip"!==n&&Do(t,n)){var r=t[n],i=!0,o=!1,u=void 0;try{for(var c,s=Object(a.i)(r)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=ro(c.value);if(!l.aggregate){var d=Ha(l,{});d&&d===f||e.push({channel:n,fieldDef:l})}}}catch(h){o=!0,u=h}finally{try{i||null==s.return||s.return()}finally{if(o)throw u}}}return e}),[]);if(void 0!==u.stack?d=Object(a.B)(u.stack)?u.stack?"zero":null:u.stack:h.length>0&&Gu.has(i)&&(d="zero"),!d||!Hu(d))return null;if(Fo(t)&&0===h.length)return null;if(u.scale&&u.scale.type&&u.scale.type!==mi){if(n.disallowNonLinearStack)return null;jr(r.cannotStackNonLinearScale(u.scale.type))}return Na(t[kt(o)])?(void 0!==u.stack&&jr(r.cannotStackRangedMark(o)),null):(Da(u)&&u.aggregate&&!S(He,u.aggregate)&&jr(r.stackNonSummativeAggregate(u.aggregate)),{groupbyChannel:l?s:void 0,groupbyField:f,fieldChannel:o,impute:null!==u.impute&&_e(i),stackBy:h,offset:d})}function Ju(e){e.point,e.line;var t=u(e,["point","line"]);return N(t).length>1?t:t.type}function Xu(e){for(var t=0,n=["line","area","rule","trail"];t<n.length;t++){var r=n[t];e[r]&&(e=Object.assign(Object.assign({},e),Object(Be.a)({},r,O(e[r],["point","line"]))))}return e}function Zu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return"transparent"===e.point?{opacity:0}:e.point?Object(a.F)(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?Object(a.F)(t.point)?t.point:{}:void 0}function Qu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}var ec=function(){function e(){Object(ce.a)(this,e),this.name="path-overlay"}return Object(se.a)(e,[{key:"hasMatchingType",value:function(e,t){if(Pe(e)){var n=e.mark,r=e.encoding,i=Ae(n)?n:{type:n};switch(i.type){case"line":case"rule":case"trail":return!!Zu(i,t[i.type],r);case"area":return!!Zu(i,t[i.type],r)||!!Qu(i,t[i.type])}}return!1}},{key:"run",value:function(e,t,n){var r=t.config,i=e.selection,a=e.projection,o=e.mark,c=e.encoding,s=u(e,["selection","projection","mark","encoding"]),l=Po(c,r),f=Ae(o)?o:{type:o},d=Zu(f,r[f.type],l),h="area"===f.type&&Qu(f,r[f.type]),p=[Object.assign(Object.assign({},i?{selection:i}:{}),{mark:Ju(Object.assign(Object.assign({},"area"===f.type&&void 0===f.opacity&&void 0===f.fillOpacity?{opacity:.7}:{}),f)),encoding:O(l,["shape"])})],v=Yu(f,l),g=l;if(v){var m=v.fieldChannel,y=v.offset;g=Object.assign(Object.assign({},l),Object(Be.a)({},m,Object.assign(Object.assign({},l[m]),y?{stack:y}:{})))}return h&&p.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"line"},w(f,["clip","interpolate","tension","tooltip"])),h),encoding:g})),d&&p.push(Object.assign(Object.assign({},a?{projection:a}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},w(f,["clip","tooltip"])),d),encoding:g})),n(Object.assign(Object.assign({},s),{layer:p}),Object.assign(Object.assign({},t),{config:Xu(r)}))}}]),e}(),tc=function(){function e(){Object(ce.a)(this,e),this.name="RangeStep"}return Object(se.a)(e,[{key:"hasMatchingType",value:function(e){var t;if(Pe(e)&&e.encoding){var n=!0,r=!1,i=void 0;try{for(var a,o=At[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=e.encoding[u];if(c&&Na(c)&&(null===(t=null===c||void 0===c?void 0:c.scale)||void 0===t?void 0:t.rangeStep))return!0}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}return!1}},{key:"run",value:function(e){var t,n={},i=Object.assign({},e.encoding),a=!0,o=!1,c=void 0;try{for(var s,l=At[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value,d=jt(f),h=i[f];if(h&&Na(h)&&(null===(t=null===h||void 0===h?void 0:h.scale)||void 0===t?void 0:t.rangeStep)){var p=h.scale,v=u(h,["scale"]),g=p,m=(g.rangeStep,u(g,["rangeStep"]));n[d]={step:p.rangeStep},jr(r.RANGE_STEP_DEPRECATED),i=Object.assign(Object.assign({},i),Object(Be.a)({},f,Object.assign(Object.assign({},v),P(m)?{}:{scale:m})))}}}catch(y){o=!0,c=y}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}return Object.assign(Object.assign(Object.assign({},n),e),{encoding:i})}}]),e}();function nc(e,t){return t?xa(e)?cc(e,t):ac(e,t):e}function rc(e,t){return t?cc(e,t):e}function ic(e,t,n){var i,o=t[e];return(i=o)&&!Object(a.H)(i)&&"repeat"in i?o.repeat in n?Object.assign(Object.assign({},t),Object(Be.a)({},e,n[o.repeat])):void jr(r.noSuchRepeatedValue(o.repeat)):t}function ac(e,t){if(void 0!==(e=ic("field",e,t))){if(null===e)return null;if(ja(e)&&ya(e.sort)){var n=ic("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function oc(e,t){if(Da(e))return ac(e,t);var n=ic("datum",e,t);return n===e||n.type||(n.type="nominal"),n}function uc(e,t){if(!Na(e)){if(Ca(e)){var n=oc(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});e.condition;return u(e,["condition"])}return e}var r=oc(e,t);return r||(Ea(e)?{condition:e.condition}:void 0)}function cc(e,t){var n={};for(var r in e)if(Object(a.v)(e,r)){var i=e[r];if(Object(a.A)(i))n[r]=i.map((function(e){return uc(e,t)})).filter((function(e){return e}));else{var o=uc(i,t);void 0!==o&&(n[r]=o)}}return n}var sc=function(){function e(){Object(ce.a)(this,e),this.name="RuleForRangedLine"}return Object(se.a)(e,[{key:"hasMatchingType",value:function(e){if(Pe(e)){var t=e.encoding;if("line"===e.mark){var n=!0,r=!1,i=void 0;try{for(var a,o=bt[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=t[wt(u)];if(t[u]&&(Da(c)&&!Ht(c.bin)||Ta(c)))return!0}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}return!1}},{key:"run",value:function(e,t,n){var i=e.encoding;return jr(r.lineWithRange(!!i.x2,!!i.y2)),n(Object.assign(Object.assign({},e),{mark:"rule"}),t)}}]),e}();function lc(e){var t=e.parentEncoding,n=e.encoding,r=void 0===n?{}:n,i=e.layer,u={};if(t){var c=new Set([].concat(Object(o.a)(N(t)),Object(o.a)(N(r)))),s=!0,l=!1,f=void 0;try{for(var d,h=c[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value,v=r[p],g=t[p];if(Na(v)){var m=Object.assign(Object.assign({},g),v);u[p]=m}else Ca(v)?u[p]=Object.assign(Object.assign({},v),{condition:Object.assign(Object.assign({},g),v.condition)}):v||null===v?u[p]=v:(i||Ra(g)||Hr(g)||Na(g)||Object(a.A)(g))&&(u[p]=g)}}catch(y){l=!0,f=y}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}else u=r;return!u||P(u)?void 0:u}function fc(e){var t=e.parentProjection,n=e.projection;return t&&n&&jr(r.projectionOverridden({parentProjection:t,projection:n})),null!==n&&void 0!==n?n:t}function dc(e,t){void 0===t&&(t=Cu(e.config));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hc.map(e,{config:t})}(e,t),i=function(e,t,n){var i=t.width,a=t.height,o=Pe(e)||Nu(e),u={};o?"container"==i&&"container"==a?(u.type="fit",u.contains="padding"):"container"==i?(u.type="fit-x",u.contains="padding"):"container"==a&&(u.type="fit-y",u.contains="padding"):("container"==i&&(jr(r.containerSizeNonSingle("width")),i=void 0),"container"==a&&(jr(r.containerSizeNonSingle("height")),a=void 0));var c=Object.assign(Object.assign(Object.assign({type:"pad"},u),n?pc(n.autosize):{}),pc(e.autosize));"fit"!==c.type||o||(jr(r.FIT_NON_SINGLE),c.type="pad");"container"==i&&"fit"!=c.type&&"fit-x"!=c.type&&jr(r.containerSizeNotCompatibleWithAutosize("width"));"container"==a&&"fit"!=c.type&&"fit-y"!=c.type&&jr(r.containerSizeNotCompatibleWithAutosize("height"));if(b(c,{type:"pad"}))return;return c}(n,{width:e.width,height:e.height,autosize:e.autosize},t);return Object.assign(Object.assign({},n),i?{autosize:i}:{})}var hc=new(function(e){function t(){var e;return Object(ce.a)(this,t),(e=zu(this,Lu(t).apply(this,arguments))).nonFacetUnitNormalizers=[Go,Jo,tu,new ec,new sc,new tc],e}return Uu(t,e),Object(se.a)(t,[{key:"map",value:function(e,n){if(Pe(e)){var r=Do(e.encoding,Ge),i=Do(e.encoding,Ke),a=Do(e.encoding,"facet");if(r||i||a)return this.mapFacetedUnit(e,n)}return Iu(Lu(t.prototype),"map",this).call(this,e,n)}},{key:"mapUnit",value:function(e,t){var n=t.parentEncoding,r=t.parentProjection,i=rc(e.encoding,t.repeater),a=Object.assign(Object.assign({},e),i?{encoding:i}:{});if(n||r)return this.mapUnitWithParentEncodingOrProjection(a,t);var o=this.mapLayerOrUnit.bind(this),u=!0,c=!1,s=void 0;try{for(var l,f=this.nonFacetUnitNormalizers[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;if(d.hasMatchingType(a,t.config))return d.run(a,t,o)}}catch(h){c=!0,s=h}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}return a}},{key:"mapRepeat",value:function(e,t){return function(e){return!Object(a.A)(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}},{key:"mapLayerRepeat",value:function(e,t){var n=this,r=e.repeat,i=e.spec,a=u(e,["repeat","spec"]),o=r.row,c=r.column,s=r.layer,l=t.repeater,f=void 0===l?{}:l,d=t.repeaterPrefix,h=void 0===d?"":d;return o||c?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),c?{column:c}:{}),spec:{repeat:{layer:s},spec:i}}),t):Object.assign(Object.assign({},a),{layer:s.map((function(e){var r=Object.assign(Object.assign({},f),{layer:e}),a=(i.name||"")+h+"child__layer_".concat(L(e)),o=n.mapLayerOrUnit(i,Object.assign(Object.assign({},t),{repeater:r,repeaterPrefix:a}));return o.name=a,o}))})}},{key:"mapNonLayerRepeat",value:function(e,t){var n,i=e,o=i.repeat,c=i.spec,s=i.data,l=u(e,["repeat","spec","data"]);!Object(a.A)(o)&&e.columns&&(e=O(e,["columns"]),jr(r.columnsNotSupportByRowCol("repeat")));var f=[],d=t.repeater,h=void 0===d?{}:d,p=t.repeaterPrefix,v=void 0===p?"":p,g=!Object(a.A)(o)&&o.row||[h?h.row:null],m=!Object(a.A)(o)&&o.column||[h?h.column:null],y=Object(a.A)(o)&&o||[h?h.repeat:null],b=!0,x=!1,w=void 0;try{for(var k,j=y[Symbol.iterator]();!(b=(k=j.next()).done);b=!0){var _=k.value,S=!0,E=!1,A=void 0;try{for(var C,D=g[Symbol.iterator]();!(S=(C=D.next()).done);S=!0){var F=C.value,T=!0,M=!1,P=void 0;try{for(var N,B=m[Symbol.iterator]();!(T=(N=B.next()).done);T=!0){var R=N.value,z={repeat:_,row:F,column:R,layer:h.layer},I=(c.name||"")+v+"child__"+(Object(a.A)(o)?"".concat(L(_)):(o.row?"row_".concat(L(F)):"")+(o.column?"column_".concat(L(R)):"")),U=this.map(c,Object.assign(Object.assign({},t),{repeater:z,repeaterPrefix:I}));U.name=I,f.push(O(U,["data"]))}}catch($){M=!0,P=$}finally{try{T||null==B.return||B.return()}finally{if(M)throw P}}}}catch($){E=!0,A=$}finally{try{S||null==D.return||D.return()}finally{if(E)throw A}}}}catch($){x=!0,w=$}finally{try{b||null==j.return||j.return()}finally{if(x)throw w}}var q=Object(a.A)(o)?e.columns:o.column?o.column.length:1;return Object.assign(Object.assign({data:null!==(n=c.data)&&void 0!==n?n:s,align:"all"},l),{columns:q,concat:f})}},{key:"mapFacet",value:function(e,n){return xa(e.facet)&&e.columns&&(e=O(e,["columns"]),jr(r.columnsNotSupportByRowCol("facet"))),Iu(Lu(t.prototype),"mapFacet",this).call(this,e,n)}},{key:"mapUnitWithParentEncodingOrProjection",value:function(e,t){var n=e.encoding,r=e.projection,i=t.parentEncoding,a=t.parentProjection,o=t.config,u=fc({parentProjection:a,projection:r}),c=lc({parentEncoding:i,encoding:rc(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),u?{projection:u}:{}),c?{encoding:c}:{}),{config:o})}},{key:"mapFacetedUnit",value:function(e,t){var n=e.encoding,r=n.row,i=n.column,a=n.facet,o=u(n,["row","column","facet"]),c=e.mark,s=e.width,l=e.projection,f=e.height,d=e.view,h=e.selection,p=(e.encoding,u(e,["mark","width","projection","height","view","selection","encoding"])),v=this.getFacetMappingAndLayout({row:r,column:i,facet:a},t),g=v.facetMapping,m=v.layout,y=rc(o,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},p),m),{facet:g,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s?{width:s}:{}),f?{height:f}:{}),d?{view:d}:{}),l?{projection:l}:{}),{mark:c,encoding:y}),h?{selection:h}:{})}),t)}},{key:"getFacetMappingAndLayout",value:function(e,t){var n,i=e.row,a=e.column,c=e.facet;if(i||a){c&&jr(r.facetChannelDropped([].concat(Object(o.a)(i?[Ge]:[]),Object(o.a)(a?[Ke]:[]))));for(var s={},l={},f=0,d=[Ge,Ke];f<d.length;f++){var h=d[f],p=e[h];if(p){p.align,p.center,p.spacing,p.columns;var v=u(p,["align","center","spacing","columns"]);s[h]=v;for(var g=0,m=["align","center","spacing"];g<m.length;g++){var y=m[g];void 0!==p[y]&&(l[y]=null!==(n=l[y])&&void 0!==n?n:{},l[y][h]=p[y])}}}return{facetMapping:s,layout:l}}var b=c.align,x=c.center,w=c.spacing,O=c.columns;return{facetMapping:nc(u(c,["align","center","spacing","columns"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},b?{align:b}:{}),x?{center:x}:{}),w?{spacing:w}:{}),O?{columns:O}:{})}}},{key:"mapLayer",value:function(e,n){var r=n.parentEncoding,i=n.parentProjection,a=u(n,["parentEncoding","parentProjection"]),o=e.encoding,c=e.projection,s=u(e,["encoding","projection"]),l=Object.assign(Object.assign({},a),{parentEncoding:lc({parentEncoding:r,encoding:o,layer:!0}),parentProjection:fc({parentProjection:i,projection:c})});return Iu(Lu(t.prototype),"mapLayer",this).call(this,s,l)}}]),t}(qu));function pc(e){return Object(a.H)(e)?{type:e}:null!==e&&void 0!==e?e:{}}var vc=["background","padding"];function gc(e){return vc.reduce((function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t}),{})}var mc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(ce.a)(this,e),this.explicit=t,this.implicit=n}return Object(se.a)(e,[{key:"clone",value:function(){return new e(x(this.explicit),x(this.implicit))}},{key:"combine",value:function(){return Object.assign(Object.assign({},this.explicit),this.implicit)}},{key:"get",value:function(e){return J(this.explicit[e],this.implicit[e])}},{key:"getWithExplicit",value:function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}},{key:"setWithExplicit",value:function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}},{key:"set",value:function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}},{key:"copyKeyFromSplit",value:function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}},{key:"copyKeyFromObject",value:function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}},{key:"copyAll",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=N(e.combine())[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=e.getWithExplicit(o);this.setWithExplicit(o,u)}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}}]),e}();function yc(e){return{explicit:!0,value:e}}function bc(e){return{explicit:!1,value:e}}function xc(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:wc(t,n,r,i)}}function wc(e,t,n,i){return e.explicit&&t.explicit&&jr(r.mergeConflictingProperty(n,i,e.value,t.value)),e}function Oc(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wc;return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:b(e.value,t.value)?e:i(e,t,n,r)}var kc,jc=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(ce.a)(this,t),(e=zu(this,Lu(t).call(this,n,r))).explicit=n,e.implicit=r,e.parseNothing=i,e}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){var e=Iu(Lu(t.prototype),"clone",this).call(this);return e.parseNothing=this.parseNothing,e}}]),t}(mc);function _c(e){return"url"in e}function Sc(e){return"values"in e}function Ec(e){return"name"in e&&!_c(e)&&!Sc(e)&&!Ac(e)}function Ac(e){return e&&(Cc(e)||Dc(e)||Fc(e))}function Cc(e){return"sequence"in e}function Dc(e){return"sphere"in e}function Fc(e){return"graticule"in e}function Tc(e){return"filter"in e}function Mc(e){return"lookup"in e}function Pc(e){return"pivot"in e}function Nc(e){return"density"in e}function Bc(e){return"quantile"in e}function Rc(e){return"regression"in e}function zc(e){return"loess"in e}function Lc(e){return"sample"in e}function Ic(e){return"window"in e}function Uc(e){return"joinaggregate"in e}function qc(e){return"flatten"in e}function $c(e){return"calculate"in e}function Hc(e){return"bin"in e}function Wc(e){return"impute"in e}function Gc(e){return"timeUnit"in e}function Kc(e){return"aggregate"in e}function Vc(e){return"stack"in e}function Yc(e){return"fold"in e}!function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"}(kc||(kc={}));var Jc=n(50);function Xc(e,t,n,r){var i=Ea(t)&&t.condition,u=r(t);if(i){var c=Object(a.i)(i).map((function(t){var n=r(t),i=function(e){return e.selection}(t)?sl(e,t.selection):fl(e,t.test);return Object.assign({test:i},n)}));return Object(Be.a)({},n,[].concat(Object(o.a)(c),Object(o.a)(void 0!==u?[u]:[])))}return void 0!==u?Object(Be.a)({},n,u):{}}function Zc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=e.encoding[t];return Xc(e,n,t,(function(t){return Qc(t,e.config)}))}function Qc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"datum";if(e){if(Ra(e))return yo(e.value);if(Na(e)){var r=to(e),i=r.format,a=r.formatType;return oa({fieldOrDatumDef:e,format:i,formatType:a,expr:n,config:t})}}}function es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.encoding,r=e.markDef,i=e.config,o=e.stack,u=n.tooltip;if(Object(a.A)(u))return{tooltip:ns({tooltip:u},o,i,t)};var c=t.reactiveGeom?"datum.datum":"datum";return Xc(e,u,"tooltip",(function(e){var u=Qc(e,i,c);if(u)return u;if(null!==e){var s=Oo("tooltip",r,i);return!0===s&&(s={content:"encoding"}),Object(a.H)(s)?{value:s}:Object(a.F)(s)?Hr(s)?s:"encoding"===s.content?ns(n,o,i,t):{signal:c}:void 0}}))}function ts(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,o={},u=i?"datum.datum":"datum",c=[];function s(r,i){var s,l=wt(i),f=Ba(r)?r:Object.assign(Object.assign({},r),{type:e[l].type}),d=f.title||eo(f,n),h=Object(a.i)(d).join(", ");if(Ct(i)){var p="x"===i?"x2":"y2",v=ro(e[p]);if(Ht(f.bin)&&v){var g=Ha(f,{expr:u}),m=Ha(v,{expr:u}),y=to(f);s=pa(g,m,y.format,y.formatType,n),o[p]=!0}else if(t&&t.fieldChannel===i&&"normalize"===t.offset){var b=to(f);s=oa({fieldOrDatumDef:f,format:b.format,formatType:b.formatType,expr:u,config:n,normalizeStack:!0}).signal}}s=null!==s&&void 0!==s?s:Qc(f,n,u).signal,c.push({channel:i,key:h,value:s})}Bo(e,(function(e,t){Da(e)?s(e,t):Aa(e)&&s(e.condition,t)}));for(var l={},f=0,d=c;f<d.length;f++){var h=d[f],p=h.channel,v=h.key,g=h.value;o[p]||l[v]||(l[v]=g)}return l}function ns(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.reactiveGeom,a=ts(e,t,n,{reactiveGeom:i}),o=R(a).map((function(e){var t=e.key,n=e.value;return'"'.concat(t,'": ').concat(n)}));return o.length>0?{signal:"{".concat(o.join(", "),"}")}:void 0}function rs(e){var t=Oo("aria",e.markDef,e.config);return!1===t?{}:Object.assign(Object.assign(Object.assign({},t?{aria:t}:{}),function(e){var t=e.mark,n=e.markDef,r=e.config;if(!1===r.aria)return{};var i=Oo("ariaRoleDescription",n,r);if(null!=i)return{ariaRoleDescription:{value:i}};return t in Vr?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){var t=e.encoding,n=e.markDef,r=e.config,i=e.stack,a=t.description;if(a)return Xc(e,a,"description",(function(t){return Qc(t,e.config)}));var o=Oo("description",n,r);if(null!=o)return{description:yo(o)};if(!1===r.aria)return{};var u=ts(t,i,r);if(P(u))return;return{description:{signal:R(u).map((function(e,t){var n=e.key,r=e.value;return'"'.concat(t>0?"; ":"").concat(n,': " + (').concat(r,")")})).join(" + ")}}}(e))}function is(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.markDef,i=t.encoding,a=t.config,o=n.vgChannel,u=n.defaultRef,c=n.defaultValue;void 0===u&&void 0!==(c=null!==c&&void 0!==c?c:Oo(e,r,a,{vgChannel:o,ignoreVgConfig:!0}))&&(u=yo(c));var s=i[e];return Xc(t,s,null!==o&&void 0!==o?o:e,(function(n){return na({channel:e,channelDef:n,markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u})}))}function as(e){var t,n,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{filled:void 0},u=e.markDef,c=e.encoding,s=e.config,l=u.type,f=null!==(t=o.filled)&&void 0!==t?t:Oo("filled",u,s),d=S(["bar","point","circle","square","geoshape"],l)?"transparent":void 0,h=null!==(i=null!==(n=Oo(!0===f?"color":void 0,u,s,{vgChannel:"fill"}))&&void 0!==n?n:s.mark[!0===f&&"color"])&&void 0!==i?i:d,p=null!==(a=Oo(!1===f?"color":void 0,u,s,{vgChannel:"stroke"}))&&void 0!==a?a:s.mark[!1===f&&"color"],v=f?"fill":"stroke",g=Object.assign(Object.assign({},h?{fill:yo(h)}:{}),p?{stroke:yo(p)}:{});return u.color&&(f?u.fill:u.stroke)&&jr(r.droppingColor("property",{fill:"fill"in u,stroke:"stroke"in u})),Object.assign(Object.assign(Object.assign(Object.assign({},g),is("color",e,{vgChannel:v,defaultValue:f?h:p})),is("fill",e,{defaultValue:c.fill?h:void 0})),is("stroke",e,{defaultValue:c.stroke?p:void 0}))}function os(e,t){var n=t[function(e){switch(e){case Ve:return"xOffset";case Ye:return"yOffset";case Je:return"x2Offset";case Xe:return"y2Offset";case Qe:return"thetaOffset";case Ze:return"radiusOffset";case et:return"theta2Offset";case"radius2":return"radius2Offset"}}(e)];if(n)return n}function us(e,t,n){var r=n.defaultPos,i=n.vgChannel,a=n.isMidPoint,o=t.encoding,u=t.markDef,c=t.config,s=t.stack,l=o[e],f=o[kt(e)],d=t.scaleName(e),h=t.getScaleComponent(e),p=os(e,u),v=cs({model:t,defaultPos:r,channel:e,scaleName:d,scale:h}),g=!l&&Ct(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){var t=e.channel,n=e.channelDef,r=e.isMidPoint,i=e.scaleName,a=e.stack,o=e.offset,u=e.markDef,c=e.config;if(Na(n)&&a&&t===a.fieldChannel){if(Da(n)){var s=_a({channel:t,fieldDef:n,isMidPoint:r,markDef:u,stack:a,config:c});if(void 0!==s)return ta({scaleName:i,fieldOrDatumDef:n,startSuffix:"start",band:s,offset:o})}return ea(n,i,{suffix:"end"},{offset:o})}return Ji(e)}({channel:e,channelDef:l,channel2Def:f,markDef:u,config:c,isMidPoint:a,scaleName:d,scale:h,stack:s,offset:p,defaultRef:v});return g?Object(Be.a)({},i||e,g):void 0}function cs(e){var t=e.model,n=e.defaultPos,r=e.channel,i=e.scaleName,a=e.scale,o=t.markDef,u=t.config;return function(){var e=wt(r),c=Ot(r),s=Oo(r,o,u,{vgChannel:c});if(void 0!==s)return ra(r,s);switch(n){case"zeroOrMin":case"zeroOrMax":if(i){var l=a.get("type");if(S([yi,Oi,ki],l));else if(a.domainDefinitelyIncludesZero())return{scale:i,value:0}}if("zeroOrMin"===n)return"y"===e?{field:{group:"height"}}:{value:0};switch(e){case"radius":return{signal:"min(".concat(t.width.signal,",").concat(t.height.signal,")/2")};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":var f=t[jt(r)];return Object.assign(Object.assign({},f),{mult:.5})}}}var ss={left:"x",center:"xc",right:"x2"},ls={top:"y",middle:"yc",bottom:"y2"};function fs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===e||"theta"===e)return Ot(e);var i="x"===e?"align":"baseline",a=Oo(i,t,n);return"x"===e?ss[a||("top"===r?"left":"center")]:ls[a||r]}function ds(e,t,n){var r=n.defaultPos,i=n.defaultPos2;return n.range?hs(e,t,{defaultPos:r,defaultPos2:i}):us(e,t,{defaultPos:r})}function hs(e,t,n){var r=n.defaultPos,i=n.defaultPos2,a=t.markDef,o=t.config,u=kt(e),c=jt(e),s=function(e,t,n){var r,i=e.encoding,a=e.mark,o=e.markDef,u=e.stack,c=e.config,s=wt(n),l=jt(n),f=Ot(n),d=i[s],h=e.scaleName(s),p=e.getScaleComponent(s),v=os(n in i||n in o?n:s,e.markDef);if(!d&&("x2"===n||"y2"===n)&&(i.latitude||i.longitude))return Object(Be.a)({},f,{field:e.getName(n)});var g=function(e){var t=e.channel,n=e.channelDef,r=e.channel2Def,i=e.markDef,a=e.config,o=e.scaleName,u=e.scale,c=e.stack,s=e.offset,l=e.defaultRef;if(Na(n)&&c&&t.charAt(0)===c.fieldChannel.charAt(0))return ea(n,o,{suffix:"start"},{offset:s});return Ji({channel:t,channelDef:r,scaleName:o,scale:u,stack:c,markDef:i,config:a,offset:s,defaultRef:l})}({channel:n,channelDef:d,channel2Def:i[n],markDef:o,config:c,scaleName:h,scale:p,stack:u,offset:v,defaultRef:void 0});if(void 0!==g)return Object(Be.a)({},f,g);return ps(n,o)||ps(n,(r={},Object(Be.a)(r,n,jo(n,o,c.style)),Object(Be.a)(r,l,jo(l,o,c.style)),r))||ps(n,c[a])||ps(n,c.mark)||Object(Be.a)({},f,cs({model:e,defaultPos:t,channel:n,scaleName:h,scale:p})())}(t,i,u),l=s[c]?fs(e,a,o):Ot(e);return Object.assign(Object.assign({},us(e,t,{defaultPos:r,vgChannel:l})),s)}function ps(e,t){var n=jt(e),r=Ot(e);return void 0!==t[r]?Object(Be.a)({},r,ra(e,t[r])):void 0!==t[e]?Object(Be.a)({},r,ra(e,t[e])):t[n]?Object(Be.a)({},n,ra(e,t[n])):void 0}function vs(e,t,n){var i,o,u,c,s=e.config,l=e.encoding,f=e.markDef,d=e.stack,h=kt(t),p=jt(t),v=l[t],g=l[h],m=e.getScaleComponent(t),y=m?m.get("type"):void 0,b=e.scaleName(t),x=f.orient,w=null!==(o=null!==(i=l[p])&&void 0!==i?i:l.size)&&void 0!==o?o:Oo("size",f,s,{vgChannel:p}),O="bar"===n&&("x"===t?"vertical"===x:"horizontal"===x);if(Da(v)&&($t(v.bin)||Ht(v.bin)||v.timeUnit&&!g)&&!w&&!Ii(y)){var k=_a({channel:t,fieldDef:v,stack:d,markDef:f,config:s}),j=null===(u=e.component.axes[t])||void 0===u?void 0:u[0];return function(e){var t,n=e.fieldDef,i=e.fieldDef2,a=e.channel,o=e.band,u=e.scaleName,c=e.markDef,s=e.spacing,l=void 0===s?0:s,f=e.axisTranslate,d=e.reverse,h=e.config,p=kt(a),v=Ot(a),g=Ot(p),m=os(a,c);if($t(n.bin)||n.timeUnit)return t={},Object(Be.a)(t,g,ms({channel:a,fieldDef:n,scaleName:u,markDef:c,band:(1-o)/2,offset:gs(p,l,d,f,m),config:h})),Object(Be.a)(t,v,ms({channel:a,fieldDef:n,scaleName:u,markDef:c,band:1-(1-o)/2,offset:gs(a,l,d,f,m),config:h})),t;if(Ht(n.bin)){var y,b,x=ea(n,u,{},{offset:gs(p,l,d,f,m)});if(Da(i))return y={},Object(Be.a)(y,g,x),Object(Be.a)(y,v,ea(i,u,{},{offset:gs(a,l,d,f,m)})),y;if(Wt(n.bin)&&n.bin.step)return b={},Object(Be.a)(b,g,x),Object(Be.a)(b,v,{signal:'scale("'.concat(u,'", ').concat(Ha(n,{expr:"datum"})," + ").concat(n.bin.step,")"),offset:gs(a,l,d,f,m)}),b}return void jr(r.channelRequiredForBinned(p))}({fieldDef:v,fieldDef2:g,channel:t,markDef:f,scaleName:b,band:k,axisTranslate:null!==(c=null===j||void 0===j?void 0:j.get("translate"))&&void 0!==c?c:.5,spacing:Ct(t)?Oo("binSpacing",f,s):void 0,reverse:m.get("reverse"),config:s})}return(Na(v)&&Ii(y)||O)&&!g?function(e,t,n,i){var o,u,c=i.markDef,s=i.encoding,l=i.config,f=i.stack,d=c.orient,h=i.scaleName(n),p=i.getScaleComponent(n),v=jt(n),g=kt(n),m="horizontal"===d&&"y"===n||"vertical"===d&&"x"===n,y=Oo(m?"size":v,c,l,{vgChannel:v});(s.size||void 0!==y)&&(m?u=is("size",i,{vgChannel:v,defaultValue:y}):jr(r.cannotApplySizeToNonOrientedMark(c.type)));var b=null!==(o=Na(t)?_a({channel:n,fieldDef:t,markDef:c,stack:f,config:l}):void 0)&&void 0!==o?o:1;u=u||Object(Be.a)({},v,function(e,t,n,r,i,o){if(r){var u=r.get("type");if("point"===u||"band"===u){if(void 0!==i[e].discreteBandSize)return{value:i[e].discreteBandSize};if(u===Ei){var c=r.get("range");return Wr(c)&&Object(a.E)(c.step)?{value:c.step-2}:{value:wu-2}}return{scale:n,band:o}}return{value:i[e].continuousBandSize}}var s=bu(i.view,t),l=J(i[e].discreteBandSize,s-2);return void 0!==l?{value:l}:void 0}(e,v,h,p,l,b));var x="band"!==(null===p||void 0===p?void 0:p.get("type"))||!("band"in u[v]),w=fs(n,c,l,x?"middle":"top"),O=os(n,c),k=Ji({channel:n,channelDef:t,markDef:c,config:l,scaleName:h,scale:p,stack:f,offset:O,defaultRef:cs({model:i,defaultPos:"mid",channel:n,scaleName:h,scale:p}),band:x?.5:(1-b)/2});if(v)return Object.assign(Object(Be.a)({},w,k),u);var j,_=Ot(g),S=u[v],E=O?Object.assign(Object.assign({},S),{offset:O}):S;return j={},Object(Be.a)(j,w,k),Object(Be.a)(j,_,Object(a.A)(k)?[k[0],Object.assign(Object.assign({},k[1]),{offset:E})]:Object.assign(Object.assign({},k),{offset:E})),j}(n,v,t,e):hs(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function gs(e,t,n,r,i){if(ut(e))return 0;var a="x"===e||"y2"===e?-t/2:t/2;if(Hr(n)||Hr(i)||Hr(r)){var o=xo(n),u=xo(i),c=xo(r);return{signal:(c?"".concat(c," + "):"")+(o?"(".concat(o," ? -1 : 1) * "):"")+(u?"(".concat(u," + ").concat(a,")"):a)}}return i=i||0,r+(n?-i-a:+i+a)}function ms(e){var t=e.channel,n=e.fieldDef,r=e.scaleName,i=e.markDef,a=e.band,o=e.offset,u=e.config;return Xi({fieldDef:n,channel:t,markDef:i,ref:ta({scaleName:r,fieldOrDatumDef:n,band:a,offset:o}),config:u})}var ys=new Set(["aria"]);function bs(e,t){var n="include"===t.color?as(e):{},r=n.fill,i=void 0===r?void 0:r,a=n.stroke,o=void 0===a?void 0:a;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return Kr.reduce((function(n,r){return ys.has(r)||void 0===e[r]||"ignore"===t[r]||(n[r]=yo(e[r])),n}),{})}(e.markDef,t)),xs(e,"fill",i)),xs(e,"stroke",o)),is("opacity",e)),is("fillOpacity",e)),is("strokeOpacity",e)),is("strokeWidth",e)),is("strokeDash",e)),function(e){var t=e.encoding,n=e.mark,r=t.order;return!_e(n)&&Ra(r)?Xc(e,r,"zindex",(function(e){return e})):{}}(e)),es(e)),Zc(e,"href")),rs(e))}function xs(e,t,n){var r=e.config,i=e.mark;if("hide"===Oo("invalid",e.markDef,r)&&n&&!_e(i)){var u=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&Ui(i)&&(t[a]=!0)}return t}),{}),a=N(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return Qi(e,r)})).join(" ".concat(o," "))}return}(e,{invalid:!0,channels:Bt});if(u)return Object(Be.a)({},t,[{test:u,value:null}].concat(Object(o.a)(Object(a.i)(n))))}return n?Object(Be.a)({},t,n):{}}function ws(e){var t=e.config;if(Oo("invalid",e.markDef,t)){var n=function(e,t){var n=t.invalid,r=void 0!==n&&n,i=t.channels.reduce((function(t,n){var r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=e.vgField(n,{expr:"datum"});a&&Ui(i)&&(t[a]=!0)}return t}),{}),a=N(i);if(a.length>0){var o=r?"||":"&&";return a.map((function(e){return Qi(e,r)})).join(" ".concat(o," "))}return}(e,{channels:At});if(n)return{defined:{signal:n}}}return{}}function Os(e,t){if(void 0!==t)return Object(Be.a)({},e,yo(t))}var ks={has:function(e){return"interval"!==e.type&&e.nearest},parse:function(e,t){if(t.events){var n=!0,r=!1,i=void 0;try{for(var a,o=t.events[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){a.value.markname=e.getName("voronoi")}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}},marks:function(e,t,n){var i=t.project.hasChannel,a=i.x,o=i.y,u=e.mark;if(_e(u))return jr(r.nearestNotSupportForContinuous(u)),n;var c={name:e.getName("voronoi"),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},es(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:a||!o?"datum.datum.x || 0":"0"},y:{expr:o||!a?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},s=0,l=!1;return n.forEach((function(t,n){var r,i=null!==(r=t.name)&&void 0!==r?r:"";i===e.component.mark[0].name?s=n:i.indexOf("voronoi")>=0&&(l=!0)})),l||n.splice(s+1,0,c),n}},js=function(){function e(t,n){Object(ce.a)(this,e),this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}return Object(se.a)(e,[{key:"clone",value:function(){throw new Error("Cannot clone node")}},{key:"numChildren",value:function(){return this._children.length}},{key:"addChild",value:function(e,t){this._children.indexOf(e)>-1?jr(r.ADD_SAME_CHILD_TWICE):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);return this._children.splice(t,1),t}},{key:"remove",value:function(){var e=this._parent.removeChild(this),t=!0,n=!1,r=void 0;try{for(var i,a=this._children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;o._parent=this._parent,this._parent.addChild(o,e++)}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"insertAsParentOf",value:function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}},{key:"swapWithParent",value:function(){var e=this._parent,t=e.parent,n=!0,r=!1,i=void 0;try{for(var a,o=this._children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){a.value.parent=e}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,e&&e.addChild(this)}},{key:"children",get:function(){return this._children}}]),e}(),_s=function(e){function t(e,n,r,i){var a;return Object(ce.a)(this,t),(a=zu(this,Lu(t).call(this,e,n))).type=r,a.refCounts=i,a._source=a._name=n,!a.refCounts||a._name in a.refCounts||(a.refCounts[a._name]=0),a}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return void 0===this._hash&&(this._hash="Output ".concat(function(e){var t=++X;return e?String(e)+t:t}())),this._hash}},{key:"getSource",value:function(){return this.refCounts[this._name]++,this._source}},{key:"isRequired",value:function(){return!!this.refCounts[this._name]}},{key:"setSource",value:function(e){this._source=e}}]),t}(js),Ss=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).formula=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.formula))}},{key:"merge",value:function(e){for(var t in this.formula=Object.assign({},this.formula),e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);var n=!0,r=!1,i=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;e.removeChild(u),u.parent=this}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}e.remove()}},{key:"producedFields",value:function(){return new Set(B(this.formula).map((function(e){return e.as})))}},{key:"dependentFields",value:function(){return new Set(B(this.formula).map((function(e){return e.field})))}},{key:"hash",value:function(){return"TimeUnit ".concat(j(this.formula))}},{key:"assemble",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=B(this.formula)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,c=o.field,s=o.as,l=qr(o.timeUnit),f=l.unit,d=l.utc,h=u(l,["unit","utc"]);e.push(Object.assign(Object.assign(Object.assign(Object.assign({field:G(c),type:"timeunit"},f?{units:zr(f)}:{}),d?{timezone:"utc"}:{}),h),{as:[s,"".concat(s,"_end")]}))}}catch(p){n=!0,r=p}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}}],[{key:"makeFromEncoding",value:function(e,n){var r=n.reduceFieldDef((function(e,t,r){var i=t.field,a=t.timeUnit,o=$d(n)?n.encoding[kt(r)]:void 0,u=$d(n)&&Sa(r,t,o,n.stack,n.markDef,n.config);if(a){var c=Ha(t,{forAs:!0});e[j({as:c,field:i,timeUnit:a})]=Object.assign({as:c,field:i,timeUnit:a},u?{band:!0}:{})}return e}),{});return P(r)?null:new t(e,r)}},{key:"makeFromTransform",value:function(e,n){var r=Object.assign({},n),i=r.timeUnit,a=u(r,["timeUnit"]),o=qr(i),c=Object.assign(Object.assign({},a),{timeUnit:o});return new t(e,Object(Be.a)({},j(c),c))}}]),t}(js),Es=function e(){Object(ce.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.items=n,this.hasChannel={},this.hasField={}},As={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind&&!lu(e.bind)},parse:function(e,t,n,r){r.on||delete t.events,r.clear||delete t.clear},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,o=t.bind,u=t.init&&t.init[0],c=ks.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((function(e,i){var s,l,f=L("".concat(r,"_").concat(e.field));n.filter((function(e){return e.name===f})).length||n.unshift(Object.assign(Object.assign({name:f},u?{init:qs(u[i])}:{value:null}),{on:t.events?[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? ".concat(c,"[").concat(Object(a.Z)(e.field),"] : null")}]:[],bind:null!==(l=null!==(s=o[e.field])&&void 0!==s?s:o[e.channel])&&void 0!==l?l:o}))})),n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.filter((function(e){return e.name===r+Zs}))[0],o=r+"_tuple_fields",u=i.items.map((function(e){return L("".concat(r,"_").concat(e.field))})),c=u.map((function(e){return"".concat(e," !== null")})).join(" && ");return u.length&&(a.update="".concat(c," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null")),delete a.value,delete a.on,n}},Cs={has:function(e){return"multi"===e.type&&!!e.toggle},signals:function(e,t,n){return n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t){var n=t.name+Zs,r=t.name+"_toggle";return"".concat(r," ? null : ").concat(n,", ")+("global"===t.resolve?"".concat(r," ? null : true, "):"".concat(r," ? null : {unit: ").concat(il(e),"}, "))+"".concat(r," ? ").concat(n," : null")}},Ds={has:function(e){return void 0!==e.clear&&!1!==e.clear},parse:function(e,t,n){n.clear&&(t.clear=Object(a.H)(n.clear)?Object(Jc.a)(n.clear,"scope"):n.clear)},topLevelSignals:function(e,t,n){if(As.has(t)){var r=!0,i=!1,a=void 0;try{for(var o,u=function(){var e=o.value,r=n.findIndex((function(n){return n.name===L("".concat(t.name,"_").concat(e.field))}));-1!==r&&n[r].on.push({events:t.clear,update:"null"})},c=t.project.items[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)u()}catch(s){i=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}return n},signals:function(e,t,n){function r(e,r){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:r})}if("interval"===t.type){var i=!0,a=!1,o=void 0;try{for(var u,c=function(){var e=u.value,t=n.findIndex((function(t){return t.name===e.signals.visual}));(r(t,"[0, 0]"),-1===t)&&r(n.findIndex((function(t){return t.name===e.signals.data})),"null")},s=t.project.items[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)c()}catch(f){a=!0,o=f}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}else{var l=n.findIndex((function(e){return e.name===t.name+Zs}));r(l,"null"),Cs.has(t)&&r(l=n.findIndex((function(e){return e.name===t.name+"_toggle"})),"false")}return n}},Fs={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t){var n=t.scales=[],i=!0,a=!1,o=void 0;try{for(var u,c=t.project.items[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=s.channel;if(Rt(l)){var f=e.getScaleComponent(l),d=f?f.get("type"):void 0;if(f&&Ui(d)){var h={selection:t.name,field:s.field};f.set("selectionExtent",h,!0),n.push(s)}else jr(r.SCALE_BINDINGS_CONTINUOUS)}}}catch(p){a=!0,o=p}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}},topLevelSignals:function(e,t,n){var r=t.scales.filter((function(e){return 0===n.filter((function(t){return t.name===e.signals.data})).length}));if(!e.parent||Ms(e)||0===r.length)return n;var i=n.filter((function(e){return e.name===t.name}))[0],o=i.update;if(o.indexOf(el)>=0)i.update="{".concat(r.map((function(e){return"".concat(Object(a.Z)(e.field),": ").concat(e.signals.data)})).join(", "),"}");else{var u=!0,c=!1,s=void 0;try{for(var l,f=r[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h="".concat(Object(a.Z)(d.field),": ").concat(d.signals.data);o.indexOf(h)<0&&(o="".concat(o.substring(0,o.length-1),", ").concat(h,"}"))}}catch(p){c=!0,s=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}i.update=o}return n.concat(r.map((function(e){return{name:e.signals.data}})))},signals:function(e,t,n){if(e.parent&&!Ms(e)){var r=!0,i=!1,a=void 0;try{for(var o,u=function(){var e=o.value,t=n.filter((function(t){return t.name===e.signals.data}))[0];t.push="outer",delete t.value,delete t.update},c=t.scales[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)u()}catch(s){i=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}return n}};function Ts(e,t){var n=Object(a.Z)(e.scaleName(t));return"domain(".concat(n,")")}function Ms(e){var t;return e.parent&&Gd(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:Ms(e.parent.parent))}var Ps={has:function(e){var t="global"===e.resolve&&e.bind&&lu(e.bind),n=1===e.project.items.length&&"_vgsid_"!==e.project.items[0].field;return t&&!n&&jr(r.LEGEND_BINDINGS_MUST_HAVE_PROJECTION),t&&n},parse:function(e,t,n,r){var i;if(r.on||delete t.events,r.clear||delete t.clear,r.on||r.clear){var o='event.item && indexof(event.item.mark.role, "legend") < 0',u=!0,c=!1,s=void 0;try{for(var l,f=t.events[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;d.filter=Object(a.i)(null!==(i=d.filter)&&void 0!==i?i:[]),d.filter.indexOf(o)<0&&d.filter.push(o)}}catch(v){c=!0,s=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}var h=fu(t.bind)?t.bind.legend:"click",p=Object(a.H)(h)?Object(Jc.a)(h,"view"):Object(a.i)(h);t.bind={legend:{merge:p}}},topLevelSignals:function(e,t,n){var r=t.name,i=fu(t.bind)&&t.bind.legend,a=function(e){return function(t){var n=x(t);return n.markname=e,n}},o=!0,u=!1,c=void 0;try{for(var s,l=function(){var e=s.value;if(!e.hasLegend)return"continue";var o="".concat(L(e.field),"_legend"),u="".concat(r,"_").concat(o);if(0===n.filter((function(e){return e.name===u})).length){var c=i.merge.map(a("".concat(o,"_symbols"))).concat(i.merge.map(a("".concat(o,"_labels")))).concat(i.merge.map(a("".concat(o,"_entries"))));n.unshift(Object.assign(Object.assign({name:u},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:"!event.item || !datum ? null : ".concat(u),force:!0}]}))}},f=t.project.items[Symbol.iterator]();!(o=(s=f.next()).done);o=!0)l()}catch(d){u=!0,c=d}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}return n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.find((function(e){return e.name===r+Zs})),o=r+"_tuple_fields",u=i.items.filter((function(e){return e.hasLegend})).map((function(e){return L("".concat(r,"_").concat(L(e.field),"_legend"))})),c=u.map((function(e){return"".concat(e," !== null")})).join(" && "),s="".concat(c," ? {fields: ").concat(o,", values: [").concat(u.join(", "),"]} : null");t.events&&u.length>0?a.on.push({events:u.map((function(e){return{signal:e}})),update:s}):u.length>0&&(a.update=s,delete a.value,delete a.on);var l=n.find((function(e){return e.name===r+"_toggle"})),f=fu(t.bind)&&t.bind.legend;return l&&(t.events?l.on.push(Object.assign(Object.assign({},l.on[0]),{events:f})):l.on[0].events=f),n}};var Ns="_translate_delta",Bs={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=Fs.has(t),a=r+"_translate_anchor",o=t.project.hasChannel,u=o.x,c=o.y,s=Object(Jc.a)(t.translate,"scope");return i||(s=s.map((function(e){return e.between[0].markname=r+Ws,e}))),n.push({name:a,value:{},on:[{events:s.map((function(e){return e.between[0]})),update:"{x: x(unit), y: y(unit)"+(void 0!==u?", extent_x: "+(i?Ts(e,Ve):"slice(".concat(u.signals.visual,")")):"")+(void 0!==c?", extent_y: "+(i?Ts(e,Ye):"slice(".concat(c.signals.visual,")")):"")+"}"}]},{name:r+Ns,value:{},on:[{events:s,update:"{x: ".concat(a,".x - x(unit), y: ").concat(a,".y - y(unit)}")}]}),void 0!==u&&Rs(e,t,u,"width",n),void 0!==c&&Rs(e,t,c,"height",n),n}};function Rs(e,t,n,r,i){var a,o=t.name,u=o+"_translate_anchor",c=o+Ns,s=n.channel,l=Fs.has(t),f=i.filter((function(e){return e.name===n.signals[l?"data":"visual"]}))[0],d=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(s),p=h.get("type"),v=l&&s===Ve?"-":"",g="".concat(u,".extent_").concat(s),m="".concat(v).concat(c,".").concat(s," / ")+(l?"".concat(d):"span(".concat(g,")")),y="".concat(l?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear","(").concat(g,", ").concat(m)+(l&&"pow"===p?", ".concat(null!==(a=h.get("exponent"))&&void 0!==a?a:1):"")+")";f.on.push({events:{signal:c},update:l?y:"clampRange(".concat(y,", 0, ").concat(d,")")})}var zs={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=Fs.has(t),o=r+"_zoom_delta",u=t.project.hasChannel,c=u.x,s=u.y,l=Object(a.Z)(e.scaleName(Ve)),f=Object(a.Z)(e.scaleName(Ye)),d=Object(Jc.a)(t.zoom,"scope");return i||(d=d.map((function(e){return e.markname=r+Ws,e}))),n.push({name:r+"_zoom_anchor",on:[{events:d,update:i?"{"+[l?"x: invert(".concat(l,", x(unit))"):"",f?"y: invert(".concat(f,", y(unit))"):""].filter((function(e){return!!e})).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:d,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==c&&Ls(e,t,c,"width",n),void 0!==s&&Ls(e,t,s,"height",n),n}};function Ls(e,t,n,r,i){var a,o=t.name,u=n.channel,c=Fs.has(t),s=i.filter((function(e){return e.name===n.signals[c?"data":"visual"]}))[0],l=e.getSizeSignalRef(r).signal,f=e.getScaleComponent(u),d=f.get("type"),h=c?Ts(e,u):s.name,p=o+"_zoom_delta",v="".concat(o).concat("_zoom_anchor",".").concat(u),g="".concat(c?"log"===d?"zoomLog":"pow"===d?"zoomPow":"zoomLinear":"zoomLinear","(").concat(h,", ").concat(v,", ").concat(p)+(c&&"pow"===d?", ".concat(null!==(a=f.get("exponent"))&&void 0!==a?a:1):"")+")";s.on.push({events:{signal:p},update:c?g:"clampRange(".concat(g,", 0, ").concat(l,")")})}var Is=[{has:function(){return!0},parse:function(e,t,n){var i,o,u,c=t.name,s=null!==(i=t.project)&&void 0!==i?i:t.project=new Es,l={},f={},d=new Set,h=function(e,t){for(var n="visual"===t?e.channel:e.field,r=L("".concat(c,"_").concat(n)),i=1;d.has(r);i++)r=L("".concat(c,"_").concat(n,"_").concat(i));return d.add(r),Object(Be.a)({},t,r)};if(!n.fields&&!n.encodings){var p=e.config.selection[n.type];if(n.init){var v=!0,g=!1,m=void 0;try{for(var y,b=Object(a.i)(n.init)[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value,w=!0,O=!1,k=void 0;try{for(var _,S=N(x)[Symbol.iterator]();!(w=(_=S.next()).done);w=!0){var E=_.value;mt[E]?(n.encodings||(n.encodings=[])).push(E):"interval"===n.type?(jr(r.INTERVAL_INITIALIZED_WITH_X_Y),n.encodings=p.encodings):(n.fields||(n.fields=[])).push(E)}}catch(X){O=!0,k=X}finally{try{w||null==S.return||S.return()}finally{if(O)throw k}}}}catch(X){g=!0,m=X}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}}else n.encodings=p.encodings,n.fields=p.fields}var A=!0,C=!1,D=void 0;try{for(var F,T=(null!==(o=n.fields)&&void 0!==o?o:[])[Symbol.iterator]();!(A=(F=T.next()).done);A=!0){var M=F.value,B={type:"E",field:M};B.signals=Object.assign({},h(B,"data")),s.items.push(B),s.hasField[M]=B}}catch(X){C=!0,D=X}finally{try{A||null==T.return||T.return()}finally{if(C)throw D}}var R=!0,z=!1,I=void 0;try{for(var U,q=(null!==(u=n.encodings)&&void 0!==u?u:[])[Symbol.iterator]();!(R=(U=q.next()).done);R=!0){var $=U.value,H=e.fieldDef($);if(H){var W=H.field;if(H.aggregate){jr(r.cannotProjectAggregate($,H.aggregate));continue}if(!W){jr(r.cannotProjectOnChannelWithoutField($));continue}if(H.timeUnit){W=e.vgField($);var G={timeUnit:H.timeUnit,as:W,field:H.field};f[j(G)]=G}if(!l[W]){var K="E";if("interval"===t.type)Ui(e.getScaleComponent($).get("type"))&&(K="R");else H.bin&&(K="R-RE");var V={field:W,channel:$,type:K};V.signals=Object.assign(Object.assign({},h(V,"data")),h(V,"visual")),s.items.push(l[W]=V),s.hasField[W]=s.hasChannel[$]=l[W]}}else jr(r.cannotProjectOnChannelWithoutField($))}}catch(X){z=!0,I=X}finally{try{R||null==q.return||q.return()}finally{if(z)throw I}}if(n.init){var Y=function(e){return s.items.map((function(t){return void 0!==e[t.channel]?e[t.channel]:e[t.field]}))};if("interval"===n.type)t.init=Y(n.init);else{var J=Object(a.i)(n.init);t.init=J.map(Y)}}P(f)||(s.timeUnit=new Ss(null,f))},signals:function(e,t,n){var r=t.name+"_tuple_fields";return n.filter((function(e){return e.name===r})).length>0?n:n.concat({name:r,value:t.project.items.map((function(e){e.signals,e.hasLegend;var t=u(e,["signals","hasLegend"]);return t.field=G(t.field),t}))})}},Cs,Fs,Ps,Bs,zs,As,ks,Ds];function Us(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=Is[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;u.has(e)&&t(u)}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}function qs(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.x;if(Object(a.A)(e)){var r=e.map((function(e){return qs(e,t,n)}));return t?"[".concat(r.join(", "),"]"):r}return _r(e)?n(t?Fr(e):Mr(e)):t?n(JSON.stringify(e)):e}function $s(e,t){return nl(e,(function(n,r){t=r.marks?r.marks(e,n,t):t,Us(n,(function(r){r.marks&&(t=r.marks(e,n,t))}))})),t}function Hs(e){return e.map((function(e){return e.on&&!e.on.length&&delete e.on,e}))}var Ws="_brush",Gs={signals:function(e,t){var n=t.name,r=n+"_tuple_fields",i=Fs.has(t),u=[],c=[],s=[];if(t.translate&&!i){var l="!event.item || event.item.mark.name !== ".concat(Object(a.Z)(n+Ws));Ks(t,(function(e,t){var n,r=Object(a.i)(null!==(n=t.between[0].filter)&&void 0!==n?n:t.between[0].filter=[]);return r.indexOf(l)<0&&r.push(l),e}))}t.project.items.forEach((function(n,r){var i=n.channel;if(i===Ve||i===Ye){var l=t.init?t.init[r]:null,f=function(e,t,n,r){var i=n.channel,u=n.signals.visual,c=n.signals.data,s=Fs.has(t),l=Object(a.Z)(e.scaleName(i)),f=e.getScaleComponent(i),d=f?f.get("type"):void 0,h=function(e){return"scale(".concat(l,", ").concat(e,")")},p=e.getSizeSignalRef(i===Ve?"width":"height").signal,v="".concat(i,"(unit)"),g=Ks(t,(function(e,t){return[].concat(Object(o.a)(e),[{events:t.between[0],update:"[".concat(v,", ").concat(v,"]")},{events:t,update:"[".concat(u,"[0], clamp(").concat(v,", 0, ").concat(p,")]")}])}));return g.push({events:{signal:t.name+"_scale_trigger"},update:Ui(d)?"[".concat(h("".concat(c,"[0]")),", ").concat(h("".concat(c,"[1]")),"]"):"[0, 0]"}),s?[{name:c,on:[]}]:[Object.assign(Object.assign({name:u},r?{init:qs(r,!0,h)}:{value:[]}),{on:g}),Object.assign(Object.assign({name:c},r?{init:qs(r)}:{}),{on:[{events:{signal:u},update:"".concat(u,"[0] === ").concat(u,"[1] ? null : invert(").concat(l,", ").concat(u,")")}]})]}(e,t,n,l),d=n.signals.data,h=n.signals.visual,p=Object(a.Z)(e.scaleName(i)),v=Ui(e.getScaleComponent(i).get("type"))?"+":"";u.push.apply(u,Object(o.a)(f)),c.push(d),s.push({scaleName:e.scaleName(i),expr:"(!isArray(".concat(d,") || ")+"(".concat(v,"invert(").concat(p,", ").concat(h,")[0] === ").concat(v).concat(d,"[0] && ")+"".concat(v,"invert(").concat(p,", ").concat(h,")[1] === ").concat(v).concat(d,"[1]))")})}else jr("Interval selections only support x and y encoding channels.")})),i||u.push({name:n+"_scale_trigger",value:{},on:[{events:s.map((function(e){return{scale:e.scaleName}})),update:s.map((function(e){return e.expr})).join(" && ")+" ? ".concat(n+"_scale_trigger"," : {}")}]});var f=t.init,d="unit: ".concat(il(e),", fields: ").concat(r,", values");return u.concat(Object.assign(Object.assign({name:n+Zs},f?{init:"{".concat(d,": ").concat(qs(f),"}")}:{}),{on:[{events:[{signal:c.join(" || ")}],update:c.join(" && ")+" ? {".concat(d,": [").concat(c,"]} : null")}]}))},modifyExpr:function(e,t){return t.name+Zs+", "+("global"===t.resolve?"true":"{unit: ".concat(il(e),"}"))},marks:function(e,t,n){var r=t.name,i=t.project.hasChannel,c=i.x,s=i.y,l=c&&c.signals.visual,f=s&&s.signals.visual,d="data(".concat(Object(a.Z)(t.name+Xs),")");if(Fs.has(t))return n;var h={x:void 0!==c?{signal:"".concat(l,"[0]")}:{value:0},y:void 0!==s?{signal:"".concat(f,"[0]")}:{value:0},x2:void 0!==c?{signal:"".concat(l,"[1]")}:{field:{group:"width"}},y2:void 0!==s?{signal:"".concat(f,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve){var p=!0,v=!1,g=void 0;try{for(var m,y=N(h)[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;h[b]=[Object.assign({test:"".concat(d,".length && ").concat(d,"[0].unit === ").concat(il(e))},h[b]),{value:0}]}}catch(S){v=!0,g=S}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}}var x=t.mark,w=x.fill,O=x.fillOpacity,k=x.cursor,j=u(x,["fill","fillOpacity","cursor"]),_=N(j).reduce((function(e,t){return e[t]=[{test:[void 0!==c&&"".concat(l,"[0] !== ").concat(l,"[1]"),void 0!==s&&"".concat(f,"[0] !== ").concat(f,"[1]")].filter((function(e){return e})).join(" && "),value:j[t]},{value:null}],e}),{});return[{name:r+Ws+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:w},fillOpacity:{value:O}},update:h}}].concat(Object(o.a)(n),[{name:r+Ws,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},k?{cursor:{value:k}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},h),_)}}])}};function Ks(e,t){return e.events.reduce((function(e,n){return n.between?t(e,n):(jr("".concat(n," is not an ordered event stream for interval selections.")),e)}),[])}function Vs(e,t){var n=t.name,r=n+"_tuple_fields",i=t.project,o="(item().isVoronoi ? datum.datum : datum)",u=i.items.map((function(t){var n=e.fieldDef(t.channel);return n&&n.bin?"[".concat(o,"[").concat(Object(a.Z)(e.vgField(t.channel,{})),"], ")+"".concat(o,"[").concat(Object(a.Z)(e.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat(o,"[").concat(Object(a.Z)(t.field),"]")})).join(", "),c="unit: ".concat(il(e),", fields: ").concat(r,", values"),s=t.events;return[{name:n+Zs,on:s?[{events:s,update:"datum && item().mark.marktype !== 'group' ? {".concat(c,": [").concat(u,"]} : null"),force:!0}]:[]}]}var Ys={signals:Vs,modifyExpr:function(e,t){return t.name+Zs+", "+("global"===t.resolve?"null":"{unit: ".concat(il(e),"}"))}},Js={signals:Vs,modifyExpr:function(e,t){return t.name+Zs+", "+("global"===t.resolve?"true":"{unit: ".concat(il(e),"}"))}},Xs="_store",Zs="_tuple",Qs="_modify",el="vlSelectionResolve",tl={single:Js,multi:Ys,interval:Gs};function nl(e,t){var n=e.component.selection;if(n){var r=!0,i=!1,a=void 0;try{for(var o,u=B(n)[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;if(!0===t(c,tl[c.type]))break}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}}function rl(e){for(var t=e.parent;t&&!Hd(t);)t=t.parent;return t}function il(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{escape:!0},n=t.escape,r=n?Object(a.Z)(e.name):e.name,i=rl(e);if(i){var o=i.facet,u=!0,c=!1,s=void 0;try{for(var l,f=ht[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;o[d]&&(r+=" + '__facet_".concat(d,"_' + (facet[").concat(Object(a.Z)(i.vgField(d)),"])"))}}catch(h){c=!0,s=h}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}return r}function al(e){var t=!1;return nl(e,(function(e){t=t||e.project.items.some((function(e){return"_vgsid_"===e.field}))})),t}var ol=n(44);function ul(e){var t=Object(ol.f)(e),n=new Set;return t.visit((function(e){"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){var n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push.apply(n,Object(o.a)(e(t.object))),n.push.apply(n,Object(o.a)(e(t.property)))),n)}(e).slice(1).join("."))})),n}var cl=function(e){function t(e,n,r){var i;return Object(ce.a)(this,t),(i=zu(this,Lu(t).call(this,e))).model=n,i.filter=r,i.expr=fl(i.model,i.filter,Object(Ru.a)(i)),i._dependentFields=ul(i.expr),i}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,this.model,x(this.filter))}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"producedFields",value:function(){return new Set}},{key:"assemble",value:function(){return{type:"filter",expr:this.expr}}},{key:"hash",value:function(){return"Filter ".concat(this.expr)}}]),t}(js);function sl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"datum",i=[];function o(t){var o=L(t),u=e.getSelectionComponent(o,t),c=Object(a.Z)(o+Xs);if(u.project.timeUnit){var s=null!==n&&void 0!==n?n:e.component.data.raw,l=u.project.timeUnit.clone();s.parent?l.insertAsParentOf(s):s.parent=l}return"none"!==u.empty&&i.push(c),"vlSelectionTest(".concat(c,", ").concat(r)+("global"===u.resolve?")":", ".concat(Object(a.Z)(u.resolve),")"))}var u=I(t,o);return(i.length?"!("+i.map((function(e){return"length(data(".concat(e,"))")})).join(" || ")+") || ":"")+"(".concat(u,")")}function ll(e,t){var n=t.encoding,r=t.field;if(n||r){if(n&&!r){var i=e.project.items.filter((function(e){return e.channel===n}));!i.length||i.length>1?(r=e.project.items[0].field,jr((i.length?"Multiple ":"No ")+"matching ".concat(Object(a.Z)(n)," encoding found for selection ").concat(Object(a.Z)(t.selection),". ")+'Using "field": '.concat(Object(a.Z)(r),"."))):r=i[0].field}}else r=e.project.items[0].field,e.project.items.length>1&&jr('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(Object(a.Z)(r),"."));return"".concat(e.name,"[").concat(Object(a.Z)(r),"]")}function fl(e,t,n){return I(t,(function(t){return Object(a.H)(t)?t:function(e){return null===e||void 0===e?void 0:e.selection}(t)?sl(e,t.selection,n):ui(t)}))}function dl(e,t){if(e)return Object(a.A)(e)&&!mo(e)?e.map((function(e){return eo(e,t)})).join(", "):e}function hl(e,t,n,r){var i,a,o;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(a=e.encode[t])&&void 0!==a?a:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function pl(e,t,n){var r,i,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{header:!1},s=e.combine(),l=s.disable,f=s.orient,d=s.scale,h=s.labelExpr,p=s.title,v=s.zindex,g=u(s,["disable","orient","scale","labelExpr","title","zindex"]);if(!l){for(var m in g){var y=ie[m],b=g[m];if(y&&y!==t&&"both"!==y)delete g[m];else if(ne(b)){var x=b.condition,w=u(b,["condition"]),O=Object(a.i)(x),k=te[m];if(k){var j=k.vgProp,_=k.part,S=[].concat(Object(o.a)(O.map((function(e){var t=e.test,n=u(e,["test"]);return Object.assign({test:fl(null,t)},n)}))),[w]);hl(g,_,j,S),delete g[m]}else if(null===k){var E={signal:O.map((function(e){var t=e.test,n=u(e,["test"]);return"".concat(fl(null,t)," ? ").concat(bo(n)," : ")})).join("")+bo(w)};g[m]=E}}else if(Hr(b)){var A=te[m];if(A){var C=A.vgProp,D=A.part;hl(g,D,C,b),delete g[m]}}}if("grid"===t){if(!g.grid)return;if(g.encode){var F=g.encode.grid;g.encode=Object.assign({},F?{grid:F}:{}),P(g.encode)&&delete g.encode}return Object.assign(Object.assign({scale:d,orient:f},g),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:J(v,0)})}if(c.header||!e.mainExtracted){if(void 0!==h){var T=h;(null===(i=null===(r=g.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&Hr(g.encode.labels.update.text)&&(T=K(h,"datum.label",g.encode.labels.update.text.signal)),hl(g,"labels","text",{signal:T})}if(null===g.labelAlign&&delete g.labelAlign,g.encode){var M=!0,N=!1,B=void 0;try{for(var R,z=re[Symbol.iterator]();!(M=(R=z.next()).done);M=!0){var L=R.value;e.hasAxisPart(L)||delete g.encode[L]}}catch(U){N=!0,B=U}finally{try{M||null==z.return||z.return()}finally{if(N)throw B}}P(g.encode)&&delete g.encode}var I=dl(p,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:d,orient:f,grid:!1},I?{title:I}:{}),g),!1===n.aria?{aria:!1}:{}),{zindex:J(v,0)})}}}function vl(e){var t=e.component.axes,n=[],r=!0,i=!1,a=void 0;try{for(var o,u=At[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;if(t[c]){var s=!0,l=!1,f=void 0;try{for(var d,h=t[c][Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;if(!p.get("disable")&&!p.get("gridScale")){var v="x"===c?"height":"width",g=e.getSizeSignalRef(v).signal;v!==g&&n.push({name:v,update:g})}}}catch(m){l=!0,f=m}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}}}catch(m){i=!0,a=m}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}var gl={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},ml={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},yl=N(gl),bl=N(ml);function xl(e,t,n,r){return Object.assign.apply(null,[{}].concat(Object(o.a)(e.map((function(e){if("axisOrient"===e){var i="x"===n?"bottom":"left",a=t["x"===n?"axisBottom":"axisLeft"]||{},u=t["x"===n?"axisTop":"axisRight"]||{},c=new Set([].concat(Object(o.a)(N(a)),Object(o.a)(N(u)))),s={},l=!0,f=!1,d=void 0;try{for(var h,p=c.values()[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;s[v]={signal:"".concat(r.signal,' === "').concat(i,'" ? ').concat(xo(a[v])," : ").concat(xo(u[v]))}}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}return s}return t[e]})))))}function wl(e,t,n,r){var i="band"===t?["axisDiscrete","axisBand"]:"point"===t?["axisDiscrete","axisPoint"]:t in Ni?["axisQuantitative"]:"time"===t||"utc"===t?["axisTemporal"]:[],a="x"===e?"axisX":"axisY",u=Hr(n)?"axisOrient":"axis"+q(n),c=[].concat(i,Object(o.a)(i.map((function(e){return a+e.substr(4)})))),s=["axis",u,a];return{vlOnlyAxisConfig:xl(c,r,e,n),vgAxisConfig:xl(s,r,e,n),axisConfigStyle:Ol([].concat(s,Object(o.a)(c)),r)}}function Ol(e,t){var n,r=[{}],i=!0,o=!1,u=void 0;try{for(var c,s=e[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=null===(n=t[c.value])||void 0===n?void 0:n.style;if(l){l=Object(a.i)(l);var f=!0,d=!1,h=void 0;try{for(var p,v=l[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;r.push(t.style[g])}}catch(m){d=!0,h=m}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}}}catch(m){o=!0,u=m}finally{try{i||null==s.return||s.return()}finally{if(o)throw u}}return Object.assign.apply(null,r)}function kl(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=_o(e,n,t);if(void 0!==a)return{configFrom:"style",configValue:a};for(var o=0,u=["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"];o<u.length;o++){var c=u[o];if(void 0!==(null===(r=i[c])||void 0===r?void 0:r[e]))return{configFrom:c,configValue:i[c][e]}}return{}}var jl={scale:function(e){var t=e.model,n=e.channel;return t.scaleName(n)},format:function(e){var t=e.fieldOrDatumDef,n=e.config,r=e.axis,i=r.format,a=r.formatType;return sa(t,t.type,i,a,n,!0)},formatType:function(e){var t=e.axis,n=e.fieldOrDatumDef,r=e.scaleType,i=t.formatType;return la(i,n,r)},grid:function(e){var t,n=e.fieldOrDatumDef,r=e.axis,i=e.scaleType;return(!Da(n)||!Ht(n.bin))&&(null!==(t=r.grid)&&void 0!==t?t:function(e,t){return!Ii(e)&&Da(t)&&!$t(null===t||void 0===t?void 0:t.bin)}(i,n))},gridScale:function(e){return function(e,t){var n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n);return}(e.model,e.channel)},labelAlign:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelAlign||El(n,r,i)},labelAngle:function(e){return e.labelAngle},labelBaseline:function(e){var t=e.axis,n=e.labelAngle,r=e.orient,i=e.channel;return t.labelBaseline||Sl(n,r,i)},labelFlush:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.channel;return null!==(t=n.labelFlush)&&void 0!==t?t:function(e,t){if("x"===t&&S(["quantitative","temporal"],e))return!0;return}(r.type,i)},labelOverlap:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.scaleType;return null!==(t=n.labelOverlap)&&void 0!==t?t:function(e,t,n,r){if(n&&!Object(a.F)(r)||"nominal"!==e&&"ordinal"!==e)return"log"!==t||"greedy";return}(r.type,i,Da(r)&&!!r.timeUnit,Da(r)?r.sort:void 0)},orient:function(e){return e.orient},tickCount:function(e){var t,n=e.channel,r=e.model,i=e.axis,a=e.fieldOrDatumDef,o=e.scaleType,u="x"===n?"width":"y"===n?"height":void 0,c=u?r.getSizeSignalRef(u):void 0;return null!==(t=i.tickCount)&&void 0!==t?t:function(e){var t,n=e.fieldOrDatumDef,r=e.scaleType,i=e.size;if(!e.values&&!Ii(r)&&"log"!==r){if(Da(n)){if($t(n.bin))return{signal:"ceil(".concat(i.signal,"/10)")};if(n.timeUnit&&S(["month","hours","day","quarter"],null===(t=qr(n.timeUnit))||void 0===t?void 0:t.unit))return}return{signal:"ceil(".concat(i.signal,"/40)")}}return}({fieldOrDatumDef:a,scaleType:o,size:c,values:i.values})},title:function(e){var t=e.axis,n=e.model,r=e.channel;if(void 0!==t.title)return t.title;var i=Al(n,r);if(void 0!==i)return i;var a=n.typedFieldDef(r),o="x"===r?"x2":"y2",u=n.fieldDef(o);return Eo(a?[ka(a)]:[],Da(u)?[ka(u)]:[])},values:function(e){return function(e,t){var n=e.values;if(Object(a.A)(n))return po(t,n);if(Hr(n))return n;return}(e.axis,e.fieldOrDatumDef)},zindex:function(e){var t,n=e.axis,r=e.fieldOrDatumDef,i=e.mark;return null!==(t=n.zindex)&&void 0!==t?t:function(e,t){if("rect"===e&&Wa(t))return 1;return 0}(i,r)}};function _l(e){return"(((".concat(e.signal," % 360) + 360) % 360)")}function Sl(e,t,n,r){if(void 0!==e){if("x"===n){if(Hr(e)){var i=_l(e),a=Hr(t)?"(".concat(t.signal,' === "top")'):"top"===t;return{signal:"(45 < ".concat(i," && ").concat(i," < 135) || (225 < ").concat(i," && ").concat(i,' < 315) ? "middle" :')+"(".concat(i," <= 45 || 315 <= ").concat(i,") === ").concat(a,' ? "bottom" : "top"')}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Hr(t)){var o=e<=45||315<=e?"===":"!==";return{signal:"".concat(t.signal," ").concat(o,' "top" ? "bottom" : "top"')}}return(e<=45||315<=e)===("top"===t)?"bottom":"top"}if(Hr(e)){var u=_l(e),c=Hr(t)?"(".concat(t.signal,' === "left")'):"left"===t,s=r?'"middle"':"null";return{signal:"".concat(u," <= 45 || 315 <= ").concat(u," || (135 <= ").concat(u," && ").concat(u," <= 225) ? ").concat(s," : (45 <= ").concat(u," && ").concat(u," <= 135) === ").concat(c,' ? "top" : "bottom"')}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Hr(t)){var l=45<=e&&e<=135?"===":"!==";return{signal:"".concat(t.signal," ").concat(l,' "left" ? "top" : "bottom"')}}return(45<=e&&e<=135)===("left"===t)?"top":"bottom"}}function El(e,t,n){if(void 0!==e){var r="x"===n,i=r?0:90,a=r?"bottom":"left";if(Hr(e)){var o=_l(e),u=Hr(t)?"(".concat(t.signal,' === "').concat(a,'")'):t===a;return{signal:"(".concat(i?"("+o+" + 90)":o," % 180 === 0) ? ").concat(r?null:'"center"'," :")+"(".concat(i," < ").concat(o," && ").concat(o," < ").concat(180+i,") === ").concat(u,' ? "left" : "right"')}}if((e+i)%180===0)return r?null:"center";if(Hr(t)){var c=i<e&&e<180+i?"===":"!==",s="".concat(t.signal," ").concat(c,' "').concat(a,'"');return{signal:"".concat(s,' ? "left" : "right"')}}return(i<e&&e<180+i)===(t===a)?"left":"right"}}function Al(e,t){var n="x"===t?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,o=i?i.title:void 0;return a&&o?Ao(a,o):a||(o||(void 0!==a?a:void 0!==o?o:void 0))}var Cl=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r._dependentFields=ul(r.transform.calculate),r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"producedFields",value:function(){return new Set([this.transform.as])}},{key:"dependentFields",value:function(){return this._dependentFields}},{key:"assemble",value:function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}},{key:"hash",value:function(){return"Calculate ".concat(j(this.transform))}}],[{key:"parseAllForSortIndex",value:function(e,n){return n.forEachFieldDef((function(n,r){if(za(n)&&ba(n.sort)){var i=n.field,a=n.timeUnit,o=n.sort,u=o.map((function(e,t){return"".concat(ui({field:i,timeUnit:a,equal:e})," ? ").concat(t," : ")})).join("")+o.length;e=new t(e,{calculate:u,as:Dl(n,r,{forAs:!0})})}})),e}}]),t}(js);function Dl(e,t,n){return Ha(e,Object.assign({prefix:t,suffix:"sort_index"},null!==n&&void 0!==n?n:{}))}function Fl(e,t){return S(["top","bottom"],t)?"column":S(["left","right"],t)?"row":"row"===e?"row":"column"}function Tl(e,t,n,r){var i="row"===r?n.headerRow:"column"===r?n.headerColumn:n.headerFacet;return J(((null===t||void 0===t?void 0:t.header)||{})[e],i[e],n.header[e])}function Ml(e,t,n,r){var i={},a=!0,o=!1,u=void 0;try{for(var c,s=e[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value,f=Tl(l,t,n,r);void 0!==f&&(i[l]=f)}}catch(d){o=!0,u=d}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}return i}var Pl=["row","column"],Nl=["header","footer"];function Bl(e,t){var n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,a=Ml(["titleAnchor","titleAngle","titleOrient"],i,r,t),o=a.titleAnchor,u=a.titleAngle,c=Fl(t,a.titleOrient),s=Q(u);return{name:"".concat(t,"-title"),type:"group",role:"".concat(c,"-title"),title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},"row"===t?{orient:"left"}:{}),{style:"guide-title"}),zl(s,c)),Rl(c,s,o)),Wl(r,i,t,yl,gl))}}function Rl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"middle";switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}var r=El(t,"row"===e?"left":"top","row"===e?"y":"x");return r?{align:r}:{}}function zl(e,t){var n=Sl(e,"row"===t?"left":"top","row"===t?"y":"x",!0);return n?{baseline:n}:{}}function Ll(e,t){var n=e.component.layoutHeaders[t],r=[],i=!0,a=!1,o=void 0;try{for(var u,c=Nl[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;if(n[s]){var l=!0,f=!1,d=void 0;try{for(var h,p=n[s][Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=ql(e,t,s,n,h.value);null!=v&&r.push(v)}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}}catch(g){a=!0,o=g}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return r}function Il(e,t){var n,r=e.sort;return ya(r)?{field:Ha(r,{expr:"datum"}),order:null!==(n=r.order)&&void 0!==n?n:"ascending"}:Object(a.A)(r)?{field:Dl(e,t,{expr:"datum"}),order:"ascending"}:{field:Ha(e,{expr:"datum"}),order:null!==r&&void 0!==r?r:"ascending"}}function Ul(e,t,n){var r=Ml(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e,n,t),i=r.format,a=r.formatType,o=r.labelAngle,u=r.labelAnchor,c=r.labelOrient,s=r.labelExpr,l=oa({fieldOrDatumDef:e,format:i,formatType:a,expr:"parent",config:n}).signal,f=Fl(t,c);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:s?K(K(s,"datum.label",l),"datum.value",Ha(e,{expr:"parent"})):l}},"row"===t?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),zl(o,f)),Rl(f,o,u)),Wl(n,e,t,bl,ml))}function ql(e,t,n,r,i){if(i){var a=null,o=r.facetFieldDef,u=e.config?e.config:void 0;if(o&&i.labels){var c=Ml(["labelOrient"],o,u,t).labelOrient;("row"===t&&!S(["top","bottom"],c)||"column"===t&&!S(["left","right"],c))&&(a=Ul(o,t,u))}var s=Hd(e)&&!xa(e.facet),l=i.axes,f=(null===l||void 0===l?void 0:l.length)>0;if(a||f){var d="row"===t?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("".concat(t,"_").concat(n)),type:"group",role:"".concat(t,"-").concat(n)},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:Il(o,t)}:{}),f&&s?{from:{data:e.getName("facet_domain_".concat(t))}}:{}),a?{title:a}:{}),i.sizeSignal?{encode:{update:Object(Be.a)({},d,i.sizeSignal)}}:{}),f?{axes:l}:{})}}return null}var $l={column:{start:0,end:1},row:{start:1,end:0}};function Hl(e,t){return $l[t][e]}function Wl(e,t,n,r,i){var a={},o=!0,u=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;if(i[f]){var d=Tl(f,t,e,n);void 0!==d&&(a[i[f]]=d)}}}catch(h){u=!0,c=h}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}return a}function Gl(e){return[].concat(Object(o.a)(Kl(e,"width")),Object(o.a)(Kl(e,"height")),Object(o.a)(Kl(e,"childWidth")),Object(o.a)(Kl(e,"childHeight")))}function Kl(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("step"===r){var a=e.getScaleComponent(n);if(a){var o=a.get("type"),u=a.get("range");if(Ii(o)&&Wr(u)){var c=e.scaleName(n);if(Hd(e.parent))if("independent"===e.parent.component.resolve.scale[n])return[Vl(c,u)];return[Vl(c,u),{name:i,update:Yl(c,a,"domain('".concat(c,"').length"))}]}}throw new Error("layout size is step although width/height is not step.")}if("container"==r){var s=i.endsWith("width"),l=s?"containerSize()[0]":"containerSize()[1]",f=yu(e.config.view,s?"width":"height"),d="isFinite(".concat(l,") ? ").concat(l," : ").concat(f);return[{name:i,init:d,on:[{update:d,events:"window:resize"}]}]}return[{name:i,value:r}]}function Vl(e,t){return{name:e+"_step",value:t.step}}function Yl(e,t,n){var r=t.get("type"),i=t.get("padding"),a=J(t.get("paddingOuter"),i),o=t.get("paddingInner");return o="band"===r?void 0!==o?o:i:1,"bandspace(".concat(n,", ").concat(o,", ").concat(a,") * ").concat(e,"_step")}function Jl(e){return"childWidth"===e?"width":"childHeight"===e?"height":e}function Xl(e,t){return N(e).reduce((function(n,r){var i=e[r];return Object.assign(Object.assign({},n),Xc(t,i,r,(function(e){return Hr(e)?e:{value:e.value}})))}),{})}function Zl(e,t){if(Gd(t)||Hd(t))return"shared";if(Wd(t))return Ct(e)?"independent":"shared";throw new Error("invalid model type for resolve")}function Ql(e,t){var n=e.scale[t],i=Ct(t)?"axis":"legend";return"independent"===n?("shared"===e[i][t]&&jr(r.independentScaleMeansIndependentGuide(t)),"independent"):e[i][t]||"shared"}var ef=Object.assign(Object.assign({},cu),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),tf=N(ef),nf=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),t}(mc),rf={symbols:function(e,t){var n,r,i,o,u,c,s,l,f=t.fieldOrDatumDef,d=t.model,h=t.channel,p=t.legendCmpt;if("symbol"!==t.legendType)return;var v=d.markDef,g=d.encoding,m=d.config,y=d.mark,b=v.filled&&"trail"!==y,x=Object.assign(Object.assign({},function(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=ko(c,t.markDef,t.config);void 0!==s&&(e[c]=yo(s))}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return e}({},d,Ce)),as(d,{filled:b})),w=null!==(n=p.get("symbolOpacity"))&&void 0!==n?n:m.legend.symbolOpacity,O=null!==(r=p.get("symbolFillColor"))&&void 0!==r?r:m.legend.symbolFillColor,k=null!==(i=p.get("symbolStrokeColor"))&&void 0!==i?i:m.legend.symbolStrokeColor,j=void 0===w?null!==(o=af(g.opacity))&&void 0!==o?o:v.opacity:void 0;if(x.fill)if("fill"===h||b&&h===tt)delete x.fill;else if(x.fill.field)O?delete x.fill:(x.fill=yo(null!==(u=m.legend.symbolBaseFillColor)&&void 0!==u?u:"black"),x.fillOpacity=yo(null!==j&&void 0!==j?j:1));else if(Object(a.A)(x.fill)){var _=null!==(l=null!==(s=of(null!==(c=g.fill)&&void 0!==c?c:g.color))&&void 0!==s?s:v.fill)&&void 0!==l?l:b&&v.color;_&&(x.fill=yo(_))}if(x.stroke)if("stroke"===h||!b&&h===tt)delete x.stroke;else if(x.stroke.field||k)delete x.stroke;else if(Object(a.A)(x.stroke)){var S=J(of(g.stroke||g.color),v.stroke,b?v.color:void 0);S&&(x.stroke={value:S})}if("opacity"!==h){var E=Da(f)&&cf(d,p,f);E?x.opacity=[Object.assign({test:E},yo(null!==j&&void 0!==j?j:1)),yo(m.legend.unselectedOpacity)]:j&&(x.opacity=yo(j))}return P(x=Object.assign(Object.assign({},x),e))?void 0:x},gradient:function(e,t){var n,r=t.model,i=t.legendType,a=t.legendCmpt;if("gradient"!==i)return;var o=r.config,u=r.markDef,c=r.encoding,s={},l=void 0===(null!==(n=a.get("gradientOpacity"))&&void 0!==n?n:o.legend.gradientOpacity)?af(c.opacity)||u.opacity:void 0;l&&(s.opacity=yo(l));return P(s=Object.assign(Object.assign({},s),e))?void 0:s},labels:function(e,t){var n=t.fieldOrDatumDef,r=t.model,i=t.channel,a=t.legendCmpt,o=r.legend(i)||{},u=r.config,c=Da(n)?cf(r,a,n):void 0,s=c?[{test:c,value:1},{value:u.legend.unselectedOpacity}]:void 0,l=o.format,f=o.formatType,d=ia(f)?ca({fieldOrDatumDef:n,field:"datum.value",format:l,formatType:f,config:u}):void 0,h=Object.assign(Object.assign(Object.assign({},s?{opacity:s}:{}),d?{text:d}:{}),e);return P(h)?void 0:h},entries:function(e,t){var n=t.legendCmpt.get("selections");return(null===n||void 0===n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}};function af(e){return uf(e,(function(e,t){return Math.max(e,t.value)}))}function of(e){return uf(e,(function(e,t){return J(e,t.value)}))}function uf(e,t){return function(e){var t=e&&e.condition;return!!t&&(Object(a.A)(t)||Ra(t))}(e)?Object(a.i)(e.condition).reduce(t,e.value):Ra(e)?e.value:void 0}function cf(e,t,n){var r=t.get("selections");if(null===r||void 0===r?void 0:r.length){var i=Object(a.Z)(n.field);return r.map((function(e){var t=Object(a.Z)(L(e)+Xs);return"(!length(data(".concat(t,")) || (").concat(e,"[").concat(i,"] && indexof(").concat(e,"[").concat(i,"], datum.value) >= 0))")})).join(" || ")}}var sf={direction:function(e){return e.direction},format:function(e){var t=e.fieldOrDatumDef,n=e.legend,r=e.config,i=n.format,a=n.formatType;return sa(t,t.type,i,a,r,!1)},formatType:function(e){var t=e.legend,n=e.fieldOrDatumDef,r=e.scaleType,i=t.formatType;return la(i,n,r)},gradientLength:function(e){var t,n,r=e.legend,i=e.legendConfig;return null!==(n=null!==(t=r.gradientLength)&&void 0!==t?t:i.gradientLength)&&void 0!==n?n:function(e){var t=e.legendConfig,n=e.model,r=e.direction,i=e.orient,a=e.scaleType,o=t.gradientHorizontalMaxLength,u=t.gradientHorizontalMinLength,c=t.gradientVerticalMaxLength,s=t.gradientVerticalMinLength;if(qi(a))return"horizontal"===r?"top"===i||"bottom"===i?df(n,"width",u,o):u:df(n,"height",s,c);return}(e)},labelOverlap:function(e){var t,n,r=e.legend,i=e.legendConfig,a=e.scaleType;return null!==(n=null!==(t=r.labelOverlap)&&void 0!==t?t:i.labelOverlap)&&void 0!==n?n:function(e){if(S(["quantile","threshold","log"],e))return"greedy";return}(a)},symbolType:function(e){var t,n=e.legend,r=e.markDef,i=e.channel,a=e.encoding;return null!==(t=n.symbolType)&&void 0!==t?t:function(e,t,n,r){var i;if("shape"!==t){var a=null!==(i=of(n))&&void 0!==i?i:r;if(a)return a}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(r.type,i,a.shape,r.shape)},title:function(e){return Za(e.fieldOrDatumDef,e.config,{allowDisabling:!0})},type:function(e){var t=e.legendType,n=e.scaleType;if(ft(e.channel)&&qi(n)){if("gradient"===t)return}else if("symbol"===t)return;return t},values:function(e){var t=e.fieldOrDatumDef;return function(e,t){var n=e.values;if(Object(a.A)(n))return po(t,n);if(Hr(n))return n;return}(e.legend,t)}};function lf(e){return J(e.legend.type,function(e){var t=e.channel,n=e.timeUnit,r=e.scaleType;if(ft(t)){if(S(["quarter","month","day"],n))return"symbol";if(qi(r))return"gradient"}return"symbol"}(e))}function ff(e){var t,n,r=e.legendConfig,i=e.legendType,a=e.orient;return null!==(n=null!==(t=e.legend.direction)&&void 0!==t?t:r[i?"gradientDirection":"symbolDirection"])&&void 0!==n?n:function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(a,i)}function df(e,t,n,r){var i=e.getSizeSignalRef(t).signal;return{signal:"clamp(".concat(i,", ").concat(n,", ").concat(r,")")}}function hf(e){var t=$d(e)?function(e){for(var t=e.encoding,n={},r=0,i=[tt].concat(Object(o.a)(ou));r<i.length;r++){var a=i[r],u=io(t[a]);u&&e.getScaleComponent(a)&&(a===it&&Da(u)&&u.type===vi||(n[a]=vf(e,a)))}return n}(e):function(e){var t=e.component,n=t.legends,r=t.resolve,i=!0,a=!1,o=void 0;try{for(var u,c=e.children[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;hf(s);var l=!0,f=!1,d=void 0;try{for(var h,p=N(s.component.legends)[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;r.legend[v]=Ql(e.component.resolve,v),"shared"===r.legend[v]&&(n[v]=gf(n[v],s.component.legends[v]),n[v]||(r.legend[v]="independent",delete n[v]))}}catch(A){f=!0,d=A}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}catch(A){a=!0,o=A}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var g=!0,m=!1,y=void 0;try{for(var b,x=N(n)[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value,O=!0,k=!1,j=void 0;try{for(var _,S=e.children[Symbol.iterator]();!(O=(_=S.next()).done);O=!0){var E=_.value;E.component.legends[w]&&("shared"===r.legend[w]&&delete E.component.legends[w])}}catch(A){k=!0,j=A}finally{try{O||null==S.return||S.return()}finally{if(k)throw j}}}}catch(A){m=!0,y=A}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}return n}(e);return e.component.legends=t,t}function pf(e,t,n,r){switch(t){case"disable":return void 0!==n;case"values":return!!(null===n||void 0===n?void 0:n.values);case"title":if("title"===t&&e===(null===r||void 0===r?void 0:r.title))return!0}return e===(n||{})[t]}function vf(e,t){var n,r,i,a=e.legend(t),o=e.markDef,u=e.encoding,c=e.config,s=c.legend,l=new nf({},function(e,t){var n=e.scaleName(t);if("trail"===e.mark){if("color"===t)return{stroke:n};if("size"===t)return{strokeWidth:n}}return"color"===t?e.markDef.filled?{fill:n}:{stroke:n}:Object(Be.a)({},t,n)}(e,t));!function(e,t,n){var r,i=null===(r=e.fieldDef(t))||void 0===r?void 0:r.field;nl(e,(function(e){var r,a,o=null!==(r=e.project.hasField[i])&&void 0!==r?r:e.project.hasChannel[t];if(o&&Ps.has(e)){var u=null!==(a=n.get("selections"))&&void 0!==a?a:[];u.push(e.name),n.set("selections",u,!1),o.hasLegend=!0}}))}(e,t,l);var f=void 0!==a?!a:s.disable;if(l.set("disable",f,void 0!==a),f)return l;a=a||{};var d=e.getScaleComponent(t).get("type"),h=io(u[t]),p=Da(h)?null===(n=qr(h.timeUnit))||void 0===n?void 0:n.unit:void 0,v=a.orient||c.legend.orient||"right",g=lf({legend:a,channel:t,timeUnit:p,scaleType:d}),m={legend:a,channel:t,model:e,markDef:o,encoding:u,fieldOrDatumDef:h,legendConfig:s,config:c,scaleType:d,orient:v,legendType:g,direction:ff({legend:a,legendType:g,orient:v,legendConfig:s})},y=!0,b=!1,x=void 0;try{for(var w,O=tf[Symbol.iterator]();!(y=(w=O.next()).done);y=!0){var k=w.value;if(!("gradient"===g&&k.startsWith("symbol")||"symbol"===g&&k.startsWith("gradient"))){var j=k in sf?sf[k](m):a[k];if(void 0!==j){var _=pf(j,k,a,e.fieldDef(t));(_||void 0===c.legend[k])&&l.set(k,j,_)}}}}catch(B){b=!0,x=B}finally{try{y||null==O.return||O.return()}finally{if(b)throw x}}for(var S=null!==(r=null===a||void 0===a?void 0:a.encoding)&&void 0!==r?r:{},E=l.get("selections"),A={},C={fieldOrDatumDef:h,model:e,channel:t,legendCmpt:l,legendType:g},D=0,F=["labels","legend","title","symbols","gradient","entries"];D<F.length;D++){var T=F[D],M=Xl(null!==(i=S[T])&&void 0!==i?i:{},e),N=T in rf?rf[T](M,C):M;void 0===N||P(N)||(A[T]=Object.assign(Object.assign(Object.assign({},(null===E||void 0===E?void 0:E.length)&&Da(h)?{name:"".concat(L(h.field),"_legend_").concat(T)}:{}),(null===E||void 0===E?void 0:E.length)?{interactive:!!E}:{}),{update:N}))}return P(A)||l.set("encode",A,!!(null===a||void 0===a?void 0:a.encoding)),l}function gf(e,t){var n,r,i,a;if(!e)return t.clone();var o=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(!o.explicit||!u.explicit||o.value===u.value){var c=!1,s=!0,l=!1,f=void 0;try{for(var d,h=function(){var n=d.value,r=Oc(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(function(e,t){switch(n){case"symbolType":return function(e,t){if("circle"===t.value)return t;return e}(e,t);case"title":return Co(e,t);case"type":return c=!0,bc("symbol")}return wc(e,t,n,"legend")}));e.setWithExplicit(n,r)},p=tf[Symbol.iterator]();!(s=(d=p.next()).done);s=!0)h()}catch(v){l=!0,f=v}finally{try{s||null==p.return||p.return()}finally{if(l)throw f}}return c&&((null===(r=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===r?void 0:r.gradient)&&U(e.implicit,["encode","gradient"]),(null===(a=null===(i=e.explicit)||void 0===i?void 0:i.encode)||void 0===a?void 0:a.gradient)&&U(e.explicit,["encode","gradient"])),e}}function mf(e,t,n,r){var i,a,o;e.encode=null!==(i=e.encode)&&void 0!==i?i:{},e.encode[t]=null!==(a=e.encode[t])&&void 0!==a?a:{},e.encode[t].update=null!==(o=e.encode[t].update)&&void 0!==o?o:{},e.encode[t].update[n]=r}function yf(e){var t=e.component.legends,n={},r=!0,i=!1,a=void 0;try{for(var o,c=N(t)[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value,l=e.getScaleComponent(s),f=k(l.get("domains"));if(n[f]){var d=!0,h=!1,p=void 0;try{for(var v,g=n[f][Symbol.iterator]();!(d=(v=g.next()).done);d=!0){gf(v.value,t[s])||n[f].push(t[s])}}catch(m){h=!0,p=m}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}}else n[f]=[t[s].clone()]}}catch(m){i=!0,a=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return B(n).flat().map((function(t){return function(e,t){var n,r,i,a=e.combine(),o=a.disable,c=a.labelExpr,s=(a.selections,u(a,["disable","labelExpr","selections"]));if(o)return;!1===t.aria&&void 0==s.aria&&(s.aria=!1);if(null===(n=s.encode)||void 0===n?void 0:n.symbols){var l=s.encode.symbols.update;!l.fill||"transparent"===l.fill.value||l.stroke||s.stroke||(l.stroke={value:"transparent"});var f=!0,d=!1,h=void 0;try{for(var p,v=ou[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;s[g]&&delete l[g]}}catch(m){d=!0,h=m}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}s.title||delete s.title;if(void 0!==c){var y=c;(null===(i=null===(r=s.encode)||void 0===r?void 0:r.labels)||void 0===i?void 0:i.update)&&Hr(s.encode.labels.update.text)&&(y=K(c,"datum.label",s.encode.labels.update.text.signal)),mf(s,"labels","text",{signal:y})}for(var b in s){var x=s[b];if(Hr(x)){var w=uu[b];if(w){var O=w.vgProp,k=w.part;mf(s,k,O,x),delete s[b]}}}return s}(t,e.config)})).filter((function(e){return void 0!==e}))}function bf(e){return Gd(e)||Wd(e)?function(e){return e.children.reduce((function(e,t){return e.concat(t.assembleProjections())}),xf(e))}(e):xf(e)}function xf(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name;if(t.data){var i={signal:"[".concat(t.size.map((function(e){return e.signal})).join(", "),"]")},a=t.data.reduce((function(t,n){var r=Hr(n)?n.signal:"data('".concat(e.lookupDataSource(n),"')");return S(t,r)||t.push(r),t}),[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:a.length>1?"[".concat(a.join(", "),"]"):a[0]}},n)]}return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}var wf=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],Of=function(e){function t(e,n,r,i){var a;return Object(ce.a)(this,t),(a=zu(this,Lu(t).call(this,Object.assign({},n),{name:e}))).specifiedProjection=n,a.size=r,a.data=i,a.merged=!1,a}return Uu(t,e),Object(se.a)(t,[{key:"isFit",get:function(){return!!this.data}}]),t}(mc);function kf(e){e.component.projection=$d(e)?function(e){var t;if(e.hasProjection){var n=e.specifiedProjection,r=!(n&&(null!=n.scale||null!=n.translate)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,a=r?function(e){for(var t=[],n=e.encoding,r=0,i=[["longitude","latitude"],["longitude2","latitude2"]];r<i.length;r++){var a=i[r];(io(n[a[0]])||io(n[a[1]]))&&t.push({signal:e.getName("geojson_".concat(t.length))})}e.channelHasField(it)&&e.typedFieldDef(it).type===vi&&t.push({signal:e.getName("geojson_".concat(t.length))});0===t.length&&t.push(e.requestDataName(kc.Main));return t}(e):void 0;return new Of(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!==n&&void 0!==n?n:{}),i,a)}return}(e):function(e){if(0===e.children.length)return;var t,n=!0,r=!1,i=void 0;try{for(var u,c=e.children[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){kf(u.value)}}catch(w){r=!0,i=w}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}var s=A(e.children,(function(e){var n=e.component.projection;if(n){if(t){var r=function(e,t){var n=A(wf,(function(n){return!Object(a.v)(e.explicit,n)&&!Object(a.v)(t.explicit,n)||!(!Object(a.v)(e.explicit,n)||!Object(a.v)(t.explicit,n)||k(e.get(n))!==k(t.get(n)))}));if(k(e.size)===k(t.size)){if(n)return e;if(k(e.explicit)===k({}))return t;if(k(t.explicit)===k({}))return e}return null}(t,n);return r&&(t=r),!!r}return t=n,!0}return!0}));if(t&&s){var l=e.projectionName(!0),f=new Of(l,t.specifiedProjection,t.size,x(t.data)),d=!0,h=!1,p=void 0;try{for(var v,g=e.children[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,y=m.component.projection;if(y){var b;if(y.isFit)(b=f.data).push.apply(b,Object(o.a)(m.component.projection.data));m.renameProjection(y.get("name"),l),y.merged=!0}}}catch(w){h=!0,p=w}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}return f}return}(e)}var jf=n(164),_f=n(162),Sf=n(165);function Ef(e,t){return"".concat(qt(e),"_").concat(t)}function Af(e,t,n){var r,i=Ef(null!==(r=co(n,void 0))&&void 0!==r?r:{},t);return e.getName("".concat(i,"_bins"))}function Cf(e,t,n){var r,i;r=function(e){return"as"in e}(e)?Object(a.H)(e.as)?[e.as,"".concat(e.as,"_end")]:[e.as[0],e.as[1]]:[Ha(e,{forAs:!0}),Ha(e,{binSuffix:"end",forAs:!0})];var o=Object.assign({},co(t,void 0)),u=Ef(o,e.field),c=function(e,t){return{signal:e.getName("".concat(t,"_bins")),extentSignal:e.getName("".concat(t,"_extent"))}}(n,u),s=c.signal,l=c.extentSignal;if(Gt(o.extent)){var f=o.extent,d=f.selection;i=ll(n.getSelectionComponent(L(d),d),f),delete o.extent}return{key:u,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[r]},s?{signal:s}:{}),l?{extentSignal:l}:{}),i?{span:i}:{})}}var Df=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).bins=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.bins))}},{key:"merge",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,u=N(e.bins)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;c in this.bins?(t(e.bins[c].signal,this.bins[c].signal),this.bins[c].as=D([].concat(Object(o.a)(this.bins[c].as),Object(o.a)(e.bins[c].as)),j)):this.bins[c]=e.bins[c]}}catch(v){r=!0,i=v}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}var s=!0,l=!1,f=void 0;try{for(var d,h=e.children[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;e.removeChild(p),p.parent=this}}catch(v){l=!0,f=v}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}e.remove()}},{key:"producedFields",value:function(){return new Set(B(this.bins).map((function(e){return e.as})).flat(2))}},{key:"dependentFields",value:function(){return new Set(B(this.bins).map((function(e){return e.field})))}},{key:"hash",value:function(){return"Bin ".concat(j(this.bins))}},{key:"assemble",value:function(){return B(this.bins).flatMap((function(e){var t,n=[],r=(t=e.as,Object(jf.a)(t)||Object(_f.a)(t)||Object(Sf.a)()),i=r[0],a=r.slice(1),o=e.bin,c=o.extent,s=u(o,["extent"]),l=Object.assign(Object.assign(Object.assign({type:"bin",field:G(e.field),as:i,signal:e.signal},Gt(c)?{extent:null}:{extent:c}),e.span?{span:{signal:"span(".concat(e.span,")")}}:{}),s);!c&&e.extentSignal&&(n.push({type:"extent",field:G(e.field),signal:e.extentSignal}),l.extent={signal:e.extentSignal}),n.push(l);var f=!0,d=!1,h=void 0;try{for(var p,v=a[Symbol.iterator]();!(f=(p=v.next()).done);f=!0)for(var g=p.value,m=0;m<2;m++)n.push({type:"formula",expr:Ha({field:i[m]},{expr:"datum"}),as:g[m]})}catch(y){d=!0,h=y}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}return e.formula&&n.push({type:"formula",expr:e.formula,as:e.formulaAs}),n}))}}],[{key:"makeFromEncoding",value:function(e,n){var r=n.reduceFieldDef((function(e,t,r){if(Ba(t)&&$t(t.bin)){var i=Cf(t,t.bin,n),a=i.key,o=i.binComponent;e[a]=Object.assign(Object.assign(Object.assign({},o),e[a]),function(e,t,n,r){var i,a;if(vo(t,n)){var o=$d(e)&&null!==(a=null!==(i=e.axis(n))&&void 0!==i?i:e.legend(n))&&void 0!==a?a:{},u=Ha(t,{expr:"datum"}),c=Ha(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Ha(t,{binSuffix:"range",forAs:!0}),formula:pa(u,c,o.format,o.formatType,r)}}return{}}(n,t,r,n.config))}return e}),{});return P(r)?null:new t(e,r)}},{key:"makeFromTransform",value:function(e,n,r){var i=Cf(n,n.bin,r),a=i.key,o=i.binComponent;return new t(e,Object(Be.a)({},a,o))}}]),t}(js),Ff=function(e){function t(e){var n,r;if(Object(ce.a)(this,t),n=zu(this,Lu(t).call(this,null)),Ac(e=null!==e&&void 0!==e?e:{name:"source"})||(r=e.format?Object.assign({},O(e.format,["parse"])):{}),Sc(e))n._data={values:e.values};else if(_c(e)){if(n._data={url:e.url},!r.type){var i=/(?:\.([^.]+))?$/.exec(e.url)[1];S(["json","csv","tsv","dsv","topojson"],i)||(i="json"),r.type=i}}else Dc(e)?n._data={values:[{type:"Sphere"}]}:(Ec(e)||Ac(e))&&(n._data={});return n._generator=Ac(e),e.name&&(n._name=e.name),r&&!P(r)&&(n._data.format=r),n}return Uu(t,e),Object(se.a)(t,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hasName",value:function(){return!!this._name}},{key:"remove",value:function(){throw new Error("Source nodes are roots and cannot be removed.")}},{key:"hash",value:function(){throw new Error("Cannot hash sources")}},{key:"assemble",value:function(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}},{key:"data",get:function(){return this._data}},{key:"isGenerator",get:function(){return this._generator}},{key:"dataName",get:function(){return this._name},set:function(e){this._name=e}},{key:"parent",set:function(e){throw new Error("Source nodes have to be roots.")}}]),t}(js),Tf=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).params=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){}},{key:"hash",value:function(){return"Graticule ".concat(j(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}]),t}(js),Mf=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).params=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,this.params)}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:"data"])}},{key:"hash",value:function(){return"Hash ".concat(j(this.params))}},{key:"assemble",value:function(){return Object.assign({type:"sequence"},this.params)}}]),t}(js);function Pf(e){return e instanceof Ff||e instanceof Tf||e instanceof Mf}var Nf=function(){function e(){Object(ce.a)(this,e),this._mutated=!1}return Object(se.a)(e,[{key:"setMutated",value:function(){this._mutated=!0}},{key:"mutatedFlag",get:function(){return this._mutated}}]),e}(),Bf=function(e){function t(){var e;return Object(ce.a)(this,t),(e=zu(this,Lu(t).call(this)))._continue=!1,e}return Uu(t,e),Object(se.a)(t,[{key:"setContinue",value:function(){this._continue=!0}},{key:"reset",value:function(){}},{key:"optimizeNextFromLeaves",value:function(e){if(Pf(e))return!1;var t=e.parent;return this.run(e).continueFlag&&this.optimizeNextFromLeaves(t),this.mutatedFlag}},{key:"continueFlag",get:function(){return this._continue}},{key:"flags",get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(e){var t=e.continueFlag,n=e.mutatedFlag;t&&this.setContinue(),n&&this.setMutated()}}]),t}(Nf),Rf=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),t}(Nf);function zf(e,t,n,r){var i=$d(r)?r.encoding[kt(t)]:void 0;if(Ba(n)&&$d(r)&&Sa(t,n,i,r.stack,r.markDef,r.config))e.add(Ha(n,{})),e.add(Ha(n,{suffix:"end"})),n.bin&&vo(n,t)&&e.add(Ha(n,{binSuffix:"range"}));else if(t in ct){var a=function(e){switch(e){case"latitude":return"y";case"latitude2":return"y2";case"longitude":return"x";case"longitude2":return"x2"}}(t);e.add(r.getName(a))}else e.add(Ha(n));return e}var Lf=function(e){function t(e,n,r){var i;return Object(ce.a)(this,t),(i=zu(this,Lu(t).call(this,e))).dimensions=n,i.measures=r,i}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,new Set(this.dimensions),x(this.measures))}},{key:"merge",value:function(e){return function(e,t){if(e.size!==t.size)return!1;var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;if(!t.has(u))return!1}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!0}(this.dimensions,e.dimensions)?(function(e,t){var n,r=!0,i=!1,a=void 0;try{for(var u,c=N(t)[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value,l=t[s],f=!0,d=!1,h=void 0;try{for(var p,v=N(l)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;s in e?e[s][g]=new Set([].concat(Object(o.a)(null!==(n=e[s][g])&&void 0!==n?n:[]),Object(o.a)(l[g]))):e[s]=Object(Be.a)({},g,l[g])}}catch(m){d=!0,h=m}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}}catch(m){i=!0,a=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}}(this.measures,e.measures),!0):(function(){var e;(e=wr).debug.apply(e,arguments)}("different dimensions, cannot merge"),!1)}},{key:"addDimensions",value:function(e){e.forEach(this.dimensions.add,this.dimensions)}},{key:"dependentFields",value:function(){return new Set([].concat(Object(o.a)(this.dimensions),Object(o.a)(N(this.measures))))}},{key:"producedFields",value:function(){var e=new Set,t=!0,n=!1,r=void 0;try{for(var i,a=N(this.measures)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=!0,c=!1,s=void 0;try{for(var l,f=N(this.measures[o])[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=this.measures[o][d];0===h.size?e.add("".concat(d,"_").concat(o)):h.forEach(e.add,e)}}catch(p){c=!0,s=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}}catch(p){n=!0,r=p}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"hash",value:function(){return"Aggregate ".concat(j({dimensions:this.dimensions,measures:this.measures}))}},{key:"assemble",value:function(){var e=[],t=[],n=[],r=!0,i=!1,a=void 0;try{for(var u,c=N(this.measures)[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value,l=!0,f=!1,d=void 0;try{for(var h,p=N(this.measures[s])[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value,g=!0,m=!1,y=void 0;try{for(var b,x=this.measures[s][v][Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value;n.push(w),e.push(v),t.push("*"===s?null:G(s))}}catch(O){m=!0,y=O}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}}}catch(O){f=!0,d=O}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}catch(O){i=!0,a=O}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return{type:"aggregate",groupby:Object(o.a)(this.dimensions).map(G),ops:e,fields:t,as:n}}},{key:"groupBy",get:function(){return this.dimensions}}],[{key:"makeFromEncoding",value:function(e,n){var r=!1;n.forEachFieldDef((function(e){e.aggregate&&(r=!0)}));var i={},a=new Set;return r?(n.forEachFieldDef((function(e,t){var r,o,u,c,s=e.aggregate,l=e.field;if(s)if("count"===s)i["*"]=null!==(r=i["*"])&&void 0!==r?r:{},i["*"].count=new Set([Ha(e,{forAs:!0})]);else{if(Le(s)||Ie(s)){var f=Le(s)?"argmin":"argmax",d=s[f];i[d]=null!==(o=i[d])&&void 0!==o?o:{},i[d][f]=new Set([Ha({op:f,field:d},{forAs:!0})])}else i[l]=null!==(u=i[l])&&void 0!==u?u:{},i[l][s]=new Set([Ha(e,{forAs:!0})]);Rt(t)&&"unaggregated"===n.scaleDomain(t)&&(i[l]=null!==(c=i[l])&&void 0!==c?c:{},i[l].min=new Set([Ha({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([Ha({field:l,aggregate:"max"},{forAs:!0})]))}else zf(a,t,e,n)})),a.size+N(i).length===0?null:new t(e,a,i)):null}},{key:"makeFromTransform",value:function(e,n){var r,i,a,o=new Set,u={},c=!0,s=!1,l=void 0;try{for(var f,d=n.aggregate[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value,p=h.op,v=h.field,g=h.as;p&&("count"===p?(u["*"]=null!==(r=u["*"])&&void 0!==r?r:{},u["*"].count=new Set([g||Ha(h,{forAs:!0})])):(u[v]=null!==(i=u[v])&&void 0!==i?i:{},u[v][p]=new Set([g||Ha(h,{forAs:!0})])))}}catch(k){s=!0,l=k}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}var m=!0,y=!1,b=void 0;try{for(var x,w=(null!==(a=n.groupby)&&void 0!==a?a:[])[Symbol.iterator]();!(m=(x=w.next()).done);m=!0){var O=x.value;o.add(O)}}catch(k){y=!0,b=k}finally{try{m||null==w.return||w.return()}finally{if(y)throw b}}return o.size+N(u).length===0?null:new t(e,o,u)}}]),t}(js),If=function(e){function t(e,n,r,i){var u;Object(ce.a)(this,t),(u=zu(this,Lu(t).call(this,e))).model=n,u.name=r,u.data=i;var c=!0,s=!1,l=void 0;try{for(var f,d=ht[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value,p=n.facet[h];if(p){var v=p.bin,g=p.sort;u[h]=Object.assign({name:n.getName("".concat(h,"_domain")),fields:[Ha(p)].concat(Object(o.a)($t(v)?[Ha(p,{binSuffix:"end"})]:[]))},ya(g)?{sortField:g}:Object(a.A)(g)?{sortIndexField:Dl(p,h)}:{})}}}catch(m){s=!0,l=m}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}return u.childModel=n.child,u}return Uu(t,e),Object(se.a)(t,[{key:"hash",value:function(){var e="Facet",t=!0,n=!1,r=void 0;try{for(var i,a=ht[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this[o]&&(e+=" ".concat(o.charAt(0),":").concat(j(this[o])))}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"dependentFields",value:function(){var e=new Set(this.fields),t=!0,n=!1,r=void 0;try{for(var i,a=ht[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this[o]&&(this[o].sortField&&e.add(this[o].sortField.field),this[o].sortIndexField&&e.add(this[o].sortIndexField))}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"producedFields",value:function(){return new Set}},{key:"getSource",value:function(){return this.name}},{key:"getChildIndependentFieldsWithStep",value:function(){var e={},t=!0,n=!1,i=void 0;try{for(var a,o=At[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var u=a.value,c=this.childModel.component.scales[u];if(c&&!c.merged){var s=c.get("type"),l=c.get("range");if(Ii(s)&&Wr(l)){var f=jd(_d(this.childModel,u));f?e[u]=f:jr(r.unknownField(u))}}}}catch(d){n=!0,i=d}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}},{key:"assembleRowColumnHeaderData",value:function(e,t,n){var r={row:"y",column:"x"}[e],i=[],a=[],o=[];n&&n[r]&&(t?(i.push("distinct_".concat(n[r])),a.push("max")):(i.push(n[r]),a.push("distinct")),o.push("distinct_".concat(n[r])));var u=this[e],c=u.sortField,s=u.sortIndexField;if(c){var l=c.op,f=void 0===l?"min":l,d=c.field;i.push(d),a.push(f),o.push(Ha(c,{forAs:!0}))}else s&&(i.push(s),a.push("max"),o.push(s));return{name:this[e].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},i.length?{fields:i,ops:a,as:o}:{})]}}},{key:"assembleFacetHeaderData",value:function(e){var t,n,r=this.model.layout.columns,i=this.model.component.layoutHeaders,a=[],o={},u=!0,c=!1,s=void 0;try{for(var l,f=Pl[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=!0,p=!1,v=void 0;try{for(var g,m=Nl[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value,b=null!==(t=i[d]&&i[d][y])&&void 0!==t?t:[],x=!0,w=!1,O=void 0;try{for(var k,j=b[Symbol.iterator]();!(x=(k=j.next()).done);x=!0){if((null===(n=k.value.axes)||void 0===n?void 0:n.length)>0){o[d]=!0;break}}}catch(C){w=!0,O=C}finally{try{x||null==j.return||j.return()}finally{if(w)throw O}}}}catch(C){p=!0,v=C}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}if(o[d]){var _='length(data("'.concat(this.facet.name,'"))'),S="row"===d?r?{signal:"ceil(".concat(_," / ").concat(r,")")}:1:r?{signal:"min(".concat(_,", ").concat(r,")")}:{signal:_};a.push({name:"".concat(this.facet.name,"_").concat(d),transform:[{type:"sequence",start:0,stop:S}]})}}}catch(C){c=!0,s=C}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}var E=o.row,A=o.column;return(E||A)&&a.unshift(this.assembleRowColumnHeaderData("facet",null,e)),a}},{key:"assemble",value:function(){var e,t,n=[],r=null,i=this.getChildIndependentFieldsWithStep(),a=this.column,u=this.row,c=this.facet;if(a&&u&&(i.x||i.y)){r="cross_".concat(this.column.name,"_").concat(this.row.name);var s=[].concat(null!==(e=i.x)&&void 0!==e?e:[],null!==(t=i.y)&&void 0!==t?t:[]),l=s.map((function(){return"distinct"}));n.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:s,ops:l}]})}for(var f=0,d=[Ke,Ge];f<d.length;f++){var h=d[f];this[h]&&n.push(this.assembleRowColumnHeaderData(h,r,i))}if(c){var p=this.assembleFacetHeaderData(i);p&&n.push.apply(n,Object(o.a)(p))}return n}},{key:"fields",get:function(){var e,t=[],n=!0,r=!1,i=void 0;try{for(var a,u=ht[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;(null===(e=this[c])||void 0===e?void 0:e.fields)&&t.push.apply(t,Object(o.a)(this[c].fields))}}catch(s){r=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}}]),t}(js);function Uf(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}function qf(e,t){var n=$(e);if("number"===t)return"toNumber(".concat(n,")");if("boolean"===t)return"toBoolean(".concat(n,")");if("string"===t)return"toString(".concat(n,")");if("date"===t)return"toDate(".concat(n,")");if("flatten"===t)return n;if(0===t.indexOf("date:")){var i=Uf(t.slice(5,t.length));return"timeParse(".concat(n,",'").concat(i,"')")}if(0===t.indexOf("utc:")){var a=Uf(t.slice(4,t.length));return"utcParse(".concat(n,",'").concat(a,"')")}return jr(r.unrecognizedParse(t)),null}function $f(e){var t={};return function e(t,n){if(m(t))e(t.not,n);else if(g(t)){var r=!0,i=!1,a=void 0;try{for(var o,u=t.and[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){e(o.value,n)}}catch(h){i=!0,a=h}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}else if(v(t)){var c=!0,s=!1,l=void 0;try{for(var f,d=t.or[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){e(f.value,n)}}catch(h){s=!0,l=h}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}}else n(t)}(e.filter,(function(e){var n;if(ii(e)){var r=null;Jr(e)?r=e.equal:ti(e)?r=e.range[0]:ni(e)&&(r=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),r&&(_r(r)?t[e.field]="date":Object(a.E)(r)?t[e.field]="number":Object(a.H)(r)&&(t[e.field]="string")),e.timeUnit&&(t[e.field]="date")}})),t}function Hf(e){var t={};function n(e){var n;fo(e)?t[e.field]="date":"quantitative"===e.type&&(n=e.aggregate,Object(a.H)(n)&&S(["min","max"],n))?t[e.field]="number":Y(e.field)>1?e.field in t||(t[e.field]="flatten"):za(e)&&ya(e.sort)&&Y(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]="flatten"))}if(($d(e)||Hd(e))&&e.forEachFieldDef((function(t,r){if(Ba(t))n(t);else{var i=wt(r),a=e.fieldDef(i);n(Object.assign(Object.assign({},t),{type:a.type}))}})),$d(e)){var r=e.mark,i=e.markDef,o=e.encoding;if(_e(r)&&!e.encoding.order){var u=o["horizontal"===i.orient?"y":"x"];!Da(u)||"quantitative"!==u.type||u.field in t||(t[u.field]="number")}}return t}var Wf=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e)))._parse=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this._parse))}},{key:"hash",value:function(){return"Parse ".concat(j(this._parse))}},{key:"merge",value:function(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}},{key:"assembleFormatParse",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,a=N(this._parse)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=this._parse[o];1===Y(o)&&(e[o]=u)}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"producedFields",value:function(){return new Set(N(this._parse))}},{key:"dependentFields",value:function(){return new Set(N(this._parse))}},{key:"assembleTransforms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return N(this._parse).filter((function(e){return!t||Y(e)>1})).map((function(t){var n=qf(t,e._parse[t]);return n?{type:"formula",expr:n,as:V(t)}:null})).filter((function(e){return null!==e}))}},{key:"parse",get:function(){return this._parse}}],[{key:"makeExplicit",value:function(e,t,n){var r={},i=t.data;return!Ac(i)&&i&&i.format&&i.format.parse&&(r=i.format.parse),this.makeWithAncestors(e,r,{},n)}},{key:"makeWithAncestors",value:function(e,n,i,a){var o=!0,u=!1,c=void 0;try{for(var s,l=N(i)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value,d=a.getWithExplicit(f);void 0!==d.value&&(d.explicit||d.value===i[f]||"derived"===d.value||"flatten"===i[f]?delete i[f]:jr(r.differentParse(f,i[f],d.value)))}}catch(C){u=!0,c=C}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}var h=!0,p=!1,v=void 0;try{for(var g,m=N(n)[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value,b=a.get(y);void 0!==b&&(b===n[y]?delete n[y]:jr(r.differentParse(y,n[y],b)))}}catch(C){p=!0,v=C}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}var x=new mc(n,i);a.copyAll(x);var w={},O=!0,k=!1,j=void 0;try{for(var _,S=N(x.combine())[Symbol.iterator]();!(O=(_=S.next()).done);O=!0){var E=_.value,A=x.get(E);null!==A&&(w[E]=A)}}catch(C){k=!0,j=C}finally{try{O||null==S.return||S.return()}finally{if(k)throw j}}return 0===N(w).length||a.parseNothing?null:new t(e,w)}}]),t}(js),Gf=function(e){function t(e){return Object(ce.a)(this,t),zu(this,Lu(t).call(this,e))}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null)}}]),Object(se.a)(t,[{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set(["_vgsid_"])}},{key:"hash",value:function(){return"Identifier"}},{key:"assemble",value:function(){return{type:"identifier",as:"_vgsid_"}}}]),t}(js),Kf=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=D(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:Ha(e)}},{key:"hash",value:function(){return"JoinAggregateTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e=[],t=[],n=[],r=!0,i=!1,a=void 0;try{for(var o,u=this.transform.joinaggregate[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;t.push(c.op),n.push(this.getDefaultName(c)),e.push(void 0===c.field?null:c.field)}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}var s=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==s?{groupby:s}:{})}}]),t}(js);var Vf=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e)))._stack=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this._stack))}},{key:"addDimensions",value:function(e){var t;(t=this._stack.facetby).push.apply(t,Object(o.a)(e))}},{key:"dependentFields",value:function(){var e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}},{key:"producedFields",value:function(){return new Set(this._stack.as)}},{key:"hash",value:function(){return"Stack ".concat(j(this._stack))}},{key:"getGroupbyFields",value:function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute,r=e.groupby;return t?t.bin?n?[Ha(t,{binSuffix:"mid"})]:[Ha(t,{}),Ha(t,{binSuffix:"end"})]:[Ha(t)]:null!==r&&void 0!==r?r:[]}},{key:"assemble",value:function(){var e=[],t=this._stack,n=t.facetby,r=t.dimensionFieldDef,i=t.stackField,a=t.stackby,u=t.sort,c=t.offset,s=t.impute,l=t.as;if(s&&r){var f=r.band,d=void 0===f?.5:f;r.bin&&e.push({type:"formula",expr:"".concat(d,"*")+Ha(r,{expr:"datum"})+"+".concat(1-d,"*")+Ha(r,{expr:"datum",binSuffix:"end"}),as:Ha(r,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:i,groupby:[].concat(Object(o.a)(a),Object(o.a)(n)),key:Ha(r,{binSuffix:"mid"}),method:"value",value:0})}return e.push({type:"stack",groupby:[].concat(Object(o.a)(this.getGroupbyFields()),Object(o.a)(n)),field:i,sort:u,as:l,offset:c}),e}},{key:"stack",get:function(){return this._stack}}],[{key:"makeFromTransform",value:function(e,n){var r=n.stack,i=n.groupby,o=n.as,u=n.offset,c=void 0===u?"zero":u,s=[],l=[];if(void 0!==n.sort){var f=!0,d=!1,h=void 0;try{for(var p,v=n.sort[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;s.push(g.field),l.push(J(g.order,"ascending"))}}catch(m){d=!0,h=m}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}return new t(e,{stackField:r,groupby:i,offset:c,sort:{field:s,order:l},facetby:[],as:function(e){return Object(a.A)(e)&&e.every((function(e){return Object(a.H)(e)}))&&e.length>1}(o)?o:Object(a.H)(o)?[o,o+"_end"]:[n.stack+"_start",n.stack+"_end"]})}},{key:"makeFromEncoding",value:function(e,n){var r=n.stack,i=n.encoding;if(!r)return null;var o,u=r.groupbyChannel,c=r.fieldChannel,s=r.offset,l=r.impute;u&&(o=ro(i[u]));var f,d=function(e){return e.stack.stackBy.reduce((function(e,t){var n=Ha(t.fieldDef);return n&&e.push(n),e}),[])}(n),h=n.encoding.order;return f=Object(a.A)(h)||Da(h)?So(h):d.reduce((function(e,t){return e.field.push(t),e.order.push("y"===c?"descending":"ascending"),e}),{field:[],order:[]}),new t(e,{dimensionFieldDef:o,stackField:n.vgField(c),facetby:[],stackby:d,sort:f,offset:s,impute:l,as:[n.vgField(c,{suffix:"start",forAs:!0}),n.vgField(c,{suffix:"end",forAs:!0})]})}}]),t}(js),Yf=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"addDimensions",value:function(e){this.transform.groupby=D(this.transform.groupby.concat(e),(function(e){return e}))}},{key:"dependentFields",value:function(){var e,t,n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach((function(e){return n.add(e.field)})),this.transform.window.map((function(e){return e.field})).filter((function(e){return void 0!==e})).forEach(n.add,n),n}},{key:"producedFields",value:function(){return new Set(this.transform.window.map(this.getDefaultName))}},{key:"getDefaultName",value:function(e){var t;return null!==(t=e.as)&&void 0!==t?t:Ha(e)}},{key:"hash",value:function(){return"WindowTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e,t=[],n=[],r=[],i=[],a=!0,o=!1,u=void 0;try{for(var c,s=this.transform.window[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;n.push(l.op),r.push(this.getDefaultName(l)),i.push(void 0===l.param?null:l.param),t.push(void 0===l.field?null:l.field)}}catch(k){o=!0,u=k}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}var f=this.transform.frame,d=this.transform.groupby;if(f&&null===f[0]&&null===f[1]&&n.every((function(e){return Ue(e)})))return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},void 0!==d?{groupby:d}:{});var h=[],p=[];if(void 0!==this.transform.sort){var v=!0,g=!1,m=void 0;try{for(var y,b=this.transform.sort[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value;h.push(x.field),p.push(null!==(e=x.order)&&void 0!==e?e:"ascending")}}catch(k){g=!0,m=k}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}}var w={field:h,order:p},O=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:i,as:r,ops:n,fields:t,sort:w},void 0!==O?{ignorePeers:O}:{}),void 0!==d?{groupby:d}:{}),void 0!==f?{frame:f}:{})}}]),t}(js),Jf=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){var t=e.parent;if(e instanceof Wf){if(Pf(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof Wf)this.setMutated(),t.merge(e);else{if(M(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}]),t}(Bf),Xf=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),Object(se.a)(t,[{key:"mergeNodes",value:function(e,t){var n=t.shift(),r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;e.removeChild(c),c.parent=n,c.remove()}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"run",value:function(e){for(var t=e.children.map((function(e){return e.hash()})),n={},r=0;r<t.length;r++)void 0===n[t[r]]?n[t[r]]=[e.children[r]]:n[t[r]].push(e.children[r]);var i=!0,a=!1,o=void 0;try{for(var u,c=N(n)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;n[s].length>1&&(this.setMutated(),this.mergeNodes(e,n[s]))}}catch(g){a=!0,o=g}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var l=!0,f=!1,d=void 0;try{for(var h,p=e.children[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;this.run(v)}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}return this.mutatedFlag}}]),t}(Rf),Zf=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){return e instanceof _s||e.numChildren()>0||e instanceof If?this.flags:(this.setMutated(),e.remove(),this.flags)}}]),t}(Bf),Qf=function(e){function t(){var e;return Object(ce.a)(this,t),(e=zu(this,Lu(t).apply(this,arguments))).fields=new Set,e.prev=null,e}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){if(this.setContinue(),e instanceof Ss){var t=e.producedFields();F(t,this.fields)?(this.setMutated(),this.prev.remove()):this.fields=new Set([].concat(Object(o.a)(this.fields),Object(o.a)(t))),this.prev=e}return this.flags}},{key:"reset",value:function(){this.fields.clear()}}]),t}(Bf),ed=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){this.setContinue();var t=e.parent.children.filter((function(e){return e instanceof Ss})),n=t.pop(),r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;this.setMutated(),n.merge(c)}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return this.flags}}]),t}(Bf);function td(e){if(e instanceof If)if(1!==e.numChildren()||e.children[0]instanceof _s){var t=e.model.component.data.main;!function e(t){if(t instanceof _s&&t.type===kc.Main&&1===t.numChildren()){var n=t.children[0];n instanceof If||(n.swapWithParent(),e(t))}}(t);var n=(l=e,function e(t){if(!(t instanceof If)){var n=t.clone();if(n instanceof _s){var r=cd+n.getSource();n.setSource(r),l.model.component.data.outputNodes[r]=n}else(n instanceof Lf||n instanceof Vf||n instanceof Yf||n instanceof Kf)&&n.addDimensions(l.fields);var i=!0,a=!1,o=void 0;try{for(var u,c=t.children.flatMap(e)[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)u.value.parent=n}catch(s){a=!0,o=s}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return[n]}return t.children.flatMap(e)}),r=e.children.map(n).flat(),i=!0,a=!1,o=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){u.value.parent=t}}catch(f){a=!0,o=f}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}}else{var s=e.children[0];(s instanceof Lf||s instanceof Vf||s instanceof Yf||s instanceof Kf)&&s.addDimensions(e.fields),s.swapWithParent(),td(e)}else e.children.map(td);var l}var nd=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).call(this))}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){e instanceof _s&&!e.isRequired()&&(this.setMutated(),e.remove());var t=!0,n=!1,r=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.run(o)}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return this.mutatedFlag}}]),t}(Rf),rd=function(e){function t(e){var n;return Object(ce.a)(this,t),(n=zu(this,Lu(t).call(this))).requiresSelectionId=e&&al(e),n}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){e instanceof Gf&&(this.requiresSelectionId&&(Pf(e.parent)||e.parent instanceof Lf||e.parent instanceof Wf)||(this.setMutated(),e.remove()));var t=!0,n=!1,r=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.run(o)}}catch(u){n=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return this.mutatedFlag}}]),t}(Rf),id=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){var t=e.parent,n=Object(o.a)(t.children),r=t.children.filter((function(e){return e instanceof Wf}));if(t.numChildren()>1&&r.length>=1){var i={},a=new Set,u=!0,c=!1,s=void 0;try{for(var l,f=r[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value.parse,h=!0,p=!1,v=void 0;try{for(var g,m=N(d)[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var y=g.value;y in i?i[y]!==d[y]&&a.add(y):i[y]=d[y]}}catch(L){p=!0,v=L}finally{try{h||null==m.return||m.return()}finally{if(p)throw v}}}}catch(L){c=!0,s=L}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}var b=!0,x=!1,w=void 0;try{for(var O,k=a[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){delete i[O.value]}}catch(L){x=!0,w=L}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}if(!P(i)){this.setMutated();var j=new Wf(t,i),_=!0,S=!1,E=void 0;try{for(var A,C=n[Symbol.iterator]();!(_=(A=C.next()).done);_=!0){var D=A.value;if(D instanceof Wf){var F=!0,T=!1,M=void 0;try{for(var B,R=N(i)[Symbol.iterator]();!(F=(B=R.next()).done);F=!0){var z=B.value;delete D.parse[z]}}catch(L){T=!0,M=L}finally{try{F||null==R.return||R.return()}finally{if(T)throw M}}}t.removeChild(D),D.parent=j,D instanceof Wf&&0===N(D.parse).length&&D.remove()}}catch(L){S=!0,E=L}finally{try{_||null==C.return||C.return()}finally{if(S)throw E}}}}return this.setContinue(),this.flags}}]),t}(Bf),ad=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){var t=e.parent,n=t.children.filter((function(e){return e instanceof Lf})),r={},i=!0,a=!1,o=void 0;try{for(var u,c=n[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=j(s.groupBy);l in r||(r[l]=[]),r[l].push(s)}}catch(_){a=!0,o=_}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var f=!0,d=!1,h=void 0;try{for(var p,v=N(r)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=r[p.value];if(g.length>1){var m=g.pop(),y=!0,b=!1,x=void 0;try{for(var w,O=g[Symbol.iterator]();!(y=(w=O.next()).done);y=!0){var k=w.value;m.merge(k)&&(t.removeChild(k),k.parent=m,k.remove(),this.setMutated())}}catch(_){b=!0,x=_}finally{try{y||null==O.return||O.return()}finally{if(b)throw x}}}}}catch(_){d=!0,h=_}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}return this.setContinue(),this.flags}}]),t}(Bf),od=function(e){function t(e){var n;return Object(ce.a)(this,t),(n=zu(this,Lu(t).call(this))).model=e,n}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){var t=e.parent,n=!(Pf(t)||t instanceof cl||t instanceof Wf||t instanceof Gf),r=[],i=[],a=!0,o=!1,u=void 0;try{for(var c,s=t.children[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;l instanceof Df&&(n&&!M(t.producedFields(),l.dependentFields())?r.push(l):i.push(l))}}catch(_){o=!0,u=_}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}if(r.length>0){var f=r.pop(),d=!0,h=!1,p=void 0;try{for(var v,g=r[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value;f.merge(m,this.model.renameSignal.bind(this.model))}}catch(_){h=!0,p=_}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}this.setMutated(),t instanceof Df?t.merge(f,this.model.renameSignal.bind(this.model)):f.swapWithParent()}if(i.length>1){var y=i.pop(),b=!0,x=!1,w=void 0;try{for(var O,k=i[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var j=O.value;y.merge(j,this.model.renameSignal.bind(this.model))}}catch(_){x=!0,w=_}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}this.setMutated()}return this.setContinue(),this.flags}}]),t}(Bf),ud=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),Object(se.a)(t,[{key:"run",value:function(e){var t=e.parent,n=Object(o.a)(t.children);if(!E(n,(function(e){return e instanceof _s}))||t.numChildren()<=1)return this.setContinue(),this.flags;var r,i=[],a=!0,u=!1,s=void 0;try{for(var l,f=n[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var d=l.value;if(d instanceof _s){for(var h=d;1===h.numChildren();){var p=Object(c.a)(h.children,1)[0];if(!(p instanceof _s))break;h=p}i.push.apply(i,Object(o.a)(h.children)),r?(t.removeChild(d),d.parent=r.parent,r.parent.removeChild(r),r.parent=h,this.setMutated()):r=h}else i.push(d)}}catch(w){u=!0,s=w}finally{try{a||null==f.return||f.return()}finally{if(u)throw s}}if(i.length){this.setMutated();var v=!0,g=!1,m=void 0;try{for(var y,b=i[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var x=y.value;x.parent.removeChild(x),x.parent=r}}catch(w){g=!0,m=w}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}}return this.setContinue(),this.flags}}]),t}(Bf),cd="scale_";function sd(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,u=!0,c=!1,s=void 0;try{for(var l,f=o.children[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){if(l.value.parent!==o)return!1}}catch(d){c=!0,s=d}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}if(!sd(o.children))return!1}}catch(d){n=!0,r=d}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!0}function ld(e){var t=[];function n(e){if(0===e.numChildren())t.push(e);else{var r=!0,i=!1,a=void 0;try{for(var o,u=e.children[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){n(o.value)}}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}}var r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){n(o.value)}}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return t}function fd(e){return e}function dd(e,t){return t.map((function(t){if(e instanceof Bf){var n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)})).some(fd)}function hd(e,t,n){var r=e.sources,i=new Set;return i.add(dd(new nd,r)),i.add(dd(new rd(t),r)),r=r.filter((function(e){return e.numChildren()>0})),i.add(dd(new Zf,ld(r))),r=r.filter((function(e){return e.numChildren()>0})),n||(i.add(dd(new Jf,ld(r))),i.add(dd(new od(t),ld(r))),i.add(dd(new Qf,ld(r))),i.add(dd(new id,ld(r))),i.add(dd(new ad,ld(r))),i.add(dd(new ed,ld(r))),i.add(dd(new Xf,r)),i.add(dd(new ud,ld(r)))),e.sources=r,i.has(!0)}function pd(e,t){sd(e.sources);for(var n=0,r=0,i=0;i<5&&hd(e,t,!0);i++)n++;e.sources.map(td);for(var a=0;a<5&&hd(e,t,!1);a++)r++;sd(e.sources),5===Math.max(n,r)&&jr("Maximum optimization runs(".concat(5,") reached."))}var vd=function(){function e(t){Object(ce.a)(this,e),Object.defineProperty(this,"signal",{enumerable:!0,get:t})}return Object(se.a)(e,null,[{key:"fromName",value:function(t,n){return new e((function(){return t(n)}))}}]),e}();function gd(e){$d(e)?function(e){var t=e.component.scales,n=!0,r=!1,i=void 0;try{for(var a,o=N(t)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=md(e,u);if(t[u].setWithExplicit("domains",c),wd(e,u),e.component.data.isFaceted){for(var s=e;!Hd(s)&&s.parent;)s=s.parent;if("shared"===s.component.resolve.scale[u]){var l=!0,f=!1,d=void 0;try{for(var h,p=c.value[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;Gr(v)&&(v.data=cd+v.data.replace(cd,""))}}catch(g){f=!0,d=g}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}}}catch(g){r=!0,i=g}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}(e):function(e){var t=!0,n=!1,i=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){gd(a.value)}}catch(k){n=!0,i=k}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var u=e.component.scales,c=!0,s=!1,l=void 0;try{for(var f,d=N(u)[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value,p=void 0,v=null,g=!0,m=!1,y=void 0;try{for(var b,x=e.children[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value.component.scales[h];if(w){p=void 0===p?w.getWithExplicit("domains"):Oc(p,w.getWithExplicit("domains"),"domains","scale",kd);var O=w.get("selectionExtent");v&&O&&v.selection!==O.selection&&jr(r.NEEDS_SAME_SELECTION),v=O}}}catch(k){m=!0,y=k}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}u[h].setWithExplicit("domains",p),v&&u[h].set("selectionExtent",v,!0)}}catch(k){s=!0,l=k}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}}(e)}function md(e,t){var n=e.getScaleComponent(t).get("type"),r=e.encoding,i=function(e,t,n,r){if("unaggregated"===e){var i=Od(t,n),a=i.valid,o=i.reason;if(!a)return void jr(o)}else if(void 0===e&&r.useUnaggregatedDomain){if(Od(t,n).valid)return"unaggregated"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),"x"===t&&io(r.x2)?io(r.x)?Oc(bd(n,i,e,"x"),bd(n,i,e,"x2"),"domain","scale",kd):bd(n,i,e,"x2"):"y"===t&&io(r.y2)?io(r.y)?Oc(bd(n,i,e,"y"),bd(n,i,e,"y2"),"domain","scale",kd):bd(n,i,e,"y2"):bd(n,i,e,t)}function yd(e,t,n){var r,i=null===(r=qr(n))||void 0===r?void 0:r.unit;return"temporal"===t||i?function(e,t,n){return e.map((function(e){var r=ho(e,{timeUnit:n,type:t});return{signal:"{data: ".concat(r,"}")}}))}(e,t,i):[e]}function bd(e,t,n,r){var i=io(n.encoding[r]),u=i.type,c=i.timeUnit;if(function(e){return e&&e.unionWith}(t)){var s=bd(e,void 0,n,r),l=yd(t.unionWith,u,c);return yc([].concat(Object(o.a)(s.value),Object(o.a)(l)))}if(Hr(t))return yc([t]);if(t&&"unaggregated"!==t&&!Hi(t))return yc(yd(t,u,c));var f=n.stack;if(f&&r===f.fieldChannel){if("normalize"===f.offset)return bc([[0,1]]);var d=n.requestDataName(kc.Main);return bc([{data:d,field:n.vgField(r,{suffix:"start"})},{data:d,field:n.vgField(r,{suffix:"end"})}])}var h=Rt(r)&&Da(i)?function(e,t,n){if(!Ii(n))return;var r=e.fieldDef(t),i=r.sort;if(ba(i))return{op:"min",field:Dl(r,t),order:"ascending"};var a=e.stack,u=a?[].concat(Object(o.a)(a.groupbyField?[a.groupbyField]:[]),Object(o.a)(a.stackBy.map((function(e){return e.fieldDef.field})))):void 0;if(ya(i)){var c=a&&!S(u,i.field);return xd(i,c)}if(ma(i)){var s=i.encoding,l=i.order,f=e.fieldDef(s),d=f.aggregate,h=f.field,p=a&&!S(u,h);if(Le(d)||Ie(d))return xd({field:Ha(f),order:l},p);if(Ue(d)||!d)return xd({op:d,field:h,order:l},p)}else{if("descending"===i)return{op:"min",field:e.vgField(t),order:"descending"};if(S(["ascending",void 0],i))return!0}return}(n,r,e):void 0;if(Ta(i))return bc(yd([i.datum],u,c));var p=i;if("unaggregated"===t){var v=n.requestDataName(kc.Main),g=i.field;return bc([{data:v,field:Ha({field:g,aggregate:"min"})},{data:v,field:Ha({field:g,aggregate:"max"})}])}if($t(p.bin)){if(Ii(e))return bc("bin-ordinal"===e?[]:[{data:z(h)?n.requestDataName(kc.Main):n.requestDataName(kc.Raw),field:n.vgField(r,vo(p,r)?{binSuffix:"range"}:{}),sort:!0!==h&&Object(a.F)(h)?h:{field:n.vgField(r,{}),op:"min"}}]);var m=p.bin;if($t(m)){var y=Af(n,p.field,m);return bc([new vd((function(){var e=n.getSignalName(y);return"[".concat(e,".start, ").concat(e,".stop]")}))])}return bc([{data:n.requestDataName(kc.Main),field:n.vgField(r,{})}])}if(p.timeUnit&&S(["time","utc"],e)&&Sa(r,p,$d(n)?n.encoding[kt(r)]:void 0,n.stack,n.markDef,n.config)){var b=n.requestDataName(kc.Main);return bc([{data:b,field:n.vgField(r)},{data:b,field:n.vgField(r,{suffix:"end"})}])}return bc(h?[{data:z(h)?n.requestDataName(kc.Main):n.requestDataName(kc.Raw),field:n.vgField(r),sort:h}]:[{data:n.requestDataName(kc.Main),field:n.vgField(r)}])}function xd(e,t){var n=e.op,r=e.field,i=e.order;return Object.assign(Object.assign({op:null!==n&&void 0!==n?n:t?"sum":"min"},r?{field:G(r)}:{}),i?{order:i}:{})}function wd(e,t){var n,r=e.component.scales[t],i=e.specifiedScales[t].domain,a=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,o=Hi(i)&&i,u=Wt(a)&&Gt(a.extent)&&a.extent;(o||u)&&r.set("selectionExtent",null!==o&&void 0!==o?o:u,!0)}function Od(e,t){var n=e.aggregate,i=e.type;return n?Object(a.H)(n)&&!We[n]?{valid:!1,reason:r.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===i&&"log"===t?{valid:!1,reason:r.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:r.unaggregateDomainHasNoEffectForRawField(e)}}function kd(e,t,n,i){return e.explicit&&t.explicit&&jr(r.mergeConflictingDomainProperty(n,i,e.value,t.value)),{explicit:e.explicit,value:[].concat(Object(o.a)(e.value),Object(o.a)(t.value))}}function jd(e){if(Gr(e)&&Object(a.H)(e.field))return e.field;if(function(e){return!Object(a.A)(e)&&("fields"in e&&!("data"in e))}(e)){var t,n=!0,i=!1,o=void 0;try{for(var u,c=e.fields[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var s=u.value;if(Gr(s)&&Object(a.H)(s.field))if(t){if(t!==s.field)return jr(r.FACETED_INDEPENDENT_DIFFERENT_SOURCES),t}else t=s.field}}catch(f){i=!0,o=f}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return jr(r.FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES),t}if(function(e){return!Object(a.A)(e)&&("fields"in e&&"data"in e)}(e)){jr(r.FACETED_INDEPENDENT_SAME_SOURCE);var l=e.fields[0];return Object(a.H)(l)?l:void 0}}function _d(e,t){return function(e){var t=D(e.map((function(e){if(Gr(e)){e.sort;return u(e,["sort"])}return e})),j),n=D(e.map((function(e){if(Gr(e)){var t=e.sort;return void 0===t||z(t)||("op"in t&&"count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}})).filter((function(e){return void 0!==e})),j);if(0!==t.length){if(1===t.length){var i=e[0];if(Gr(i)&&n.length>0){var o=n[0];if(n.length>1)jr(r.MORE_THAN_ONE_SORT),o=!0;else if(Object(a.F)(o)&&"field"in o){var c=o.field;i.field===c&&(o=!o.order||{order:o.order})}return Object.assign(Object.assign({},i),{sort:o})}return i}var s,l=D(n.map((function(e){return z(e)||!("op"in e)||e.op in ze?e:(jr(r.domainSortDropped(e)),!0)})),j);1===l.length?s=l[0]:l.length>1&&(jr(r.MORE_THAN_ONE_SORT),s=!0);var f=D(e.map((function(e){return Gr(e)?e.data:null})),(function(e){return e}));return 1===f.length&&null!==f[0]?Object.assign({data:f[0],fields:t.map((function(e){return e.field}))},s?{sort:s}:{}):Object.assign({fields:t},s?{sort:s}:{})}}(e.component.scales[t].get("domains").map((function(t){return Gr(t)&&(t.data=e.lookupDataSource(t.data)),t})))}function Sd(e){return Gd(e)||Wd(e)?e.children.reduce((function(e,t){return e.concat(Sd(t))}),Ed(e)):Ed(e)}function Ed(e){return N(e.component.scales).reduce((function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i,o=r.combine(),c=o.name,s=o.type,l=o.selectionExtent,f=(o.domains,o.range,o.reverse),d=u(o,["name","type","selectionExtent","domains","range","reverse"]),h=function(e,t,n,r){if(Ct(n)){if(Wr(e))return{step:{signal:t+"_step"}}}else if(Object(a.F)(e)&&Gr(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}(o.range,c,n,e);l&&(i=function(e,t){var n=t.selection;return{signal:ll(e.getSelectionComponent(n,L(n)),t)}}(e,l));var p=_d(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:c,type:s},p?{domain:p}:{}),i?{domainRaw:i}:{}),{range:h}),void 0!==f?{reverse:f}:{}),d)),t}),[])}var Ad=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,{},{name:e}))).merged=!1,r.setWithExplicit("type",n),r}return Uu(t,e),Object(se.a)(t,[{key:"domainDefinitelyIncludesZero",value:function(){return!1!==this.get("zero")||E(this.get("domains"),(function(e){return Object(a.A)(e)&&2===e.length&&e[0]<=0&&e[1]>=0}))}}]),t}(mc),Cd=["range","scheme"];function Dd(e){return"x"===e?"width":"y"===e?"height":void 0}function Fd(e,t){var n=e.fieldDef(t);if(n&&n.bin&&$t(n.bin)){var r=Af(e,n.field,n.bin),i=Dd(t),a=e.getName(i);return new vd((function(){var t=e.getSignalName(r),n="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(e.getSignalName(a)," / (").concat(n,")")}))}}function Td(e,t){var n=t.specifiedScales[e],i=t.size,o=t.getScaleComponent(e).get("type"),u=!0,c=!1,s=void 0;try{for(var l,f=Cd[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value;if(void 0!==n[d]){var h=Vi(o,d),p=Yi(e,d);if(h)if(p)jr(p);else switch(d){case"range":var v=n.range;if(Object(a.A)(v)){if(Ct(e))return yc(v.map((function(e){if("width"===e||"height"===e){var n=t.getName(e),r=t.getSignalName.bind(t);return vd.fromName(r,n)}return e})))}else if(Object(a.F)(v))return yc({data:t.requestDataName(kc.Main),field:v.field,sort:{op:"min",field:t.vgField(e)}});return yc(v);case"scheme":return yc(Md(n[d]))}else jr(r.scalePropertyNotWorkWithScaleType(o,d,e))}}}catch(w){c=!0,s=w}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}if(e===Ve||e===Ye){var g=e===Ve?"width":"height",m=i[g];if(vu(m)){if(Ii(o))return yc({step:m.step});jr(r.stepDropped(g))}}var y=n.rangeMin,b=n.rangeMax,x=function(e,t){var n=t.size,i=t.config,o=t.mark,u=t.encoding,c=t.getSignalName.bind(t),s=io(u[e]).type,l=t.getScaleComponent(e).get("type"),f=t.specifiedScales[e],d=f.domain,h=f.domainMid;switch(e){case Ve:case Ye:if(S(["point","band"],l))if(e!==Ve||n.width){if(e===Ye&&!n.height){var p=xu(i.view,"height");if(vu(p))return p}}else{var v=xu(i.view,"width");if(vu(v))return v}var g=Dd(e),m=t.getName(g);return e===Ye&&Ui(l)?[vd.fromName(c,m),0]:[0,vd.fromName(c,m)];case at:var y=t.component.scales[e].get("zero"),b=function e(t,n,i){if(n)return Hr(n)?{signal:"".concat(n.signal," ? 0 : ").concat(e(t,!1,i))}:0;switch(t){case"bar":case"tick":return i.scale.minBandSize;case"line":case"trail":case"rule":return i.scale.minStrokeWidth;case"text":return i.scale.minFontSize;case"point":case"square":case"circle":return i.scale.minSize}throw new Error(r.incompatibleChannel("size",t))}(o,y,i),x=function(e,t,n,i){var o={x:Fd(n,"x"),y:Fd(n,"y")};switch(e){case"bar":case"tick":if(void 0!==i.scale.maxBandSize)return i.scale.maxBandSize;var u=Pd(t,o,i.view);return Object(a.E)(u)?u-1:new vd((function(){return"".concat(u.signal," - 1")}));case"line":case"trail":case"rule":return i.scale.maxStrokeWidth;case"text":return i.scale.maxFontSize;case"point":case"square":case"circle":if(i.scale.maxSize)return i.scale.maxSize;var c=Pd(t,o,i.view);return Object(a.E)(c)?Math.pow(.95*c,2):new vd((function(){return"pow(".concat(.95," * ").concat(c.signal,", 2)")}))}throw new Error(r.incompatibleChannel("size",e))}(o,n,t,i);return $i(l)?function(e,t,n){var r=function(){var r=xo(t),i=xo(e),a="(".concat(r," - ").concat(i,") / (").concat(n," - 1)");return"sequence(".concat(i,", ").concat(r," + ").concat(a,", ").concat(a,")")};return Hr(t)?new vd(r):{signal:r()}}(b,x,function(e,t,n,i){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&Object(a.A)(n)?n.length+1:(jr(r.domainRequiredForThresholdScale(i)),3)}}(l,i,d,e)):[b,x];case Qe:return[0,2*Math.PI];case"angle":return[0,360];case Ze:return[0,new vd((function(){var e=t.getSignalName("width"),n=t.getSignalName("height");return"min(".concat(e,",").concat(n,")/2")}))];case"strokeWidth":return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case"strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case it:return"symbol";case tt:case nt:case rt:return"ordinal"===l?"nominal"===s?"category":"ordinal":void 0!==h?"diverging":"rect"===o||"geoshape"===o?"heatmap":"ramp";case"opacity":case"fillOpacity":case"strokeOpacity":return[i.scale.minOpacity,i.scale.maxOpacity]}throw new Error("Scale range undefined for channel ".concat(e))}(e,t);return(void 0!==y||void 0!==b)&&Vi(o,"rangeMin")&&Object(a.A)(x)&&2===x.length?yc([null!==y&&void 0!==y?y:x[0],null!==b&&void 0!==b?b:x[1]]):bc(x)}function Md(e){return function(e){return!Object(a.H)(e)&&!!e.name}(e)?Object.assign({scheme:e.name},O(e,["name"])):{scheme:e}}function Pd(e,t,n){var r=vu(e.width)?e.width.step:bu(n,"width"),i=vu(e.height)?e.height.step:bu(n,"height");return t.x||t.y?new vd((function(){var e=[t.x?t.x.signal:r,t.y?t.y.signal:i];return"min(".concat(e.join(", "),")")})):Math.min(r,i)}function Nd(e,t){$d(e)?function(e,t){var n=e.component.scales,i=e.config,a=e.encoding,o=e.markDef,u=e.specifiedScales,c=!0,s=!1,l=void 0;try{for(var f,d=N(n)[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value,p=u[h],v=n[h],g=e.getScaleComponent(h),m=io(a[h]),y=p[t],b=g.get("type"),x=g.get("padding"),w=g.get("paddingInner"),O=Vi(b,t),k=Yi(h,t);if(void 0!==y&&(O?k&&jr(k):jr(r.scalePropertyNotWorkWithScaleType(b,t,h))),O&&void 0===k)if(void 0!==y){var j=m.timeUnit,_=m.type;switch(t){case"domainMax":case"domainMin":_r(p[t])||"temporal"===_||j?v.set(t,{signal:ho(p[t],{type:_,timeUnit:j})},!0):v.set(t,p[t],!0);break;default:v.copyKeyFromObject(t,p)}}else{var S=t in Bd?Bd[t]({model:e,channel:h,fieldOrDatumDef:m,scaleType:b,scalePadding:x,scalePaddingInner:w,domain:p.domain,markDef:o,config:i}):i.scale[t];void 0!==S&&v.set(t,S,!1)}}}catch(E){s=!0,l=E}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}}(e,t):zd(e,t)}var Bd={bins:function(e){var t=e.model,n=e.fieldOrDatumDef;return Da(n)?function(e,t){var n=t.bin;if($t(n)){var r=Af(e,t.field,n);return new vd((function(){return e.getSignalName(r)}))}if(Ht(n)&&Wt(n)&&void 0!==n.step)return{step:n.step};return}(t,n):void 0},interpolate:function(e){return function(e,t){if(S([tt,nt,rt],e)&&"nominal"!==t)return"hcl";return}(e.channel,e.fieldOrDatumDef.type)},nice:function(e){return function(e,t,n){var r;if((null===(r=ro(n))||void 0===r?void 0:r.bin)||S([Oi,ki],e))return;return t in Et||void 0}(e.scaleType,e.channel,e.fieldOrDatumDef)},padding:function(e){var t=e.channel,n=e.scaleType,r=e.fieldOrDatumDef,i=e.markDef,a=e.config;return function(e,t,n,r,i,a){if(e in Et){if(qi(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=i.type,u=i.orient;if("bar"===o&&(!Da(r)||!r.bin&&!r.timeUnit)&&("vertical"===u&&"x"===e||"horizontal"===u&&"y"===e))return a.continuousBandSize}if(t===Ei)return n.pointPadding}return}(t,n,a.scale,r,i,a.bar)},paddingInner:function(e){var t=e.scalePadding,n=e.channel,r=e.markDef,i=e.config;return function(e,t,n,r){if(void 0!==e)return;if(t in Et){var i=r.bandPaddingInner,a=r.barBandPaddingInner,o=r.rectBandPaddingInner;return J(i,"bar"===n?a:o)}return}(t,n,r.type,i.scale)},paddingOuter:function(e){var t=e.scalePadding,n=e.channel,r=e.scaleType,i=e.markDef,a=e.scalePaddingInner,o=e.config;return function(e,t,n,r,i,a){if(void 0!==e)return;if(t in Et){if(n===Ai)return J(a.bandPaddingOuter,Hr(i)?{signal:"".concat(i.signal,"/2")}:i/2)}return}(t,n,r,i.type,a,o.scale)},reverse:function(e){var t=e.fieldOrDatumDef,n=e.scaleType,r=e.channel,i=e.config;return function(e,t,n,r){if("x"===n&&void 0!==r.xReverse)return Ui(e)&&"descending"===t?Hr(r.xReverse)?{signal:"!".concat(r.xReverse.signal)}:!r.xReverse:r.xReverse;if(Ui(e)&&"descending"===t)return!0;return}(n,Da(t)?t.sort:void 0,r,i.scale)},zero:function(e){return function(e,t,n,r,i){if(n&&"unaggregated"!==n&&Ui(i)){if(Object(a.A)(n)){var u=n[0],c=n[n.length-1];if(u<=0&&c>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!$i(i))return!0;if((!Da(t)||!t.bin)&&S([].concat(Object(o.a)(At),Object(o.a)(Ft)),e)){var s=r.orient;return!S(["bar","area","line","trail"],r.type)||!("horizontal"===s&&"y"===e||"vertical"===s&&"x"===e)}return!1}(e.channel,e.fieldOrDatumDef,e.domain,e.markDef,e.scaleType)}};function Rd(e){$d(e)?function(e){var t=e.component.scales,n=!0,r=!1,i=void 0;try{for(var a,o=Bt[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=t[u];if(c){var s=Td(u,e);c.setWithExplicit("range",s)}}}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}(e):zd(e,"range")}function zd(e,t){var n=e.component.scales,r=!0,i=!1,a=void 0;try{for(var o,u=e.children[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;"range"===t?Rd(c):Nd(c,t)}}catch(O){i=!0,a=O}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}var s=!0,l=!1,f=void 0;try{for(var d,h=N(n)[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value,v=void 0,g=!0,m=!1,y=void 0;try{for(var b,x=e.children[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value.component.scales[p];if(w)v=Oc(v,w.getWithExplicit(t),t,"scale",xc((function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0})))}}catch(O){m=!0,y=O}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}n[p].setWithExplicit(t,v)}}catch(O){l=!0,f=O}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}function Ld(e,t,n,i){var a,o,u=function(e,t,n){var i;switch(t.type){case"nominal":case"ordinal":if(ft(e)||"discrete"===Ut(e))return"shape"===e&&"ordinal"===t.type&&jr(r.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(e in Et){if(S(["rect","bar","image","rule"],n))return"band"}else if("arc"===n&&e in Dt)return"band";return void 0!==t.band||La(t)&&(null===(i=t.axis)||void 0===i?void 0:i.tickBand)?"band":"point";case"temporal":return ft(e)?"time":"discrete"===Ut(e)?(jr(r.discreteChannelCannotEncode(e,"temporal")),"ordinal"):Da(t)&&t.timeUnit&&qr(t.timeUnit).utc?"utc":"time";case"quantitative":return ft(e)?Da(t)&&$t(t.bin)?"bin-ordinal":"linear":"discrete"===Ut(e)?(jr(r.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(r.invalidFieldType(t.type))}(t,n,i),c=e.type;return Rt(t)?void 0!==c?function(e,t){if(!Rt(e))return!1;switch(e){case Ve:case Ye:case Qe:case Ze:return qi(t)||S(["band","point"],t);case at:case"strokeWidth":case"opacity":case"fillOpacity":case"strokeOpacity":case"angle":return qi(t)||$i(t)||S(["band","point","ordinal"],t);case tt:case nt:case rt:return"band"!==t;case"strokeDash":return"ordinal"===t||$i(t);case it:return"ordinal"===t}}(t,c)?!Da(n)||(a=c,o=n.type,S([di,pi],o)?void 0===a||Ii(a):o===hi?S([Oi,ki,void 0],a):o!==fi||S([yi,bi,xi,wi,ji,_i,Si,mi,void 0],a))?c:(jr(r.scaleTypeNotWorkWithFieldDef(c,u)),u):(jr(r.scaleTypeNotWorkWithChannel(t,c,u)),u):u:null}function Id(e){$d(e)?e.component.scales=function(e){var t=e.encoding,n=e.mark;return Bt.reduce((function(r,i){var a=io(t[i]);if(a&&n===je&&i===it&&a.type===vi)return r;var o=a&&a.scale;if(a&&null!==o&&!1!==o){var u=Ld(o=null!==o&&void 0!==o?o:{},i,a,n);r[i]=new Ad(e.scaleName(i+"",!0),{value:u,explicit:o.type===u})}return r}),{})}(e):e.component.scales=function(e){var t,n=e.component.scales={},r={},i=e.component.resolve,a=!0,o=!1,u=void 0;try{for(var c,s=e.children[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var l=c.value;Id(l);var f=!0,d=!1,h=void 0;try{for(var p,v=N(l.component.scales)[Symbol.iterator]();!(f=(p=v.next()).done);f=!0){var g=p.value;if(i.scale[g]=null!==(t=i.scale[g])&&void 0!==t?t:Zl(g,e),"shared"===i.scale[g]){var m=r[g],y=l.component.scales[g].getWithExplicit("type");m?Di(m.value,y.value)?r[g]=Oc(m,y,"type","scale",Ud):(i.scale[g]="independent",delete r[g]):r[g]=y}}}catch(P){d=!0,h=P}finally{try{f||null==v.return||v.return()}finally{if(d)throw h}}}}catch(P){o=!0,u=P}finally{try{a||null==s.return||s.return()}finally{if(o)throw u}}var b=!0,x=!1,w=void 0;try{for(var O,k=N(r)[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var j=O.value,_=e.scaleName(j,!0),S=r[j];n[j]=new Ad(_,S);var E=!0,A=!1,C=void 0;try{for(var D,F=e.children[Symbol.iterator]();!(E=(D=F.next()).done);E=!0){var T=D.value,M=T.component.scales[j];M&&(T.renameScale(M.get("name"),_),M.merged=!0)}}catch(P){A=!0,C=P}finally{try{E||null==F.return||F.return()}finally{if(A)throw C}}}}catch(P){x=!0,w=P}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}return n}(e)}var Ud=xc((function(e,t){return Ti(e)-Ti(t)}));var qd=function(){function e(){Object(ce.a)(this,e),this.nameMap={}}return Object(se.a)(e,[{key:"rename",value:function(e,t){this.nameMap[e]=t}},{key:"has",value:function(e){return void 0!==this.nameMap[e]}},{key:"get",value:function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}]),e}();function $d(e){return"unit"===(null===e||void 0===e?void 0:e.type)}function Hd(e){return"facet"===(null===e||void 0===e?void 0:e.type)}function Wd(e){return"concat"===(null===e||void 0===e?void 0:e.type)}function Gd(e){return"layer"===(null===e||void 0===e?void 0:e.type)}var Kd=function(){function e(t,n,r,i,o,u,c){var s,l,f=this;Object(ce.a)(this,e),this.type=n,this.parent=r,this.config=o,this.view=c,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=f.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=f.lookupDataSource(e.from.facet.data)),e},this.parent=r,this.config=o,this.name=null!==(s=t.name)&&void 0!==s?s:i,this.title=mo(t.title)?{text:t.title}:t.title,this.scaleNameMap=r?r.scaleNameMap:new qd,this.projectionNameMap=r?r.projectionNameMap:new qd,this.signalNameMap=r?r.signalNameMap:new qd,this.data=t.data,this.description=t.description,this.transforms=(null!==(l=t.transform)&&void 0!==l?l:[]).map((function(e){return Tc(e)?{filter:y(e.filter,si)}:e})),this.layout="layer"===n||"unit"===n?{}:function(e,t,n){var r,i,o=n[t],u={},c=o.spacing,s=o.columns;void 0!==c&&(u.spacing=c),void 0!==s&&(Oa(e)&&!xa(e.facet)||du(e))&&(u.columns=s),hu(e)&&(u.columns=1);var l=!0,f=!1,d=void 0;try{for(var h,p=mu[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;if(void 0!==e[v])if("spacing"===v){var g=e[v];u[v]=Object(a.E)(g)?g:{row:null!==(r=g.row)&&void 0!==r?r:c,column:null!==(i=g.column)&&void 0!==i?i:c}}else u[v]=e[v]}}catch(m){f=!0,d=m}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}return u}(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Oa(t)||r&&r.component.data.isFaceted&&void 0===t.data},layoutSize:new mc,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},u?x(u):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return Object(se.a)(e,[{key:"parse",value:function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}},{key:"parseScale",value:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreRange;Id(e),gd(e);var r=!0,i=!1,a=void 0;try{for(var o,u=Ki[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;Nd(e,c)}}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}n||Rd(e)}(this)}},{key:"parseProjection",value:function(){kf(this)}},{key:"renameTopLevelLayoutSizeSignal",value:function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}},{key:"parseLegends",value:function(){hf(this)}},{key:"assembleGroupStyle",value:function(){var e,t;if("unit"===this.type||"layer"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:"cell"}},{key:"assembleEncodeFromView",value:function(e){e.style;var t=u(e,["style"]),n={},r=!0,i=!1,a=void 0;try{for(var o,c=N(t)[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value,l=t[s];void 0!==l&&(n[s]=yo(l))}}catch(f){i=!0,a=f}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}},{key:"assembleGroupEncodeEntry",value:function(e){var t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=yo(this.description)),"unit"!==this.type&&"layer"!==this.type)?P(t)?void 0:t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==t&&void 0!==t?t:{})}},{key:"assembleLayout",value:function(){if(this.layout){var e=this.layout,t=e.spacing,n=u(e,["spacing"]),r=this.component,i=this.config,a=function(e,t){var n={},r=!0,i=!1,a=void 0;try{for(var o,u=ht[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value,s=e[c];if(null===s||void 0===s?void 0:s.facetFieldDef){var l=Ml(["titleAnchor","titleOrient"],s.facetFieldDef,t,c),f=l.titleAnchor,d=Fl(c,l.titleOrient),h=Hl(f,d);void 0!==h&&(n[d]=h)}}}catch(p){i=!0,a=p}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return P(n)?void 0:n}(r.layoutHeaders,i);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),a?{titleBand:a}:{})}}},{key:"assembleDefaultLayout",value:function(){return{}}},{key:"assembleHeaderMarks",value:function(){var e=this.component.layoutHeaders,t=[],n=!0,r=!1,i=void 0;try{for(var a,o=ht[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;e[u].title&&t.push(Bl(this,u))}}catch(p){r=!0,i=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var c=!0,s=!1,l=void 0;try{for(var f,d=Pl[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var h=f.value;t=t.concat(Ll(this,h))}}catch(p){s=!0,l=p}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}return t}},{key:"assembleAxes",value:function(){return function(e,t){var n=e.x,r=void 0===n?[]:n,i=e.y,a=void 0===i?[]:i;return[].concat(Object(o.a)(r.map((function(e){return pl(e,"grid",t)}))),Object(o.a)(a.map((function(e){return pl(e,"grid",t)}))),Object(o.a)(r.map((function(e){return pl(e,"main",t)}))),Object(o.a)(a.map((function(e){return pl(e,"main",t)})))).filter((function(e){return e}))}(this.component.axes,this.config)}},{key:"assembleLegends",value:function(){return yf(this)}},{key:"assembleProjections",value:function(){return bf(this)}},{key:"assembleTitle",value:function(){var e,t,n,r=null!==(e=this.title)&&void 0!==e?e:{},i=r.encoding,a=u(r,["encoding"]),o=Object.assign(Object.assign(Object.assign({},go(this.config.title).nonMark),a),i?{encode:{update:i}}:{});if(o.text)return S(["unit","layer"],this.type)?S(["middle",void 0],o.anchor)&&(o.frame=null!==(t=o.frame)&&void 0!==t?t:"group"):o.anchor=null!==(n=o.anchor)&&void 0!==n?n:"start",P(o)?void 0:o}},{key:"assembleGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||Hd(this.parent)?Sd(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t}},{key:"getName",value:function(e){return L((this.name?this.name+"_":"")+e)}},{key:"getDataName",value:function(e){return this.getName(kc[e].toLowerCase())}},{key:"requestDataName",value:function(e){var t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}},{key:"getSizeSignalRef",value:function(e){if(Hd(this.parent)){var t=Tt(Jl(e)),n=this.component.scales[t];if(n&&!n.merged){var i=n.get("type"),a=n.get("range");if(Ii(i)&&Wr(a)){var o=n.get("name"),u=jd(_d(this,t));return u?{signal:Yl(o,n,Ha({aggregate:"distinct",field:u},{expr:"datum"}))}:(jr(r.unknownField(t)),null)}}}return{signal:this.signalNameMap.get(this.getName(e))}}},{key:"lookupDataSource",value:function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e}},{key:"getSignalName",value:function(e){return this.signalNameMap.get(e)}},{key:"renameSignal",value:function(e,t){this.signalNameMap.rename(e,t)}},{key:"renameScale",value:function(e,t){this.scaleNameMap.rename(e,t)}},{key:"renameProjection",value:function(e,t){this.projectionNameMap.rename(e,t)}},{key:"scaleName",value:function(e,t){return t?this.getName(e):yt(e)&&Rt(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}},{key:"projectionName",value:function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}},{key:"getScaleComponent",value:function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}},{key:"getSelectionComponent",value:function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(r.selectionNotFound(t));return n}},{key:"hasAxisOrientSignalRef",value:function(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some((function(e){return e.hasOrientSignalRef()})))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some((function(e){return e.hasOrientSignalRef()})))}},{key:"width",get:function(){return this.getSizeSignalRef("width")}},{key:"height",get:function(){return this.getSizeSignalRef("height")}}]),e}(),Vd=function(e){function t(){return Object(ce.a)(this,t),zu(this,Lu(t).apply(this,arguments))}return Uu(t,e),Object(se.a)(t,[{key:"vgField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.fieldDef(e);if(n)return Ha(n,t)}},{key:"reduceFieldDef",value:function(e,t){return Ro(this.getMapping(),(function(t,n,r){var i=ro(n);return i?e(t,i,r):t}),t)}},{key:"forEachFieldDef",value:function(e,t){Bo(this.getMapping(),(function(t,n){var r=ro(t);r&&e(r,n)}),t)}}]),t}(Kd),Yd=function(e){function t(e,n){var r,i,a,o;Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r.transform=x(n);var u=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(a=u[0])&&void 0!==a?a:"value",null!==(o=u[1])&&void 0!==o?o:"density"],r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.density].concat(Object(o.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"DensityTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.density,n=u(e,["density"]);return Object.assign({type:"kde",field:t},n)}}]),t}(js),Jd=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).filter=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,Object.assign({},this.filter))}},{key:"dependentFields",value:function(){return new Set(N(this.filter))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"FilterInvalid ".concat(j(this.filter))}},{key:"assemble",value:function(){var e=this,t=N(this.filter).reduce((function(t,n){var r=e.filter[n],i=Ha(r,{expr:"datum"});return null!==r&&("temporal"===r.type?t.push("(isDate(".concat(i,") || (isValid(").concat(i,") && isFinite(+").concat(i,")))")):"quantitative"===r.type&&(t.push("isValid(".concat(i,")")),t.push("isFinite(+".concat(i,")")))),t}),[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}],[{key:"make",value:function(e,n){var r=n.config,i=n.mark;if("filter"!==Oo("invalid",n.markDef,r))return null;var a=n.reduceFieldDef((function(e,t,r){var a=Rt(r)&&n.getScaleComponent(r);a&&(Ui(a.get("type"))&&"count"!==t.aggregate&&!_e(i)&&(e[t.field]=t));return e}),{});return N(a).length?new t(e,a):null}}]),t}(js),Xd=function(e){function t(e,n){var r;Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r.transform=x(n);var i=r.transform,a=i.flatten,o=i.as,u=void 0===o?[]:o;return r.transform.as=a.map((function(e,t){var n;return null!==(n=u[t])&&void 0!==n?n:e})),r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(this.parent,x(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.flatten)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FlattenTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"flatten",fields:e.flatten,as:e.as}}}]),t}(js),Zd=function(e){function t(e,n){var r,i,a,o;Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r.transform=x(n);var u=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(a=u[0])&&void 0!==a?a:"key",null!==(o=u[1])&&void 0!==o?o:"value"],r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"dependentFields",value:function(){return new Set(this.transform.fold)}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"FoldTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e=this.transform;return{type:"fold",fields:e.fold,as:e.as}}}]),t}(js),Qd=function(e){function t(e,n,r,i){var a;return Object(ce.a)(this,t),(a=zu(this,Lu(t).call(this,e))).fields=n,a.geojson=r,a.signal=i,a}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.fields),this.geojson,this.signal)}},{key:"dependentFields",value:function(){var e,t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(a.H);return new Set([].concat(Object(o.a)(this.geojson?[this.geojson]:[]),Object(o.a)(t)))}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(j(this.fields))}},{key:"assemble",value:function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}],[{key:"parseAll",value:function(e,n){if(n.component.projection&&!n.component.projection.isFit)return e;for(var r=0,i=0,a=[["longitude","latitude"],["longitude2","latitude2"]];i<a.length;i++){var o=a[i].map((function(e){var t=io(n.encoding[e]);return Da(t)?t.field:Ta(t)?{expr:"".concat(t.datum)}:Ra(t)?{expr:"".concat(t.value)}:void 0}));(o[0]||o[1])&&(e=new t(e,o,null,n.getName("geojson_".concat(r++))))}if(n.channelHasField(it)){var u=n.typedFieldDef(it);u.type===vi&&(e=new t(e,null,u.field,n.getName("geojson_".concat(r++))))}return e}}]),t}(js),eh=function(e){function t(e,n,r,i){var a;return Object(ce.a)(this,t),(a=zu(this,Lu(t).call(this,e))).projection=n,a.fields=r,a.as=i,a}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,this.projection,x(this.fields),x(this.as))}},{key:"dependentFields",value:function(){return new Set(this.fields.filter(a.H))}},{key:"producedFields",value:function(){return new Set(this.as)}},{key:"hash",value:function(){return"Geopoint ".concat(this.projection," ").concat(j(this.fields)," ").concat(j(this.as))}},{key:"assemble",value:function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}],[{key:"parseAll",value:function(e,n){if(!n.projectionName())return e;for(var r=0,i=[["longitude","latitude"],["longitude2","latitude2"]];r<i.length;r++){var a=i[r],o=a.map((function(e){var t=io(n.encoding[e]);return Da(t)?t.field:Ta(t)?{expr:"".concat(t.datum)}:Ra(t)?{expr:"".concat(t.value)}:void 0})),u="longitude2"===a[0]?"2":"";(o[0]||o[1])&&(e=new t(e,n.projectionName(),o,[n.getName("x"+u),n.getName("y"+u)]))}return e}}]),t}(js),th=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.impute,this.transform.key].concat(Object(o.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set([this.transform.impute])}},{key:"processSequence",value:function(e){var t=e.start,n=void 0===t?0:t,r=e.stop,i=e.step,a=[n,r].concat(Object(o.a)(i?[i]:[])).join(",");return{signal:"sequence(".concat(a,")")}}},{key:"hash",value:function(){return"Impute ".concat(j(this.transform))}},{key:"assemble",value:function(){var e,t=this.transform,n=t.impute,r=t.key,i=t.keyvals,a=t.method,o=t.groupby,u=t.value,c=t.frame,s=void 0===c?[null,null]:c,l=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:n,key:r},i?{keyvals:(e=i,void 0!==(null===e||void 0===e?void 0:e.stop)?this.processSequence(i):i)}:{}),{method:"value"}),o?{groupby:o}:{}),{value:a&&"value"!==a?null:u});return a&&"value"!==a?[l,Object.assign({type:"window",as:["imputed_".concat(n,"_value")],ops:[a],fields:[n],frame:s,ignorePeers:!1},o?{groupby:o}:{}),{type:"formula",expr:"datum.".concat(n," === null ? datum.imputed_").concat(n,"_value : datum.").concat(n),as:n}]:[l]}}],[{key:"makeFromTransform",value:function(e,n){return new t(e,n)}},{key:"makeFromEncoding",value:function(e,n){var r=n.encoding,i=r.x,a=r.y;if(Da(i)&&Da(a)){var o=i.impute?i:a.impute?a:void 0;if(void 0===o)return;var u=i.impute?a:a.impute?i:void 0,c=o.impute,s=c.method,l=c.value,f=c.frame,d=c.keyvals,h=zo(n.mark,r);return new t(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:u.field},s?{method:s}:{}),void 0!==l?{value:l}:{}),f?{frame:f}:{}),void 0!==d?{keyvals:d}:{}),h.length?{groupby:h}:{}))}return null}}]),t}(js),nh=function(e){function t(e,n){var r,i,a,o;Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r.transform=x(n);var u=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(a=u[0])&&void 0!==a?a:n.on,null!==(o=u[1])&&void 0!==o?o:n.loess],r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.loess,this.transform.on].concat(Object(o.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"LoessTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.loess,n=e.on,r=u(e,["loess","on"]);return Object.assign({type:"loess",x:n,y:t},r)}}]),t}(js),rh=function(e){function t(e,n,r){var i;return Object(ce.a)(this,t),(i=zu(this,Lu(t).call(this,e))).transform=n,i.secondary=r,i}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform),this.secondary)}},{key:"dependentFields",value:function(){return new Set([this.transform.lookup])}},{key:"producedFields",value:function(){return new Set(this.transform.as?Object(a.i)(this.transform.as):this.transform.from.fields)}},{key:"hash",value:function(){return"Lookup ".concat(j({transform:this.transform,secondary:this.secondary}))}},{key:"assemble",value:function(){var e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Object(a.i)(this.transform.as)}:{});else{var t=this.transform.as;Object(a.H)(t)||(jr(r.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}],[{key:"make",value:function(e,n,i,a){var o=n.component.data.sources,u=i.from,c=null;if(function(e){return"data"in e}(u)){var s=bh(u.data,o);s||(s=new Ff(u.data),o.push(s));var l=n.getName("lookup_".concat(a));c=new _s(s,l,kc.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[l]=c}else if(function(e){return"selection"in e}(u)){var f=u.selection;if(i=Object.assign({as:f},i),!(c=n.getSelectionComponent(L(f),f).materialized))throw new Error(r.noSameUnitLookup(f))}return new t(e,i,c.getSource())}}]),t}(js),ih=function(e){function t(e,n){var r,i,a,o;Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r.transform=x(n);var u=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(a=u[0])&&void 0!==a?a:"prob",null!==(o=u[1])&&void 0!==o?o:"value"],r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.quantile].concat(Object(o.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"QuantileTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.quantile,n=u(e,["quantile"]);return Object.assign({type:"quantile",field:t},n)}}]),t}(js),ah=function(e){function t(e,n){var r,i,a,o;Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r.transform=x(n);var u=null!==(i=r.transform.as)&&void 0!==i?i:[void 0,void 0];return r.transform.as=[null!==(a=u[0])&&void 0!==a?a:n.on,null!==(o=u[1])&&void 0!==o?o:n.regression],r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.regression,this.transform.on].concat(Object(o.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"producedFields",value:function(){return new Set(this.transform.as)}},{key:"hash",value:function(){return"RegressionTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.regression,n=e.on,r=u(e,["regression","on"]);return Object.assign({type:"regression",x:n,y:t},r)}}]),t}(js),oh=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"addDimensions",value:function(e){var t;this.transform.groupby=D((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),(function(e){return e}))}},{key:"producedFields",value:function(){}},{key:"dependentFields",value:function(){var e;return new Set([this.transform.pivot,this.transform.value].concat(Object(o.a)(null!==(e=this.transform.groupby)&&void 0!==e?e:[])))}},{key:"hash",value:function(){return"PivotTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){var e=this.transform,t=e.pivot,n=e.value,r=e.groupby,i=e.limit,a=e.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},void 0!==i?{limit:i}:{}),void 0!==a?{op:a}:{}),void 0!==r?{groupby:r}:{})}}]),t}(js),uh=function(e){function t(e,n){var r;return Object(ce.a)(this,t),(r=zu(this,Lu(t).call(this,e))).transform=n,r}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(null,x(this.transform))}},{key:"dependentFields",value:function(){return new Set}},{key:"producedFields",value:function(){return new Set}},{key:"hash",value:function(){return"SampleTransform ".concat(j(this.transform))}},{key:"assemble",value:function(){return{type:"sample",size:this.transform.sample}}}]),t}(js);function ch(e){var t=0;return function n(r,i){var a,u,c;if(r instanceof Ff&&(r.isGenerator||_c(r.data)||(e.push(i),i={name:null,source:i.name,transform:[]})),r instanceof Wf&&(r.parent instanceof Ff&&!i.source?(i.format=Object.assign(Object.assign({},null!==(a=i.format)&&void 0!==a?a:{}),{parse:r.assembleFormatParse()}),(u=i.transform).push.apply(u,Object(o.a)(r.assembleTransforms(!0)))):(c=i.transform).push.apply(c,Object(o.a)(r.assembleTransforms()))),r instanceof If){i.name||(i.name="data_".concat(t++)),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source;var s=!0,l=!1,f=void 0;try{for(var d,h=r.assemble()[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;e.push(p)}}catch(O){l=!0,f=O}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}else{var v;if((r instanceof Tf||r instanceof Mf||r instanceof Jd||r instanceof cl||r instanceof Cl||r instanceof eh||r instanceof Qd||r instanceof Lf||r instanceof rh||r instanceof Yf||r instanceof Kf||r instanceof Zd||r instanceof Xd||r instanceof Yd||r instanceof nh||r instanceof ih||r instanceof ah||r instanceof Gf||r instanceof uh||r instanceof oh)&&i.transform.push(r.assemble()),r instanceof Df||r instanceof Ss||r instanceof th||r instanceof Vf)(v=i.transform).push.apply(v,Object(o.a)(r.assemble()));if(r instanceof _s)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof _s)r.setSource(i.name);else{if(i.name||(i.name="data_".concat(t++)),r.setSource(i.name),1===r.numChildren())e.push(i),i={name:null,source:i.name,transform:[]}}switch(r.numChildren()){case 0:r instanceof _s&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:i.name||(i.name="data_".concat(t++));var g=i.name;!i.source||i.transform.length>0?e.push(i):g=i.source;var m=!0,y=!1,b=void 0;try{for(var x,w=r.children[Symbol.iterator]();!(m=(x=w.next()).done);m=!0){n(x.value,{name:null,source:g,transform:[]})}}catch(O){y=!0,b=O}finally{try{m||null==w.return||w.return()}finally{if(y)throw b}}}}}}function sh(e,t){var n,r,i=[],a=ch(i),o=0,u=!0,s=!1,l=void 0;try{for(var f,d=e.sources[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var h=f.value;h.hasName()||(h.dataName="source_".concat(o++));var p=h.assemble();a(h,p)}}catch(L){s=!0,l=L}finally{try{u||null==d.return||d.return()}finally{if(s)throw l}}for(var v=0,g=i;v<g.length;v++){var m=g[v];0===m.transform.length&&delete m.transform}var y=0,b=!0,x=!1,w=void 0;try{for(var O,k=i.entries()[Symbol.iterator]();!(b=(O=k.next()).done);b=!0){var j=Object(c.a)(O.value,2),_=j[0],S=j[1];0!==(null!==(n=S.transform)&&void 0!==n?n:[]).length||S.source||i.splice(y++,0,i.splice(_,1)[0])}}catch(L){x=!0,w=L}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}for(var E=0,A=i;E<A.length;E++){var C=A[E],D=!0,F=!1,T=void 0;try{for(var M,P=(null!==(r=C.transform)&&void 0!==r?r:[])[Symbol.iterator]();!(D=(M=P.next()).done);D=!0){var N=M.value;"lookup"===N.type&&(N.from=e.outputNodes[N.from].getSource())}}catch(L){F=!0,T=L}finally{try{D||null==P.return||P.return()}finally{if(F)throw T}}}for(var B=0,R=i;B<R.length;B++){var z=R[B];z.name in t&&(z.values=t[z.name])}return i}function lh(e,t){var n,r=e.facet,i=e.config,o=e.child,u=e.component;if(e.channelHasField(t)){var c=r[t],s=Tl("title",null,i,t),l=Za(c,i,{allowDisabling:!0,includeDefault:void 0===s||!!s});o.component.layoutHeaders[t].title&&(l=Object(a.A)(l)?l.join(", "):l,l+=" / "+o.component.layoutHeaders[t].title,o.component.layoutHeaders[t].title=null);var f=Tl("labelOrient",c,i,t),d=J((null!==(n=c.header)&&void 0!==n?n:{}).labels,i.header.labels,!0),h=S(["bottom","right"],f)?"footer":"header";u.layoutHeaders[t]=Object(Be.a)({title:l,facetFieldDef:c},h,"facet"===t?[]:[fh(e,t,d)])}}function fh(e,t,n){var r="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function dh(e,t){var n,r,i=e.child;if(i.component.axes[t]){var a=e.component,o=a.layoutHeaders,u=a.resolve;if(u.axis[t]=Ql(u,t),"shared"===u.axis[t]){var c="x"===t?"column":"row",s=o[c],l=!0,f=!1,d=void 0;try{for(var h,p=i.component.axes[t][Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value,g="top"===(r=v.get("orient"))||"left"===r||Hr(r)?"header":"footer";s[g]=null!==(n=s[g])&&void 0!==n?n:[fh(e,c,!1)];var m=pl(v,"main",e.config,{header:!0});m&&s[g][0].axes.push(m),v.mainExtracted=!0}}catch(y){f=!0,d=y}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}}function hh(e){ph(e);var t=1===e.layout.columns?"width":"childWidth",n=void 0===e.layout.columns?"height":"childHeight";vh(e,t),vh(e,n)}function ph(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.parseLayoutSize()}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}function vh(e,t){var n,r=Jl(t),i=Tt(r),a=e.component.resolve,o=e.component.layoutSize,u=!0,c=!1,s=void 0;try{for(var l,f=e.children[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value.component.layoutSize.getWithExplicit(r),h=a.scale[i];if("independent"===h&&"step"===d.value){n=void 0;break}if(n){if("independent"===h&&n.value!==d.value){n=void 0;break}n=Oc(n,d,r,"")}else n=d}}catch(x){c=!0,s=x}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}if(n){var p=!0,v=!1,g=void 0;try{for(var m,y=e.children[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;e.renameSignal(b.getName(r),e.getName(t)),b.component.layoutSize.set(r,"merged",!1)}}catch(x){v=!0,g=x}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}o.setWithExplicit(t,n)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function gh(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");if(Ii(a)){var u=xu(r.view,t);return Wr(o)||vu(u)?"step":u}return yu(r.view,t)}if(e.hasProjection||"arc"===e.mark)return yu(r.view,t);var c=xu(r.view,t);return vu(c)?c.step:c}function mh(e,t,n){return Ha(t,Object.assign({suffix:"by_".concat(Ha(e))},null!==n&&void 0!==n?n:{}))}var yh=function(e){function t(e,n,r,i){var a;return Object(ce.a)(this,t),(a=zu(this,Lu(t).call(this,e,"facet",n,r,i,e.resolve))).child=Gh(e.spec,Object(Ru.a)(a),a.getName("child"),void 0,i),a.children=[a.child],a.facet=a.initFacet(e.facet,i),a}return Uu(t,e),Object(se.a)(t,[{key:"initFacet",value:function(e,t){return xa(e)?Ro(e,(function(e,n,i){return S([Ge,Ke],i)?void 0===n.field?(jr(r.emptyFieldDef(n,i)),e):(e[i]=ao(n,i,t),e):(jr(r.incompatibleChannel(i,"facet")),e)}),{}):{facet:ao(e,"facet",t)}}},{key:"channelHasField",value:function(e){return!!this.facet[e]}},{key:"fieldDef",value:function(e){return this.facet[e]}},{key:"parseData",value:function(){this.component.data=wh(this),this.child.parseData()}},{key:"parseLayoutSize",value:function(){ph(this)}},{key:"parseSelections",value:function(){this.child.parseSelections(),this.component.selection=this.child.component.selection}},{key:"parseMarkGroup",value:function(){this.child.parseMarkGroup()}},{key:"parseAxesAndHeaders",value:function(){this.child.parseAxesAndHeaders(),function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=ht[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){lh(e,i.value)}}catch(o){n=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}dh(e,"x"),dh(e,"y")}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.child.assembleSelectionTopLevelSignals(e)}},{key:"assembleSignals",value:function(){return this.child.assembleSignals(),[]}},{key:"assembleSelectionData",value:function(e){return this.child.assembleSelectionData(e)}},{key:"getHeaderLayoutMixins",value:function(){var e,t,n,r={},i=!0,a=!1,o=void 0;try{for(var u,c=ht[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=!0,f=!1,d=void 0;try{for(var h,p=Nl[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value,g=this.component.layoutHeaders[s],m=g[v],y=g.facetFieldDef;if(y){var b=Tl("titleOrient",y,this.config,s);if(S(["right","bottom"],b)){var x=Fl(s,b);r.titleAnchor=null!==(e=r.titleAnchor)&&void 0!==e?e:{},r.titleAnchor[x]="end"}}if(null===m||void 0===m?void 0:m[0]){var w="row"===s?"height":"width",O="header"===v?"headerBand":"footerBand";"facet"===s||this.child.component.layoutSize.get(w)||(r[O]=null!==(t=r[O])&&void 0!==t?t:{},r[O][s]=.5),g.title&&(r.offset=null!==(n=r.offset)&&void 0!==n?n:{},r.offset["row"===s?"rowTitle":"columnTitle"]=10)}}}catch(k){f=!0,d=k}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}catch(k){a=!0,o=k}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return r}},{key:"assembleDefaultLayout",value:function(){var e=this.facet,t=e.column,n=e.row,r=t?this.columnDistinctSignal():n?1:void 0,i="all";return(n||"independent"!==this.component.resolve.scale.x)&&(t||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}},{key:"assembleLayoutSignals",value:function(){return this.child.assembleLayoutSignals()}},{key:"columnDistinctSignal",value:function(){if(!(this.parent&&this.parent instanceof t)){var e=this.getName("column_domain");return{signal:"length(data('".concat(e,"'))")}}}},{key:"assembleGroup",value:function(e){return this.parent&&this.parent instanceof t?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Ha(this.facet.column,{prefix:"distinct"})}}}}:{}),Iu(Lu(t.prototype),"assembleGroup",this).call(this,e)):Iu(Lu(t.prototype),"assembleGroup",this).call(this,e)}},{key:"getCardinalityAggregateForChild",value:function(){var e=[],n=[],i=[];if(this.child instanceof t){if(this.child.channelHasField("column")){var a=Ha(this.child.facet.column);e.push(a),n.push("distinct"),i.push("distinct_".concat(a))}}else{var o=!0,u=!1,c=void 0;try{for(var s,l=At[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value,d=this.child.component.scales[f];if(d&&!d.merged){var h=d.get("type"),p=d.get("range");if(Ii(h)&&Wr(p)){var v=jd(_d(this.child,f));v?(e.push(v),n.push("distinct"),i.push("distinct_".concat(v))):jr(r.unknownField(f))}}}}catch(g){u=!0,c=g}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}return{fields:e,ops:n,as:i}}},{key:"assembleFacet",value:function(){var e=this.component.data.facetRoot,t=e.name,n=e.data,r=this.facet,i=r.row,o=r.column,u=this.getCardinalityAggregateForChild(),c=u.fields,s=u.ops,l=u.as,f=[],d=!0,h=!1,p=void 0;try{for(var v,g=ht[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,y=this.facet[m];if(y){f.push(Ha(y));var b=y.bin,x=y.sort;if($t(b)&&f.push(Ha(y,{binSuffix:"end"})),ya(x)){var w=x.field,O=x.op,k=void 0===O?"min":O,j=mh(y,x);i&&o?(c.push(j),s.push("max"),l.push(j)):(c.push(w),s.push(k),l.push(j))}else if(Object(a.A)(x)){var _=Dl(y,m);c.push(_),s.push("max"),l.push(_)}}}}catch(E){h=!0,p=E}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}var S=!!i&&!!o;return Object.assign({name:t,data:n,groupby:f},S||c.length>0?{aggregate:Object.assign(Object.assign({},S?{cross:S}:{}),c.length?{fields:c,ops:s,as:l}:{})}:{})}},{key:"facetSortFields",value:function(e){var t=this.facet[e];return t?ya(t.sort)?[mh(t,t.sort,{expr:"datum"})]:Object(a.A)(t.sort)?[Dl(t,e,{expr:"datum"})]:[Ha(t,{expr:"datum"})]:[]}},{key:"facetSortOrder",value:function(e){var t=this.facet[e];if(t){var n=t.sort;return[(ya(n)?n.order:!Object(a.A)(n)&&n)||"ascending"]}return[]}},{key:"assembleLabelTitle",value:function(){var e=this.facet,t=this.config;if(e.facet)return Ul(e.facet,"facet",t);var n={row:["top","bottom"],column:["left","right"]},r=!0,i=!1,a=void 0;try{for(var o,u=Pl[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=o.value;if(e[c]){var s=Tl("labelOrient",e[c],t,c);if(S(n[c],s))return Ul(e[c],c,t)}}}catch(l){i=!0,a=l}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}},{key:"assembleMarks",value:function(){var e=this,t=this.child,n=function(e){var t=[],n=ch(t),r=!0,i=!1,a=void 0;try{for(var o,u=e.children[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){n(o.value,{source:e.name,name:null,transform:[]})}}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return t}(this.component.data.facetRoot),r=t.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||t.assembleTitle(),o=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{}),o?{style:o}:{}),{from:{facet:this.assembleFacet()},sort:{field:ht.map((function(t){return e.facetSortFields(t)})).flat(),order:ht.map((function(t){return e.facetSortOrder(t)})).flat()}}),n.length>0?{data:n}:{}),r?{encode:{update:r}}:{}),t.assembleGroup(function(e,t){if(e.component.selection&&N(e.component.selection).length){var n=Object(a.Z)(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Object(Jc.a)("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(n,").datum")}]})}return Hs(t)}(this,[])))]}},{key:"getMapping",value:function(){return this.facet}}]),t}(Vd);function bh(e,t){var n,r,i,a,o,u,c,s,l,f,d=!0,h=!1,p=void 0;try{for(var v,g=t[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,y=m.data;if((!e.name||!m.hasName()||e.name===m.dataName)&&(!((null===(n=e.format)||void 0===n?void 0:n.mesh)&&(null===(r=y.format)||void 0===r?void 0:r.feature))&&(!((null===(i=e.format)||void 0===i?void 0:i.feature)||(null===(a=y.format)||void 0===a?void 0:a.feature))||(null===(o=e.format)||void 0===o?void 0:o.feature)===(null===(u=y.format)||void 0===u?void 0:u.feature))&&(!((null===(c=e.format)||void 0===c?void 0:c.mesh)||(null===(s=y.format)||void 0===s?void 0:s.mesh))||(null===(l=e.format)||void 0===l?void 0:l.mesh)===(null===(f=y.format)||void 0===f?void 0:f.mesh))))if(Sc(e)&&Sc(y)){if(b(e.values,y.values))return m}else if(_c(e)&&_c(y)){if(e.url===y.url)return m}else if(Ec(e)&&e.name===m.dataName)return m}}catch(x){h=!0,p=x}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}return null}function xh(e,t){if(e.data||!e.parent){if(null===e.data){var n=new Ff({values:[]});return t.push(n),n}var r=bh(e.data,t);if(r)return Ac(e.data)||(r.data.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];C(e,null!==o&&void 0!==o?o:{})}return e}({},e.data.format,r.data.format)),!r.hasName()&&e.data.name&&(r.dataName=e.data.name),r;var i=new Ff(e.data);return t.push(i),i}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function wh(e){var t,n,i,a,o,u,c,s,l,f,d=xh(e,e.component.data.sources),h=e.component.data,p=h.outputNodes,v=h.outputNodeRefCounts,g=e.parent?e.parent.component.data.ancestorParse.clone():new jc,m=e.data;Ac(m)?(Cc(m)?d=new Mf(d,m.sequence):Fc(m)&&(d=new Tf(d,m.graticule)),g.parseNothing=!0):null===(null===(t=null===m||void 0===m?void 0:m.format)||void 0===t?void 0:t.parse)&&(g.parseNothing=!0),d=null!==(n=Wf.makeExplicit(d,e,g))&&void 0!==n?n:d,d=new Gf(d);var y=e.parent&&Gd(e.parent);($d(e)||Hd(e))&&y&&(d=null!==(i=Df.makeFromEncoding(d,e))&&void 0!==i?i:d),e.transforms.length>0&&(d=function(e,t,n){var i,a,o=0,u=!0,c=!1,s=void 0;try{for(var l,f=t.transforms[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=l.value,h=void 0,p=void 0;if($c(d))p=e=new Cl(e,d),h="derived";else if(Tc(d)){var v=$f(d);p=e=null!==(i=Wf.makeWithAncestors(e,{},v,n))&&void 0!==i?i:e,e=new cl(e,t,d.filter)}else if(Hc(d))p=e=Df.makeFromTransform(e,d,t),h="number";else if(Gc(d)){h="date",void 0===n.getWithExplicit(d.field).value&&(e=new Wf(e,Object(Be.a)({},d.field,h)),n.set(d.field,h,!1)),p=e=Ss.makeFromTransform(e,d)}else if(Kc(d))p=e=Lf.makeFromTransform(e,d),h="number",al(t)&&(e=new Gf(e));else if(Mc(d))p=e=rh.make(e,t,d,o++),h="derived";else if(Ic(d))p=e=new Yf(e,d),h="number";else if(Uc(d))p=e=new Kf(e,d),h="number";else if(Vc(d))p=e=Vf.makeFromTransform(e,d),h="derived";else if(Yc(d))p=e=new Zd(e,d),h="derived";else if(qc(d))p=e=new Xd(e,d),h="derived";else if(Pc(d))p=e=new oh(e,d),h="derived";else if(Lc(d))e=new uh(e,d);else if(Wc(d))p=e=th.makeFromTransform(e,d),h="derived";else if(Nc(d))p=e=new Yd(e,d),h="derived";else if(Bc(d))p=e=new ih(e,d),h="derived";else if(Rc(d))p=e=new ah(e,d),h="derived";else{if(!zc(d)){jr(r.invalidTransformIgnored(d));continue}p=e=new nh(e,d),h="derived"}if(p&&void 0!==h){var g=!0,m=!1,y=void 0;try{for(var b,x=(null!==(a=p.producedFields())&&void 0!==a?a:[])[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value;n.set(w,h,!1)}}catch(O){m=!0,y=O}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}}}}catch(O){c=!0,s=O}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}return e}(d,e,g));var b=function(e){var t={};if($d(e)&&e.component.selection){var n=!0,r=!1,i=void 0;try{for(var a,o=N(e.component.selection)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value,c=e.component.selection[u],s=!0,l=!1,f=void 0;try{for(var d,h=c.project.items[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;!p.channel&&Y(p.field)>1&&(t[p.field]="flatten")}}catch(v){l=!0,f=v}finally{try{s||null==h.return||h.return()}finally{if(l)throw f}}}}catch(v){r=!0,i=v}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}return t}(e),x=Hf(e);d=null!==(a=Wf.makeWithAncestors(d,{},Object.assign(Object.assign({},b),x),g))&&void 0!==a?a:d,$d(e)&&(d=Qd.parseAll(d,e),d=eh.parseAll(d,e)),($d(e)||Hd(e))&&(y||(d=null!==(o=Df.makeFromEncoding(d,e))&&void 0!==o?o:d),d=null!==(u=Ss.makeFromEncoding(d,e))&&void 0!==u?u:d,d=Cl.parseAllForSortIndex(d,e));var w=e.getDataName(kc.Raw),O=new _s(d,w,kc.Raw,v);if(p[w]=O,d=O,$d(e)){var k=Lf.makeFromEncoding(d,e);k&&(d=k,al(e)&&(d=new Gf(d))),d=null!==(c=th.makeFromEncoding(d,e))&&void 0!==c?c:d,d=null!==(s=Vf.makeFromEncoding(d,e))&&void 0!==s?s:d}$d(e)&&(d=null!==(l=Jd.make(d,e))&&void 0!==l?l:d);var j=e.getDataName(kc.Main),_=new _s(d,j,kc.Main,v);p[j]=_,d=_,$d(e)&&function(e,t){nl(e,(function(n){var r=n.name,i=e.getName("lookup_".concat(r));e.component.data.outputNodes[i]=n.materialized=new _s(new cl(t,e,{selection:r}),i,kc.Lookup,e.component.data.outputNodeRefCounts)}))}(e,_);var S=null;if(Hd(e)){var E=e.getName("facet");d=null!==(f=function(e,t){var n=t.row,r=t.column;if(n&&r){for(var i=null,a=0,o=[n,r];a<o.length;a++){var u=o[a];if(ya(u.sort)){var c=u.sort,s=c.field,l=c.op;e=i=new Kf(e,{joinaggregate:[{op:void 0===l?"min":l,field:s,as:mh(u,u.sort,{forAs:!0})}],groupby:[Ha(u)]})}}return i}return null}(d,e.facet))&&void 0!==f?f:d,S=new If(d,e,E,_.getSource()),p[E]=S}return Object.assign(Object.assign({},e.component.data),{outputNodes:p,outputNodeRefCounts:v,raw:O,main:_,facetRoot:S,ancestorParse:g})}var Oh=function(e){function t(e,n,i,a){var o,u,c,s,l;return Object(ce.a)(this,t),o=zu(this,Lu(t).call(this,e,"concat",n,i,a,e.resolve)),"shared"!==(null===(c=null===(u=e.resolve)||void 0===u?void 0:u.axis)||void 0===c?void 0:c.x)&&"shared"!==(null===(l=null===(s=e.resolve)||void 0===s?void 0:s.axis)||void 0===l?void 0:l.y)||jr(r.CONCAT_CANNOT_SHARE_AXIS),o.children=o.getChildren(e).map((function(e,t){return Gh(e,Object(Ru.a)(o),o.getName("concat_"+t),void 0,a)})),o}return Uu(t,e),Object(se.a)(t,[{key:"parseData",value:function(){this.component.data=wh(this);var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.parseData()}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseSelections",value:function(){this.component.selection={};var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a.parseSelections();var o=!0,u=!1,c=void 0;try{for(var s,l=N(a.component.selection)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;this.component.selection[f]=a.component.selection[f]}}catch(d){u=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}}catch(d){t=!0,n=d}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseMarkGroup",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.parseMarkGroup()}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseAxesAndHeaders",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.parseAxesAndHeaders()}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"getChildren",value:function(e){return hu(e)?e.vconcat:pu(e)?e.hconcat:e.concat}},{key:"parseLayoutSize",value:function(){hh(this)}},{key:"parseAxisGroup",value:function(){return null}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.forEach((function(e){return e.assembleSignals()})),[]}},{key:"assembleLayoutSignals",value:function(){var e=Gl(this),t=!0,n=!1,r=void 0;try{for(var i,a=this.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;e.push.apply(e,Object(o.a)(u.assembleLayoutSignals()))}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleMarks",value:function(){return this.children.map((function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{}),n?{style:n}:{}),r?{encode:{update:r}}:{}),e.assembleGroup())}))}},{key:"assembleDefaultLayout",value:function(){var e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:"full",align:"each"})}}]),t}(Kd);var kh=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},ae),{labelExpr:1,encode:1}),jh=N(kh),_h=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(ce.a)(this,t),(e=zu(this,Lu(t).call(this))).explicit=n,e.implicit=r,e.mainExtracted=i,e}return Uu(t,e),Object(se.a)(t,[{key:"clone",value:function(){return new t(x(this.explicit),x(this.implicit),this.mainExtracted)}},{key:"hasAxisPart",value:function(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}},{key:"hasOrientSignalRef",value:function(){return Hr(this.explicit.orient)}}]),t}(mc);var Sh={bottom:"top",top:"bottom",left:"right",right:"left"};function Eh(e,t){if(!e)return t.map((function(e){return e.clone()}));if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r],a=t[r];if(!!i!==!!a)return;if(i&&a){var o=i.getWithExplicit("orient"),u=a.getWithExplicit("orient");if(o.explicit&&u.explicit&&o.value!==u.value)return;e[r]=Ah(i,a)}}return e}}function Ah(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=function(){var n=a.value,r=Oc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(function(e,t){switch(n){case"title":return Co(e,t);case"gridScale":return{explicit:e.explicit,value:J(e.value,t.value)}}return wc(e,t,n,"axis")}));e.setWithExplicit(n,r)},u=jh[Symbol.iterator]();!(n=(a=u.next()).done);n=!0)o()}catch(c){r=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return e}function Ch(e,t,n,r,i){if("disable"===t)return void 0!==n;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Hr(n.labelAngle)?n.labelAngle:Q(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===Al(r,i))return!0}return e===n[t]}var Dh=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Fh(e,t){var n,r,i,a=t.axis(e),o=new _h,u=io(t.encoding[e]),c=t.mark,s=t.config,l=(null===a||void 0===a?void 0:a.orient)||(null===(n=s["x"===e?"axisX":"axisY"])||void 0===n?void 0:n.orient)||(null===(r=s.axis)||void 0===r?void 0:r.orient)||function(e){return"x"===e?"bottom":"left"}(e),f=t.getScaleComponent(e).get("type"),d=wl(e,f,l,t.config),h=void 0!==a?!a:kl("disable",s.style,null===a||void 0===a?void 0:a.style,d).configValue;if(o.set("disable",h,void 0!==a),h)return o;var p=function(e,t,n,r,i){var a=null===t||void 0===t?void 0:t.labelAngle;if(void 0!==a)return Hr(a)?a:Q(a);var o=kl("labelAngle",r,null===t||void 0===t?void 0:t.style,i).configValue;return void 0!==o?Q(o):n!==Ve||!S([pi,di],e.type)||Da(e)&&e.timeUnit?void 0:270}(u,a=a||{},e,s.style,d),v={fieldOrDatumDef:u,axis:a,channel:e,model:t,scaleType:f,orient:l,labelAngle:p,mark:c,config:s},g=!0,m=!1,y=void 0;try{for(var b,x=jh[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var w=b.value,O=w in jl?jl[w](v):ue(w)?a[w]:void 0,k=void 0!==O,j=Ch(O,w,a,t,e);if(k&&j)o.set(w,O,j);else{var _=ue(w)&&"values"!==w?kl(w,s.style,a.style,d):{},E=_.configValue,A=void 0===E?void 0:E,C=_.configFrom,D=void 0===C?void 0:C,F=void 0!==A;k&&!F?o.set(w,O,j):("vgAxisConfig"!==D||Dh.has(w)&&F||ne(A)||Hr(A))&&o.set(w,A,!1)}}}catch(N){m=!0,y=N}finally{try{g||null==x.return||x.return()}finally{if(m)throw y}}var T=null!==(i=a.encoding)&&void 0!==i?i:{},M=re.reduce((function(n,r){var i;if(!o.hasAxisPart(r))return n;var a=Xl(null!==(i=T[r])&&void 0!==i?i:{},t),u="labels"===r?function(e,t,n){var r,i=e.encoding,a=e.config,o=null!==(r=io(i[t]))&&void 0!==r?r:io(i[kt(t)]),u=e.axis(t)||{},c=u.format,s=u.formatType;return ia(s)?Object.assign({text:ca({fieldOrDatumDef:o,field:"datum.value",format:c,formatType:s,config:a})},n):n}(t,e,a):a;return void 0===u||P(u)||(n[r]={update:u}),n}),{});return P(M)||o.set("encode",M,!!a.encoding||void 0!==a.labelAngle),o}function Th(e){var t=e.encoding,n=e.size,i=!0,a=!1,o=void 0;try{for(var u,c=At[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,l=jt(s);vu(n[l])&&Ma(t[s])&&(delete n[l],jr(r.stepDropped(l)))}}catch(f){a=!0,o=f}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}function Mh(e,t,n){var i=Oo("orient",e,n);if(e.orient=function(e,t,n){switch(e){case ge:case Oe:case ke:case be:case me:case pe:return}var r=t.x,i=t.y,a=t.x2,o=t.y2;switch(e){case he:if(Da(r)&&(Ht(r.bin)||Da(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Da(i)&&(Ht(i.bin)||Da(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(o||a){if(n)return n;if(!a&&(Da(r)&&r.type===fi&&!$t(r.bin)||Pa(r)))return"horizontal";if(!o&&(Da(i)&&i.type===fi&&!$t(i.bin)||Pa(i)))return"vertical"}case ye:if(a&&(!Da(r)||!Ht(r.bin))&&o&&(!Da(i)||!Ht(i.bin)))return;case de:if(o)return Da(i)&&Ht(i.bin)?"horizontal":"vertical";if(a)return Da(r)&&Ht(r.bin)?"vertical":"horizontal";if(e===ye){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case ve:case xe:var u=Ma(r),c=Ma(i);if(u&&!c)return"tick"!==e?"horizontal":"vertical";if(!u&&c)return"tick"!==e?"vertical":"horizontal";if(u&&c){var s=r,l=i,f=s.type===hi,d=l.type===hi;return f&&!d?"tick"!==e?"vertical":"horizontal":!f&&d?"tick"!==e?"horizontal":"vertical":!s.aggregate&&l.aggregate?"tick"!==e?"vertical":"horizontal":s.aggregate&&!l.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}return"vertical"}(e.type,t,i),void 0!==i&&i!==e.orient&&jr(r.orientOverridden(e.orient,i)),"bar"===e.type&&e.orient){var a=Oo("cornerRadiusEnd",e,n);if(void 0!==a){var o="horizontal"===e.orient&&t.x2||"vertical"===e.orient&&t.y2?["cornerRadius"]:Fe[e.orient],u=!0,c=!1,s=void 0;try{for(var l,f=o[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){e[l.value]=a}}catch(d){c=!0,s=d}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}void 0!==e.cornerRadiusEnd&&delete e.cornerRadiusEnd}}return void 0===Oo("opacity",e,n)&&(e.opacity=function(e,t){if(S([ge,xe,Oe,ke],e)&&!Fo(t))return.7;return}(e.type,t)),void 0===Oo("cursor",e,n)&&(e.cursor=function(e,t,n){if(t.href||e.href||Oo("href",e,n))return"pointer";return e.cursor}(e,t,n)),e}function Ph(e,t,n){if(n.graticule)return!1;var r=ko("filled",e,t),i=e.type;return J(r,i!==ge&&i!==ve&&i!==ye)}function Nh(e,t){e.config;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),us("x",e,{defaultPos:"mid"})),us("y",e,{defaultPos:"mid"})),is("size",e)),is("angle",e)),function(e,t,n){if(n)return{shape:{value:n}};return is("shape",e)}(e,0,t))}function Bh(e){var t,n=e.config,r=e.markDef,i=r.orient,o="horizontal"===i?"width":"height",u=e.getScaleComponent("horizontal"===i?"x":"y"),c=null!==(t=Oo("size",r,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==c)return c;var s=u?u.get("range"):void 0;return s&&Wr(s)&&Object(a.E)(s.step)?3*s.step/4:3*bu(n.view,o)/4}var Rh={arc:{vgMark:"arc",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),us("x",e,{defaultPos:"mid"})),us("y",e,{defaultPos:"mid"})),vs(e,"radius","arc")),vs(e,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),ds("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===e.markDef.orient})),ds("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===e.markDef.orient})),ws(e))}},bar:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),vs(e,"x","bar")),vs(e,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(e){return Nh(e,"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(e){return Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(e){var t=e.encoding.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},t&&Da(t)&&t.type===vi?{field:Ha(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),vs(e,"x","image")),vs(e,"y","image")),Zc(e,"url"))}},line:{vgMark:"line",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),us("x",e,{defaultPos:"mid"})),us("y",e,{defaultPos:"mid"})),is("size",e,{vgChannel:"strokeWidth"})),ws(e))}},point:{vgMark:"symbol",encodeEntry:function(e){return Nh(e)}},rect:{vgMark:"rect",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),vs(e,"x","rect")),vs(e,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(e){var t=e.markDef.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),ds("x",e,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t})),ds("y",e,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t})),is("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(e){return Nh(e,"square")}},text:{vgMark:"text",encodeEntry:function(e){var t=e.config;e.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),us("x",e,{defaultPos:"mid"})),us("y",e,{defaultPos:"mid"})),Zc(e)),is("size",e,{vgChannel:"fontSize"})),is("angle",e)),Os("align",function(e,t,n){if(void 0===Oo("align",e,n))return"center";return}(e.markDef,0,t))),Os("baseline",function(e,t,n){if(void 0===Oo("baseline",e,n))return"middle";return}(e.markDef,0,t))),us("radius",e,{defaultPos:null,isMidPoint:!0})),us("theta",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=n.orient,i="horizontal"===r?"width":"height",a="horizontal"===r?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),us("x",e,{defaultPos:"mid",vgChannel:"xc"})),us("y",e,{defaultPos:"mid",vgChannel:"yc"})),is("size",e,{defaultValue:Bh(e),vgChannel:i})),Object(Be.a)({},a,yo(Oo("thickness",n,t))))}},trail:{vgMark:"trail",encodeEntry:function(e){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},bs(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),us("x",e,{defaultPos:"mid"})),us("y",e,{defaultPos:"mid"})),is("size",e)),ws(e))}}};function zh(e){if(S([ve,de,we],e.mark)){var t=zo(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+e.requestDataName(kc.Main),data:e.requestDataName(kc.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Ih(e,{fromPrefix:"faceted_path_"})}]}(e,t)}else if(S([he],e.mark)){var n=Yr.some((function(t){return Oo(t,e.markDef,e.config)}));if(e.stack&&!e.fieldDef("size")&&n)return function(e){var t,n,r=Ih(e,{fromPrefix:"stack_group_"}),i=Object(c.a)(r,1)[0],a=e.scaleName(e.stack.fieldChannel),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.vgField(e.stack.fieldChannel,t)},s=function(e,t){var n=[u({prefix:"min",suffix:"start",expr:t}),u({prefix:"max",suffix:"start",expr:t}),u({prefix:"min",suffix:"end",expr:t}),u({prefix:"max",suffix:"end",expr:t})];return"".concat(e,"(").concat(n.map((function(e){return"scale('".concat(a,"',").concat(e,")")})).join(","),")")};"x"===e.stack.fieldChannel?(t=Object.assign(Object.assign({},w(i.encode.update,["y","yc","y2","height"].concat(Object(o.a)(Yr)))),{x:{signal:s("min","datum")},x2:{signal:s("max","datum")},clip:{value:!0}}),n={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},i.encode.update=Object.assign(Object.assign({},O(i.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(t=Object.assign(Object.assign({},w(i.encode.update,["x","xc","x2","width"])),{y:{signal:s("min","datum")},y2:{signal:s("max","datum")},clip:{value:!0}}),n={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},i.encode.update=Object.assign(Object.assign({},O(i.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));var l=!0,f=!1,d=void 0;try{for(var h,p=Yr[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value,g=ko(v,e.markDef,e.config);i.encode.update[v]?(t[v]=i.encode.update[v],delete i.encode.update[v]):g&&(t[v]=yo(g)),g&&(i.encode.update[v]={value:0})}}catch(b){f=!0,d=b}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}var m=e.fieldDef(e.stack.groupbyChannel),y=Ha(m)?[Ha(m)]:[];((null===m||void 0===m?void 0:m.bin)||(null===m||void 0===m?void 0:m.timeUnit))&&y.push(Ha(m,{binSuffix:"end"}));(t=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((function(t,n){if(i.encode.update[n])return Object.assign(Object.assign({},t),Object(Be.a)({},n,i.encode.update[n]));var r=ko(n,e.markDef,e.config);return void 0!==r?Object.assign(Object.assign({},t),Object(Be.a)({},n,yo(r))):t}),t)).stroke&&(t.strokeForeground={value:!0},t.strokeOffset={value:0});return[{type:"group",from:{facet:{data:e.requestDataName(kc.Main),name:"stack_group_"+e.requestDataName(kc.Main),groupby:y,aggregate:{fields:[u({suffix:"start"}),u({suffix:"start"}),u({suffix:"end"}),u({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:t},marks:[{type:"group",encode:{update:n},marks:[i]}]}]}(e)}return Ih(e)}function Lh(e){var t=e.encoding,n=e.stack,r=e.mark,i=e.markDef,o=e.config,u=t.order;if(!(!Object(a.A)(u)&&Ra(u)&&_(u.value)||!u&&_(Oo("order",i,o)))){if((Object(a.A)(u)||Da(u))&&!n)return So(u,{expr:"datum"});if(_e(r)){var c="horizontal"===i.orient?"y":"x",s=t[c];if(Da(s)){var l=s.sort;return Object(a.A)(l)?{field:Ha(s,{prefix:c,suffix:"sort_index",expr:"datum"})}:ya(l)?{field:Ha({aggregate:Fo(e.encoding)?l.op:void 0,field:l.field},{expr:"datum"})}:ma(l)?{field:Ha(e.fieldDef(l.encoding),{expr:"datum"}),order:l.order}:null===l?void 0:{field:Ha(s,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}else;}}function Ih(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""},n=e.mark,r=e.markDef,i=e.encoding,a=e.config,o=J(r.clip,Uh(e),qh(e)),u=wo(r),c=i.key,s=Lh(e),l=$h(e),f=Oo("aria",r,a),d=Rh[n].postEncodingTransform?Rh[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:Rh[n].vgMark},o?{clip:!0}:{}),u?{style:u}:{}),c?{key:c.field}:{}),s?{sort:s}:{}),l||{}),!1===f?{aria:f}:{}),{from:{data:t.fromPrefix+e.requestDataName(kc.Main)},encode:{update:Rh[n].encodeEntry(e)}}),d?{transform:d}:{})]}function Uh(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("selectionExtent")||n&&n.get("selectionExtent"))||void 0}function qh(e){var t=e.component.projection;return!(!t||t.isFit)||void 0}function $h(e){if(!e.component.selection)return null;for(var t=N(e.component.selection).length,n=t,r=e.parent;r&&0===n;)n=N(r.component.selection).length,r=r.parent;return n?{interactive:t>0}:null}var Hh=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;Object(ce.a)(this,t),(i=zu(this,Lu(t).call(this,e,"unit",n,r,o,void 0,gu(e)?e.view:void 0))).specifiedScales={},i.specifiedAxes={},i.specifiedLegends={},i.specifiedProjection={},i.selection={},i.children=[];var u=Ae(e.mark)?Object.assign({},e.mark):{type:e.mark},c=u.type;void 0===u.filled&&(u.filled=Ph(u,o,{graticule:e.data&&Fc(e.data)}));var s=i.encoding=Mo(e.encoding||{},c,u.filled,o);return i.markDef=Mh(u,s,o),i.size=Th({encoding:s,size:gu(e)?Object.assign(Object.assign(Object.assign({},a),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):a}),i.stack=Yu(c,s),i.specifiedScales=i.initScales(c,s),i.specifiedAxes=i.initAxes(s),i.specifiedLegends=i.initLegend(s),i.specifiedProjection=e.projection,i.selection=e.selection,i}return Uu(t,e),Object(se.a)(t,[{key:"scaleDomain",value:function(e){var t=this.specifiedScales[e];return t?t.domain:void 0}},{key:"axis",value:function(e){return this.specifiedAxes[e]}},{key:"legend",value:function(e){return this.specifiedLegends[e]}},{key:"initScales",value:function(e,t){return Bt.reduce((function(e,n){var r,i=io(t[n]);return i&&(e[n]=null!==(r=i.scale)&&void 0!==r?r:{}),e}),{})}},{key:"initAxes",value:function(e){return At.reduce((function(t,n){var r=e[n];if(Na(r)||n===Ve&&Na(e.x2)||n===Ye&&Na(e.y2)){var i=Na(r)?r.axis:void 0;t[n]=i?Object.assign({},i):i}return t}),{})}},{key:"initLegend",value:function(e){return Pt.reduce((function(t,n){var r=io(e[n]);if(r&&function(e){switch(e){case tt:case nt:case rt:case at:case it:case"opacity":case"strokeWidth":case"strokeDash":return!0;case"fillOpacity":case"strokeOpacity":case"angle":return!1}}(n)){var i=r.legend;t[n]=i?Object.assign({},i):i}return t}),{})}},{key:"parseData",value:function(){this.component.data=wh(this)}},{key:"parseLayoutSize",value:function(){!function(e){var t=e.size,n=e.component,r=!0,i=!1,a=void 0;try{for(var o,u=At[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=jt(o.value);if(t[c]){var s=t[c];n.layoutSize.set(c,vu(s)?"step":s,!0)}else{var l=gh(e,c);n.layoutSize.set(c,l,!1)}}}catch(f){i=!0,a=f}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}(this)}},{key:"parseSelections",value:function(){this.component.selection=function(e,t){var n,r={},i=e.config.selection,o=!0,c=!1,s=void 0;try{for(var l,f=function(){var o=l.value,c=x(t[o]),s=i[c.type],f=(s.fields,s.encodings,u(s,["fields","encodings"]));for(var d in f)"encodings"===d&&c.fields||"fields"===d&&c.encodings||("mark"===d&&(c[d]=Object.assign(Object.assign({},f[d]),c[d])),void 0!==c[d]&&!0!==c[d]||(c[d]=null!==(n=f[d])&&void 0!==n?n:c[d]));var h=L(o),p=r[h]=Object.assign(Object.assign({},c),{name:h,events:Object(a.H)(c.on)?Object(Jc.a)(c.on,"scope"):x(c.on)});Us(p,(function(n){n.has(p)&&n.parse&&n.parse(e,p,c,t[o])}))},d=N(null!==t&&void 0!==t?t:{})[Symbol.iterator]();!(o=(l=d.next()).done);o=!0)f()}catch(h){c=!0,s=h}finally{try{o||null==d.return||d.return()}finally{if(c)throw s}}return r}(this,this.selection)}},{key:"parseMarkGroup",value:function(){this.component.mark=zh(this)}},{key:"parseAxesAndHeaders",value:function(){var e;this.component.axes=(e=this,At.reduce((function(t,n){return e.component.scales[n]&&(t[n]=[Fh(n,e)]),t}),{}))}},{key:"assembleSelectionTopLevelSignals",value:function(e){return function(e,t){var n=!1;return nl(e,(function(r,i){var o=r.name,u=Object(a.Z)(o+Xs);if(0===t.filter((function(e){return e.name===o})).length){var c="global"===r.resolve?"union":r.resolve,s="multi"===r.type?", true)":")";t.push({name:r.name,update:"".concat(el,"(").concat(u,", ").concat(Object(a.Z)(c)).concat(s)})}n=!0,i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),Us(r,(function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}))})),n&&0===t.filter((function(e){return"unit"===e.name})).length&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),Hs(t)}(this,e)}},{key:"assembleSignals",value:function(){return[].concat(Object(o.a)(vl(this)),Object(o.a)((t=[],nl(e=this,(function(n,r){var i,u=n.name,c=r.modifyExpr(e,n);(i=t).push.apply(i,Object(o.a)(r.signals(e,n))),Us(n,(function(r){r.signals&&(t=r.signals(e,n,t)),r.modifyExpr&&(c=r.modifyExpr(e,n,c))})),t.push({name:u+Qs,on:[{events:{signal:n.name+Zs},update:"modify(".concat(Object(a.Z)(n.name+Xs),", ").concat(c,")")}]})})),Hs(t))));var e,t}},{key:"assembleSelectionData",value:function(e){return function(e,t){var n=Object(o.a)(t);return nl(e,(function(t){var r={name:t.name+Xs};if(t.init){var i=t.project.items.map((function(e){e.signals;return u(e,["signals"])})),a=t.init.map((function(e){return qs(e,!1)}));r.values="interval"===t.type?[{unit:il(e,{escape:!1}),fields:i,values:a}]:a.map((function(t){return{unit:il(e,{escape:!1}),fields:i,values:t}}))}n.filter((function(e){return e.name===t.name+Xs})).length||n.push(r)})),n}(this,e)}},{key:"assembleLayout",value:function(){return null}},{key:"assembleLayoutSignals",value:function(){return Gl(this)}},{key:"assembleMarks",value:function(){var e,t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&Gd(this.parent)||(t=$s(this,t)),t.map(this.correctDataNames)}},{key:"getMapping",value:function(){return this.encoding}},{key:"channelHasField",value:function(e){return Do(this.encoding,e)}},{key:"fieldDef",value:function(e){return ro(this.encoding[e])}},{key:"typedFieldDef",value:function(e){var t=this.fieldDef(e);return Ba(t)?t:null}},{key:"hasProjection",get:function(){var e=this.encoding,t=this.mark===je,n=e&&st.some((function(t){return Na(e[t])}));return t||n}},{key:"mark",get:function(){return this.markDef.type}}]),t}(Vd),Wh=function(e){function t(e,n,i,a,o){var u;Object(ce.a)(this,t),u=zu(this,Lu(t).call(this,e,"layer",n,i,o,e.resolve,e.view));var c=Object.assign(Object.assign(Object.assign({},a),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});return u.children=e.layer.map((function(e,n){if(Nu(e))return new t(e,Object(Ru.a)(u),u.getName("layer_"+n),c,o);if(Pe(e))return new Hh(e,Object(Ru.a)(u),u.getName("layer_"+n),c,o);throw new Error(r.invalidSpec(e))})),u}return Uu(t,e),Object(se.a)(t,[{key:"parseData",value:function(){this.component.data=wh(this);var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.parseData()}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseLayoutSize",value:function(){var e;ph(e=this),vh(e,"width"),vh(e,"height")}},{key:"parseSelections",value:function(){this.component.selection={};var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a.parseSelections();var o=!0,u=!1,c=void 0;try{for(var s,l=N(a.component.selection)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;this.component.selection[f]=a.component.selection[f]}}catch(d){u=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}}}catch(d){t=!0,n=d}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseMarkGroup",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.children[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.parseMarkGroup()}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"parseAxesAndHeaders",value:function(){!function(e){var t,n=e.component,r=n.axes,i=n.resolve,a={top:0,bottom:0,right:0,left:0},o=!0,u=!1,c=void 0;try{for(var s,l=e.children[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var f=s.value;f.parseAxesAndHeaders();var d=!0,h=!1,p=void 0;try{for(var v,g=N(f.component.axes)[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value;i.axis[m]=Ql(e.component.resolve,m),"shared"===i.axis[m]&&(r[m]=Eh(r[m],f.component.axes[m]),r[m]||(i.axis[m]="independent",delete r[m]))}}catch(K){h=!0,p=K}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}}}catch(K){u=!0,c=K}finally{try{o||null==l.return||l.return()}finally{if(u)throw c}}var y=!0,b=!1,x=void 0;try{for(var w,O=At[Symbol.iterator]();!(y=(w=O.next()).done);y=!0){var k=w.value,j=!0,_=!1,S=void 0;try{for(var E,A=e.children[Symbol.iterator]();!(j=(E=A.next()).done);j=!0){var C=E.value;if(C.component.axes[k]){if("independent"===i.axis[k]){r[k]=(null!==(t=r[k])&&void 0!==t?t:[]).concat(C.component.axes[k]);var D=!0,F=!1,T=void 0;try{for(var M,P=C.component.axes[k][Symbol.iterator]();!(D=(M=P.next()).done);D=!0){var B=M.value,R=B.getWithExplicit("orient"),z=R.value,L=R.explicit;if(!Hr(z)){if(a[z]>0&&!L){var I=Sh[z];a[z]>a[I]&&B.set("orient",I,!1)}a[z]++}}}catch(K){F=!0,T=K}finally{try{D||null==P.return||P.return()}finally{if(F)throw T}}}delete C.component.axes[k]}}}catch(K){_=!0,S=K}finally{try{j||null==A.return||A.return()}finally{if(_)throw S}}if("independent"===i.axis[k]&&r[k]&&r[k].length>1){var U=!0,q=!1,$=void 0;try{for(var H,W=r[k][Symbol.iterator]();!(U=(H=W.next()).done);U=!0){var G=H.value;G.get("grid")&&!G.explicit.grid&&(G.implicit.grid=!1)}}catch(K){q=!0,$=K}finally{try{U||null==W.return||W.return()}finally{if(q)throw $}}}}}catch(K){b=!0,x=K}finally{try{y||null==O.return||O.return()}finally{if(b)throw x}}}(this)}},{key:"assembleSelectionTopLevelSignals",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionTopLevelSignals(e)}),e)}},{key:"assembleSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleSignals())}),vl(this))}},{key:"assembleLayoutSignals",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLayoutSignals())}),Gl(this))}},{key:"assembleSelectionData",value:function(e){return this.children.reduce((function(e,t){return t.assembleSelectionData(e)}),e)}},{key:"assembleTitle",value:function(){var e=Iu(Lu(t.prototype),"assembleTitle",this).call(this);if(e)return e;var n=!0,r=!1,i=void 0;try{for(var a,o=this.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){if(e=a.value.assembleTitle())return e}}catch(u){r=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}},{key:"assembleLayout",value:function(){return null}},{key:"assembleMarks",value:function(){return function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var u=a.value;$d(u)&&(t=$s(u,t))}}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}(this,this.children.flatMap((function(e){return e.assembleMarks()})))}},{key:"assembleLegends",value:function(){return this.children.reduce((function(e,t){return e.concat(t.assembleLegends())}),yf(this))}}]),t}(Kd);function Gh(e,t,n,i,a){if(Oa(e))return new yh(e,t,n,a);if(Nu(e))return new Wh(e,t,n,i,a);if(Pe(e))return new Hh(e,t,n,i,a);if(function(e){return hu(e)||pu(e)||du(e)}(e))return new Oh(e,t,n,a);throw new Error(r.invalidSpec(e))}function Kh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger&&Or(t.logger),t.fieldTitle&&Ja(t.fieldTitle);try{var n=Cu(Object(a.N)(t.config,e.config)),r=dc(e,n),i=Gh(r,null,"",void 0,n);i.parse(),pd(i.component.data,i);var o=Yh(i,Vh(e,r.autosize,n,i),e.datasets,e.usermeta);return{spec:o,normalized:r}}finally{t.logger&&kr(),t.fieldTitle&&Xa()}}function Vh(e,t,n,i){var o,u=i.component.layoutSize.get("width"),c=i.component.layoutSize.get("height");if(void 0===t?(t={type:"pad"},i.hasAxisOrientSignalRef()&&(t.resize=!0)):Object(a.H)(t)&&(t={type:t}),u&&c&&("fit"===(o=t.type)||"fit-x"===o||"fit-y"===o))if("step"===u&&"step"===c)jr(r.droppingFit()),t.type="pad";else if("step"===u||"step"===c){var s="step"===u?"width":"height";jr(r.droppingFit(Tt(s)));var l="width"===s?"height":"width";t.type=function(e){return e?"fit-".concat(Tt(e)):"fit"}(l)}return Object.assign(Object.assign(Object.assign({},1===N(t).length&&t.type?"pad"===t.type?{}:{autosize:t.type}:{autosize:t}),gc(n)),gc(e))}function Yh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=e.config?Mu(e.config):void 0,a=[].concat(e.assembleSelectionData([]),sh(e.component.data,n)),u=e.assembleProjections(),c=e.assembleTitle(),s=e.assembleGroupStyle(),l=e.assembleGroupEncodeEntry(!0),f=e.assembleLayoutSignals();return f=f.filter((function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)})),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),t),c?{title:c}:{}),s?{style:s}:{}),l?{encode:{update:l}}:{}),{data:a}),u.length>0?{projections:u}:{}),e.assembleGroup([].concat(Object(o.a)(f),Object(o.a)(e.assembleSelectionTopLevelSignals([]))))),i?{config:i}:{}),r?{usermeta:r}:{})}n.d(t,"compile",(function(){return Kh})),n.d(t,"normalize",(function(){return dc})),n.d(t,"version",(function(){return i.a}))},function(e,t,n){"use strict";var r=n(5),i=n(9),a=n(540),o=n(4),u=["xs","sm","md","lg","xl"];function c(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=void 0===r?"px":r,c=e.step,s=void 0===c?5:c,l=Object(i.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function d(e,t){var r=u.indexOf(t);return r===u.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[u[r+1]]?n[u[r+1]]:t)-s/100).concat(a,")")}return Object(o.a)({keys:u,values:n,up:f,down:function(e){var t=u.indexOf(e)+1,r=n[u[t]];return t===u.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-s/100).concat(a,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},l)}function s(e,t,n){var i;return Object(o.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(o.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var l=n(316),f={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},h={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(33),x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function O(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(b.e)(e.main,i):"dark"===t&&(e.dark=Object(b.a)(e.main,a)))}function k(e){var t=e.primary,n=void 0===t?{light:h[300],main:h[500],dark:h[700]}:t,r=e.secondary,u=void 0===r?{light:p.A200,main:p.A400,dark:p.A700}:r,c=e.error,s=void 0===c?{light:v[300],main:v[500],dark:v[700]}:c,k=e.warning,j=void 0===k?{light:g[300],main:g[500],dark:g[700]}:k,_=e.info,S=void 0===_?{light:m[300],main:m[500],dark:m[700]}:_,E=e.success,A=void 0===E?{light:y[300],main:y[500],dark:y[700]}:E,C=e.type,D=void 0===C?"light":C,F=e.contrastThreshold,T=void 0===F?3:F,M=e.tonalOffset,P=void 0===M?.2:M,N=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function B(e){return Object(b.d)(e,w.text.primary)>=T?w.text.primary:x.text.primary}var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(o.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(l.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(l.a)(5,JSON.stringify(e.main)));return O(e,"light",n,P),O(e,"dark",r,P),e.contrastText||(e.contrastText=B(e.main)),e},z={dark:w,light:x};return Object(a.a)(Object(o.a)({common:f,type:D,primary:R(n),secondary:R(u,"A400","A200","A700"),error:R(s),warning:R(j),info:R(S),success:R(A),grey:d,contrastThreshold:T,getContrastText:B,augmentColor:R,tonalOffset:P},z[D]),N)}function j(e){return Math.round(1e5*e)/1e5}var _={textTransform:"uppercase"};function S(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,u=void 0===r?'"Roboto", "Helvetica", "Arial", sans-serif':r,c=n.fontSize,s=void 0===c?14:c,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,v=void 0===p?500:p,g=n.fontWeightBold,m=void 0===g?700:g,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,w=n.pxToRem,O=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var k=s/14,S=w||function(e){return"".concat(e/b*k,"rem")},E=function(e,t,n,r,i){return Object(o.a)({fontFamily:u,fontWeight:e,fontSize:S(t),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===u?{letterSpacing:"".concat(j(r/t),"em")}:{},i,x)},A={h1:E(f,96,1.167,-1.5),h2:E(f,60,1.2,-.5),h3:E(h,48,1.167,0),h4:E(h,34,1.235,.25),h5:E(h,24,1.334,0),h6:E(v,20,1.6,.15),subtitle1:E(h,16,1.75,.15),subtitle2:E(v,14,1.57,.1),body1:E(h,16,1.5,.15),body2:E(h,14,1.43,.15),button:E(v,14,1.75,.4,_),caption:E(h,12,1.66,.4),overline:E(h,12,2.66,1,_)};return Object(a.a)(Object(o.a)({htmlFontSize:b,pxToRem:S,round:j,fontFamily:u,fontSize:s,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:m},A),O,{clone:!1})}function E(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)],C={borderRadius:4},D=n(625);function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(D.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var T=n(128),M=n(167);t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,u=e.palette,l=void 0===u?{}:u,f=e.spacing,d=e.typography,h=void 0===d?{}:d,p=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),v=k(l),g=c(n),m=F(f),y=Object(a.a)({breakpoints:g,direction:"ltr",mixins:s(g,m,o),overrides:{},palette:v,props:{},shadows:A,typography:S(v,h),spacing:m,shape:C,transitions:T.a,zIndex:M.a},p),b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return y=x.reduce((function(e,t){return Object(a.a)(e,t)}),y)}},function(e,t,n){"use strict";n.r(t);var r=n(291),i={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},a={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},o={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},u={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},c="Benton Gothic Bold, sans-serif",s={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},l={background:"#ffffff",title:{anchor:"start",color:"#000000",font:c,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:c,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:c,titleFontSize:13,titleFontWeight:"normal"},range:{category:s["category-6"],diverging:s["fireandice-6"],heatmap:s["fire-7"],ordinal:s["fire-7"],ramp:s["fire-7"]}},f={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},d={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},h={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},p={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:h["six-groups-cat-1"],diverging:h["diverging-colors"],heatmap:h["diverging-colors"],ordinal:h["six-groups-seq"],ramp:h["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},v={arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}};n.d(t,"version",(function(){return g})),n.d(t,"dark",(function(){return i})),n.d(t,"excel",(function(){return a})),n.d(t,"fivethirtyeight",(function(){return o})),n.d(t,"ggplot2",(function(){return u})),n.d(t,"latimes",(function(){return l})),n.d(t,"quartz",(function(){return f})),n.d(t,"vox",(function(){return d})),n.d(t,"urbaninstitute",(function(){return p})),n.d(t,"googlecharts",(function(){return v}));var g=r.version},function(e,t,n){"use strict";var r,i=n(74),a=n(208),o=n(99),u=function(e,t){var n=Object(o.a)(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},c={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return u(100*e,t)},r:u,s:function(e,t){var n=Object(o.a)(e,t);if(!n)return e+"";var i=n[0],a=n[1],u=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,c=i.length;return u===c?i:u>c?i+new Array(u-c+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+Object(o.a)(e,Math.max(0,t+u-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},s=function(e){return e},l=Array.prototype.map,f=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){var t,n,o=void 0===e.grouping||void 0===e.thousands?s:(t=l.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(e.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),u=void 0===e.currency?"":e.currency[0]+"",d=void 0===e.currency?"":e.currency[1]+"",h=void 0===e.decimal?".":e.decimal+"",p=void 0===e.numerals?s:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(l.call(e.numerals,String)),v=void 0===e.percent?"%":e.percent+"",g=void 0===e.minus?"-":e.minus+"",m=void 0===e.nan?"NaN":e.nan+"";function y(e){var t=(e=Object(a.a)(e)).fill,n=e.align,i=e.sign,s=e.symbol,l=e.zero,y=e.width,b=e.comma,x=e.precision,w=e.trim,O=e.type;"n"===O?(b=!0,O="g"):c[O]||(void 0===x&&(x=12),w=!0,O="g"),(l||"0"===t&&"="===n)&&(l=!0,t="0",n="=");var k="$"===s?u:"#"===s&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",j="$"===s?d:/[%p]/.test(O)?v:"",_=c[O],S=/[defgprs%]/.test(O);function E(e){var a,u,c,s=k,d=j;if("c"===O)d=_(e)+d,e="";else{var v=(e=+e)<0||1/e<0;if(e=isNaN(e)?m:_(Math.abs(e),x),w&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),v&&0===+e&&"+"!==i&&(v=!1),s=(v?"("===i?i:g:"-"===i||"("===i?"":i)+s,d=("s"===O?f[8+r/3]:"")+d+(v&&"("===i?")":""),S)for(a=-1,u=e.length;++a<u;)if(48>(c=e.charCodeAt(a))||c>57){d=(46===c?h+e.slice(a+1):e.slice(a))+d,e=e.slice(0,a);break}}b&&!l&&(e=o(e,1/0));var E=s.length+e.length+d.length,A=E<y?new Array(y-E+1).join(t):"";switch(b&&l&&(e=o(A+e,A.length?y-d.length:1/0),A=""),n){case"<":e=s+e+d+A;break;case"=":e=s+A+e+d;break;case"^":e=A.slice(0,E=A.length>>1)+s+e+d+A.slice(E);break;default:e=A+s+e+d}return p(e)}return x=void 0===x?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),E.toString=function(){return e+""},E}return{format:y,formatPrefix:function(e,t){var n=y(((e=Object(a.a)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Object(i.a)(t)/3))),o=Math.pow(10,-r),u=f[8+r/3];return function(e){return n(o*e)+u}}}}},function(e,t,n){"use strict";var r=n(292),i=n(8),a=n(7),o="vg-tooltip-element",u={offsetX:10,offsetY:10,id:o,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};var c=n(0),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function l(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!==typeof r||null===r)return r;var i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var f=function(){function e(t){Object(i.a)(this,e),this.options=Object.assign(Object.assign({},u),t);var n=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace(o,e)}(n);var a=document.head;a.childNodes.length>0?a.insertBefore(r,a.childNodes[0]):a.appendChild(r)}this.el=document.getElementById(n),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",n),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}return Object(a.a)(e,[{key:"tooltipHandler",value:function(e,t,n,r){if(null!=r&&""!==r){this.el.innerHTML=function(e,t,n){if(Object(c.A)(e))return"[".concat(e.map((function(e){return t(Object(c.H)(e)?e:l(e,n))})).join(", "),"]");if(Object(c.F)(e)){var r="",i=e,a=i.title,o=i.image,u=s(i,["title","image"]);a&&(r+="<h2>".concat(t(a),"</h2>")),o&&(r+='<img src="'.concat(t(o),'">'));var f=Object.keys(u);if(f.length>0){r+="<table>";var d=!0,h=!1,p=void 0;try{for(var v,g=f[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,y=u[m];void 0!==y&&(Object(c.F)(y)&&(y=l(y,n)),r+='<tr><td class="key">'.concat(t(m),':</td><td class="value">').concat(t(y),"</td></tr>"))}}catch(b){h=!0,p=b}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}r+="</table>"}return r||"{}"}return t(e)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var i=function(e,t,n,r){var i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);var a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),a=i.x,o=i.y;this.el.setAttribute("style","top: ".concat(o,"px; left: ").concat(a,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}();n.d(t,"a",(function(){return f}));r.version},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"JsonPatchError",(function(){return v})),n.d(r,"deepClone",(function(){return g})),n.d(r,"getValueByPointer",(function(){return b})),n.d(r,"applyOperation",(function(){return x})),n.d(r,"applyPatch",(function(){return w})),n.d(r,"applyReducer",(function(){return O})),n.d(r,"validator",(function(){return k})),n.d(r,"validate",(function(){return j})),n.d(r,"_areEquals",(function(){return _}));var i={};n.r(i),n.d(i,"unobserve",(function(){return C})),n.d(i,"observe",(function(){return D})),n.d(i,"generate",(function(){return F})),n.d(i,"compare",(function(){return M}));var a=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=Object.prototype.hasOwnProperty;function u(e,t){return o.call(e,t)}function c(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var r in e)u(e,r)&&t.push(r);return t}function s(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function l(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function f(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function d(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function h(e,t){var n=[e];for(var r in t){var i="object"===typeof t[r]?JSON.stringify(t[r],null,2):t[r];"undefined"!==typeof i&&n.push(r+": "+i)}return n.join("\n")}var p=function(e){function t(t,n,r,i,a){var o=this.constructor,u=e.call(this,h(t,{name:n,index:r,operation:i,tree:a}))||this;return u.name=n,u.index=r,u.operation=i,u.tree=a,Object.setPrototypeOf(u,o.prototype),u.message=h(t,{name:n,index:r,operation:i,tree:a}),u}return a(t,e),t}(Error),v=p,g=s,m={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=b(n,this.path);r&&(r=s(r));var i=x(n,{op:"remove",path:this.from}).removed;return x(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=b(n,this.from);return x(n,{op:"add",path:this.path,value:s(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:_(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},y={add:function(e,t,n){return l(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:m.move,copy:m.copy,test:m.test,_get:m._get};function b(e,t){if(""==t)return e;var n={op:"_get",path:t};return x(e,n),n.value}function x(e,t,n,r,i,a){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===a&&(a=0),n&&("function"==typeof n?n(t,0,e,t.path):k(t,0)),""===t.path){var o={newDocument:e};if("add"===t.op)return o.newDocument=t.value,o;if("replace"===t.op)return o.newDocument=t.value,o.removed=e,o;if("move"===t.op||"copy"===t.op)return o.newDocument=b(e,t.from),"move"===t.op&&(o.removed=e),o;if("test"===t.op){if(o.test=_(e,t.value),!1===o.test)throw new v("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o.newDocument=e,o}if("remove"===t.op)return o.removed=e,o.newDocument=null,o;if("_get"===t.op)return t.value=e,o;if(n)throw new v("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return o}r||(e=s(e));var u=(t.path||"").split("/"),c=e,f=1,h=u.length,p=void 0,g=void 0,x=void 0;for(x="function"==typeof n?n:k;;){if(g=u[f],i&&"__proto__"==g)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===p&&(void 0===c[g]?p=u.slice(0,f).join("/"):f==h-1&&(p=t.path),void 0!==p&&x(t,0,e,p)),f++,Array.isArray(c)){if("-"===g)g=c.length;else{if(n&&!l(g))throw new v("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);l(g)&&(g=~~g)}if(f>=h){if(n&&"add"===t.op&&g>c.length)throw new v("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);if(!1===(o=y[t.op].call(t,c,g,e)).test)throw new v("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}}else if(g&&-1!=g.indexOf("~")&&(g=d(g)),f>=h){if(!1===(o=m[t.op].call(t,c,g,e)).test)throw new v("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return o}c=c[g]}}function w(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new v("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=s(e));for(var a=new Array(t.length),o=0,u=t.length;o<u;o++)a[o]=x(e,t[o],n,!0,i,o),e=a[o].newDocument;return a.newDocument=e,a}function O(e,t,n){var r=x(e,t);if(!1===r.test)throw new v("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function k(e,t,n,r){if("object"!==typeof e||null===e||Array.isArray(e))throw new v("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!m[e.op])throw new v("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!==typeof e.path)throw new v("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new v('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new v("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new v("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return!0}else if("object"===typeof t){var i=c(t),a=i.length;for(n=0;n<a;n++)if(e(t[i[n]]))return!0}return!1}(e.value))throw new v("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new v("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new v("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var o=j([{op:"_get",path:e.from,value:void 0}],n);if(o&&"OPERATION_PATH_UNRESOLVABLE"===o.name)throw new v("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function j(e,t,n){try{if(!Array.isArray(e))throw new v("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)w(s(t),s(e),n||!0);else{n=n||k;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof v)return i;throw i}}function _(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,a=Array.isArray(e),o=Array.isArray(t);if(a&&o){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!_(e[n],t[n]))return!1;return!0}if(a!=o)return!1;var u=Object.keys(e);if((r=u.length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!t.hasOwnProperty(u[n]))return!1;for(n=r;0!==n--;)if(!_(e[i=u[n]],t[i]))return!1;return!0}return e!==e&&t!==t}var S=new WeakMap,E=function(e){this.observers=new Map,this.obj=e},A=function(e,t){this.callback=e,this.observer=t};function C(e,t){t.unobserve()}function D(e,t){var n,r=function(e){return S.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new E(e),S.set(e,r);if(n)return n;if(n={},r.value=s(e),t){n.callback=t,n.next=null;var a=function(){F(n)},o=function(){clearTimeout(n.next),n.next=setTimeout(a)};"undefined"!==typeof window&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return n.patches=[],n.object=e,n.unobserve=function(){F(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!==typeof window&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},r.observers.set(t,new A(t,n)),n}function F(e,t){void 0===t&&(t=!1);var n=S.get(e.object);T(n.value,e.object,e.patches,"",t),e.patches.length&&w(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function T(e,t,n,r,i){if(t!==e){"function"===typeof t.toJSON&&(t=t.toJSON());for(var a=c(t),o=c(e),l=!1,d=o.length-1;d>=0;d--){var h=e[v=o[d]];if(!u(t,v)||void 0===t[v]&&void 0!==h&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+f(v),value:s(h)}),n.push({op:"remove",path:r+"/"+f(v)}),l=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var p=t[v];"object"==typeof h&&null!=h&&"object"==typeof p&&null!=p?T(h,p,n,r+"/"+f(v),i):h!==p&&(!0,i&&n.push({op:"test",path:r+"/"+f(v),value:s(h)}),n.push({op:"replace",path:r+"/"+f(v),value:s(p)}))}}if(l||a.length!=o.length)for(d=0;d<a.length;d++){var v;u(e,v=a[d])||void 0===t[v]||n.push({op:"add",path:r+"/"+f(v),value:s(t[v])})}}}function M(e,t,n){void 0===n&&(n=!1);var r=[];return T(e,t,r,"",n),r}n.d(t,"a",(function(){return w}));Object.assign({},r,i,{JsonPatchError:p,deepClone:s,escapePathComponent:f,unescapePathComponent:d})},function(e,t,n){"use strict";var r=n(210),i=n(209),a=n(112);function o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}var u=n(11),c=n.n(u),s=c.a.mark(f),l=function(e){return null===e?NaN:+e};function f(e,t){var n,r,i,a,o,u,l,f,d,h,p,v,g;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==t){c.next=30;break}n=!0,r=!1,i=void 0,c.prev=4,a=e[Symbol.iterator]();case 6:if(n=(o=a.next()).done){c.next=14;break}if(!(null!=(u=o.value)&&(u=+u)>=u)){c.next=11;break}return c.next=11,u;case 11:n=!0,c.next=6;break;case 14:c.next=20;break;case 16:c.prev=16,c.t0=c.catch(4),r=!0,i=c.t0;case 20:c.prev=20,c.prev=21,n||null==a.return||a.return();case 23:if(c.prev=23,!r){c.next=26;break}throw i;case 26:return c.finish(23);case 27:return c.finish(20);case 28:c.next=58;break;case 30:l=-1,f=!0,d=!1,h=void 0,c.prev=34,p=e[Symbol.iterator]();case 36:if(f=(v=p.next()).done){c.next=44;break}if(g=v.value,!(null!=(g=t(g,++l,e))&&(g=+g)>=g)){c.next=41;break}return c.next=41,g;case 41:f=!0,c.next=36;break;case 44:c.next=50;break;case 46:c.prev=46,c.t1=c.catch(34),d=!0,h=c.t1;case 50:c.prev=50,c.prev=51,f||null==p.return||p.return();case 53:if(c.prev=53,!d){c.next=56;break}throw h;case 56:return c.finish(53);case 57:return c.finish(50);case 58:case"end":return c.stop()}}),s,null,[[4,16,20,28],[21,,23,27],[34,46,50,58],[51,,53,57]])}function d(e,t,n){if(u=(e=Float64Array.from(f(e,n))).length){if((t=+t)<=0||u<2)return Object(i.a)(e);if(t>=1)return Object(r.a)(e);var u,c=(u-1)*t,s=Math.floor(c),l=Object(r.a)(function e(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.a;i>r;){if(i-r>600){var c=i-r+1,s=n-r+1,l=Math.log(c),f=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*f*(c-f)/c)*(s-c/2<0?-1:1),h=Math.max(r,Math.floor(n-s*f/c+d)),p=Math.min(i,Math.floor(n+(c-s)*f/c+d));e(t,n,h,p,u)}var v=t[n],g=r,m=i;for(o(t,r,n),u(t[i],v)>0&&o(t,r,i);g<m;){for(o(t,g,m),++g,--m;u(t[g],v)<0;)++g;for(;u(t[m],v)>0;)--m}0===u(t[r],v)?o(t,r,m):o(t,++m,i),m<=n&&(r=m+1),n<=m&&(i=m-1)}return t}(e,s).subarray(0,s+1));return l+(Object(i.a)(e.subarray(s+1))-l)*(c-s)}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return o+(u-o)*(i-a)}}n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){return crypto.getRandomValues(new Uint8Array(e))},i=function(e,t){return function(e,t,n){var r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return function(){for(var a="";;)for(var o=n(i),u=i;u--;)if((a+=e[o[u]&r]||"").length===+t)return a}}(e,t,r)}},function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(30),i=n(32),a=Object(r.a)((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.c)/i.a}),(function(e){return e.getDate()-1}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(30),i=n(32),a=Object(r.a)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/i.a}),(function(e){return e.getUTCDate()-1}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(9),i=n(4),a=n(316),o=n(1),u=(n(15),n(10)),c=n(60),s=n(97),l=n(13),f=n(19),d=n(26),h=n(168);function p(e,t){return parseInt(e[t],10)||0}var v="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,g={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},m=o.forwardRef((function(e,t){var n=e.onChange,a=e.rows,u=e.rowsMax,c=e.rowsMin,s=void 0===c?1:c,l=e.style,f=e.value,m=Object(r.a)(e,["onChange","rows","rowsMax","rowsMin","style","value"]),y=a||s,b=o.useRef(null!=f).current,x=o.useRef(null),w=Object(d.a)(t,x),O=o.useRef(null),k=o.useRef(0),j=o.useState({}),_=j[0],S=j[1],E=o.useCallback((function(){var t=x.current,n=window.getComputedStyle(t),r=O.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=p(n,"padding-bottom")+p(n,"padding-top"),o=p(n,"border-bottom-width")+p(n,"border-top-width"),c=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,l=c;y&&(l=Math.max(Number(y)*s,l)),u&&(l=Math.min(Number(u)*s,l));var f=(l=Math.max(l,s))+("border-box"===i?a+o:0),d=Math.abs(l-c)<=1;S((function(e){return k.current<20&&(f>0&&Math.abs((e.outerHeightStyle||0)-f)>1||e.overflow!==d)?(k.current+=1,{overflow:d,outerHeightStyle:f}):e}))}),[u,y,e.placeholder]);o.useEffect((function(){var e=Object(h.a)((function(){k.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),v((function(){E()})),o.useEffect((function(){k.current=0}),[f]);return o.createElement(o.Fragment,null,o.createElement("textarea",Object(i.a)({value:f,onChange:function(e){k.current=0,b||E(),n&&n(e)},ref:w,rows:y,style:Object(i.a)({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},l)},m)),o.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:O,tabIndex:-1,style:Object(i.a)({},g,l)}))})),y=n(98),b="undefined"===typeof window?o.useEffect:o.useLayoutEffect,x=o.forwardRef((function(e,t){var n=e["aria-describedby"],l=e.autoComplete,h=e.autoFocus,p=e.classes,v=e.className,g=(e.color,e.defaultValue),x=e.disabled,w=e.endAdornment,O=(e.error,e.fullWidth),k=void 0!==O&&O,j=e.id,_=e.inputComponent,S=void 0===_?"input":_,E=e.inputProps,A=void 0===E?{}:E,C=e.inputRef,D=(e.margin,e.multiline),F=void 0!==D&&D,T=e.name,M=e.onBlur,P=e.onChange,N=e.onClick,B=e.onFocus,R=e.onKeyDown,z=e.onKeyUp,L=e.placeholder,I=e.readOnly,U=e.renderSuffix,q=e.rows,$=e.rowsMax,H=e.rowsMin,W=e.startAdornment,G=e.type,K=void 0===G?"text":G,V=e.value,Y=Object(r.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),J=null!=A.value?A.value:V,X=o.useRef(null!=J).current,Z=o.useRef(),Q=o.useCallback((function(e){0}),[]),ee=Object(d.a)(A.ref,Q),te=Object(d.a)(C,ee),ne=Object(d.a)(Z,te),re=o.useState(!1),ie=re[0],ae=re[1],oe=Object(s.b)();var ue=Object(c.a)({props:e,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});ue.focused=oe?oe.focused:ie,o.useEffect((function(){!oe&&x&&ie&&(ae(!1),M&&M())}),[oe,x,ie,M]);var ce=oe&&oe.onFilled,se=oe&&oe.onEmpty,le=o.useCallback((function(e){Object(y.b)(e)?ce&&ce():se&&se()}),[ce,se]);b((function(){X&&le({value:J})}),[J,le,X]);o.useEffect((function(){le(Z.current)}),[]);var fe=S,de=Object(i.a)({},A,{ref:ne});"string"!==typeof fe?de=Object(i.a)({inputRef:ne,type:K},de,{ref:null}):F?!q||$||H?(de=Object(i.a)({rows:q,rowsMax:$},de),fe=m):fe="textarea":de=Object(i.a)({type:K},de);return o.useEffect((function(){oe&&oe.setAdornedStart(Boolean(W))}),[oe,W]),o.createElement("div",Object(i.a)({className:Object(u.default)(p.root,p["color".concat(Object(f.a)(ue.color||"primary"))],v,ue.disabled&&p.disabled,ue.error&&p.error,k&&p.fullWidth,ue.focused&&p.focused,oe&&p.formControl,F&&p.multiline,W&&p.adornedStart,w&&p.adornedEnd,"dense"===ue.margin&&p.marginDense),onClick:function(e){Z.current&&e.currentTarget===e.target&&Z.current.focus(),N&&N(e)},ref:t},Y),W,o.createElement(s.a.Provider,{value:null},o.createElement(fe,Object(i.a)({"aria-invalid":ue.error,"aria-describedby":n,autoComplete:l,autoFocus:h,defaultValue:g,disabled:ue.disabled,id:j,onAnimationStart:function(e){le("mui-auto-fill-cancel"===e.animationName?Z.current:{value:"x"})},name:T,placeholder:L,readOnly:I,required:ue.required,rows:q,value:J,onKeyDown:R,onKeyUp:z},de,{className:Object(u.default)(p.input,A.className,ue.disabled&&p.disabled,F&&p.inputMultiline,ue.hiddenLabel&&p.inputHiddenLabel,W&&p.inputAdornedStart,w&&p.inputAdornedEnd,"search"===K&&p.inputTypeSearch,"dense"===ue.margin&&p.inputMarginDense),onBlur:function(e){M&&M(e),A.onBlur&&A.onBlur(e),oe&&oe.onBlur?oe.onBlur(e):ae(!1)},onChange:function(e){if(!X){var t=e.target||Z.current;if(null==t)throw new Error(Object(a.a)(1));le({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];A.onChange&&A.onChange.apply(A,[e].concat(r)),P&&P.apply(void 0,[e].concat(r))},onFocus:function(e){ue.disabled?e.stopPropagation():(B&&B(e),A.onFocus&&A.onFocus(e),oe&&oe.onFocus?oe.onFocus(e):ae(!0))}}))),w,U?U(Object(i.a)({},ue,{startAdornment:W})):null)}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(i.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(x)},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(76),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,s=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function O(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=x.prototype;var k=O.prototype=new w;k.constructor=O,r(k,x.prototype),k.isPureReactComponent=!0;var j={current:null},_=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var s=Array(c),l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:j.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g,D=[];function F(e,t,n,r){if(D.length){var i=D.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function T(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>D.length&&D.push(e)}function M(e,t,n){return null==e?0:function e(t,n,r,i){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case a:case o:c=!0}}if(c)return r(i,t,""===n?"."+P(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var l=n+P(u=t[s],s);c+=e(u,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),s=0;!(u=t.next()).done;)c+=e(u=u.value,l=n+P(u,s++),r,i);else if("object"===u)throw r=""+t,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return c}(e,"",t,n)}function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?R(e,r,n,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(C,"$&/")+"/")+n)),r.push(e))}function R(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(C,"$&/")+"/"),M(e,B,t=F(t,a,r,i)),T(t)}var z={current:null};function L(){var e=z.current;if(null===e)throw Error(m(321));return e}var I={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:j,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return R(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;M(e,N,t=F(null,null,t,n)),T(t)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var t=[];return R(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(m(143));return e}},t.Component=x,t.Fragment=u,t.Profiler=s,t.PureComponent=O,t.StrictMode=c,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(m(267,e));var i=r({},e.props),o=e.key,u=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,c=j.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){s=Array(l);for(var f=0;f<l;f++)s[f]=arguments[f+2];i.children=s}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(1),i=n(76),a=n(340);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function u(e,t,n,r,i,a,o,u,c){var s=Array.prototype.slice.call(arguments,3);try{t.apply(n,s)}catch(l){this.onError(l)}}var c=!1,s=null,l=!1,f=null,d={onError:function(e){c=!0,s=e}};function h(e,t,n,r,i,a,o,l,f){c=!1,s=null,u.apply(d,arguments)}var p=null,v=null,g=null;function m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,a,u,d,p){if(h.apply(this,arguments),c){if(!c)throw Error(o(198));var v=s;c=!1,s=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function x(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!O[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in O[n]=t,n=t.eventTypes){var i=void 0,a=n[r],u=t,c=r;if(k.hasOwnProperty(c))throw Error(o(99,c));k[c]=a;var s=a.phasedRegistrationNames;if(s){for(i in s)s.hasOwnProperty(i)&&w(s[i],u,c);i=!0}else a.registrationName?(w(a.registrationName,u,c),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function w(e,t,n){if(j[e])throw Error(o(100,e));j[e]=t,_[e]=t.eventTypes[n].dependencies}var O=[],k={},j={},_={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&x()}var E=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,C=null,D=null;function F(e){if(e=v(e)){if("function"!==typeof A)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),A(e.stateNode,e.type,t))}}function T(e){C?D?D.push(e):D=[e]:C=e}function M(){if(C){var e=C,t=D;if(D=C=null,F(e),t)for(e=0;e<t.length;e++)F(t[e])}}function P(e,t){return e(t)}function N(e,t,n,r,i){return e(t,n,r,i)}function B(){}var R=P,z=!1,L=!1;function I(){null===C&&null===D||(B(),M())}function U(e,t,n){if(L)return e(t,n);L=!0;try{return R(e,t,n)}finally{L=!1,I()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$=Object.prototype.hasOwnProperty,H={},W={};function G(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){K[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];K[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){K[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){K[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){K[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){K[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){K[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){K[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){K[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var V=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(V,Y);K[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(V,Y);K[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(V,Y);K[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){K[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),K.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){K[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var J=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=K.hasOwnProperty(t)?K[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!$.call(W,e)||!$.call(H,e)&&(q.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}J.hasOwnProperty("ReactCurrentDispatcher")||(J.ReactCurrentDispatcher={current:null}),J.hasOwnProperty("ReactCurrentBatchConfig")||(J.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,ee=Q?Symbol.for("react.element"):60103,te=Q?Symbol.for("react.portal"):60106,ne=Q?Symbol.for("react.fragment"):60107,re=Q?Symbol.for("react.strict_mode"):60108,ie=Q?Symbol.for("react.profiler"):60114,ae=Q?Symbol.for("react.provider"):60109,oe=Q?Symbol.for("react.context"):60110,ue=Q?Symbol.for("react.concurrent_mode"):60111,ce=Q?Symbol.for("react.forward_ref"):60112,se=Q?Symbol.for("react.suspense"):60113,le=Q?Symbol.for("react.suspense_list"):60120,fe=Q?Symbol.for("react.memo"):60115,de=Q?Symbol.for("react.lazy"):60116,he=Q?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case se:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ge(e.type);case he:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function me(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ge(e.type);n=null,r&&(n=ge(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Oe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ke(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function je(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function _e(e,t){je(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ee(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ee(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ce(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function De(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Te(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Me(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Pe="http://www.w3.org/1999/xhtml",Ne="http://www.w3.org/2000/svg";function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ze,Le=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ne||"innerHTML"in e)e.innerHTML=t;else{for((ze=ze||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ze.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ie(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},$e={},He={};function We(e){if($e[e])return $e[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return $e[e]=n[t];return e}E&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=We("animationend"),Ke=We("animationiteration"),Ve=We("animationstart"),Ye=We("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Qe(e)!==e)throw Error(o(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tt(i),e;if(a===r)return tt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,c=i.child;c;){if(c===n){u=!0,n=i,r=a;break}if(c===r){u=!0,r=i,n=a;break}c=c.sibling}if(!u){for(c=a.child;c;){if(c===n){u=!0,n=a,r=i;break}if(c===r){u=!0,r=a,n=i;break}c=c.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function ot(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)m(e,t[r],n[r]);else t&&m(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(at=rt(at,e)),e=at,at=null,e){if(it(e,ot),at)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function st(e){if(!E)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function dt(e,t,n,r){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=En(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var u=null,c=0;c<O.length;c++){var s=O[c];s&&(s=s.extractEvents(r,t,a,i,o))&&(u=rt(u,s))}ut(u)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Vt(t,"scroll",!0);break;case"focus":case"blur":Vt(t,"focus",!0),Vt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":st(e)&&Vt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var vt,gt,mt,yt=!1,bt=[],xt=null,wt=null,Ot=null,kt=new Map,jt=new Map,_t=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Et="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ct(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=An(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Ft(e){var t=En(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){mt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Tt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=An(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Tt(e)&&n.delete(t)}function Pt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=An(e.blockedOn))&&vt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==xt&&Tt(xt)&&(xt=null),null!==wt&&Tt(wt)&&(wt=null),null!==Ot&&Tt(Ot)&&(Ot=null),kt.forEach(Mt),jt.forEach(Mt)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Pt)))}function Bt(e){function t(t){return Nt(t,e)}if(0<bt.length){Nt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Nt(xt,e),null!==wt&&Nt(wt,e),null!==Ot&&Nt(Ot,e),kt.forEach(t),jt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Ft(n),null===n.blockedOn&&_t.shift()}var Rt={},zt=new Map,Lt=new Map,It=["abort","abort",Ge,"animationEnd",Ke,"animationIteration",Ve,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Lt.set(r,t),zt.set(r,a),Rt[i]=a}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(It,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),$t=0;$t<qt.length;$t++)Lt.set(qt[$t],0);var Ht=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,Gt=!0;function Kt(e,t){Vt(t,e,!1)}function Vt(e,t,n){var r=Lt.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Jt.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){z||B();var i=Xt,a=z;z=!0;try{N(i,e,t,n,r)}finally{(z=a)||I()}}function Jt(e,t,n,r){Wt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Gt)if(0<bt.length&&-1<St.indexOf(e))e=At(null,e,t,n,r),bt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Ct(e,r);else if(-1<St.indexOf(e))e=At(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return xt=Dt(xt,e,t,n,r,i),!0;case"dragenter":return wt=Dt(wt,e,t,n,r,i),!0;case"mouseover":return Ot=Dt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return kt.set(a,Dt(kt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jt.set(a,Dt(jt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ct(e,r),e=dt(e,r,null,t);try{U(ht,e)}finally{ft(e)}}}}function Zt(e,t,n,r){if(null!==(n=En(n=ct(r)))){var i=Qe(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=et(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{U(ht,e)}finally{ft(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Qt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function on(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Pe;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function sn(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function hn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn=null,gn=null;function mn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,xn="function"===typeof clearTimeout?clearTimeout:void 0;function wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function On(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var kn=Math.random().toString(36).slice(2),jn="__reactInternalInstance$"+kn,_n="__reactEventHandlers$"+kn,Sn="__reactContainere$"+kn;function En(e){var t=e[jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[jn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=On(e);null!==e;){if(n=e[jn])return n;e=On(e)}return t}n=(e=n).parentNode}return null}function An(e){return!(e=e[jn]||e[Sn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Cn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Dn(e){return e[_n]||null}function Fn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Tn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Mn(e,t,n){(t=Tn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Pn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Fn(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function Nn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Tn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Bn(e){e&&e.dispatchConfig.registrationName&&Nn(e._targetInst,null,e)}function Rn(e){it(e,Pn)}var zn=null,Ln=null,In=null;function Un(){if(In)return In;var e,t,n=Ln,r=n.length,i="value"in zn?zn.value:zn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return In=i.slice(e,1<t?1-t:void 0)}function qn(){return!0}function $n(){return!1}function Hn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:$n,this.isPropagationStopped=$n,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Gn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Kn(e){e.eventPool=[],e.getPooled=Wn,e.release=Gn}i(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:$n,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=$n,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Kn(n),n},Kn(Hn);var Vn=Hn.extend({data:null}),Yn=Hn.extend({data:null}),Jn=[9,13,27,32],Xn=E&&"CompositionEvent"in window,Zn=null;E&&"documentMode"in document&&(Zn=document.documentMode);var Qn=E&&"TextEvent"in window&&!Zn,er=E&&(!Xn||Zn&&8<Zn&&11>=Zn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var or=!1;var ur={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Xn)e:{switch(e){case"compositionstart":var a=nr.compositionStart;break e;case"compositionend":a=nr.compositionEnd;break e;case"compositionupdate":a=nr.compositionUpdate;break e}a=void 0}else or?ir(e,n)&&(a=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=nr.compositionStart);return a?(er&&"ko"!==n.locale&&(or||a!==nr.compositionStart?a===nr.compositionEnd&&or&&(i=Un()):(Ln="value"in(zn=r)?zn.value:zn.textContent,or=!0)),a=Vn.getPooled(a,t,n,r),i?a.data=i:null!==(i=ar(n))&&(a.data=i),Rn(a),i=a):i=null,(e=Qn?function(e,t){switch(e){case"compositionend":return ar(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(or)return"compositionend"===e||!Xn&&ir(e,t)?(e=Un(),In=Ln=zn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Yn.getPooled(nr.beforeInput,t,n,r)).data=e,Rn(t)):t=null,null===i?t:null===t?i:[i,t]}},cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!cr[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Hn.getPooled(lr.change,e,t,n)).type="change",T(n),Rn(e),e}var dr=null,hr=null;function pr(e){ut(e)}function vr(e){if(we(Cn(e)))return e}function gr(e,t){if("change"===e)return t}var mr=!1;function yr(){dr&&(dr.detachEvent("onpropertychange",br),hr=dr=null)}function br(e){if("value"===e.propertyName&&vr(hr))if(e=fr(hr,e,ct(e)),z)ut(e);else{z=!0;try{P(pr,e)}finally{z=!1,I()}}}function xr(e,t,n){"focus"===e?(yr(),hr=n,(dr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return vr(hr)}function Or(e,t){if("click"===e)return vr(t)}function kr(e,t){if("input"===e||"change"===e)return vr(t)}E&&(mr=st("input")&&(!document.documentMode||9<document.documentMode));var jr={eventTypes:lr,_isInputEventSupported:mr,extractEvents:function(e,t,n,r){var i=t?Cn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=gr;else if(sr(i))if(mr)o=kr;else{o=wr;var u=xr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Or);if(o&&(o=o(e,t)))return fr(o,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ee(i,"number",i.value)}},_r=Hn.extend({view:null,detail:null}),Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Ar(){return Er}var Cr=0,Dr=0,Fr=!1,Tr=!1,Mr=_r.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ar,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Cr;return Cr=e.screenX,Fr?"mousemove"===e.type?e.screenX-t:0:(Fr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Dr;return Dr=e.screenY,Tr?"mousemove"===e.type?e.screenY-t:0:(Tr=!0,0)}}),Pr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Br={eventTypes:Nr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?En(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=Mr,c=Nr.mouseLeave,s=Nr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Pr,c=Nr.pointerLeave,s=Nr.pointerEnter,l="pointer");if(e=null==o?a:Cn(o),a=null==t?a:Cn(t),(c=u.getPooled(c,o,n,r)).type=l+"leave",c.target=e,c.relatedTarget=a,(n=u.getPooled(s,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(s=l,o=0,e=u=r;e;e=Fn(e))o++;for(e=0,t=s;t;t=Fn(t))e++;for(;0<o-e;)u=Fn(u),o--;for(;0<e-o;)s=Fn(s),e--;for(;o--;){if(u===s||u===s.alternate)break e;u=Fn(u),s=Fn(s)}u=null}else u=null;for(s=u,u=[];r&&r!==s&&(null===(o=r.alternate)||o!==s);)u.push(r),r=Fn(r);for(r=[];l&&l!==s&&(null===(o=l.alternate)||o!==s);)r.push(l),l=Fn(l);for(l=0;l<u.length;l++)Nn(u[l],"bubbled",c);for(l=r.length;0<l--;)Nn(r[l],"captured",n);return 0===(64&i)?[c]:[c,n]}};var Rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},zr=Object.prototype.hasOwnProperty;function Lr(e,t){if(Rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Rr(e[n[r]],t[n[r]]))return!1;return!0}var Ir=E&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,$r=null,Hr=null,Wr=!1;function Gr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==qr||qr!==ln(n)?null:("selectionStart"in(n=qr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&Lr(Hr,n)?null:(Hr=n,(e=Hn.getPooled(Ur.select,$r,e,t)).type="select",e.target=qr,Rn(e),e))}var Kr={eventTypes:Ur,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),a=_.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Cn(t):window,e){case"focus":(sr(i)||"true"===i.contentEditable)&&(qr=i,$r=t,Hr=null);break;case"blur":Hr=$r=qr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Gr(n,r);case"selectionchange":if(Ir)break;case"keydown":case"keyup":return Gr(n,r)}return null}},Vr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yr=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jr=_r.extend({relatedTarget:null});function Xr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=_r.extend({key:function(e){if(e.key){var t=Zr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ar,charCode:function(e){return"keypress"===e.type?Xr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Mr.extend({dataTransfer:null}),ni=_r.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ar}),ri=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ai={eventTypes:Rt,extractEvents:function(e,t,n,r){var i=zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Jr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ge:case Ke:case Ve:e=Vr;break;case Ye:e=ri;break;case"scroll":e=_r;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Pr;break;default:e=Hn}return Rn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),p=Dn,v=An,g=Cn,S({SimpleEventPlugin:ai,EnterLeaveEventPlugin:Br,ChangeEventPlugin:jr,SelectEventPlugin:Kr,BeforeInputEventPlugin:ur});var oi=[],ui=-1;function ci(e){0>ui||(e.current=oi[ui],oi[ui]=null,ui--)}function si(e,t){ui++,oi[ui]=e.current,e.current=t}var li={},fi={current:li},di={current:!1},hi=li;function pi(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){ci(di),ci(fi)}function mi(e,t,n){if(fi.current!==li)throw Error(o(168));si(fi,t),si(di,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,ge(t)||"Unknown",a));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,hi=fi.current,si(fi,e),si(di,di.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=yi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(fi),si(fi,e)):ci(di),si(di,n)}var wi=a.unstable_runWithPriority,Oi=a.unstable_scheduleCallback,ki=a.unstable_cancelCallback,ji=a.unstable_requestPaint,_i=a.unstable_now,Si=a.unstable_getCurrentPriorityLevel,Ei=a.unstable_ImmediatePriority,Ai=a.unstable_UserBlockingPriority,Ci=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Fi=a.unstable_IdlePriority,Ti={},Mi=a.unstable_shouldYield,Pi=void 0!==ji?ji:function(){},Ni=null,Bi=null,Ri=!1,zi=_i(),Li=1e4>zi?_i:function(){return _i()-zi};function Ii(){switch(Si()){case Ei:return 99;case Ai:return 98;case Ci:return 97;case Di:return 96;case Fi:return 95;default:throw Error(o(332))}}function Ui(e){switch(e){case 99:return Ei;case 98:return Ai;case 97:return Ci;case 96:return Di;case 95:return Fi;default:throw Error(o(332))}}function qi(e,t){return e=Ui(e),wi(e,t)}function $i(e,t,n){return e=Ui(e),Oi(e,t,n)}function Hi(e){return null===Ni?(Ni=[e],Bi=Oi(Ei,Gi)):Ni.push(e),Ti}function Wi(){if(null!==Bi){var e=Bi;Bi=null,ki(e)}Gi()}function Gi(){if(!Ri&&null!==Ni){Ri=!0;var e=0;try{var t=Ni;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(e+1)),Oi(Ei,Wi),n}finally{Ri=!1}}}function Ki(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Vi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yi={current:null},Ji=null,Xi=null,Zi=null;function Qi(){Zi=Xi=Ji=null}function ea(e){var t=Yi.current;ci(Yi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function na(e,t){Ji=e,Zi=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Do=!0),e.firstContext=null)}function ra(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Ji)throw Error(o(308));Xi=t,Ji.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ua(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ca(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function sa(e,t){var n=e.alternate;null!==n&&oa(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function la(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.baseQueue,u=a.shared.pending;if(null!==u){if(null!==o){var c=o.next;o.next=u.next,u.next=c}o=u,a.shared.pending=null,null!==(c=e.alternate)&&(null!==(c=c.updateQueue)&&(c.baseQueue=u))}if(null!==o){c=o.next;var s=a.baseState,l=0,f=null,d=null,h=null;if(null!==c)for(var p=c;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=v,f=s):h=h.next=v,u>l&&(l=u)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ac(u,p.suspenseConfig);e:{var g=e,m=p;switch(u=t,v=n,m.tag){case 1:if("function"===typeof(g=m.payload)){s=g.call(v,s,u);break e}s=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(u="function"===typeof(g=m.payload)?g.call(v,s,u):g)||void 0===u)break e;s=i({},s,u);break e;case 2:ia=!0}}null!==p.callback&&(e.effectTag|=32,null===(u=a.effects)?a.effects=[p]:u.push(p))}if(null===(p=p.next)||p===c){if(null===(u=a.shared.pending))break;p=o.next=u.next,u.next=c,a.baseQueue=o=u,a.shared.pending=null}}null===h?f=s:h.next=d,a.baseState=f,a.baseQueue=h,oc(l),e.expirationTime=l,e.memoizedState=s}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var da=J.ReactCurrentBatchConfig,ha=(new r.Component).refs;function pa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var va={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Gu(),i=da.suspense;(i=ua(r=Ku(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ca(e,i),Vu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Gu(),i=da.suspense;(i=ua(r=Ku(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ca(e,i),Vu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Gu(),r=da.suspense;(r=ua(n=Ku(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ca(e,r),Vu(e,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Lr(n,r)||!Lr(i,a))}function ma(e,t,n){var r=!1,i=li,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=vi(t)?hi:fi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?pi(e,i):li),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=va,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&va.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ha,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=vi(t)?hi:fi.current,i.context=pi(e,a)),la(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(pa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&va.enqueueReplaceState(i,i.state,null),la(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var xa=Array.isArray;function wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ha&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Oa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ka(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Sc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Cc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wa(e,t,n),r.return=e,r):((r=Ec(n.type,n.key,n.props,null,e.mode,r)).ref=wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Cc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ec(t.type,t.key,t.props,null,e.mode,n)).ref=wa(e,null,t),n.return=e,n;case te:return(t=Dc(t,e.mode,n)).return=e,t}if(xa(t)||ve(t))return(t=Ac(t,e.mode,n,null)).return=e,t;Oa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):s(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(xa(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Oa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):s(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Oa(t,r)}return null}function v(i,o,u,c){for(var s=null,l=null,f=o,v=o=0,g=null;null!==f&&v<u.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=h(i,f,u[v],c);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?s=m:l.sibling=m,l=m,f=g}if(v===u.length)return n(i,f),s;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],c))&&(o=a(f,o,v),null===l?s=f:l.sibling=f,l=f);return s}for(f=r(i,f);v<u.length;v++)null!==(g=p(f,i,v,u[v],c))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?s=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),s}function g(i,u,c,s){var l=ve(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var f=l=null,v=u,g=u=0,m=null,y=c.next();null!==v&&!y.done;g++,y=c.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,s);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,g),null===f?l=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,s))&&(u=a(y,u,g),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;g++,y=c.next())null!==(y=p(v,i,g,y.value,s))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),u=a(y,u,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,c){var s="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;s&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,s=r;null!==s;){if(s.key===l){switch(s.tag){case 7:if(a.type===ne){n(e,s.sibling),(r=i(s,a.props.children)).return=e,e=r;break e}break;default:if(s.elementType===a.type){n(e,s.sibling),(r=i(s,a.props)).ref=wa(e,s,a),r.return=e,e=r;break e}}n(e,s);break}t(e,s),s=s.sibling}a.type===ne?((r=Ac(a.props.children,e.mode,c,a.key)).return=e,e=r):((c=Ec(a.type,a.key,a.props,null,e.mode,c)).ref=wa(e,r,a),c.return=e,e=c)}return u(e);case te:e:{for(s=a.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Dc(a,e.mode,c)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Cc(a,e.mode,c)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,c);if(ve(a))return g(e,r,a,c);if(l&&Oa(e,a),"undefined"===typeof a&&!s)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ja=ka(!0),_a=ka(!1),Sa={},Ea={current:Sa},Aa={current:Sa},Ca={current:Sa};function Da(e){if(e===Sa)throw Error(o(174));return e}function Fa(e,t){switch(si(Ca,t),si(Aa,e),si(Ea,Sa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Re(null,"");break;default:t=Re(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ea),si(Ea,t)}function Ta(){ci(Ea),ci(Aa),ci(Ca)}function Ma(e){Da(Ca.current);var t=Da(Ea.current),n=Re(t,e.type);t!==n&&(si(Aa,e),si(Ea,n))}function Pa(e){Aa.current===e&&(ci(Ea),ci(Aa))}var Na={current:0};function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ra(e,t){return{responder:e,props:t}}var za=J.ReactCurrentDispatcher,La=J.ReactCurrentBatchConfig,Ia=0,Ua=null,qa=null,$a=null,Ha=!1;function Wa(){throw Error(o(321))}function Ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rr(e[n],t[n]))return!1;return!0}function Ka(e,t,n,r,i,a){if(Ia=a,Ua=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,za.current=null===e||null===e.memoizedState?mo:yo,e=n(r,i),t.expirationTime===Ia){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,$a=qa=null,t.updateQueue=null,za.current=bo,e=n(r,i)}while(t.expirationTime===Ia)}if(za.current=go,t=null!==qa&&null!==qa.next,Ia=0,$a=qa=Ua=null,Ha=!1,t)throw Error(o(300));return e}function Va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$a?Ua.memoizedState=$a=e:$a=$a.next=e,$a}function Ya(){if(null===qa){var e=Ua.alternate;e=null!==e?e.memoizedState:null}else e=qa.next;var t=null===$a?Ua.memoizedState:$a.next;if(null!==t)$a=t,qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(qa=e).memoizedState,baseState:qa.baseState,baseQueue:qa.baseQueue,queue:qa.queue,next:null},null===$a?Ua.memoizedState=$a=e:$a=$a.next=e}return $a}function Ja(e,t){return"function"===typeof t?t(e):t}function Xa(e){var t=Ya(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=u=a=null,s=i;do{var l=s.expirationTime;if(l<Ia){var f={expirationTime:s.expirationTime,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===c?(u=c=f,a=r):c=c.next=f,l>Ua.expirationTime&&(Ua.expirationTime=l,oc(l))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),ac(l,s.suspenseConfig),r=s.eagerReducer===e?s.eagerState:e(r,s.action);s=s.next}while(null!==s&&s!==i);null===c?a=r:c.next=u,Rr(r,t.memoizedState)||(Do=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Za(e){var t=Ya(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);Rr(a,t.memoizedState)||(Do=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Qa(e){var t=Va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:e}).dispatch=vo.bind(null,Ua,e),[t.memoizedState,e]}function eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ua.updateQueue)?(t={lastEffect:null},Ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function to(){return Ya().memoizedState}function no(e,t,n,r){var i=Va();Ua.effectTag|=e,i.memoizedState=eo(1|t,n,void 0,void 0===r?null:r)}function ro(e,t,n,r){var i=Ya();r=void 0===r?null:r;var a=void 0;if(null!==qa){var o=qa.memoizedState;if(a=o.destroy,null!==r&&Ga(r,o.deps))return void eo(t,n,a,r)}Ua.effectTag|=e,i.memoizedState=eo(1|t,n,a,r)}function io(e,t){return no(516,4,e,t)}function ao(e,t){return ro(516,4,e,t)}function oo(e,t){return ro(4,2,e,t)}function uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ro(4,2,uo.bind(null,t,e),n)}function so(){}function lo(e,t){return Va().memoizedState=[e,void 0===t?null:t],e}function fo(e,t){var n=Ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ho(e,t){var n=Ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function po(e,t,n){var r=Ii();qi(98>r?98:r,(function(){e(!0)})),qi(97<r?97:r,(function(){var r=La.suspense;La.suspense=void 0===t?null:t;try{e(!1),n()}finally{La.suspense=r}}))}function vo(e,t,n){var r=Gu(),i=da.suspense;i={expirationTime:r=Ku(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ua||null!==a&&a===Ua)Ha=!0,i.expirationTime=Ia,Ua.expirationTime=Ia;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.eagerReducer=a,i.eagerState=u,Rr(u,o))return}catch(c){}Vu(e,r)}}var go={readContext:ra,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useResponder:Wa,useDeferredValue:Wa,useTransition:Wa},mo={readContext:ra,useCallback:lo,useContext:ra,useEffect:io,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,no(4,2,uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var n=Va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=vo.bind(null,Ua,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Va().memoizedState=e},useState:Qa,useDebugValue:so,useResponder:Ra,useDeferredValue:function(e,t){var n=Qa(e),r=n[0],i=n[1];return io((function(){var n=La.suspense;La.suspense=void 0===t?null:t;try{i(e)}finally{La.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qa(!1),n=t[0];return t=t[1],[lo(po.bind(null,t,e),[t,e]),n]}},yo={readContext:ra,useCallback:fo,useContext:ra,useEffect:ao,useImperativeHandle:co,useLayoutEffect:oo,useMemo:ho,useReducer:Xa,useRef:to,useState:function(){return Xa(Ja)},useDebugValue:so,useResponder:Ra,useDeferredValue:function(e,t){var n=Xa(Ja),r=n[0],i=n[1];return ao((function(){var n=La.suspense;La.suspense=void 0===t?null:t;try{i(e)}finally{La.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Xa(Ja),n=t[0];return t=t[1],[fo(po.bind(null,t,e),[t,e]),n]}},bo={readContext:ra,useCallback:fo,useContext:ra,useEffect:ao,useImperativeHandle:co,useLayoutEffect:oo,useMemo:ho,useReducer:Za,useRef:to,useState:function(){return Za(Ja)},useDebugValue:so,useResponder:Ra,useDeferredValue:function(e,t){var n=Za(Ja),r=n[0],i=n[1];return ao((function(){var n=La.suspense;La.suspense=void 0===t?null:t;try{i(e)}finally{La.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Za(Ja),n=t[0];return t=t[1],[fo(po.bind(null,t,e),[t,e]),n]}},xo=null,wo=null,Oo=!1;function ko(e,t){var n=jc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function jo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function _o(e){if(Oo){var t=wo;if(t){var n=t;if(!jo(e,t)){if(!(t=wn(n.nextSibling))||!jo(e,t))return e.effectTag=-1025&e.effectTag|2,Oo=!1,void(xo=e);ko(xo,n)}xo=e,wo=wn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Oo=!1,xo=e}}function So(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xo=e}function Eo(e){if(e!==xo)return!1;if(!Oo)return So(e),Oo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=wo;t;)ko(e,t),t=wn(t.nextSibling);if(So(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){wo=wn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}wo=null}}else wo=xo?wn(e.stateNode.nextSibling):null;return!0}function Ao(){wo=xo=null,Oo=!1}var Co=J.ReactCurrentOwner,Do=!1;function Fo(e,t,n,r){t.child=null===e?_a(t,null,n,r):ja(t,e.child,n,r)}function To(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=Ka(e,t,n,r,a,i),null===e||Do?(t.effectTag|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Vo(e,t,i))}function Mo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||_c(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ec(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Po(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Lr)(i,r)&&e.ref===t.ref)?Vo(e,t,a):(t.effectTag|=1,(e=Sc(o,r)).ref=t.ref,e.return=t,t.child=e)}function Po(e,t,n,r,i,a){return null!==e&&Lr(e.memoizedProps,r)&&e.ref===t.ref&&(Do=!1,i<a)?(t.expirationTime=e.expirationTime,Vo(e,t,a)):Bo(e,t,n,r,a)}function No(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Bo(e,t,n,r,i){var a=vi(n)?hi:fi.current;return a=pi(t,a),na(t,i),n=Ka(e,t,n,r,a,i),null===e||Do?(t.effectTag|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Vo(e,t,i))}function Ro(e,t,n,r,i){if(vi(n)){var a=!0;bi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ma(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var c=o.context,s=n.contextType;"object"===typeof s&&null!==s?s=ra(s):s=pi(t,s=vi(n)?hi:fi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||c!==s)&&ya(t,o,r,s),ia=!1;var d=t.memoizedState;o.state=d,la(t,r,o,i),c=t.memoizedState,u!==r||d!==c||di.current||ia?("function"===typeof l&&(pa(t,n,l,r),c=t.memoizedState),(u=ia||ga(t,n,u,r,d,c,s))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=s,r=u):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,oa(e,t),u=t.memoizedProps,o.props=t.type===t.elementType?u:Vi(t.type,u),c=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ra(s):s=pi(t,s=vi(n)?hi:fi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||c!==s)&&ya(t,o,r,s),ia=!1,c=t.memoizedState,o.state=c,la(t,r,o,i),d=t.memoizedState,u!==r||c!==d||di.current||ia?("function"===typeof l&&(pa(t,n,l,r),d=t.memoizedState),(l=ia||ga(t,n,u,r,c,d,s))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,s)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return zo(e,t,n,r,a,i)}function zo(e,t,n,r,i,a){No(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&xi(t,n,!1),Vo(e,t,a);r=t.stateNode,Co.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Lo(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Fa(e,t.containerInfo)}var Io,Uo,qo,$o={dehydrated:null,retryTime:0};function Ho(e,t,n){var r,i=t.mode,a=t.pendingProps,o=Na.current,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),si(Na,1&o),null===e){if(void 0!==a.fallback&&_o(t),u){if(u=a.fallback,(a=Ac(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ac(u,i,n,null)).return=t,a.sibling=n,t.memoizedState=$o,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=_a(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(a=a.fallback,(n=Sc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=Sc(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=$o,t.child=n,i}return n=ja(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=a.fallback,(a=Ac(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ac(u,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=$o,t.child=a,n}return t.memoizedState=null,t.child=ja(t,e,a.children,n)}function Wo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ta(e.return,t)}function Go(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Ko(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Na.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n);else if(19===e.tag)Wo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Na,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,a,t.lastEffect);break;case"together":Go(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Vo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&oc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Sc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Sc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jo(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(t.type)&&gi(),null;case 3:return Ta(),ci(di),ci(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Eo(t)||(t.effectTag|=4),null;case 5:Pa(t),n=Da(Ca.current);var a=t.type;if(null!==e&&null!=t.stateNode)Uo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Da(Ea.current),Eo(t)){r=t.stateNode,a=t.type;var u=t.memoizedProps;switch(r[jn]=t,r[_n]=u,a){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<Je.length;e++)Kt(Je[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":ke(r,u),Kt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Kt("invalid",r),cn(n,"onChange");break;case"textarea":Fe(r,u),Kt("invalid",r),cn(n,"onChange")}for(var c in an(a,u),e=null,u)if(u.hasOwnProperty(c)){var s=u[c];"children"===c?"string"===typeof s?r.textContent!==s&&(e=["children",s]):"number"===typeof s&&r.textContent!==""+s&&(e=["children",""+s]):j.hasOwnProperty(c)&&null!=s&&cn(n,c)}switch(a){case"input":xe(r),Se(r,u,!0);break;case"textarea":xe(r),Me(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=sn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Be(a)),e===un?"script"===a?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(a,{is:r.is}):(e=c.createElement(a),"select"===a&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,a),e[jn]=t,e[_n]=r,Io(e,t),t.stateNode=e,c=on(a,r),a){case"iframe":case"object":case"embed":Kt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Je.length;s++)Kt(Je[s],e);s=r;break;case"source":Kt("error",e),s=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),s=r;break;case"form":Kt("reset",e),Kt("submit",e),s=r;break;case"details":Kt("toggle",e),s=r;break;case"input":ke(e,r),s=Oe(e,r),Kt("invalid",e),cn(n,"onChange");break;case"option":s=Ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Kt("invalid",e),cn(n,"onChange");break;case"textarea":Fe(e,r),s=De(e,r),Kt("invalid",e),cn(n,"onChange");break;default:s=r}an(a,s);var l=s;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?nn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Le(e,f):"children"===u?"string"===typeof f?("textarea"!==a||""!==f)&&Ie(e,f):"number"===typeof f&&Ie(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(j.hasOwnProperty(u)?null!=f&&cn(n,u):null!=f&&X(e,u,f,c))}switch(a){case"input":xe(e),Se(e,r,!1);break;case"textarea":xe(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ce(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ce(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=sn)}mn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Da(Ca.current),Da(Ea.current),Eo(t)?(n=t.stateNode,r=t.memoizedProps,n[jn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[jn]=t,t.stateNode=n)}return null;case 13:return ci(Na),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Eo(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=a,a.nextEffect=u):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Na.current)?Eu===xu&&(Eu=wu):(Eu!==xu&&Eu!==wu||(Eu=Ou),0!==Tu&&null!==ju&&(Mc(ju,Su),Pc(ju,Tu)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ta(),null;case 10:return ea(t),null;case 17:return vi(t.type)&&gi(),null;case 19:if(ci(Na),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(u=r.rendering)){if(a)Yo(r,!1);else if(Eu!==xu||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=Ba(u))){for(t.effectTag|=64,Yo(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=u,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,u=e.dependencies,a.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return si(Na,1&Na.current|2),t.child}u=u.sibling}}else{if(!a)if(null!==(e=Ba(u))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Yo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Li()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,Yo(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Li()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Li(),n.sibling=null,t=Na.current,si(Na,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function Xo(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ta(),ci(di),ci(fi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Pa(e),null;case 13:return ci(Na),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ci(Na),null;case 4:return Ta(),null;case 10:return ea(e),null;default:return null}}function Zo(e,t){return{value:e,source:t,stack:me(t)}}Io=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Uo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var u,c,s=t.stateNode;switch(Da(Ea.current),e=null,n){case"input":o=Oe(s,o),r=Oe(s,r),e=[];break;case"option":o=Ae(s,o),r=Ae(s,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=De(s,o),r=De(s,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(s.onclick=sn)}for(u in an(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u)for(c in s=o[u])s.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(j.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(c in s)!s.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in l)l.hasOwnProperty(c)&&s[c]!==l[c]&&(n||(n={}),n[c]=l[c])}else n||(e||(e=[]),e.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(e=e||[]).push(u,l)):"children"===u?s===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(j.hasOwnProperty(u)?(null!=l&&cn(a,u),e||s===l||(e=[])):(e=e||[]).push(u,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},qo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Qo="function"===typeof WeakSet?WeakSet:Set;function eu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=me(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function tu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){yc(e,n)}else t.current=null}function nu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Vi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void iu(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Vi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&mn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Bt(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function ou(e,t,n){switch("function"===typeof Oc&&Oc(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){yc(i,a)}}e=e.next}while(e!==r)}))}break;case 1:tu(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){yc(e,n)}}(t,n);break;case 5:tu(t);break;case 4:lu(e,t,n)}}function uu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&uu(t)}function cu(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:{for(var t=e.return;null!==t;){if(cu(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ie(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||cu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=sn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function lu(e,t,n){for(var r,i,a=t,u=!1;;){if(!u){u=a.return;e:for(;;){if(null===u)throw Error(o(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===a.tag||6===a.tag){e:for(var c=e,s=a,l=n,f=s;;)if(ou(c,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===s)break e;for(;null===f.sibling;){if(null===f.return||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(c=r,s=a.stateNode,8===c.nodeType?c.parentNode.removeChild(s):c.removeChild(s)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ou(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(u=!1)}a.sibling.return=a.return,a=a.sibling}}function fu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ru(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[_n]=r,"input"===e&&"radio"===r.type&&null!=r.name&&je(n,r),on(e,i),t=on(e,r),i=0;i<a.length;i+=2){var u=a[i],c=a[i+1];"style"===u?nn(n,c):"dangerouslySetInnerHTML"===u?Le(n,c):"children"===u?Ie(n,c):X(n,u,c,t)}switch(e){case"input":_e(n,r);break;case"textarea":Te(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ce(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ce(n,!!r.multiple,r.defaultValue,!0):Ce(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Bt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Pu=Li()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void du(t);case 19:return void du(t);case 17:return}throw Error(o(163))}function du(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=ua(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,Ru=r),eu(e,t)},n}function vu(e,t,n){(n=ua(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return eu(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===zu?zu=new Set([this]):zu.add(this),eu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gu,mu=Math.ceil,yu=J.ReactCurrentDispatcher,bu=J.ReactCurrentOwner,xu=0,wu=3,Ou=4,ku=0,ju=null,_u=null,Su=0,Eu=xu,Au=null,Cu=1073741823,Du=1073741823,Fu=null,Tu=0,Mu=!1,Pu=0,Nu=null,Bu=!1,Ru=null,zu=null,Lu=!1,Iu=null,Uu=90,qu=null,$u=0,Hu=null,Wu=0;function Gu(){return 0!==(48&ku)?1073741821-(Li()/10|0):0!==Wu?Wu:Wu=1073741821-(Li()/10|0)}function Ku(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ii();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&ku))return Su;if(null!==n)e=Ki(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Ki(e,150,100);break;case 97:case 96:e=Ki(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==ju&&e===Su&&--e,e}function Vu(e,t){if(50<$u)throw $u=0,Hu=null,Error(o(185));if(null!==(e=Yu(e,t))){var n=Ii();1073741823===t?0!==(8&ku)&&0===(48&ku)?Qu(e):(Xu(e),0===ku&&Wi()):Xu(e),0===(4&ku)||98!==n&&99!==n||(null===qu?qu=new Map([[e,t]]):(void 0===(n=qu.get(e))||n>t)&&qu.set(e,t))}}function Yu(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ju===i&&(oc(t),Eu===Ou&&Mc(i,Su)),Pc(i,t)),i}function Ju(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Tc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hi(Qu.bind(null,e));else{var t=Ju(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Gu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ti&&ki(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Hi(Qu.bind(null,e)):$i(r,Zu.bind(null,e),{timeout:10*(1073741821-t)-Li()}),e.callbackNode=t}}}function Zu(e,t){if(Wu=0,t)return Nc(e,t=Gu()),Xu(e),null;var n=Ju(e);if(0!==n){if(t=e.callbackNode,0!==(48&ku))throw Error(o(327));if(vc(),e===ju&&n===Su||nc(e,n),null!==_u){var r=ku;ku|=16;for(var i=ic();;)try{cc();break}catch(c){rc(e,c)}if(Qi(),ku=r,yu.current=i,1===Eu)throw t=Au,nc(e,n),Mc(e,n),Xu(e),t;if(null===_u)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Eu,ju=null,r){case xu:case 1:throw Error(o(345));case 2:Nc(e,2<n?2:n);break;case wu:if(Mc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fc(i)),1073741823===Cu&&10<(i=Pu+500-Li())){if(Mu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,nc(e,n);break}}if(0!==(a=Ju(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(dc.bind(null,e),i);break}dc(e);break;case Ou:if(Mc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fc(i)),Mu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nc(e,n);break}if(0!==(i=Ju(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Du?r=10*(1073741821-Du)-Li():1073741823===Cu?r=0:(r=10*(1073741821-Cu)-5e3,0>(r=(i=Li())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mu(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(dc.bind(null,e),r);break}dc(e);break;case 5:if(1073741823!==Cu&&null!==Fu){a=Cu;var u=Fu;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(a=Li()-(10*(1073741821-a)-(0|u.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Mc(e,n),e.timeoutHandle=bn(dc.bind(null,e),r);break}}dc(e);break;default:throw Error(o(329))}if(Xu(e),e.callbackNode===t)return Zu.bind(null,e)}}return null}function Qu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&ku))throw Error(o(327));if(vc(),e===ju&&t===Su||nc(e,t),null!==_u){var n=ku;ku|=16;for(var r=ic();;)try{uc();break}catch(i){rc(e,i)}if(Qi(),ku=n,yu.current=r,1===Eu)throw n=Au,nc(e,t),Mc(e,t),Xu(e),n;if(null!==_u)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ju=null,dc(e),Xu(e)}return null}function ec(e,t){var n=ku;ku|=1;try{return e(t)}finally{0===(ku=n)&&Wi()}}function tc(e,t){var n=ku;ku&=-2,ku|=8;try{return e(t)}finally{0===(ku=n)&&Wi()}}function nc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,xn(n)),null!==_u)for(n=_u.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ta(),ci(di),ci(fi);break;case 5:Pa(r);break;case 4:Ta();break;case 13:case 19:ci(Na);break;case 10:ea(r)}n=n.return}ju=e,_u=Sc(e.current,null),Su=t,Eu=xu,Au=null,Du=Cu=1073741823,Fu=null,Tu=0,Mu=!1}function rc(e,t){for(;;){try{if(Qi(),za.current=go,Ha)for(var n=Ua.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ia=0,$a=qa=Ua=null,Ha=!1,null===_u||null===_u.return)return Eu=1,Au=t,_u=null;e:{var i=e,a=_u.return,o=_u,u=t;if(t=Su,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&o.mode)){var s=o.alternate;s?(o.updateQueue=s.updateQueue,o.memoizedState=s.memoizedState,o.expirationTime=s.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Na.current),f=a;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(d){var v=f.updateQueue;if(null===v){var g=new Set;g.add(c),f.updateQueue=g}else v.add(c);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var m=ua(1073741823,null);m.tag=2,ca(o,m)}o.expirationTime=1073741823;break e}u=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new hu,u=new Set,y.set(c,u)):void 0===(u=y.get(c))&&(u=new Set,y.set(c,u)),!u.has(o)){u.add(o);var b=bc.bind(null,i,c,o);c.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((ge(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+me(o))}5!==Eu&&(Eu=2),u=Zo(u,o),f=a;do{switch(f.tag){case 3:c=u,f.effectTag|=4096,f.expirationTime=t,sa(f,pu(f,c,t));break e;case 1:c=u;var x=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===zu||!zu.has(w)))){f.effectTag|=4096,f.expirationTime=t,sa(f,vu(f,c,t));break e}}f=f.return}while(null!==f)}_u=lc(_u)}catch(O){t=O;continue}break}}function ic(){var e=yu.current;return yu.current=go,null===e?go:e}function ac(e,t){e<Cu&&2<e&&(Cu=e),null!==t&&e<Du&&2<e&&(Du=e,Fu=t)}function oc(e){e>Tu&&(Tu=e)}function uc(){for(;null!==_u;)_u=sc(_u)}function cc(){for(;null!==_u&&!Mi();)_u=sc(_u)}function sc(e){var t=gu(e.alternate,e,Su);return e.memoizedProps=e.pendingProps,null===t&&(t=lc(e)),bu.current=null,t}function lc(e){_u=e;do{var t=_u.alternate;if(e=_u.return,0===(2048&_u.effectTag)){if(t=Jo(t,_u,Su),1===Su||1!==_u.childExpirationTime){for(var n=0,r=_u.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}_u.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=_u.firstEffect),null!==_u.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=_u.firstEffect),e.lastEffect=_u.lastEffect),1<_u.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=_u:e.firstEffect=_u,e.lastEffect=_u))}else{if(null!==(t=Xo(_u)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=_u.sibling))return t;_u=e}while(null!==_u);return Eu===xu&&(Eu=5),null}function fc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dc(e){var t=Ii();return qi(99,hc.bind(null,e,t)),null}function hc(e,t){do{vc()}while(null!==Iu);if(0!==(48&ku))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ju&&(_u=ju=null,Su=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=ku;ku|=32,bu.current=null,vn=Gt;var u=hn();if(pn(u)){if("selectionStart"in u)var c={start:u.selectionStart,end:u.selectionEnd};else e:{var s=(c=(c=u.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(s&&0!==s.rangeCount){c=s.anchorNode;var l=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{c.nodeType,f.nodeType}catch(S){c=null;break e}var d=0,h=-1,p=-1,v=0,g=0,m=u,y=null;t:for(;;){for(var b;m!==c||0!==l&&3!==m.nodeType||(h=d+l),m!==f||0!==s&&3!==m.nodeType||(p=d+s),3===m.nodeType&&(d+=m.nodeValue.length),null!==(b=m.firstChild);)y=m,m=b;for(;;){if(m===u)break t;if(y===c&&++v===l&&(h=d),y===f&&++g===s&&(p=d),null!==(b=m.nextSibling))break;y=(m=y).parentNode}m=b}c=-1===h||-1===p?null:{start:h,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;gn={activeElementDetached:null,focusedElem:u,selectionRange:c},Gt=!1,Nu=i;do{try{pc()}catch(S){if(null===Nu)throw Error(o(330));yc(Nu,S),Nu=Nu.nextEffect}}while(null!==Nu);Nu=i;do{try{for(u=e,c=t;null!==Nu;){var x=Nu.effectTag;if(16&x&&Ie(Nu.stateNode,""),128&x){var w=Nu.alternate;if(null!==w){var O=w.ref;null!==O&&("function"===typeof O?O(null):O.current=null)}}switch(1038&x){case 2:su(Nu),Nu.effectTag&=-3;break;case 6:su(Nu),Nu.effectTag&=-3,fu(Nu.alternate,Nu);break;case 1024:Nu.effectTag&=-1025;break;case 1028:Nu.effectTag&=-1025,fu(Nu.alternate,Nu);break;case 4:fu(Nu.alternate,Nu);break;case 8:lu(u,l=Nu,c),uu(l)}Nu=Nu.nextEffect}}catch(S){if(null===Nu)throw Error(o(330));yc(Nu,S),Nu=Nu.nextEffect}}while(null!==Nu);if(O=gn,w=hn(),x=O.focusedElem,c=O.selectionRange,w!==x&&x&&x.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(x.ownerDocument.documentElement,x)){null!==c&&pn(x)&&(w=c.start,void 0===(O=c.end)&&(O=w),"selectionStart"in x?(x.selectionStart=w,x.selectionEnd=Math.min(O,x.value.length)):(O=(w=x.ownerDocument||document)&&w.defaultView||window).getSelection&&(O=O.getSelection(),l=x.textContent.length,u=Math.min(c.start,l),c=void 0===c.end?u:Math.min(c.end,l),!O.extend&&u>c&&(l=c,c=u,u=l),l=dn(x,u),f=dn(x,c),l&&f&&(1!==O.rangeCount||O.anchorNode!==l.node||O.anchorOffset!==l.offset||O.focusNode!==f.node||O.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),O.removeAllRanges(),u>c?(O.addRange(w),O.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),O.addRange(w))))),w=[];for(O=x;O=O.parentNode;)1===O.nodeType&&w.push({element:O,left:O.scrollLeft,top:O.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<w.length;x++)(O=w[x]).element.scrollLeft=O.left,O.element.scrollTop=O.top}Gt=!!vn,gn=vn=null,e.current=n,Nu=i;do{try{for(x=e;null!==Nu;){var k=Nu.effectTag;if(36&k&&au(x,Nu.alternate,Nu),128&k){w=void 0;var j=Nu.ref;if(null!==j){var _=Nu.stateNode;switch(Nu.tag){case 5:w=_;break;default:w=_}"function"===typeof j?j(w):j.current=w}}Nu=Nu.nextEffect}}catch(S){if(null===Nu)throw Error(o(330));yc(Nu,S),Nu=Nu.nextEffect}}while(null!==Nu);Nu=null,Pi(),ku=a}else e.current=n;if(Lu)Lu=!1,Iu=e,Uu=t;else for(Nu=i;null!==Nu;)t=Nu.nextEffect,Nu.nextEffect=null,Nu=t;if(0===(t=e.firstPendingTime)&&(zu=null),1073741823===t?e===Hu?$u++:($u=0,Hu=e):$u=0,"function"===typeof wc&&wc(n.stateNode,r),Xu(e),Bu)throw Bu=!1,e=Ru,Ru=null,e;return 0!==(8&ku)?null:(Wi(),null)}function pc(){for(;null!==Nu;){var e=Nu.effectTag;0!==(256&e)&&nu(Nu.alternate,Nu),0===(512&e)||Lu||(Lu=!0,$i(97,(function(){return vc(),null}))),Nu=Nu.nextEffect}}function vc(){if(90!==Uu){var e=97<Uu?97:Uu;return Uu=90,qi(e,gc)}}function gc(){if(null===Iu)return!1;var e=Iu;if(Iu=null,0!==(48&ku))throw Error(o(331));var t=ku;for(ku|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ru(5,n),iu(5,n)}}catch(r){if(null===e)throw Error(o(330));yc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return ku=t,Wi(),!0}function mc(e,t,n){ca(e,t=pu(e,t=Zo(n,t),1073741823)),null!==(e=Yu(e,1073741823))&&Xu(e)}function yc(e,t){if(3===e.tag)mc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){mc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zu||!zu.has(r))){ca(n,e=vu(n,e=Zo(t,e),1073741823)),null!==(n=Yu(n,1073741823))&&Xu(n);break}}n=n.return}}function bc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ju===e&&Su===n?Eu===Ou||Eu===wu&&1073741823===Cu&&Li()-Pu<500?nc(e,Su):Mu=!0:Tc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xu(e)))}function xc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ku(t=Gu(),e,null)),null!==(e=Yu(e,t))&&Xu(e)}gu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)Do=!0;else{if(r<n){switch(Do=!1,t.tag){case 3:Lo(t),Ao();break;case 5:if(Ma(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vi(t.type)&&bi(t);break;case 4:Fa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,si(Yi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ho(e,t,n):(si(Na,1&Na.current),null!==(t=Vo(e,t,n))?t.sibling:null);si(Na,1&Na.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ko(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),si(Na,Na.current),!r)return null}return Vo(e,t,n)}Do=!1}}else Do=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),na(t,n),i=Ka(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&pa(t,r,u,e),i.updater=va,t.stateNode=i,i._reactInternalFiber=t,ba(t,r,e,n),t=zo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return _c(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ce)return 11;if(e===fe)return 14}return 2}(i),e=Vi(i,e),a){case 0:t=Bo(null,t,i,e,n);break e;case 1:t=Ro(null,t,i,e,n);break e;case 11:t=To(null,t,i,e,n);break e;case 14:t=Mo(null,t,i,Vi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 3:if(Lo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),la(t,r,null,n),(r=t.memoizedState.element)===i)Ao(),t=Vo(e,t,n);else{if((i=t.stateNode.hydrate)&&(wo=wn(t.stateNode.containerInfo.firstChild),xo=t,i=Oo=!0),i)for(n=_a(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Fo(e,t,r,n),Ao();t=t.child}return t;case 5:return Ma(t),null===e&&_o(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,yn(r,i)?u=null:null!==a&&yn(r,a)&&(t.effectTag|=16),No(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Fo(e,t,u,n),t=t.child),t;case 6:return null===e&&_o(t),null;case 13:return Ho(e,t,n);case 4:return Fa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ja(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:Vi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var c=t.type._context;if(si(Yi,c._currentValue),c._currentValue=a,null!==u)if(c=u.value,0===(a=Rr(c,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(u.children===i.children&&!di.current){t=Vo(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var s=c.dependencies;if(null!==s){u=c.child;for(var l=s.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===c.tag&&((l=ua(n,null)).tag=2,ca(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ta(c.return,n),s.expirationTime<n&&(s.expirationTime=n);break}l=l.next}}else u=10===c.tag&&c.type===t.type?null:c.child;if(null!==u)u.return=c;else for(u=c;null!==u;){if(u===t){u=null;break}if(null!==(c=u.sibling)){c.return=u.return,u=c;break}u=u.return}c=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.effectTag|=1,Fo(e,t,r,n),t.child;case 14:return a=Vi(i=t.type,t.pendingProps),Mo(e,t,i,a=Vi(i.type,a),r,n);case 15:return Po(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vi(r)?(e=!0,bi(t)):e=!1,na(t,n),ma(t,r,i),ba(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return Ko(e,t,n)}throw Error(o(156,t.tag))};var wc=null,Oc=null;function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function jc(e,t,n,r){return new kc(e,t,n,r)}function _c(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Sc(e,t){var n=e.alternate;return null===n?((n=jc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)_c(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case ne:return Ac(n.children,i,a,t);case ue:u=8,i|=7;break;case re:u=8,i|=1;break;case ie:return(e=jc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case se:return(e=jc(13,n,t,i)).type=se,e.elementType=se,e.expirationTime=a,e;case le:return(e=jc(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:u=10;break e;case oe:u=9;break e;case ce:u=11;break e;case fe:u=14;break e;case de:u=16,r=null;break e;case he:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jc(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Ac(e,t,n,r){return(e=jc(7,e,r,t)).expirationTime=n,e}function Cc(e,t,n){return(e=jc(6,e,null,t)).expirationTime=n,e}function Dc(e,t,n){return(t=jc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Tc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Mc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Pc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Nc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Bc(e,t,n,r){var i=t.current,a=Gu(),u=da.suspense;a=Ku(a,i,u);e:if(n){t:{if(Qe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(vi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var s=n.type;if(vi(s)){n=yi(n,s,c);break e}}n=c}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=ua(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ca(i,t),Vu(i,a),a}function Rc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Lc(e,t){zc(e,t),(e=e.alternate)&&zc(e,t)}function Ic(e,t,n){var r=new Fc(e,t,n=null!=n&&!0===n.hydrate),i=jc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,aa(i),e[Sn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);St.forEach((function(e){pt(e,t,n)})),Et.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=Rc(o);u.call(e)}}Bc(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var c=i;i=function(){var e=Rc(o);c.call(e)}}tc((function(){Bc(t,o,e,i)}))}return Rc(o)}function $c(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uc(t))throw Error(o(200));return $c(e,t,null,n)}Ic.prototype.render=function(e){Bc(e,this._internalRoot,null,null)},Ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Bc(null,e,null,(function(){t[Sn]=null}))},vt=function(e){if(13===e.tag){var t=Ki(Gu(),150,100);Vu(e,t),Lc(e,t)}},gt=function(e){13===e.tag&&(Vu(e,3),Lc(e,3))},mt=function(e){if(13===e.tag){var t=Gu();Vu(e,t=Ku(t,e,null)),Lc(e,t)}},A=function(e,t,n){switch(t){case"input":if(_e(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Dn(r);if(!i)throw Error(o(90));we(r),_e(r,i)}}}break;case"textarea":Te(e,n);break;case"select":null!=(t=n.value)&&Ce(e,!!n.multiple,t,!1)}},P=ec,N=function(e,t,n,r,i){var a=ku;ku|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(ku=a)&&Wi()}},B=function(){0===(49&ku)&&(function(){if(null!==qu){var e=qu;qu=null,e.forEach((function(e,t){Nc(t,e),Xu(t)})),Wi()}}(),vc())},R=function(e,t){var n=ku;ku|=2;try{return e(t)}finally{0===(ku=n)&&Wi()}};var Wc={Events:[An,Cn,Dn,S,k,Rn,function(e){it(e,Bn)},T,M,Xt,ut,vc,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);wc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Oc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:En,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=Hc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&ku))throw Error(o(187));var n=ku;ku|=1;try{return qi(99,e.bind(null,t))}finally{ku=n,Wi()}},t.hydrate=function(e,t,n){if(!Uc(t))throw Error(o(200));return qc(null,e,t,!0,n)},t.render=function(e,t,n){if(!Uc(t))throw Error(o(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(o(40));return!!e._reactRootContainer&&(tc((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sn]=null}))})),!0)},t.unstable_batchedUpdates=ec,t.unstable_createPortal=function(e,t){return Hc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uc(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return qc(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(341)},function(e,t,n){"use strict";var r,i,a,o,u;if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,s=null,l=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(l,0))},i=function(e,t){s=setTimeout(e,t)},a=function(){clearTimeout(s)},o=function(){return!1},u=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var m=h.now();t.unstable_now=function(){return h.now()-m}}var y=!1,b=null,x=-1,w=5,O=0;o=function(){return t.unstable_now()>=O},u=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,j=k.port2;k.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();O=e+w;try{b(!0,e)?j.postMessage(null):(y=!1,b=null)}catch(n){throw j.postMessage(null),n}}else y=!1},r=function(e){b=e,y||(y=!0,j.postMessage(null))},i=function(e,n){x=p((function(){e(t.unstable_now())}),n)},a=function(){v(x),x=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,c=e[u];if(void 0!==o&&0>A(o,n))void 0!==c&&0>A(c,o)?(e[r]=c,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==c&&0>A(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],D=[],F=1,T=null,M=3,P=!1,N=!1,B=!1;function R(e){for(var t=S(D);null!==t;){if(null===t.callback)E(D);else{if(!(t.startTime<=e))break;E(D),t.sortIndex=t.expirationTime,_(C,t)}t=S(D)}}function z(e){if(B=!1,R(e),!N)if(null!==S(C))N=!0,r(L);else{var t=S(D);null!==t&&i(z,t.startTime-e)}}function L(e,n){N=!1,B&&(B=!1,a()),P=!0;var r=M;try{for(R(n),T=S(C);null!==T&&(!(T.expirationTime>n)||e&&!o());){var u=T.callback;if(null!==u){T.callback=null,M=T.priorityLevel;var c=u(T.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?T.callback=c:T===S(C)&&E(C),R(n)}else E(C);T=S(C)}if(null!==T)var s=!0;else{var l=S(D);null!==l&&i(z,l.startTime-n),s=!1}return s}finally{T=null,M=r,P=!1}}function I(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=u;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||P||(N=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return S(C)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();if("object"===typeof o&&null!==o){var c=o.delay;c="number"===typeof c&&0<c?u+c:u,o="number"===typeof o.timeout?o.timeout:I(e)}else o=I(e),c=u;return e={id:F++,callback:n,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>u?(e.sortIndex=c,_(D,e),null===S(C)&&e===S(D)&&(B?a():B=!0,i(z,c-u))):(e.sortIndex=o,_(C,e),N||P||(N=!0,r(L))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();R(e);var n=S(C);return n!==T&&null!==T&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<T.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},,function(e,t,n){"use strict";var r=n(344);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case o:case c:case u:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case m:case g:case s:return e;default:return t}}case a:return t}}}function O(e){return w(e)===d}t.typeOf=w,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=s,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=a,t.Profiler=c,t.StrictMode=u,t.Suspense=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===c||e===u||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===s||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x)},t.isAsyncMode=function(e){return O(e)||w(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===c},t.isStrictMode=function(e){return w(e)===u},t.isSuspense=function(e){return w(e)===p}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,a=Object.create(i.prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===s)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var s={};function l(){}function f(){}function d(){}var h={};h[i]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(k([])));v&&v!==t&&n.call(v,i)&&(h=v);var g=d.prototype=l.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e){var t;this._invoke=function(r,i){function a(){return new Promise((function(t,a){!function t(r,i,a,o){var u=c(e[r],e,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return t("throw",e,a,o)}))}o(u.arg)}(r,i,t,a)}))}return t=t?t.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,d[o]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i){var a=new y(u(t,n,r,i));return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(g),g[o]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(124),o=n(57),u=n(90),c=n(58),s=n(47),l=n(35),f=n(71),d=n(81),h=n(23),p=n(365),v=d("draft_tree_data_support"),g=v?c:u,m=h.List,y=h.Repeat,b={insertAtomicBlock:function(e,t,n){var i=e.getCurrentContent(),u=e.getSelection(),c=s.removeRange(i,u,"backward"),d=c.getSelectionAfter(),h=s.splitBlock(c,d),p=h.getSelectionAfter(),b=s.setBlockType(h,p,"atomic"),x=o.create({entity:t}),w={key:f(),type:"atomic",text:n,characterList:m(y(x,n.length))},O={key:f(),type:"unstyled"};v&&(w=r({},w,{nextSibling:O.key}),O=r({},O,{prevSibling:w.key}));var k=[new g(w),new g(O)],j=a.createFromArray(k),_=s.replaceWithFragment(b,p,j),S=_.merge({selectionBefore:u,selectionAfter:_.getSelectionAfter().set("hasFocus",!0)});return l.push(e,S,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var i,a=e.getCurrentContent(),o=e.getSelection();if("before"===r||"after"===r){var u=a.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());i=p(a,t,u,r)}else{var c=s.removeRange(a,n,"backward"),f=c.getSelectionAfter(),d=c.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())i=p(c,t,d,"before");else if(f.getEndOffset()===d.getLength())i=p(c,t,d,"after");else{var h=s.splitBlock(c,f),v=h.getSelectionAfter(),g=h.getBlockForKey(v.getFocusKey());i=p(h,t,g,"before")}}var m=i.merge({selectionBefore:o,selectionAfter:i.getSelectionAfter().set("hasFocus",!0)});return l.push(e,m,"move-block")}};e.exports=b},function(e,t,n){"use strict";var r=n(57),i=n(23).Map,a={add:function(e,t,n){return o(e,t,n,!0)},remove:function(e,t,n){return o(e,t,n,!1)}};function o(e,t,n,a){var o=e.getBlockMap(),u=t.getStartKey(),c=t.getStartOffset(),s=t.getEndKey(),l=t.getEndOffset(),f=o.skipUntil((function(e,t){return t===u})).takeUntil((function(e,t){return t===s})).concat(i([[s,o.get(s)]])).map((function(e,t){var i,o;u===s?(i=c,o=l):(i=t===u?c:0,o=t===s?l:e.getLength());for(var f,d=e.getCharacterList();i<o;)f=d.get(i),d=d.set(i,a?r.applyStyle(f,n):r.removeStyle(f,n)),i++;return e.set("characterList",d)}));return e.merge({blockMap:o.merge(f),selectionBefore:t,selectionAfter:t})}e.exports=a},function(e,t,n){"use strict";var r=n(353),i=n(23);e.exports=function(e,t,n){var a=e.getBlockMap(),o=t.getStartKey(),u=t.getStartOffset(),c=t.getEndKey(),s=t.getEndOffset(),l=a.skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(i.OrderedMap([[c,a.get(c)]])).map((function(e,t){var i=t===o?u:0,a=t===c?s:e.getLength();return r(e,i,a,n)}));return e.merge({blockMap:a.merge(l),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(57);e.exports=function(e,t,n,i){for(var a=t,o=e.getCharacterList();a<n;)o=o.set(a,r.applyEntity(o.get(a),i)),a++;return e.set("characterList",o)}},function(e,t,n){"use strict";var r=n(355),i=n(356),a=n(29);function o(e,t,n,o,u,c,s){var l=n.getStartOffset(),f=n.getEndOffset(),d=e.__get(u).getMutability(),h=s?l:f;if("MUTABLE"===d)return n;var p=i(t,u).filter((function(e){return h<=e.end&&h>=e.start}));1!=p.length&&a(!1);var v=p[0];if("IMMUTABLE"===d)return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1});c||(s?f=v.end:l=v.start);var g=r.getRemovalRange(l,f,t.getText().slice(v.start,v.end),v.start,o);return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1})}e.exports=function(e,t,n,r,i){var a=r.getStartOffset(),u=r.getEndOffset(),c=t.getEntityAt(a),s=n.getEntityAt(u-1);if(!c&&!s)return r;var l=r;if(c&&c===s)l=o(e,t,l,i,c,!0,!0);else if(c&&s){var f=o(e,t,l,i,c,!1,!0),d=o(e,n,l,i,s,!1,!1);l=l.merge({anchorOffset:f.getAnchorOffset(),focusOffset:d.getFocusOffset(),isBackward:!1})}else if(c){var h=o(e,t,l,i,c,!1,!0);l=l.merge({anchorOffset:h.getStartOffset(),isBackward:!1})}else if(s){var p=o(e,n,l,i,s,!1,!1);l=l.merge({focusOffset:p.getEndOffset(),isBackward:!1})}return l}},function(e,t,n){"use strict";e.exports={getRemovalRange:function(e,t,n,r,i){var a=n.split(" ");a=a.map((function(e,t){if("forward"===i){if(t>0)return" "+e}else if(t<a.length-1)return e+" ";return e}));for(var o,u=r,c=null,s=null,l=0;l<a.length;l++){if(e<(o=u+a[l].length)&&u<t)null!==c?s=o:(c=u,s=o);else if(null!==c)break;u=o}var f=r+n.length,d=c===r,h=s===f;return(!d&&h||d&&!h)&&("forward"===i?s!==f&&s++:c!==r&&c--),{start:c,end:s}}}},function(e,t,n){"use strict";var r=n(29);e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},function(e,t,n){"use strict";var r=n(124),i=n(58),a=n(23),o=n(227),u=n(29),c=n(225),s=a.List,l=function(e,t,n,r,i,a){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=n.get(i),s=c.getText(),l=c.getCharacterList(),f=i,d=a+r.getText().length,h=null;switch(u){case"MERGE_OLD_DATA_TO_NEW_DATA":h=r.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":h=r.getData()}var p=c.getType();s&&"unstyled"===p&&(p=r.getType());var v=c.merge({text:s.slice(0,a)+r.getText()+s.slice(a),characterList:o(l,r.getCharacterList(),a),type:p,data:h});return e.merge({blockMap:n.set(i,v),selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:d,focusKey:f,focusOffset:d,isBackward:!1})})},f=function(e,t,n,a,o,u){var c=n.first()instanceof i,l=[],f=a.size,d=n.get(o),h=a.first(),p=a.last(),v=p.getLength(),g=p.getKey(),m=c&&(!d.getChildKeys().isEmpty()||!h.getChildKeys().isEmpty());n.forEach((function(e,t){t===o?(m?l.push(e):l.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),a=r.slice(0,t),o=i.slice(0,t),u=n.first();return e.merge({text:a+u.getText(),characterList:o.concat(u.getCharacterList()),type:a?e.getType():u.getType(),data:u.getData()})}(e,u,a)),a.slice(m?0:1,f-1).forEach((function(e){return l.push(e)})),l.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),a=r.length,o=r.slice(t,a),u=i.slice(t,a),c=n.last();return c.merge({text:c.getText()+o,characterList:c.getCharacterList().concat(u),data:c.getData()})}(e,u,a))):l.push(e)}));var y=r.createFromArray(l);return c&&(y=function(e,t,n,r){return e.withMutations((function(t){var i=n.getKey(),a=r.getKey(),o=n.getNextSiblingKey(),u=n.getParentKey(),c=function(e,t){var n=e.getKey(),r=e,i=[];for(t.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var a=r.getNextSiblingKey();if(!a)break;i.push(a),r=t.get(a)}return i}(r,e),l=c[c.length-1];if(t.get(a)?(t.setIn([i,"nextSibling"],a),t.setIn([a,"prevSibling"],i)):(t.setIn([i,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],i)),t.setIn([l,"nextSibling"],o),o&&t.setIn([o,"prevSibling"],l),c.forEach((function(e){return t.setIn([e,"parent"],u)})),u){var f=e.get(u).getChildKeys(),d=f.indexOf(i)+1,h=f.toArray();h.splice.apply(h,[d,0].concat(c)),t.setIn([u,"children"],s(h))}}))}(y,0,d,h)),e.merge({blockMap:y,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:v,focusKey:g,focusOffset:v,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||u(!1);var a=e.getBlockMap(),o=c(n),s=t.getStartKey(),d=t.getStartOffset(),h=a.get(s);return h instanceof i&&(h.getChildKeys().isEmpty()||u(!1)),1===o.size?l(e,t,a,o.first(),s,d,r):f(e,t,a,o,s,d)}},function(e,t,n){"use strict";var r=n(23),i=n(227),a=n(29),o=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||a(!1);var u=null;if(null!=n&&(u=n.length),null==u||0===u)return e;var c=e.getBlockMap(),s=t.getStartKey(),l=t.getStartOffset(),f=c.get(s),d=f.getText(),h=f.merge({text:d.slice(0,l)+n+d.slice(l,f.getLength()),characterList:i(f.getCharacterList(),o(r,u).toList(),l)}),p=l+u;return e.merge({blockMap:c.set(s,h),selectionAfter:t.merge({anchorOffset:p,focusOffset:p})})}},function(e,t,n){"use strict";var r=n(58),i=n(229),a=n(23),o=(a.List,a.Map),u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},s=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},f=function(e,t,n,r){return e.withMutations((function(a){if(u(t.getKey(),a,(function(e){return e.merge({nextSibling:s(e,a,r),prevSibling:l(e,a,r)})})),u(n.getKey(),a,(function(e){return e.merge({nextSibling:s(e,a,r),prevSibling:l(e,a,r)})})),c(t.getKey(),r).forEach((function(e){return u(e,a,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return a.get(e)})),nextSibling:s(e,a,r),prevSibling:l(e,a,r)})}))})),u(t.getNextSiblingKey(),a,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),u(t.getPrevSiblingKey(),a,(function(e){return e.merge({nextSibling:s(e,a,r)})})),u(n.getNextSiblingKey(),a,(function(e){return e.merge({prevSibling:l(e,a,r)})})),u(n.getPrevSiblingKey(),a,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),c(n.getKey(),r).forEach((function(e){u(e,a,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return a.get(e)})),nextSibling:s(e,a,r),prevSibling:l(e,a,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var a=t.get(r);n.push(r),r=a.getParentKey()?i(a,t):null}return n}(n,r).forEach((function(e){return u(e,a,(function(e){return e.merge({nextSibling:s(e,a,r),prevSibling:l(e,a,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var o=t.getPrevSiblingKey();u(n.getKey(),a,(function(e){return e.merge({prevSibling:o})})),u(o,a,(function(e){return e.merge({nextSibling:n.getKey()})}));var f=o?e.get(o):null,d=f?f.getParentKey():null;if(t.getChildKeys().forEach((function(e){u(e,a,(function(e){return e.merge({parent:d})}))})),null!=d){var h=e.get(d);u(d,a,(function(e){return e.merge({children:h.getChildKeys().concat(t.getChildKeys())})}))}u(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),a,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))},d=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n,a=e.getBlockMap(),u=t.getStartKey(),s=t.getStartOffset(),l=t.getEndKey(),h=t.getEndOffset(),p=a.get(u),v=a.get(l),g=p instanceof r,m=[];if(g){var y=v.getChildKeys(),b=c(l,a);v.getNextSiblingKey()&&(m=m.concat(b)),y.isEmpty()||(m=m.concat(b.concat([l]))),m=m.concat(c(i(v,a),a))}n=p===v?d(p.getCharacterList(),s,h):p.getCharacterList().slice(0,s).concat(v.getCharacterList().slice(h));var x=p.merge({text:p.getText().slice(0,s)+v.getText().slice(h),characterList:n}),w=g&&0===s&&0===h&&v.getParentKey()===u&&null==v.getPrevSiblingKey()?o([[u,null]]):a.toSeq().skipUntil((function(e,t){return t===u})).takeUntil((function(e,t){return t===l})).filter((function(e,t){return-1===m.indexOf(t)})).concat(o([[l,null]])).map((function(e,t){return t===u?x:null})),O=a.merge(w).filter((function(e){return!!e}));return g&&p!==v&&(O=f(O,p,v,a)),e.merge({blockMap:O,selectionBefore:t,selectionAfter:t.merge({anchorKey:u,anchorOffset:s,focusKey:u,focusOffset:s,isBackward:!1})})}},function(e,t,n){"use strict";var r=n(58),i=n(71),a=n(23),o=n(29),u=n(228),c=a.List,s=a.Map,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||o(!1);var n=t.getAnchorKey(),a=e.getBlockMap(),f=a.get(n),d=f.getText();if(!d){var h=f.getType();if("unordered-list-item"===h||"ordered-list-item"===h)return u(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var p=t.getAnchorOffset(),v=f.getCharacterList(),g=i(),m=f instanceof r,y=f.merge({text:d.slice(0,p),characterList:v.slice(0,p)}),b=y.merge({key:g,text:d.slice(p),characterList:v.slice(p),data:s()}),x=a.toSeq().takeUntil((function(e){return e===f})),w=a.toSeq().skipUntil((function(e){return e===f})).rest(),O=x.concat([[n,y],[g,b]],w).toOrderedMap();return m&&(f.getChildKeys().isEmpty()||o(!1),O=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),i=n.getKey();l(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,a=t.toArray();return a.splice(n,0,i),e.merge({children:c(a)})})),l(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:i})})),l(r,e,(function(e){return e.merge({nextSibling:i})})),l(i,e,(function(e){return e.merge({prevSibling:r})}))}))}(O,y,b)),e.merge({blockMap:O,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:0,focusKey:g,focusOffset:0,isBackward:!1})})}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(125),a=n(230),o=n(23),u=o.List,c=o.Repeat,s=o.Record,l=function(){return!0},f=s({start:null,end:null}),d=s({start:null,end:null,decoratorKey:null,leaves:null}),h={generate:function(e,t,n){var r=t.getLength();if(!r)return u.of(new d({start:0,end:0,decoratorKey:null,leaves:u.of(new f({start:0,end:0}))}));var a=[],o=n?n.getDecorations(t,e):u(c(null,r)),s=t.getCharacterList();return i(o,v,l,(function(e,t){a.push(new d({start:e,end:t,decoratorKey:o.get(e),leaves:p(s.slice(e,t).toList(),e)}))})),u(a)},fromJS:function(e){var t=e.leaves,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["leaves"]);return new d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n,{leaves:null!=t?u(Array.isArray(t)?t:a(t)).map((function(e){return f(e)})):null}))}};function p(e,t){var n=[],r=e.map((function(e){return e.getStyle()})).toList();return i(r,v,l,(function(e,r){n.push(new f({start:e+t,end:r+t}))})),u(n)}function v(e,t){return e===t}e.exports=h},function(e,t,n){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},function(e,t,n){"use strict";var r,i=n(364),a=n(23),o=n(48),u=a.OrderedMap,c={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),c=n.valueSeq().map((function(e){return o(r).getDirection(e.getText())})),s=u(n.keySeq().zip(c));return null!=t&&a.is(t,s)?t:s}};e.exports=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(185),a=n(138),o=n(29),u=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?a.isStrong(e)||o(!1):e=a.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=i.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=u},function(e,t,n){"use strict";var r=n(58),i=n(229),a=n(23),o=n(29),u=a.OrderedMap,c=a.List,s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t,n,r,i){if(!i)return e;var a="after"===r,o=t.getKey(),u=n.getKey(),l=t.getParentKey(),f=t.getNextSiblingKey(),d=t.getPrevSiblingKey(),h=n.getParentKey(),p=a?n.getNextSiblingKey():u,v=a?u:n.getPrevSiblingKey();return e.withMutations((function(e){s(l,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(o))})})),s(d,e,(function(e){return e.merge({nextSibling:f})})),s(f,e,(function(e){return e.merge({prevSibling:d})})),s(p,e,(function(e){return e.merge({prevSibling:o})})),s(v,e,(function(e){return e.merge({nextSibling:o})})),s(h,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(u),r=a?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,o),e.merge({children:c(i)})})),s(o,e,(function(e){return e.merge({nextSibling:p,prevSibling:v,parent:h})}))}))};e.exports=function(e,t,n,a){"replace"===a&&o(!1);var c=n.getKey(),s=t.getKey();s===c&&o(!1);var f=e.getBlockMap(),d=t instanceof r,h=[t],p=f.delete(s);d&&(h=[],p=f.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===s})).takeWhile((function(e){var t=e.getKey(),i=t===s,a=n&&t!==n,o=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||a||o)})).forEach((function(t){h.push(t),e.delete(t.getKey())}))})));var v=p.toSeq().takeUntil((function(e){return e===n})),g=p.toSeq().skipUntil((function(e){return e===n})).skip(1),m=h.map((function(e){return[e.getKey(),e]})),y=u();if("before"===a){var b=e.getBlockBefore(c);b&&b.getKey()===t.getKey()&&o(!1),y=v.concat([].concat(m,[[c,n]]),g).toOrderedMap()}else if("after"===a){var x=e.getBlockAfter(c);x&&x.getKey()===s&&o(!1),y=v.concat([[c,n]].concat(m),g).toOrderedMap()}return e.merge({blockMap:l(y,t,n,a,d),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:s,focusKey:s})})}},function(e,t,n){"use strict";var r=n(23).List,i=function(){function e(e){var t,n,r;r=void 0,(n="_decorators")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,i){var a=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(!function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}(n,e,t,i+"."+a),a++)}),t)})),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(76);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=n(186),l=n(233),f=n(368),d=n(375),h=n(392),p=n(395),v=n(430),g=n(431),m=n(245),y=n(35),b=n(1),x=n(189),w=n(142),O=n(55),k=n(91),j=n(71),_=n(261),S=n(143),E=n(81),A=n(29),C=n(126),D=n(48),F=O.isBrowser("IE"),T=!F,M={edit:p,composite:f,drag:h,cut:null,render:null},P=!1,N=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(b.Component),B=function(e){function n(t){var n;return u(o(n=e.call(this,t)||this),"_blockSelectEvents",void 0),u(o(n),"_clipboard",void 0),u(o(n),"_handler",void 0),u(o(n),"_dragCount",void 0),u(o(n),"_internalDrag",void 0),u(o(n),"_editorKey",void 0),u(o(n),"_placeholderAccessibilityID",void 0),u(o(n),"_latestEditorState",void 0),u(o(n),"_latestCommittedEditorState",void 0),u(o(n),"_pendingStateFromBeforeInput",void 0),u(o(n),"_onBeforeInput",void 0),u(o(n),"_onBlur",void 0),u(o(n),"_onCharacterData",void 0),u(o(n),"_onCompositionEnd",void 0),u(o(n),"_onCompositionStart",void 0),u(o(n),"_onCopy",void 0),u(o(n),"_onCut",void 0),u(o(n),"_onDragEnd",void 0),u(o(n),"_onDragOver",void 0),u(o(n),"_onDragStart",void 0),u(o(n),"_onDrop",void 0),u(o(n),"_onInput",void 0),u(o(n),"_onFocus",void 0),u(o(n),"_onKeyDown",void 0),u(o(n),"_onKeyPress",void 0),u(o(n),"_onKeyUp",void 0),u(o(n),"_onMouseDown",void 0),u(o(n),"_onMouseUp",void 0),u(o(n),"_onPaste",void 0),u(o(n),"_onSelect",void 0),u(o(n),"editor",void 0),u(o(n),"editorContainer",void 0),u(o(n),"focus",void 0),u(o(n),"blur",void 0),u(o(n),"setMode",void 0),u(o(n),"exitCurrentMode",void 0),u(o(n),"restoreEditorDOM",void 0),u(o(n),"setClipboard",void 0),u(o(n),"getClipboard",void 0),u(o(n),"getEditorKey",void 0),u(o(n),"update",void 0),u(o(n),"onDragEnter",void 0),u(o(n),"onDragLeave",void 0),u(o(n),"_handleEditorContainerRef",(function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null})),u(o(n),"focus",(function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),i=n.editor;if(i){var a=w.getScrollParent(i),o=e||S(a),u=o.x,c=o.y;C(i)||A(!1),i.focus(),a===window?window.scrollTo(u,c):x.setTop(a,c),r||n.update(y.forceSelection(t,t.getSelection()))}})),u(o(n),"blur",(function(){var e=n.editor;e&&(C(e)||A(!1),e.blur())})),u(o(n),"setMode",(function(e){var t=n.props,r=t.onPaste,i=t.onCut,o=t.onCopy,u=a({},M.edit);r&&(u.onPaste=r),i&&(u.onCut=i),o&&(u.onCopy=o);var c=a({},M,{edit:u});n._handler=c[e]})),u(o(n),"exitCurrentMode",(function(){n.setMode("edit")})),u(o(n),"restoreEditorDOM",(function(e){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(e)}))})),u(o(n),"setClipboard",(function(e){n._clipboard=e})),u(o(n),"getClipboard",(function(){return n._clipboard})),u(o(n),"update",(function(e){n._latestEditorState=e,n.props.onChange(e)})),u(o(n),"onDragEnter",(function(){n._dragCount++})),u(o(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||j(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}c(n,e);var r=n.prototype;return r._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(v?v((function(){return r(t,n)})):r(t,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:D(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(g,e)}return null},r.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,o=e.customStyleFn,u=e.customStyleMap,c=e.editorState,s=e.preventScroll,f=e.readOnly,h=e.textAlignment,p=e.textDirectionality,v=k({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===h,"DraftEditor/alignRight":"right"===h,"DraftEditor/alignCenter":"center"===h}),g=this.props.role||"textbox",m="combobox"===g?!!this.props.ariaExpanded:null,y={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,customStyleMap:a({},l,u),customStyleFn:o,editorKey:this._editorKey,editorState:c,preventScroll:s,textDirectionality:p};return b.createElement("div",{className:v},this._renderPlaceholder(),b.createElement("div",{className:k("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":f?null:this.props.ariaActiveDescendantID,"aria-autocomplete":f?null:this.props.ariaAutoComplete,"aria-controls":f?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":f?null:m,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":f?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:k({notranslate:!f,"public/DraftEditor/content":!0}),contentEditable:!f,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:f?null:g,spellCheck:T&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(N,{editor:this,editorState:c}),b.createElement(d,i({},y,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!P&&E("draft_ods_enabled")&&(P=!0,m.initODS()),this.setMode("edit"),F&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(b.Component);u(B,"defaultProps",{blockRenderMap:s,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:_,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=B}).call(this,n(70))},function(e,t,n){"use strict";var r=n(369),i=n(47),a=n(65),o=n(35),u=n(141),c=n(236),s=n(238),l=n(239),f=n(187),d=n(48),h=!1,p=!1,v=null;var g={onCompositionStart:function(e){p=!0,function(e){v||(v=new r(s(e))).start()}(e)},onCompositionEnd:function(e){h=!1,p=!1,setTimeout((function(){h||g.resolveComposition(e)}),20)},onSelect:c,onKeyDown:function(e,t){if(!p)return g.resolveComposition(e),void e._onKeyDown(t);t.which!==u.RIGHT&&t.which!==u.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===u.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!p){var t=d(v).stopAndFlushMutations();v=null,h=!0;var n=o.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach((function(e,t){var u=a.decode(t),c=u.blockKey,s=u.decoratorKey,l=u.leafKey,d=n.getBlockTree(c).getIn([s,"leaves",l]),h=d.start,p=d.end,v=n.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:h,focusOffset:p,isBackward:!1}),g=f(r,v),m=r.getBlockForKey(c).getInlineStyleAt(h);r=i.replaceText(r,v,e,m,g),n=o.set(n,{currentContent:r})}));var u=l(n,s(e)).selectionState;e.restoreEditorDOM();var c=o.acceptSelection(n,u);e.update(o.push(c,r,"insert-characters"))}else e.update(n)}}};e.exports=g},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(55),a=n(139),o=n(235),u=n(23),c=n(29),s=n(48),l=u.Map,f={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},d=i.isBrowser("IE <= 11"),h=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=l();var n=o(e);n.MutationObserver&&!d?this.observer=new n.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||c(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,f):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=l(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return d?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=s(a(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=h},function(e,t,n){"use strict";var r=n(371),i="Unknown",a={"Mac OS":"Mac OS X"};var o,u=(new r).getResult(),c=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(u.browser.version),s={browserArchitecture:u.cpu.architecture||i,browserFullVersion:u.browser.version||i,browserMinorVersion:c.minor||i,browserName:u.browser.name||i,browserVersion:u.browser.major||i,deviceName:u.device.model||i,engineName:u.engine.name||i,engineVersion:u.engine.version||i,platformArchitecture:u.cpu.architecture||i,platformName:(o=u.os.name,a[o]||o||i),platformVersion:u.os.version||i,platformFullVersion:u.os.version||i};e.exports=s},function(e,t,n){var r;!function(i,a){"use strict";var o="model",u="name",c="type",s="vendor",l="version",f="mobile",d="tablet",h="smarttv",p={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"===typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},v={rgx:function(e,t){for(var n,r,i,a,o,u,c=0;c<t.length&&!o;){var s=t[c],l=t[c+1];for(n=r=0;n<s.length&&!o;)if(o=s[n++].exec(e))for(i=0;i<l.length;i++)u=o[++r],"object"===typeof(a=l[i])&&a.length>0?2==a.length?"function"==typeof a[1]?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3==a.length?"function"!==typeof a[1]||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4==a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"===typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(p.has(t[n][r],e))return"?"===n?void 0:n}else if(p.has(t[n],e))return"?"===n?void 0:n;return e}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,l],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[u,l],[/(konqueror)\/([\w\.]+)/i],[[u,"Konqueror"],l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[u,"IE"],l],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[u,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],l],[/(Avast)\/([\w\.]+)/i],[[u,"Avast Secure Browser"],l],[/(AVG)\/([\w\.]+)/i],[[u,"AVG Secure Browser"],l],[/(puffin)\/([\w\.]+)/i],[[u,"Puffin"],l],[/(focus)\/([\w\.]+)/i],[[u,"Firefox Focus"],l],[/(opt)\/([\w\.]+)/i],[[u,"Opera Touch"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],l],[/(windowswechat qbcore)\/([\w\.]+)/i],[[u,"WeChat(Win) Desktop"],l],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],l],[/(brave)\/([\w\.]+)/i],[[u,"Brave"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[u,l],[/(QQ)\/([\d\.]+)/i],[u,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[u,l],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[u,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[u,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[u],[/(LBBROWSER)/i],[u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[u,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[u,l],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[u,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[u,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[u,"Sailfish Browser"],l],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,l],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],l],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[u,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[u,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[u,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,u],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[u,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[l,v.str,g.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[o,s,[c,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[s,"Apple"],[c,d]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[s,"Apple"],[c,h]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[s,o,[c,d]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[o,[s,"Amazon"],[c,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[o,v.str,g.device.amazon.model],[s,"Amazon"],[c,f]],[/android.+aft([bms])\sbuild/i],[o,[s,"Amazon"],[c,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,s,[c,f]],[/\((ip[honed|\s\w*]+);/i],[o,[s,"Apple"],[c,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[s,o,[c,f]],[/\(bb10;\s(\w+)/i],[o,[s,"BlackBerry"],[c,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[o,[s,"Asus"],[c,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[s,"Sony"],[o,"Xperia Tablet"],[c,d]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[s,"Sony"],[c,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[s,o,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[o,[s,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[o,[s,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[s,v.str,g.device.sprint.vendor],[o,v.str,g.device.sprint.model],[c,f]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[s,[o,/_/g," "],[c,f]],[/(nexus\s9)/i],[o,[s,"HTC"],[c,d]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[o,[s,"Huawei"],[c,f]],[/android.+(bah2?-a?[lw]\d{2})/i],[o,[s,"Huawei"],[c,d]],[/(microsoft);\s(lumia[\s\w]+)/i],[s,o,[c,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[s,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[s,"Microsoft"],[c,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[s,"Motorola"],[c,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[s,"Motorola"],[c,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[s,p.trim],[o,p.trim],[c,h]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[s,"Samsung"],[c,h]],[/\(dtv[\);].+(aquos)/i],[o,[s,"Sharp"],[c,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[s,"Samsung"],o,[c,d]],[/smart-tv.+(samsung)/i],[s,[c,h],o],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[s,"Samsung"],o,[c,f]],[/sie-(\w*)/i],[o,[s,"Siemens"],[c,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[s,"Nokia"],o,[c,f]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[o,[s,"Acer"],[c,d]],[/android.+([vl]k\-?\d{3})\s+build/i],[o,[s,"LG"],[c,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[s,"LG"],o,[c,d]],[/(lg) netcast\.tv/i],[s,o,[c,h]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[o,[s,"LG"],[c,f]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[s,o,[c,d]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[s,"Lenovo"],[c,d]],[/(lenovo)[_\s-]?([\w-]+)/i],[s,o,[c,f]],[/linux;.+((jolla));/i],[s,o,[c,f]],[/((pebble))app\/[\d\.]+\s/i],[s,o,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[s,o,[c,f]],[/crkey/i],[[o,"Chromecast"],[s,"Google"],[c,h]],[/android.+;\s(glass)\s\d/i],[o,[s,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[o,[s,"Google"],[c,d]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[o,[s,"Google"],[c,f]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[o,/_/g," "],[s,"Xiaomi"],[c,f]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[o,/_/g," "],[s,"Xiaomi"],[c,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[o,[s,"Meizu"],[c,f]],[/(mz)-([\w-]{2,})/i],[[s,"Meizu"],o,[c,f]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[o,[s,"OnePlus"],[c,f]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[o,[s,"RCA"],[c,d]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[o,[s,"Dell"],[c,d]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[o,[s,"Verizon"],[c,d]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[s,"Barnes & Noble"],o,[c,d]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[o,[s,"NuVision"],[c,d]],[/android.+;\s(k88)\sbuild/i],[o,[s,"ZTE"],[c,d]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[o,[s,"Swiss"],[c,f]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[o,[s,"Swiss"],[c,d]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[o,[s,"Zeki"],[c,d]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[s,"Dragon Touch"],o,[c,d]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[o,[s,"Insignia"],[c,d]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[o,[s,"NextBook"],[c,d]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[s,"Voice"],o,[c,f]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[s,"LvTel"],o,[c,f]],[/android.+;\s(PH-1)\s/i],[o,[s,"Essential"],[c,f]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[o,[s,"Envizen"],[c,d]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[s,o,[c,d]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[o,[s,"MachSpeed"],[c,d]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[s,o,[c,d]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[o,[s,"Rotor"],[c,d]],[/android.+(KS(.+))\s+build/i],[o,[s,"Amazon"],[c,d]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[s,o,[c,d]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,p.lowerize],s,o],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,h]],[/(android[\w\.\s\-]{0,9});.+build/i],[o,[s,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[l,v.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[l,v.str,g.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[u,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[u,"Symbian"],l],[/\((series40);/i],[u],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[u,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[u,l],[/(haiku)\s(\w+)/i],[u,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,l]]},y=function e(t,n){if("object"===typeof t&&(n=t,t=void 0),!(this instanceof e))return new e(t,n).getResult();var r=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=n?p.extend(m,n):m;return this.getBrowser=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,r,a.browser),e.major=p.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return v.rgx.call(e,r,a.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return v.rgx.call(e,r,a.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,r,a.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,r,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};y.VERSION="0.7.21",y.BROWSER={NAME:u,MAJOR:"major",VERSION:l},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:o,VENDOR:s,TYPE:c,CONSOLE:"console",MOBILE:f,SMARTTV:h,TABLET:d,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:u,VERSION:l},y.OS={NAME:u,VERSION:l},"undefined"!==typeof t?("undefined"!==typeof e&&e.exports&&(t=e.exports=y),t.UAParser=y):void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r);var b=i&&(i.jQuery||i.Zepto);if(b&&!b.ua){var x=new y;b.ua=x.getResult(),b.ua.get=function(){return x.getUA()},b.ua.set=function(e){x.setUA(e);var t=x.getResult();for(var n in t)b.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){"use strict";var r=n(29),i=/\./,a=/\|\|/,o=/\s+\-\s+/,u=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function s(e,t){var n=e.split(a);return n.length>1?n.some((function(e){return x.contains(e,t)})):function(e,t){var n=e.split(o);if(n.length>0&&n.length<=2||r(!1),1===n.length)return l(n[0],t);var i=n[0],a=n[1];return v(i)&&v(a)||r(!1),l(">="+i,t)&&l("<="+a,t)}(e=n[0].trim(),t)}function l(e,t){if(""===(e=e.trim()))return!0;var n=t.split(i),r=h(e),a=r.modifier,o=r.rangeComponents;switch(a){case"<":return f(n,o);case"<=":return function(e,t){var n=b(e,t);return-1===n||0===n}(n,o);case">=":return d(n,o);case">":return 1===b(n,o);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var i=r.length-1,a=parseInt(r[i],10);p(a)&&(r[i]=a+1+"");return d(e,n)&&f(e,r)}(n,o);default:return function(e,t){return 0===b(e,t)}(n,o)}}function f(e,t){return-1===b(e,t)}function d(e,t){var n=b(e,t);return 1===n||0===n}function h(e){var t=e.split(i),n=t[0].match(u);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function p(e){return!isNaN(e)&&isFinite(e)}function v(e){return!h(e).modifier}function g(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function m(e,t){var n=e.match(c)[1],r=t.match(c)[1],i=parseInt(n,10),a=parseInt(r,10);return p(i)&&p(a)&&i!==a?y(i,a):y(e,t)}function y(e,t){return typeof e!==typeof t&&r(!1),e>t?1:e<t?-1:0}function b(e,t){for(var n=function(e,t){g(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return g(t,e.length),[e,t]}(e,t),r=n[0],i=n[1],a=0;a<i.length;a++){var o=m(r[a],i[a]);if(o)return o}return 0}var x={contains:function(e,t){return s(e.trim(),t.trim())}};e.exports=x},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var i={};for(var a in e)r.call(e,a)&&(i[a]=t.call(n,e[a],a,e));return i}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";var r=n(81)("draft_tree_data_support");e.exports=n(r?376:390)},function(e,t,n){"use strict";var r=n(76);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=n(377),o=n(65),u=n(1),c=n(48),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),a=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&a)return!1;var o=t.getCurrentContent(),u=n.getCurrentContent(),c=t.getDecorator(),s=n.getDecorator();return i!==a||o!==u||c!==s||n.mustForceSelection()},s.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,s=e.customStyleMap,l=e.customStyleFn,f=e.editorState,d=e.editorKey,h=e.textDirectionality,p=f.getCurrentContent(),v=f.getSelection(),g=f.mustForceSelection(),m=f.getDecorator(),y=c(f.getDirectionMap()),b=[],x=p.getBlocksAsArray()[0];x;){var w=x.getKey(),O={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:p,customStyleFn:l,customStyleMap:s,decorator:m,editorKey:d,editorState:f,forceSelection:g,selection:v,block:x,direction:h||y.get(w),tree:f.getBlockTree(w)},k=(t.get(x.getType())||t.get("unstyled")).wrapper;b.push({block:u.createElement(a,i({key:w},O)),wrapperTemplate:k,key:w,offsetKey:o.encode(w,0,0)});var j=x.getNextSiblingKey();x=j?p.getBlockForKey(j):null}for(var _=[],S=0;S<b.length;){var E=b[S];if(E.wrapperTemplate){var A=[];do{A.push(b[S].block),S++}while(S<b.length&&b[S].wrapperTemplate===E.wrapperTemplate);var C=u.cloneElement(E.wrapperTemplate,{key:E.key+"-wrap","data-offset-key":E.offsetKey},A);_.push(C)}else _.push(E.block),S++}return u.createElement("div",{"data-contents":"true"},_)},r}(u.Component);e.exports=s},function(e,t,n){"use strict";var r=n(76);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(378),s=n(65),l=n(1),f=n(189),d=n(142),h=n(247),p=n(143),v=n(248),g=n(23),m=n(29),y=n(126),b=(g.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),x=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},w=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},O=function(e,t,n,r,i,a){var u={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:a},c=r(e);return c&&(u.className=c),void 0!==i.customEditable&&(u=o({},u,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),u},k=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return u(a(t=e.call.apply(e,[this].concat(r))||this),"wrapperRef",l.createRef()),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=r.prototype;return g.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,i=t.tree,a=!n.getChildKeys().isEmpty(),o=n!==e.block||i!==e.tree||r!==e.direction||b(e.selection,e.block.getKey())&&e.forceSelection;return a||o},g.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,i=d.getScrollParent(n),a=p(i);if(i===window){var o=h(n);(r=o.y+o.height-v().height)>0&&window.scrollTo(a.x,a.y+r+10)}else{y(n)||m(!1);var u=n;(r=u.offsetHeight+u.offsetTop-(i.offsetHeight+a.y))>0&&f.setTop(i,f.getTop(i)+r+10)}}}},g.render=function(){var e=this,t=this.props,n=t.block,a=t.blockRenderMap,u=t.blockRendererFn,f=t.blockStyleFn,d=t.contentState,h=t.decorator,p=t.editorKey,v=t.editorState,g=t.customStyleFn,m=t.customStyleMap,y=t.direction,k=t.forceSelection,j=t.selection,_=t.tree,S=null;n.children.size&&(S=n.children.reduce((function(t,n){var i=s.encode(n,0,0),c=d.getBlockForKey(n),h=w(c,u),g=h.CustomComponent||r,m=x(c,a),y=m.Element,b=m.wrapperTemplate,k=O(c,p,i,f,h,null),j=o({},e.props,{tree:v.getBlockTree(n),blockProps:h.customProps,offsetKey:i,block:c});return t.push(l.createElement(y,k,l.createElement(g,j))),!b||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(c,d)?t:(function(e,t,n){var r=[],i=!0,a=!1,o=void 0;try{for(var u,c=n.reverse()[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value;if(f.type!==t)break;r.push(f)}}catch(p){a=!0,o=p}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}n.splice(n.indexOf(r[0]),r.length+1);var d=r.reverse(),h=d[0].key;n.push(l.cloneElement(e,{key:"".concat(h,"-wrap"),"data-offset-key":s.encode(h,0,0)},d))}(b,y,t),t)}),[]));var E=n.getKey(),A=s.encode(E,0,0),C=w(n,u),D=C.CustomComponent,F=null!=D?l.createElement(D,i({},this.props,{tree:v.getBlockTree(E),blockProps:C.customProps,offsetKey:A,block:n})):l.createElement(c,{block:n,children:S,contentState:d,customStyleFn:g,customStyleMap:m,decorator:h,direction:y,forceSelection:k,hasSelection:b(j,E),selection:j,tree:_});if(n.getParentKey())return F;var T=x(n,a).Element,M=O(n,p,A,f,C,this.wrapperRef);return l.createElement(T,M,F)},r}(l.Component);e.exports=k},function(e,t,n){"use strict";var r=n(379),i=n(243),a=n(65),o=n(23),u=n(1),c=n(91),s=(o.List,function(e){var t,n;function o(){return e.apply(this,arguments)||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,o=e.customStyleFn,s=e.customStyleMap,l=e.decorator,f=e.direction,d=e.forceSelection,h=e.hasSelection,p=e.selection,v=e.tree,g=t.getKey(),m=t.getText(),y=v.size-1,b=this.props.children||v.map((function(e,c){var v=e.get("decoratorKey"),b=e.get("leaves"),x=b.size-1,w=b.map((function(e,n){var r=a.encode(g,c,n),l=e.get("start"),f=e.get("end");return u.createElement(i,{key:r,offsetKey:r,block:t,start:l,selection:h?p:null,forceSelection:d,text:m.slice(l,f),styleSet:t.getInlineStyleAt(l),customStyleMap:s,customStyleFn:o,isLast:v===y&&n===x})})).toArray();return v&&l?u.createElement(r,{block:t,children:w,contentState:n,decorator:l,decoratorKey:v,direction:f,leafSet:e,text:m,key:c}):w})).toArray();return u.createElement("div",{"data-offset-key":a.encode(g,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===f,"public/DraftStyleDefault/rtl":"RTL"===f})},b)},o}(u.Component));e.exports=s},function(e,t,n){"use strict";var r=n(76);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=n(65),o=n(1),u=n(185),c=n(138),s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,s=e.decorator,l=e.decoratorKey,f=e.direction,d=e.leafSet,h=e.text,p=t.getKey(),v=d.get("leaves"),g=s.getComponentForKey(l),m=s.getPropsForKey(l),y=a.encode(p,parseInt(l,10),0),b=h.slice(v.first().get("start"),v.last().get("end")),x=c.getHTMLDirIfDifferent(u.getDirection(b),f);return o.createElement(g,i({},m,{contentState:r,decoratedText:b,dir:x,key:y,entityKey:t.getEntityAt(d.get("start")),offsetKey:y}),n)},r}(o.Component);e.exports=s},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(1),o=n(55),u=n(29),c=n(92),s=o.isBrowser("IE <= 11");var l=function(e){var t,n;function o(t){var n;return i(r(n=e.call(this,t)||this),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=o.prototype;return l.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;c(t)||u(!1);var r=t;return n?!function(e){return s?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},l.componentDidMount=function(){this._forceFlag=!this._forceFlag},l.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},l.render=function(){var e=this;return""===this.props.children?this._forceFlag?function(e){return s?a.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):a.createElement("br",{key:"A","data-text":"true",ref:e})}((function(t){return e._node=t})):function(e){return s?a.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):a.createElement("br",{key:"B","data-text":"true",ref:e})}((function(t){return e._node=t})):a.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(t){return e._node=t}},this.props.children)},o}(a.Component);e.exports=l},function(e,t,n){"use strict";var r=n(245),i=n(237),a=n(55),o=n(188),u=n(246),c=n(140),s=n(29),l=n(92),f=a.isBrowser("IE");function d(e,t){if(!e)return"[empty]";var n=function e(t,n){var r=void 0!==n?n(t):[];if(t.nodeType===Node.TEXT_NODE){var i=t.textContent.length;return c(t).createTextNode("[text "+i+(r.length?" | "+r.join(", "):"")+"]")}var a=t.cloneNode();1===a.nodeType&&r.length&&a.setAttribute("data-labels",r.join(", "));for(var o=t.childNodes,u=0;u<o.length;u++)a.appendChild(e(o[u],n));return a}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(l(n)||s(!1),n.outerHTML)}function h(e,t){for(var n=e,r=n;n;){if(l(n)&&r.hasAttribute("contenteditable"))return d(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function p(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function v(e,t,n,r){var a=u();if(e.extend&&null!=t&&o(a,t)){n>p(t)&&i.logSelectionStateFailure({anonymizedDom:h(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var c=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(l){throw i.logSelectionStateFailure({anonymizedDom:h(t,(function(t){var n=[];return t===a&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:a?a.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:l?""+l:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),l}}else if(t&&e.rangeCount>0){var s=e.getRangeAt(0);s.setEnd(t,n),e.addRange(s.cloneRange())}}function g(e,t,n,a){var o=c(t).createRange();if(n>p(t)&&(i.logSelectionStateFailure({anonymizedDom:h(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(a.toJS())}),r.handleExtensionCausedError()),o.setStart(t,n),f)try{e.addRange(o)}catch(u){0}else e.addRange(o)}e.exports={setDraftEditorSelection:function(e,t,n,r,i){var a=c(t);if(o(a.documentElement,t)){var u=a.defaultView.getSelection(),s=e.getAnchorKey(),l=e.getAnchorOffset(),f=e.getFocusKey(),d=e.getFocusOffset(),h=e.getIsBackward();if(!u.extend&&h){var p=s,m=l;s=f,l=d,f=p,d=m,h=!1}var y=s===n&&r<=l&&i>=l,b=f===n&&r<=d&&i>=d;if(y&&b)return u.removeAllRanges(),g(u,t,l-r,e),void v(u,t,d-r,e);if(h){if(b&&(u.removeAllRanges(),g(u,t,d-r,e)),y){var x=u.focusNode,w=u.focusOffset;u.removeAllRanges(),g(u,t,l-r,e),v(u,x,w,e)}}else y&&(u.removeAllRanges(),g(u,t,l-r,e)),b&&v(u,t,d-r,e)}},addFocusToSelection:v}},function(e,t,n){"use strict";var r=n(383);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(385),i=n(386);function a(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return a(n.getPropertyValue(i(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return a(n.getPropertyValue(i(t)));if("display"===t)return"none"}return e.currentStyle?a("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):a(e.style&&e.style[r(t)])}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(188);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},function(e,t,n){"use strict";var r="undefined"!==typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";var r=n(76);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(249),c=n(65),s=n(1),l=n(91),f=n(391),d=n(48),h=function(e,t,n,r){return l({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),a=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&a)return!1;var o=t.getCurrentContent(),u=n.getCurrentContent(),c=t.getDecorator(),s=n.getDecorator();return i!==a||o!==u||c!==s||n.mustForceSelection()},o.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,o=e.customStyleMap,l=e.customStyleFn,p=e.editorState,v=e.editorKey,g=e.preventScroll,m=e.textDirectionality,y=p.getCurrentContent(),b=p.getSelection(),x=p.mustForceSelection(),w=p.getDecorator(),O=d(p.getDirectionMap()),k=y.getBlocksAsArray(),j=[],_=null,S=null,E=0;E<k.length;E++){var A=k[E],C=A.getKey(),D=A.getType(),F=n(A),T=void 0,M=void 0,P=void 0;F&&(T=F.component,M=F.props,P=F.editable);var N=m||O.get(C),B=c.encode(C,0,0),R={contentState:y,block:A,blockProps:M,blockStyleFn:r,customStyleMap:o,customStyleFn:l,decorator:w,direction:N,forceSelection:x,offsetKey:B,preventScroll:g,selection:b,tree:p.getBlockTree(C)},z=t.get(D)||t.get("unstyled"),L=z.wrapper,I=z.element||t.get("unstyled").element,U=A.getDepth(),q="";if(r&&(q=r(A)),"li"===I)q=f(q,h(D,U,S!==L||null===_||U>_,N));var $=T||u,H={className:q,"data-block":!0,"data-editor":v,"data-offset-key":B,key:C};void 0!==P&&(H=a({},H,{contentEditable:P,suppressContentEditableWarning:!0}));var W=s.createElement(I,H,s.createElement($,i({},R,{key:C})));j.push({block:W,wrapperTemplate:L,key:C,offsetKey:B}),_=L?A.getDepth():null,S=L}for(var G=[],K=0;K<j.length;){var V=j[K];if(V.wrapperTemplate){var Y=[];do{Y.push(j[K].block),K++}while(K<j.length&&j[K].wrapperTemplate===V.wrapperTemplate);var J=s.cloneElement(V.wrapperTemplate,{key:V.key+"-wrap","data-offset-key":V.offsetKey},Y);G.push(J)}else G.push(V.block),K++}return s.createElement("div",{"data-contents":"true"},G)},r}(s.Component);e.exports=p},function(e,t,n){"use strict";e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(t=(t?t+" ":"")+i)}return t}},function(e,t,n){"use strict";var r=n(250),i=n(47),a=n(35),o=n(139),u=n(140),c=n(252),s=n(241),l=n(235),f=n(144),d=n(48);var h={onDragEnd:function(e){e.exitCurrentMode(),p(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),l=e._latestEditorState,h=function(e,t){var n=null,r=null,i=u(e.currentTarget);if("function"===typeof i.caretRangeFromPoint){var a=i.caretRangeFromPoint(e.x,e.y);n=a.startContainer,r=a.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=d(n),r=d(r);var c=d(o(n));return s(t,c,r,c,r)}(t.nativeEvent,l);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=h){var g=n.getFiles();if(g.length>0){if(e.props.handleDroppedFiles&&f(e.props.handleDroppedFiles(h,g)))return;c(g,(function(t){t&&e.update(v(l,h,t))}))}else{var m=e._internalDrag?"internal":"external";e.props.handleDrop&&f(e.props.handleDrop(h,n,m))||(e._internalDrag?e.update(function(e,t){var n=i.moveText(e.getCurrentContent(),e.getSelection(),t);return a.push(e,n,"insert-fragment")}(l,h)):e.update(v(l,h,n.getText()))),p(e)}}}};function p(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:l(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function v(e,t,n){var r=i.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return a.push(e,r,"insert-fragment")}e.exports=h},function(e,t,n){"use strict";var r={isImage:function(e){return"image"===i(e)[0]},isJpeg:function(e){var t=i(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function i(e){return e.split("/")}e.exports=r},function(e,t,n){"use strict";var r=n(29);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&r(!1),"number"!==typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"===typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(a){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}(e):[e]}},function(e,t,n){"use strict";var r=n(55),i=n(396),a=n(400),o=n(401),u=n(402),c=n(403),s=n(405),l=n(406),f=n(407),d=n(408),h=n(409),p=n(423),v=n(236),g=r.isBrowser("Chrome"),m=r.isBrowser("Firefox"),y=g||m?v:function(e){},b={onBeforeInput:i,onBlur:a,onCompositionStart:o,onCopy:u,onCut:c,onDragOver:s,onDragStart:l,onFocus:f,onInput:d,onKeyDown:h,onPaste:p,onSelect:v,onMouseUp:y,onKeyUp:y};e.exports=b},function(e,t,n){"use strict";var r=n(47),i=n(35),a=n(55),o=n(187),u=n(144),c=n(397),s=n(48),l=n(398),f=a.isBrowser("Firefox");function d(e,t,n,a,o){var u=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,a);return i.push(e,u,"insert-characters",o)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&u(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var a=n.getSelection(),h=a.getStartOffset(),p=a.getAnchorKey();if(!a.isCollapsed())return t.preventDefault(),void e.update(d(n,r,n.getCurrentInlineStyle(),o(n.getCurrentContent(),n.getSelection()),!0));var v,g=d(n,r,n.getCurrentInlineStyle(),o(n.getCurrentContent(),n.getSelection()),!1),m=!1;if(m||(m=c(e._latestCommittedEditorState)),!m){var y=n.getBlockTree(p),b=g.getBlockTree(p);m=y.size!==b.size||y.zip(b).some((function(e){var t=e[0],n=e[1],i=t.get("start"),a=i+(i>=h?r.length:0),o=t.get("end"),u=o+(o>=h?r.length:0),c=n.get("start"),s=n.get("end"),l=n.get("decoratorKey");return t.get("decoratorKey")!==l||t.get("leaves").size!==n.get("leaves").size||a!==c||u!==s||null!=l&&s-c!==o-i}))}if(m||(v=r,m=f&&("'"==v||"/"==v)),m||(m=s(g.getDirectionMap()).get(p)!==s(n.getDirectionMap()).get(p)),m)return t.preventDefault(),g=i.set(g,{forceSelection:!0}),void e.update(g);g=i.set(g,{nativelyRenderedContent:g.getCurrentContent()}),e._pendingStateFromBeforeInput=g,l((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),a=!1;return r.some((function(e){return i===e.get("start")?(a=!0,!0):i<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return i===t&&(a=!0,!0)}))})),a}},function(e,t,n){"use strict";(function(t){n(399),e.exports=t.setImmediate}).call(this,n(70))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},c.clearImmediate=s}function s(e){delete a[e]}function l(e){if(o)setTimeout(l,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{s(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(70),n(145))},function(e,t,n){"use strict";var r=n(35),i=n(188),a=n(246);e.exports=function(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&a(n)===n.body){var o=n.defaultView.getSelection(),u=e.editor;1===o.rangeCount&&i(u,o.anchorNode)&&i(u,o.focusNode)&&o.removeAllRanges()}var c=e._latestEditorState,s=c.getSelection();if(s.getHasFocus()){var l=s.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(c,l))}}},function(e,t,n){"use strict";var r=n(35);e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},function(e,t,n){"use strict";var r=n(253);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},function(e,t,n){"use strict";var r=n(47),i=n(35),a=n(142),o=n(253),u=n(143),c=n(404);e.exports=function(e,t){var n,s=e._latestEditorState,l=s.getSelection(),f=t.target;if(l.isCollapsed())t.preventDefault();else{if(c(f)){var d=f;n=u(a.getScrollParent(d))}var h=o(s);e.setClipboard(h),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(s))}),0)}}},function(e,t,n){"use strict";e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},function(e,t,n){"use strict";e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},function(e,t,n){"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},function(e,t,n){"use strict";var r=n(35),i=n(55);e.exports=function(e,t){var n=e._latestEditorState,a=n.getSelection();if(!a.getHasFocus()){var o=a.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,o)):e.update(r.acceptSelection(n,o))}}},function(e,t,n){"use strict";var r=n(47),i=n(65),a=n(35),o=n(55),u=n(242).notEmptyKey,c=n(139),s=n(254),l=n(48),f=o.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor.ownerDocument.defaultView.getSelection(),o=n.anchorNode,d=n.isCollapsed,h=(null===o||void 0===o?void 0:o.nodeType)!==Node.TEXT_NODE&&(null===o||void 0===o?void 0:o.nodeType)!==Node.ELEMENT_NODE;if(null!=o&&!h){if(o.nodeType===Node.TEXT_NODE&&(null!==o.previousSibling||null!==o.nextSibling)){var p=o.parentNode;if(null==p)return;o.nodeValue=p.textContent;for(var v=p.firstChild;null!=v;v=v.nextSibling)v!==o&&p.removeChild(v)}var g=o.textContent,m=e._latestEditorState,y=l(c(o)),b=i.decode(y),x=b.blockKey,w=b.decoratorKey,O=b.leafKey,k=m.getBlockTree(x).getIn([w,"leaves",O]),j=k.start,_=k.end,S=m.getCurrentContent(),E=S.getBlockForKey(x),A=E.getText().slice(j,_);if(g.endsWith("\n\n")&&(g=g.slice(0,-1)),g!==A){var C,D,F,T,M=m.getSelection(),P=M.merge({anchorOffset:j,focusOffset:_,isBackward:!1}),N=E.getEntityAt(j),B=u(N)?S.getEntity(N):null,R="MUTABLE"===(null!=B?B.getMutability():null),z=R?"spellcheck-change":"apply-entity",L=r.replaceText(S,P,g,E.getInlineStyleAt(j),R?E.getEntityAt(j):null);if(f)C=n.anchorOffset,D=n.focusOffset,T=(F=j+Math.min(C,D))+Math.abs(C-D),C=F,D=T;else{var I=g.length-A.length;F=M.getStartOffset(),T=M.getEndOffset(),C=d?T+I:F,D=T+I}var U=L.merge({selectionBefore:S.getSelectionAfter(),selectionAfter:M.merge({anchorOffset:C,focusOffset:D})});e.update(a.push(m,U,z))}else{var q=t.nativeEvent.inputType;if(q){var $=function(e,t){switch(e){case"deleteContentBackward":return s(t)}return t}(q,m);if($!==m)return e.restoreEditorDOM(),void e.update($)}}}}},function(e,t,n){"use strict";var r=n(47),i=n(35),a=n(192),o=n(141),u=n(411),c=n(55),s=n(144),l=n(412),f=n(414),d=n(416),h=n(417),p=n(418),v=n(419),g=n(254),m=n(420),y=n(421),b=n(422),x=a.isOptionKeyCommand,w=c.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,a=e._latestEditorState;function c(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case o.RETURN:if(t.preventDefault(),e.props.handleReturn&&s(e.props.handleReturn(t,a)))return;break;case o.ESC:if(t.preventDefault(),c("onEscape"))return;break;case o.TAB:if(c("onTab"))return;break;case o.UP:if(c("onUpArrow"))return;break;case o.RIGHT:if(c("onRightArrow"))return;break;case o.DOWN:if(c("onDownArrow"))return;break;case o.LEFT:if(c("onLeftArrow"))return;break;case o.SPACE:w&&x(t)&&t.preventDefault()}var O=e.props.keyBindingFn(t);if(null!=O&&""!==O)if("undo"!==O){if(t.preventDefault(),!e.props.handleKeyCommand||!s(e.props.handleKeyCommand(O,a,t.timeStamp))){var k=function(e,t,n){switch(e){case"redo":return i.redo(t);case"delete":return m(t);case"delete-word":return d(t);case"backspace":return g(t);case"backspace-word":return f(t);case"backspace-to-start-of-line":return l(t,n);case"split-block":return h(t);case"transpose-characters":return y(t);case"move-selection-to-start-of-block":return v(t);case"move-selection-to-end-of-block":return p(t);case"secondary-cut":return u.cut(t);case"secondary-paste":return u.paste(t);default:return t}}(O,a,t);k!==a&&e.update(k)}}else b(t,a,e.update);else if(n===o.SPACE&&w&&x(t)){var j=r.replaceText(a.getCurrentContent(),a.getSelection(),"\xa0");e.update(i.push(a,j,"insert-characters"))}}},function(e,t,n){"use strict";var r=n(141);e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},function(e,t,n){"use strict";var r=n(47),i=n(35),a=n(135),o=n(48),u=null,c={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var s=n.getAnchorKey(),l=t.getBlockForKey(s).getLength();if(l===n.getAnchorOffset()){var f=t.getKeyAfter(s);if(null==f)return e;c=n.set("focusKey",f).set("focusOffset",0)}else c=n.set("focusOffset",l)}else c=n;c=o(c),u=a(t,c);var d=r.removeRange(t,c,"forward");return d===t?e:i.push(e,d,"remove-range")},paste:function(e){if(!u)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),u);return i.push(e,t,"insert-fragment")}};e.exports=c},function(e,t,n){"use strict";var r=n(35),i=n(413),a=n(240),o=n(190),u=n(127);e.exports=function(e,t){var n=u(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return o(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=i(r),a(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},function(e,t,n){"use strict";var r=n(93),i=n(140),a=n(255),o=n(29);function u(e,t){for(var n=1/0,r=1/0,i=-1/0,a=-1/0,o=0;o<e.length;o++){var u=e[o];0!==u.width&&1!==u.width&&(n=Math.min(n,u.top),r=Math.min(r,u.bottom),i=Math.max(i,u.top),a=Math.max(a,u.bottom))}return i<=r&&i-n<t&&a-r<t}function c(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||o(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=i(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var a=n.body;a||o(!1),a.appendChild(r);var u=r.getBoundingClientRect();return a.removeChild(r),u.height}(t),s=e.endContainer,l=e.endOffset;for(e.setStart(e.startContainer,0);u(a(e),n)&&(s=e.startContainer,l=e.startOffset,s.parentNode||o(!1),e.setStartBefore(s),1!==s.nodeType||"inline"===getComputedStyle(s).display););for(var f=s,d=l-1;;){for(var h=f.nodeValue,p=d;p>=0;p--)if(!(null!=h&&p>0&&r.isSurrogatePair(h,p-1))){if(e.setStart(f,p),!u(a(e),n))break;s=f,l=p}if(-1===p||0===f.childNodes.length)break;d=c(f=f.childNodes[p])}return e.setStart(s,l),e}},function(e,t,n){"use strict";var r=n(256),i=n(35),a=n(190),o=n(127);e.exports=function(e){var t=o(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return a(e,1);var i=t.getStartKey(),o=e.getCurrentContent().getBlockForKey(i).getText().slice(0,n),u=r.getBackward(o);return a(e,u.length||1)}),"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},function(e,t,n){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf]"}}},function(e,t,n){"use strict";var r=n(256),i=n(35),a=n(257),o=n(127);e.exports=function(e){var t=o(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),i=t.getStartKey(),o=e.getCurrentContent().getBlockForKey(i).getText().slice(n),u=r.getForward(o);return a(e,u.length||1)}),"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},function(e,t,n){"use strict";var r=n(47),i=n(35);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}},function(e,t,n){"use strict";var r=n(35);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),i=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(35);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(35),i=n(93),a=n(257),o=n(127);e.exports=function(e){var t=o(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),o=t.getAnchorOffset(),u=n.getBlockForKey(r).getText()[o];return a(e,u?i.getUTF16Length(u,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},function(e,t,n){"use strict";var r=n(47),i=n(35),a=n(135);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var o,u,c=t.getAnchorKey(),s=e.getCurrentContent(),l=s.getBlockForKey(c).getLength();if(l<=1)return e;n===l?(o=t.set("anchorOffset",n-1),u=t):u=(o=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var f=a(s,o),d=r.removeRange(s,o,"backward"),h=d.getSelectionAfter(),p=h.getAnchorOffset()-1,v=h.merge({anchorOffset:p,focusOffset:p}),g=r.replaceWithFragment(d,v,f),m=i.push(e,g,"insert-fragment");return i.acceptSelection(m,u)}},function(e,t,n){"use strict";var r=n(35);e.exports=function(e,t,n){var i=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(i)}),0)):n(i);else{var a=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:a}))}}},function(e,t,n){"use strict";var r=n(124),i=n(57),a=n(250),o=n(47),u=n(424),c=n(35),s=n(260),l=n(187),f=n(252),d=n(144),h=n(429);function p(e,t,n){var r=o.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new a(t.clipboardData);if(!n.isRichText()){var v=n.getFiles(),g=n.getText();if(v.length>0){if(e.props.handlePastedFiles&&d(e.props.handlePastedFiles(v)))return;return void f(v,(function(t){if(t=t||g){var n=e._latestEditorState,a=h(t),f=i.create({style:n.getCurrentInlineStyle(),entity:l(n.getCurrentContent(),n.getSelection())}),d=s.getCurrentBlockType(n),p=u.processText(a,f,d),v=r.createFromArray(p),m=o.replaceWithFragment(n.getCurrentContent(),n.getSelection(),v);e.update(c.push(n,m,"insert-fragment"))}}))}}var m=[],y=n.getText(),b=n.getHTML(),x=e._latestEditorState;if(!e.props.handlePastedText||!d(e.props.handlePastedText(y,b,x))){if(y&&(m=h(y)),!e.props.stripPastedStyles){var w=e.getClipboard();if(n.isRichText()&&w){if(-1!==b.indexOf(e.getEditorKey())||1===m.length&&1===w.size&&w.first().getText()===y)return void e.update(p(e._latestEditorState,w))}else if(w&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(m,w))return void e.update(p(e._latestEditorState,w));if(b){var O=u.processHTML(b,e.props.blockRenderMap);if(O){var k=O.contentBlocks,j=O.entityMap;if(k){var _=r.createFromArray(k);return void e.update(p(e._latestEditorState,_,j))}}}e.setClipboard(null)}if(m.length){var S=i.create({style:x.getCurrentInlineStyle(),entity:l(x.getCurrentContent(),x.getSelection())}),E=s.getCurrentBlockType(x),A=u.processText(m,S,E),C=r.createFromArray(A);e.update(p(e._latestEditorState,C))}}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(90),a=n(58),o=n(258),u=n(71),c=n(259),s=n(81),l=n(23),f=n(232),d=l.List,h=l.Repeat,p=s("draft_tree_data_support"),v=p?a:i,g={processHTML:function(e,t){return o(e,c,t)},processText:function(e,t,n){return e.reduce((function(e,i,a){i=f(i);var o=u(),c={key:o,type:n,text:i,characterList:d(h(t,i.length))};if(p&&0!==a){var s=a-1;c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},c,{prevSibling:(e[s]=e[s].merge({nextSibling:o})).getKey()})}return e.push(new v(c)),e}),[])}};e.exports=g},function(e,t,n){"use strict";var r=function(){function e(e){var t,n,r;r=void 0,(n="_uri")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},function(e,t,n){"use strict";var r=n(92);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},function(e,t,n){"use strict";var r=n(92);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i=t.getStartKey(),a=t.getEndKey(),o=e.getBlockMap(),u=o.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===a})).concat([[a,o.get(a)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return o=o.merge(u),e.merge({blockMap:o,selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},function(e,t,n){"use strict";var r=n(28).unstable_flushControlled;e.exports=r},function(e,t,n){"use strict";var r=n(1),i=n(91),a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},o.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},a}(r.Component);e.exports=a},function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(90),a=n(58),o=n(262),u=n(434),c=n(435),s=n(29),l=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:u(e,t),data:e.getData().toObject()}},f=function(e,t,n,o){if(e instanceof i)n.push(l(e,t));else{e instanceof a||s(!1);var u=e.getParentKey(),c=o[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},l(e,t),{children:[]});u?o[u].children.push(c):n.push(c)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,r=[],i={},a={},u=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),i=o.stringify(r);a[i]||(a[i]=r,n[i]="".concat(u),u++)})),f(e,n,r,i)})),{blocks:r,entityMap:n}}(e,t),t=function(e,t){var n=t.blocks,r=t.entityMap,i={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(o.unstringify(t));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:i}}(e,t)}},function(e,t,n){"use strict";var r=n(262),i=n(93).strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(a,o){var u=e.getText(),c=e.getEntityAt(a);n.push({offset:i(u.slice(0,a)),length:i(u.slice(a,o)),key:Number(t[r.stringify(c)])})})),n}},function(e,t,n){"use strict";var r=n(93),i=n(125),a=function(e,t){return e===t},o=function(e){return!!e},u=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var u=[],c=t.map((function(e){return e.has(n)})).toList();return i(c,a,o,(function(t,i){var a=e.getText();u.push({offset:r.strlen(a.slice(0,t)),length:r.strlen(a.slice(t,i)),style:n})})),u}(e,t,n)}));return Array.prototype.concat.apply(u,n.toJS())}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(90),o=n(58),u=n(184),c=n(136),s=n(437),l=(n(438),n(137)),f=n(439),d=n(440),h=n(441),p=n(71),v=n(81),g=n(23),m=n(29),y=v("draft_tree_data_support"),b=g.List,x=g.Map,w=g.OrderedMap,O=function(e,t){var n=e.key,r=e.type,i=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||p(),data:x(i),characterList:k(e,t)}},k=function(e,t){var n=e.text,i=e.entityRanges,a=e.inlineStyleRanges,o=i||[];return f(h(n,a||[]),d(n,o.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},j=function(e){return r({},e,{key:e.key||p()})},_=function(e,t,n){var i=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(i.reverse())},S=function(e,t){var n=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),i=y&&!n?s.fromRawStateToRawTreeState(e).blocks:e.blocks;return y?function(e,t){return e.map(j).reduce((function(n,i,a){Array.isArray(i.children)||m(!1);var u=i.children.map(j),c=new o(r({},O(i,t),{prevSibling:0===a?null:e[a-1].key,nextSibling:a===e.length-1?null:e[a+1].key,children:b(u.map((function(e){return e.key})))}));n=n.set(c.getKey(),c);for(var s=_([],u,c);s.length>0;){var l=s.pop(),f=l.parentRef,d=f.getChildKeys(),h=d.indexOf(l.key),p=Array.isArray(l.children);if(!p){p||m(!1);break}var v=l.children.map(j),g=new o(r({},O(l,t),{parent:f.getKey(),children:b(v.map((function(e){return e.key}))),prevSibling:0===h?null:d.get(h-1),nextSibling:h===d.size-1?null:d.get(h+1)}));n=n.set(g.getKey(),g),s=_(s,v,g)}return n}),w())}(i,t):function(e,t){return w(e.map((function(e){var n=new a(O(e,t));return[n.getKey(),n]})))}(n?s.fromRawTreeStateToRawState(e).blocks:i,t)};e.exports=function(e){Array.isArray(e.blocks)||m(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],i=r.type,a=r.mutability,o=r.data;n[e]=c.__create(i,a,o||{})})),n}(e),n=S(e,t),r=n.isEmpty()?new l:l.createEmpty(n.first().getKey());return new u({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(71),o=n(29),u=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||o(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var i=r.children;Array.isArray(i)||o(!1),n=n.concat([].concat(i.reverse()))}}(t,(function(e){var t=r({},e);u(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))})),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach((function(e){var i=u(e),o=e.depth||0,c=r({},e,{children:[]});if(i){var s=n[0];if(null==s&&0===o)t.push(c);else if(null==s||s.depth<o-1){var l={key:a(),text:"",depth:o-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(l),1===o?t.push(l):null!=s&&s.children.push(l),l.children.push(c)}else if(s.depth===o-1)s.children.push(c);else{for(;null!=s&&s.depth>=o;)n.shift(),s=n[0];o>0?s.children.push(c):t.push(c)}}else t.push(c)})),r({},e,{blocks:t})}};e.exports=c},function(e,t,n){"use strict";n(191);var r={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===n})))return!1;var i=e.getPrevSiblingKey();if(null!=i&&t.get(i).getNextSiblingKey()!==n)return!1;var a=e.getNextSiblingKey();if(null!=a&&t.get(a).getPrevSiblingKey()!==n)return!1;return(null===a||null===i||i!==a)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),i=[];null!=r;){var a=e.get(r),o=a.getChildKeys(),u=a.getNextSiblingKey();if(o.size>0){null!=u&&i.unshift(u);var c=o.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==c)return!1;r=c.getKey()}else r=null!=a.getNextSiblingKey()?a.getNextSiblingKey():i.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(n){return t.isValidBlock(n,e)}))&&this.isConnectedTree(e)}};e.exports=r},function(e,t,n){"use strict";var r=n(57),i=n(23).List;e.exports=function(e,t){var n=e.map((function(e,n){var i=t[n];return r.create({style:e,entity:i})}));return i(n)}},function(e,t,n){"use strict";var r=n(93).substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var i=r(e,0,t.offset).length,a=i+r(e,t.offset,t.length).length,o=i;o<a;o++)n[o]=t.key})),n}},function(e,t,n){"use strict";var r=n(93),i=n(23).OrderedSet,a=r.substr,o=i();e.exports=function(e,t){var n=Array(e.length).fill(o);return t&&t.forEach((function(t){for(var r=a(e,0,t.offset).length,i=r+a(e,t.offset,t.length).length;r<i;)n[r]=n[r].add(t.style),r++})),n}},function(e,t,n){"use strict";var r=n(443);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),i=r(n),a=i.top,o=i.right,u=i.bottom,c=i.left;return 0===a&&0===o&&0===u&&0===c?null:i}},function(e,t,n){"use strict";var r=n(255);e.exports=function(e){var t=r(e),n=0,i=0,a=0,o=0;if(t.length){if(t.length>1&&0===t[0].width){var u=t[1];n=u.top,i=u.right,a=u.bottom,o=u.left}else{var c=t[0];n=c.top,i=c.right,a=c.bottom,o=c.left}for(var s=1;s<t.length;s++){var l=t[s];0!==l.height&&0!==l.width&&(n=Math.min(n,l.top),i=Math.max(i,l.right),a=Math.max(a,l.bottom),o=Math.min(o,l.left))}}return{top:n,right:i,bottom:a,left:o,width:i-o,height:a-n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default=function(e){return r.EditorState.createWithContent(r.ContentState.createFromText(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1];return function(){for(var e=r.apply(void 0,arguments),n=t.length-2;n>=0;n-=1){var i=t[n];e=i(e)}return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=v(a),u=v(n(15)),c=n(22),s=n(23),l=v(n(447)),f=v(n(448)),d=v(n(449)),h=v(n(452)),p=v(n(453));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var y=function(e){var t=void 0;return null!=e.decorators?t=e.decorators:null!=e._decorators&&(t=e._decorators),null!=t.size?t.size:t.length},b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return x.call(n),[n.props].concat(m(n.resolvePlugins())).forEach((function(e){"function"===typeof e.initialize&&e.initialize(n.getPluginMethods())})),l.default.forEach((function(e){n[e]=function(){var t;return(t=n.editor)[e].apply(t,arguments)}})),n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){var e=(0,d.default)(this.props,this.getEditorState,this.onChange),t=c.EditorState.set(this.props.editorState,{decorator:e});this.onChange((0,f.default)(t))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.editorState.getDecorator(),n=e.editorState.getDecorator();if(t&&t!==n&&(!t||!n||y(t)!==y(n))){var r=c.EditorState.set(e.editorState,{decorator:t});this.onChange((0,f.default)(r))}}},{key:"componentWillUnmount",value:function(){var e=this;this.resolvePlugins().forEach((function(t){t.willUnmount&&t.willUnmount({getEditorState:e.getEditorState,setEditorState:e.onChange})}))}},{key:"render",value:function(){var e=this,t=this.createPluginHooks(),n=this.resolveCustomStyleMap(),i=this.resolveAccessibilityProps(),a=this.resolveblockRenderMap();return o.default.createElement(c.Editor,r({},this.props,i,t,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:n,blockRenderMap:a,onChange:this.onChange,editorState:this.props.editorState,ref:function(t){e.editor=t}}))}}]),t}(a.Component);b.propTypes={editorState:u.default.object.isRequired,onChange:u.default.func.isRequired,plugins:u.default.array,defaultKeyBindings:u.default.bool,defaultKeyCommands:u.default.bool,defaultBlockRenderMap:u.default.bool,customStyleMap:u.default.object,decorators:u.default.array},b.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};var x=function(){var e=this;this.onChange=function(t){var n=t;e.resolvePlugins().forEach((function(t){t.onChange&&(n=t.onChange(n,e.getPluginMethods()))})),e.props.onChange&&e.props.onChange(n,e.getPluginMethods())},this.getPlugins=function(){return e.props.plugins.slice(0)},this.getProps=function(){return r({},e.props)},this.getReadOnly=function(){return e.props.readOnly},this.setReadOnly=function(t){t!==e.state.readOnly&&e.setState({readOnly:t})},this.getEditorRef=function(){return e.editor},this.getEditorState=function(){return e.props.editorState},this.getPluginMethods=function(){return{getPlugins:e.getPlugins,getProps:e.getProps,setEditorState:e.onChange,getEditorState:e.getEditorState,getReadOnly:e.getReadOnly,setReadOnly:e.setReadOnly,getEditorRef:e.getEditorRef}},this.createEventHooks=function(t,n){return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=[].slice.apply(i);return o.push(e.getPluginMethods()),n.some((function(e){return"function"===typeof e[t]&&!0===e[t].apply(e,m(o))}))}},this.createHandleHooks=function(t,n){return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=[].slice.apply(i);return o.push(e.getPluginMethods()),n.some((function(e){return"function"===typeof e[t]&&"handled"===e[t].apply(e,m(o))}))?"handled":"not-handled"}},this.createFnHooks=function(t,n){return function(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=[].slice.apply(a);if(u.push(e.getPluginMethods()),"blockRendererFn"===t){var c={props:{}};return n.forEach((function(e){if("function"===typeof e[t]){var n=e[t].apply(e,m(u));if(void 0!==n&&null!==n){var i=n.props,a=g(n,["props"]),o=c,s=o.props,l=g(o,["props"]);c=r({},l,a,{props:r({},s,i)})}}})),!!c.component&&c}if("blockStyleFn"===t){var s=void 0;return n.forEach((function(e){if("function"===typeof e[t]){var n=e[t].apply(e,m(u));void 0!==n&&null!==n&&(s=(s?s+" ":"")+n)}})),s||""}var l=void 0,f=n.some((function(e){return"function"===typeof e[t]&&void 0!==(l=e[t].apply(e,m(u)))}));return!!f&&l}},this.createPluginHooks=function(){var t={},n=[],r=[],i=[],a=[e.props].concat(m(e.resolvePlugins()));return a.forEach((function(e){Object.keys(e).forEach((function(e){"onChange"!==e&&(-1===n.indexOf(e)&&-1===i.indexOf(e)&&(0===e.indexOf("on")?n.push(e):0===e.indexOf("handle")?r.push(e):e.length-2===e.indexOf("Fn")&&i.push(e)))}))})),n.forEach((function(n){t[n]=e.createEventHooks(n,a)})),r.forEach((function(n){t[n]=e.createHandleHooks(n,a)})),i.forEach((function(n){t[n]=e.createFnHooks(n,a)})),t},this.resolvePlugins=function(){var t=e.props.plugins.slice(0);return!0===e.props.defaultKeyBindings&&t.push(h.default),!0===e.props.defaultKeyCommands&&t.push(p.default),t},this.resolveCustomStyleMap=function(){return e.props.plugins.filter((function(e){return void 0!==e.customStyleMap})).map((function(e){return e.customStyleMap})).concat([e.props.customStyleMap]).reduce((function(e,t){return r({},e,t)}),{})},this.resolveblockRenderMap=function(){var t=e.props.plugins.filter((function(e){return void 0!==e.blockRenderMap})).reduce((function(e,t){return e.merge(t.blockRenderMap)}),(0,s.Map)({}));return e.props.defaultBlockRenderMap&&(t=c.DefaultDraftBlockRenderMap.merge(t)),e.props.blockRenderMap&&(t=t.merge(e.props.blockRenderMap)),t},this.resolveAccessibilityProps=function(){var t={};return[e.props].concat(m(e.resolvePlugins())).forEach((function(e){if("function"===typeof e.getAccessibilityProps){var n=e.getAccessibilityProps(),i={};void 0===t.ariaHasPopup?i.ariaHasPopup=n.ariaHasPopup:"true"===n.ariaHasPopup&&(i.ariaHasPopup="true"),void 0===t.ariaExpanded?i.ariaExpanded=n.ariaExpanded:!0===n.ariaExpanded&&(i.ariaExpanded=!0),t=r({},t,n,i)}})),t}};t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=["focus","blur","setMode","exitCurrentMode","restoreEditorDOM","setRenderGuard","removeRenderGuard","setClipboard","getClipboard","getEditorKey","update","onDragEnter","onDragLeave"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default=function(e){var t=e.getCurrentContent().getBlockMap(),n=t.last().getKey(),i=t.last().getLength(),a=new r.SelectionState({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i});return r.EditorState.acceptSelection(e,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=o(n(450)),a=o(n(451));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return"function"===typeof e.getDecorations&&"function"===typeof e.getComponentForKey&&"function"===typeof e.getPropsForKey},c=function(e){var t=e.decorators,n=e.plugins;return(0,r.List)([{decorators:t}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))).filter((function(e){return void 0!==e.decorators})).flatMap((function(e){return e.decorators}))};t.default=function(e,t,n){var r=c(e),o=(0,i.default)(r.filter((function(e){return!u(e)})),t,n),s=r.filter((function(e){return u(e)}));return new a.default(s.push(o))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),o=(r=a)&&r.__esModule?r:{default:r},u=n(23),c=n(22);t.default=function(e,t,n){var r=(0,u.List)(e).map((function(e){var r=e.component;return i({},e,{component:function(e){return o.default.createElement(r,i({},e,{getEditorState:t,setEditorState:n}))}})})).toJS();return new c.CompositeDecorator(r)}},function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(23),o=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.decorators=o.default.List(t)}return i(e,[{key:"getDecorations",value:function(e,t){var n=new Array(e.getText().length).fill(null);return this.decorators.forEach((function(r,i){r.getDecorations(e,t).forEach((function(e,t){e&&(n[t]=i+"-"+e)}))})),o.default.List(n)}},{key:"getComponentForKey",value:function(t){return this.getDecoratorForKey(t).getComponentForKey(e.getInnerKey(t))}},{key:"getPropsForKey",value:function(t){return this.getDecoratorForKey(t).getPropsForKey(e.getInnerKey(t))}},{key:"getDecoratorForKey",value:function(e){var t=e.split("-"),n=Number(t[0]);return this.decorators.get(n)}}],[{key:"getInnerKey",value:function(e){return e.split("-").slice(1).join("-")}}]),e}();e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default={keyBindingFn:function(e){return(0,r.getDefaultKeyBinding)(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.default={handleKeyCommand:function(e,t,n,i){var a=i.setEditorState,o=void 0;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":o=r.RichUtils.onBackspace(t);break;case"delete":case"delete-word":case"delete-to-end-of-block":o=r.RichUtils.onDelete(t);break;default:return"not-handled"}return null!=o?(a(o),"handled"):"not-handled"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e||{},n={};return{subscribeToItem:function(e,t){n[e]=n[e]||[],n[e].push(t)},unsubscribeFromItem:function(e,t){n[e]=n[e].filter((function(e){return e!==t}))},updateItem:function(e,i){t=r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,i)),n[e]&&n[e].forEach((function(n){return n(t[e])}))},getItem:function(e){return t[e]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),a=n(53),o=u(n(15));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){var e,n,r;c(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={overrideContent:void 0},r.onOverrideContent=function(e){return r.setState({overrideContent:e})},r.renderDefaultButtons=function(e){return i.default.createElement("div",null,i.default.createElement(a.ItalicButton,e),i.default.createElement(a.BoldButton,e),i.default.createElement(a.UnderlineButton,e),i.default.createElement(a.CodeButton,e))},s(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.store,r=this.state.overrideContent,a={theme:t.buttonStyles,getEditorState:n.getItem("getEditorState"),setEditorState:n.getItem("setEditorState"),onOverrideContent:this.onOverrideContent};return i.default.createElement("div",{className:t.toolbarStyles.toolbar},r?i.default.createElement(r,a):(this.props.children||this.renderDefaultButtons)(a))}}]),t}(i.default.Component);l.propTypes={children:o.default.func},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({style:"ITALIC",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.default.createElement("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({style:"BOLD",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({style:"CODE",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.default.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({style:"UNDERLINE",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.default.createElement("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(82),a=(r=i)&&r.__esModule?r:{default:r};t.default=(0,a.default)({blockType:"header-one",children:"H1"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(82),a=(r=i)&&r.__esModule?r:{default:r};t.default=(0,a.default)({blockType:"header-two",children:"H2"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(82),a=(r=i)&&r.__esModule?r:{default:r};t.default=(0,a.default)({blockType:"header-three",children:"H3"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(82));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({blockType:"unordered-list-item",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),r.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(82));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({blockType:"ordered-list-item",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(82));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({blockType:"blockquote",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(82));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({blockType:"code-block",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),r.default.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(146));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({alignment:"default",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L17,17 L17,7 L3,7 Z"}),r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(146));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({alignment:"center",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M5,7 L5,17 L19,17 L19,7 L5,7 Z"}),r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(146));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({alignment:"left",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M21,15 L15,15 L15,17 L21,17 L21,15 Z M21,7 L15,7 L15,9 L21,9 L21,7 Z M15,13 L21,13 L21,11 L15,11 L15,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M3,7 L3,17 L13,17 L13,7 L3,7 Z"}),r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(146));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({alignment:"right",children:r.default.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{d:"M9,15 L3,15 L3,17 L9,17 L9,15 Z M9,7 L3,7 L3,9 L9,9 L9,7 Z M3,13 L9,13 L9,11 L3,11 L3,13 Z M3,21 L21,21 L21,19 L3,19 L3,21 Z M3,3 L3,5 L21,5 L21,3 L3,3 Z M11,7 L11,17 L21,17 L21,7 L11,7 Z"}),r.default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({style:"SUBSCRIPT",children:r.default.createElement("div",null,"x",r.default.createElement("sub",null,"2"))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({style:"SUPERSCRIPT",children:r.default.createElement("div",null,"x",r.default.createElement("sup",null,"2"))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),i=a({separator:"draftJsToolbar__separator__3U7qt"});function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className,n=void 0===t?i.default.separator:t;return r.default.createElement("div",{className:n})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),u=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){var t=e.store;return function(e){var n,c;return c=n=function(n){function a(){var e,n,r;s(this,a);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r=l(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o))),r.componentDidUpdate=function(){if(r.props.blockProps.isFocused&&r.props.blockProps.isCollapsedSelection){var e=u.default.findDOMNode(r).getBoundingClientRect();t.updateItem("setAlignment",r.props.blockProps.setAlignment),t.updateItem("alignment",r.props.blockProps.alignment),t.updateItem("boundingRect",e),t.updateItem("visibleBlock",r.props.block.getKey())}else t.getItem("visibleBlock")===r.props.block.getKey()&&t.updateItem("visibleBlock",null)},l(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),i(a,[{key:"componentWillUnmount",value:function(){t.updateItem("visibleBlock",null)}},{key:"render",value:function(){var t=this.props,n=t.blockProps,i=t.style,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["blockProps","style"]),u=n.alignment,c=i;return"left"===u?c=r({},i,{float:"left"}):"right"===u?c=r({},i,{float:"right"}):"center"===u&&(c=r({},i,{marginLeft:"auto",marginRight:"auto",display:"block"})),o.default.createElement(e,r({},a,{blockProps:n,style:c}))}}]),a}(a.Component),n.displayName="Alignment("+function(e){var t=e.WrappedComponent||e;return t.displayName||t.name||"Component"}(e)+")",n.WrappedComponent=e.WrappedComponent||e,c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=(r=a)&&r.__esModule?r:{default:r},u=n(53);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function e(t){return t?"static"!==window.getComputedStyle(t).getPropertyValue("position")?t:e(t.parentElement):null},f=function(e){function t(){var e,n,r;c(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={position:{},alignment:null},r.onVisibilityChanged=function(e){setTimeout((function(){var t=void 0,n=r.props.store.getItem("boundingRect");if(e){var i=l(r.toolbar.parentElement),a=r.toolbar.clientHeight,o=i?i.getBoundingClientRect():document.body.getBoundingClientRect();t={top:n.top-o.top-a,left:n.left-o.left+n.width/2,transform:"translate(-50%) scale(1)",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)"}}else t={transform:"translate(-50%) scale(0)"};var u=r.props.store.getItem("alignment")||"default";r.setState({alignment:u,position:t})}),0)},r.onAlignmentChange=function(e){r.setState({alignment:e})},s(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.store.subscribeToItem("visibleBlock",this.onVisibilityChanged),this.props.store.subscribeToItem("alignment",this.onAlignmentChange)}},{key:"componentWillUnmount",value:function(){this.props.store.unsubscribeFromItem("visibleBlock",this.onVisibilityChanged),this.props.store.unsubscribeFromItem("alignment",this.onAlignmentChange)}},{key:"render",value:function(){var e=this,t=[u.AlignBlockDefaultButton,u.AlignBlockLeftButton,u.AlignBlockCenterButton,u.AlignBlockRightButton],n=this.props.theme;return o.default.createElement("div",{className:n.alignmentToolStyles.alignmentTool,style:this.state.position,ref:function(t){e.toolbar=t}},t.map((function(t,r){return o.default.createElement(t,{key:r,alignment:e.state.alignment,setAlignment:e.props.store.getItem("setAlignment"),theme:n.buttonStyles})})))}}]),t}(o.default.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e||{},n={};return{subscribeToItem:function(e,t){n[e]=n[e]||[],n[e].push(t)},unsubscribeFromItem:function(e,t){n[e]=n[e].filter((function(e){return e!==t}))},updateItem:function(e,i){t=r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,i)),n[e]&&n[e].forEach((function(n){return n(t[e])}))},getItem:function(e){return t[e]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getCurrentContent(),n=e.getSelection(),a=new i.ContentBlock({key:(0,i.genKey)(),type:"unstyled",text:"",characterList:(0,r.List)()}),o=function(e,t,n){var r=t.getStartKey(),a=[];return e.getBlockMap().forEach((function(e,t){a.push(e),t===r&&a.push(n)})),e.merge({blockMap:i.BlockMapBuilder.createFromArray(a),selectionBefore:t,selectionAfter:t.merge({anchorKey:n.getKey(),anchorOffset:n.getLength(),focusKey:n.getKey(),focusOffset:n.getLength(),isBackward:!1})})}(t,n,a),u=o.merge({selectionAfter:o.getSelectionAfter().set("hasFocus",!0)});return i.EditorState.push(e,u,"insert-fragment")};var r=n(23),i=n(22)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(22),a=n(65),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e,t,n,r){var a=e(),u=a.getSelection().getAnchorKey(),c="up"===n?a.getCurrentContent().getBlockBefore(u):a.getCurrentContent().getBlockAfter(u);if((!c||c.get("key")!==u)&&c){var s=o.default.encode(c.getKey(),0,0),l=document.querySelectorAll('[data-offset-key="'+s+'"]')[0],f=window.getSelection(),d=document.createRange();d.setStart(l,0),d.setEnd(l,0),f.removeAllRanges(),f.addRange(d);var h="up"===n?c.getLength():0;r.preventDefault(),t(i.EditorState.forceSelection(a,new i.SelectionState({anchorKey:c.getKey(),anchorOffset:h,focusKey:c.getKey(),focusOffset:h,isBackward:!1})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(22),a=n(65),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e,t,n){var r=e(),a=o.default.encode(n.getKey(),0,0),u=document.querySelectorAll('[data-offset-key="'+a+'"]')[0],c=window.getSelection(),s=document.createRange();s.setStart(u,0),s.setEnd(u,0),c.removeAllRanges(),c.addRange(s),t(i.EditorState.forceSelection(r,new i.SelectionState({anchorKey:n.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:0,isBackward:!1})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),u=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){var t=e.theme,n=e.blockKeyStore;return function(e){var c,f;return f=c=function(a){function c(){var e,t,n;s(this,c);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=n=l(this,(e=c.__proto__||Object.getPrototypeOf(c)).call.apply(e,[this].concat(i))),n.onClick=function(e){e.preventDefault(),n.props.blockProps.isFocused||n.props.blockProps.setFocusToBlock()},l(n,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a),i(c,[{key:"componentDidMount",value:function(){n.add(this.props.block.getKey())}},{key:"componentWillUnmount",value:function(){n.remove(this.props.block.getKey())}},{key:"render",value:function(){var n=this.props,i=n.blockProps,a=n.className,c=i.isFocused?(0,u.default)(a,t.focused):(0,u.default)(a,t.unfocused);return o.default.createElement(e,r({},this.props,{onClick:this.onClick,className:c}))}}]),c}(a.Component),c.displayName="BlockFocus("+function(e){var t=e.WrappedComponent||e;return t.displayName||t.name||"Component"}(e)+")",c.WrappedComponent=e.WrappedComponent||e,f}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23);t.default=function(){var e=(0,r.List)();return{add:function(t){return e=e.push(t)},remove:function(t){return e=e.filter((function(e){return e!==t}))},includes:function(t){return e.includes(t)},getAll:function(){return e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(483),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){return(0,a.default)(e).includes(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(263),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.getSelection(),n=e.getCurrentContent();return(0,a.default)(n,t.getStartKey(),t.getEndKey())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.getCurrentContent(),i=n.getKeyBefore(t),a=n.getBlockForKey(i);if(void 0===a){var o=new r.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:1});n=r.Modifier.removeRange(n,o,"backward"),n=r.Modifier.setBlockType(n,o,"unstyled");var u=r.EditorState.push(e,n,"remove-block"),c=new r.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0});return r.EditorState.forceSelection(u,c)}var s=new r.SelectionState({anchorKey:i,anchorOffset:a.getLength(),focusKey:t,focusOffset:1});n=r.Modifier.removeRange(n,s,"backward");var l=r.EditorState.push(e,n,"remove-block"),f=new r.SelectionState({anchorKey:i,anchorOffset:a.getLength(),focusKey:i,focusOffset:a.getLength()});return r.EditorState.forceSelection(l,f)};var r=n(22)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),u=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e,t){return Math.ceil(e/t)*t};t.default=function(e){var t=e.config,n=e.store;return function(e){var c,d;return d=c=function(t){function a(){var e,t,r;s(this,a);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=r=l(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o))),r.state={hoverPosition:{},clicked:!1},r.setEntityData=function(e){r.props.blockProps.setResizeData(e)},r.mouseLeave=function(){r.state.clicked||r.setState({hoverPosition:{}})},r.mouseMove=function(e){var t=r.props,n=t.vertical,i=t.horizontal,a=r.state.hoverPosition,o=u.default.findDOMNode(r).getBoundingClientRect(),c=e.clientX-o.left,s=e.clientY-o.top,l=!(!n||"auto"===n)&&s<6,f=!!i&&c<6,d=!!i&&c>=o.width-6,h=!(!n||"auto"===n)&&(s>=o.height-6&&s<o.height),p={isTop:l,isLeft:f,isRight:d,isBottom:h,canResize:l||f||d||h};Object.keys(p).filter((function(e){return a[e]!==p[e]})).length&&r.setState({hoverPosition:p})},r.mouseDown=function(e){if(r.state.hoverPosition.canResize){e.preventDefault();var t=r.props,i=t.resizeSteps,a=t.vertical,o=t.horizontal,c=r.state.hoverPosition,s=c.isTop,l=c.isLeft,d=c.isRight,h=c.isBottom,p=u.default.findDOMNode(r),v=e.clientX,g=e.clientY,m=parseInt(document.defaultView.getComputedStyle(p).width,10),y=parseInt(document.defaultView.getComputedStyle(p).height,10),b=function(e){var t=m+(l?v-e.clientX:e.clientX-v),u=y+e.clientY-g,c=n.getEditorRef(),p=c.refs.editor?c.refs.editor:c.editor;t=Math.min(p.clientWidth,t),u=Math.min(p.clientHeight,u);var b=100/p.clientWidth*t,x=100/p.clientHeight*u,w={};(l||d)&&"relative"===o?w.width=i?f(b,i):b:(l||d)&&"absolute"===o&&(w.width=i?f(t,i):t),(s||h)&&"relative"===a?w.height=i?f(x,i):x:(s||h)&&"absolute"===a&&(w.height=i?f(u,i):u),e.preventDefault(),r.setState(w)};document.addEventListener("mousemove",b,!1),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",b,!1),document.removeEventListener("mouseup",e,!1);var t=r.state,n=t.width,i=t.height;r.setState({clicked:!1}),r.setEntityData({width:n,height:i})}),!1),r.setState({clicked:!0})}},l(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),i(a,[{key:"render",value:function(){var t=this,i=this.props,a=i.blockProps,u=i.vertical,c=i.horizontal,s=i.style,l=(i.resizeSteps,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["blockProps","vertical","horizontal","style","resizeSteps"])),f=this.state,d=f.width,h=f.height,p=f.hoverPosition,v=p.isTop,g=p.isLeft,m=p.isRight,y=p.isBottom,b=r({position:"relative"},s);"auto"===c?b.width="auto":"relative"===c?b.width=(d||a.resizeData.width||40)+"%":"absolute"===c&&(b.width=(d||a.resizeData.width||40)+"px"),"auto"===u?b.height="auto":"relative"===u?b.height=(h||a.resizeData.height||40)+"%":"absolute"===u&&(b.height=(h||a.resizeData.height||40)+"px"),b.cursor=m&&y||g&&v?"nwse-resize":m&&v||y&&g?"nesw-resize":m||g?"ew-resize":y||v?"ns-resize":"default";var x=n.getReadOnly()?{}:{onMouseDown:this.mouseDown,onMouseMove:this.mouseMove,onMouseLeave:this.mouseLeave};return o.default.createElement(e,r({},l,x,{blockProps:a,ref:function(e){t.wrapper=e},style:b}))}}]),a}(a.Component),c.displayName="Resizable("+function(e){var t=e.WrappedComponent||e;return t.displayName||t.name||"Component"}(e)+")",c.WrappedComponent=e.WrappedComponent||e,c.defaultProps=r({horizontal:"relative",vertical:!1,resizeSteps:1},t),d}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=s(e),o=r[0],u=r[1],c=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,u)),l=0,f=u>0?o-4:o;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===u&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===u&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,u=n-i;o<u;o+=16383)a.push(l(e,o,o+16383>u?u:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=o.length;u<c;++u)r[u]=o[u],i[o.charCodeAt(u)]=u;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a,o=[],u=t;u<n;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,u=8*i-r-1,c=(1<<u)-1,s=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-l)-1,h>>=-l,l+=u;l>0;a=256*a+e[t+f],f+=d,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+f],f+=d,l-=8);if(0===a)a=1-s;else{if(a===c)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=s}return(h?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,u,c,s=8*a-i-1,l=(1<<s)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(o++,c/=2),o+f>=l?(u=0,o=l):o+f>=1?(u=(t*c-1)*Math.pow(2,i),o+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&u,h+=p,u/=256,i-=8);for(o=o<<i|u,s+=i;s>0;e[n+h]=255&o,h+=p,o/=256,s-=8);e[n+h-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(264),i=n(265),a=n(266);e.exports=function(e){return r(e)||i(e)||a()}},function(e,t,n){var r=n(494),i=n(267);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?i(e):t}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r=n(496);function i(t,n,a){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},i(t,n,a||t)}e.exports=i},function(e,t,n){var r=n(268);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){var r=n(269);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(269);function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(t,n,o){return i()?e.exports=a=Reflect.construct:e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a},a.apply(null,arguments)}e.exports=a},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}},function(e,t,n){var r=n(502),i=n(265),a=n(503);e.exports=function(e){return r(e)||i(e)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){var r=n(107);e.exports=function(e,t){var n=r(e,t);return n?n.version:null}},function(e,t,n){var r=n(107);e.exports=function(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i){"string"===typeof n&&(i=n,n=void 0);try{return new r(e,n).inc(t,i).version}catch(a){return null}}},function(e,t,n){var r=n(107),i=n(194);e.exports=function(e,t){if(i(e,t))return null;var n=r(e),a=r(t),o=n.prerelease.length||a.prerelease.length,u=o?"pre":"",c=o?"prerelease":"";for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==a[s])return u+s;return c}},function(e,t,n){var r=n(46);e.exports=function(e,t){return new r(e,t).major}},function(e,t,n){var r=n(46);e.exports=function(e,t){return new r(e,t).minor}},function(e,t,n){var r=n(46);e.exports=function(e,t){return new r(e,t).patch}},function(e,t,n){var r=n(107);e.exports=function(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},function(e,t,n){var r=n(66);e.exports=function(e,t,n){return r(t,e,n)}},function(e,t,n){var r=n(66);e.exports=function(e,t){return r(e,t,!0)}},function(e,t,n){var r=n(195);e.exports=function(e,t){return e.sort((function(e,n){return r(e,n,t)}))}},function(e,t,n){var r=n(195);e.exports=function(e,t){return e.sort((function(e,n){return r(n,e,t)}))}},function(e,t,n){var r=n(46),i=n(107),a=n(106),o=a.re,u=a.t;e.exports=function(e,t){if(e instanceof r)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;var n=null;if((t=t||{}).rtl){for(var a;(a=o[u.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&a.index+a[0].length===n.index+n[0].length||(n=a),o[u.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;o[u.COERCERTL].lastIndex=-1}else n=e.match(o[u.COERCE]);return null===n?null:i("".concat(n[2],".").concat(n[3]||"0",".").concat(n[4]||"0"),t)}},function(e,t,n){var r=n(67);e.exports=function(e,t){return new r(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},function(e,t,n){var r=n(46),i=n(67);e.exports=function(e,t,n){var a=null,o=null,u=null;try{u=new i(t,n)}catch(c){return null}return e.forEach((function(e){u.test(e)&&(a&&-1!==o.compare(e)||(o=new r(a=e,n)))})),a}},function(e,t,n){var r=n(46),i=n(67);e.exports=function(e,t,n){var a=null,o=null,u=null;try{u=new i(t,n)}catch(c){return null}return e.forEach((function(e){u.test(e)&&(a&&1!==o.compare(e)||(o=new r(a=e,n)))})),a}},function(e,t,n){var r=n(46),i=n(67),a=n(152);e.exports=function(e,t){e=new i(e,t);var n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(var o=0;o<e.set.length;++o){e.set[o].forEach((function(e){var t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!a(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}}))}return n&&e.test(n)?n:null}},function(e,t,n){var r=n(67);e.exports=function(e,t){try{return new r(e,t).range||"*"}catch(n){return null}}},function(e,t,n){var r=n(199);e.exports=function(e,t,n){return r(e,t,">",n)}},function(e,t,n){var r=n(199);e.exports=function(e,t,n){return r(e,t,"<",n)}},function(e,t,n){var r=n(67);e.exports=function(e,t,n){return e=new r(e,n),t=new r(t,n),e.intersects(t)}},function(e,t,n){var r=n(270),i=n(154),a=n(66);e.exports=function(e,t,n){var o=[],u=null,c=null,s=e.sort((function(e,t){return a(e,t,n)})),l=!0,f=!1,d=void 0;try{for(var h,p=s[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var v=h.value;i(v,t,n)?(c=v,u||(u=v)):(c&&o.push([u,c]),c=null,u=null)}}catch(j){f=!0,d=j}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}u&&o.push([u,null]);for(var g=[],m=0,y=o;m<y.length;m++){var b=r(y[m],2),x=b[0],w=b[1];x===w?g.push(x):w||x!==s[0]?w?x===s[0]?g.push("<=".concat(w)):g.push("".concat(x," - ").concat(w)):g.push(">=".concat(x)):g.push("*")}var O=g.join(" || "),k="string"===typeof t.raw?t.raw:String(t);return O.length<k.length?O:t}},function(e,t,n){var r=n(67),i=n(153).ANY,a=n(154),o=n(66),u=function(e,t,n){if(1===e.length&&e[0].semver===i)return 1===t.length&&t[0].semver===i;var r,u,l,f=new Set,d=!0,h=!1,p=void 0;try{for(var v,g=e[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value;">"===m.operator||">="===m.operator?r=c(r,m,n):"<"===m.operator||"<="===m.operator?u=s(u,m,n):f.add(m.semver)}}catch(z){h=!0,p=z}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}if(f.size>1)return null;if(r&&u){if((l=o(r.semver,u.semver,n))>0)return null;if(0===l&&(">="!==r.operator||"<="!==u.operator))return null}var y,b,x=!0,w=!1,O=void 0;try{for(var k,j=f[Symbol.iterator]();!(x=(k=j.next()).done);x=!0){var _=k.value;if(r&&!a(_,String(r),n))return null;if(u&&!a(_,String(u),n))return null;var S=!0,E=!1,A=void 0;try{for(var C,D=t[Symbol.iterator]();!(S=(C=D.next()).done);S=!0){var F=C.value;if(!a(_,String(F),n))return!1}}catch(z){E=!0,A=z}finally{try{S||null==D.return||D.return()}finally{if(E)throw A}}return!0}}catch(z){w=!0,O=z}finally{try{x||null==j.return||j.return()}finally{if(w)throw O}}var T=!0,M=!1,P=void 0;try{for(var N,B=t[Symbol.iterator]();!(T=(N=B.next()).done);T=!0){var R=N.value;if(b=b||">"===R.operator||">="===R.operator,y=y||"<"===R.operator||"<="===R.operator,r)if(">"===R.operator||">="===R.operator){if(c(r,R,n)===R)return!1}else if(">="===r.operator&&!a(r.semver,String(R),n))return!1;if(u)if("<"===R.operator||"<="===R.operator){if(s(u,R,n)===R)return!1}else if("<="===u.operator&&!a(u.semver,String(R),n))return!1;if(!R.operator&&(u||r)&&0!==l)return!1}}catch(z){M=!0,P=z}finally{try{T||null==B.return||B.return()}finally{if(M)throw P}}return!(r&&y&&!u&&0!==l)&&!(u&&b&&!r&&0!==l)},c=function(e,t,n){if(!e)return t;var r=o(e.semver,t.semver,n);return r>0?e:r<0?t:">"===t.operator&&">="===e.operator?t:e},s=function(e,t,n){if(!e)return t;var r=o(e.semver,t.semver,n);return r<0?e:r>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t,n){e=new r(e,n),t=new r(t,n);var i=!1,a=!0,o=!1,c=void 0;try{e:for(var s,l=e.set[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value,d=!0,h=!1,p=void 0;try{for(var v,g=t.set[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,y=u(f,m,n);if(i=i||null!==y,y)continue e}}catch(b){h=!0,p=b}finally{try{d||null==g.return||g.return()}finally{if(h)throw p}}if(i)return!1}}catch(b){o=!0,c=b}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}return!0}},function(e,t,n){!function(){var t=function(e,t,n,r){var i={};e=e||[],i.gramSizeLower=n||2,i.gramSizeUpper=r||3,i.useLevenshtein="boolean"!==typeof t||t,i.exactSet={},i.matchDict={},i.items={};var a=function(e,t){if(null===e&&null===t)throw"Trying to compare two null values";if(null===e||null===t)return 0;var n=function(e,t){for(var n,r,i=[],a=0;a<=t.length;a++)for(var o=0;o<=e.length;o++)r=a&&o?e.charAt(o-1)===t.charAt(a-1)?n:Math.min(i[o],i[o-1],n)+1:a+o,n=i[o],i[o]=r;return i.pop()}(e=String(e),t=String(t));return e.length>t.length?1-n/e.length:1-n/t.length},o=/[^a-zA-Z0-9\u00C0-\u00FF, ]+/g,u=function(e,t){for(var n={},r=function(e,t){t=t||2;var n="-"+e.toLowerCase().replace(o,"")+"-",r=t-n.length,i=[];if(r>0)for(var a=0;a<r;++a)n+="-";for(a=0;a<n.length-t+1;++a)i.push(n.slice(a,a+t));return i}(e,t=t||2),i=0;i<r.length;++i)r[i]in n?n[r[i]]+=1:n[r[i]]=1;return n};i.get=function(e,t,n){void 0===n&&(n=.33);var r=this._get(e,n);return r||"undefined"===typeof t?r:t},i._get=function(e,t){for(var n=[],r=this.gramSizeUpper;r>=this.gramSizeLower;--r)if((n=this.__get(e,r,t))&&n.length>0)return n;return null},i.__get=function(e,t,n){var r,i,o,c,s=this._normalizeStr(e),l={},f=u(s,t),d=this.items[t],h=0;for(r in f)if(i=f[r],h+=Math.pow(i,2),r in this.matchDict)for(w=0;w<this.matchDict[r].length;++w)o=this.matchDict[r][w][0],c=this.matchDict[r][w][1],o in l?l[o]+=i*c:l[o]=i*c;if(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(l))return null;var p,v=Math.sqrt(h),g=[];for(var m in l)p=l[m],g.push([p/(v*d[m][0]),d[m][1]]);var y=function(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:0};if(g.sort(y),this.useLevenshtein){for(var b=[],x=Math.min(50,g.length),w=0;w<x;++w)b.push([a(g[w][1],s),g[w][1]]);(g=b).sort(y)}b=[];return g.forEach(function(e){e[0]>=n&&b.push([e[0],this.exactSet[e[1]]])}.bind(this)),b},i.add=function(e){if(this._normalizeStr(e)in this.exactSet)return!1;for(var t=this.gramSizeLower;t<this.gramSizeUpper+1;++t)this._add(e,t)},i._add=function(e,t){var n=this._normalizeStr(e),r=this.items[t]||[],i=r.length;r.push(0);var a,o,c=u(n,t),s=0;for(a in c)o=c[a],s+=Math.pow(o,2),a in this.matchDict?this.matchDict[a].push([i,o]):this.matchDict[a]=[[i,o]];var l=Math.sqrt(s);r[i]=[l,n],this.items[t]=r,this.exactSet[n]=e},i._normalizeStr=function(e){if("[object String]"!==Object.prototype.toString.call(e))throw"Must use a string as argument to FuzzySet functions";return e.toLowerCase()},i.length=function(){var e,t=0;for(e in this.exactSet)this.exactSet.hasOwnProperty(e)&&(t+=1);return t},i.isEmpty=function(){for(var e in this.exactSet)if(this.exactSet.hasOwnProperty(e))return!1;return!0},i.values=function(){var e,t=[];for(e in this.exactSet)this.exactSet.hasOwnProperty(e)&&t.push(this.exactSet[e]);return t};for(var c=i.gramSizeLower;c<i.gramSizeUpper+1;++c)i.items[c]=[];for(c=0;c<e.length;++c)i.add(e[c]);return i};e.exports?(e.exports=t,this&&(this.FuzzySet=t)):this.FuzzySet=t}()},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(278),a=i.DEFAULT_API_VERSION,o=(i.DEFAULT_MAX_STEPS,i.DEFAULT_WIT_URL),u=n(529),c=n(200);var s=function(e,t){return function(n){var i=function(n){throw e.error("["+t+"] Error: "+n),n};if(n instanceof Error)return i(n);var a=r(n,2),o=a[0],u=a[1];if(o instanceof Error)return i(o);var c=o.error||200!==u&&o.body+" ("+u+")";return c?i(c):(e.debug("["+t+"] Response: "+JSON.stringify(o)),o)}},l=function(e){if(!e.accessToken)throw new Error("Could not find access token, learn more at https://wit.ai/docs");return e.witURL=e.witURL||o,e.apiVersion=e.apiVersion||a,e.headers=e.headers||{Authorization:"Bearer "+e.accessToken,Accept:"application/vnd.wit."+e.apiVersion+"+json","Content-Type":"application/json"},e.logger=e.logger||new c.Logger(c.INFO),e};e.exports=function e(t){if(!(this instanceof e))return new e(t);var n=this.config=Object.freeze(l(t)),r=(n.accessToken,n.apiVersion,n.headers),i=n.logger,a=n.witURL;this._sessions={},this.message=function(e,t,n,o,c){var l="q="+encodeURIComponent(e);t&&(l+="&context="+encodeURIComponent(JSON.stringify(t))),"number"===typeof n&&(l+="&n="+encodeURIComponent(JSON.stringify(n))),null!=o&&(l+="&verbose="+encodeURIComponent(JSON.stringify(o))),null!=c&&(l+="&junk=true");var f=a+"/message?"+l,d=s(i,"message");return i.debug("GET",f),u(f,{method:"GET",headers:r}).then((function(e){return Promise.all([e.json(),e.status])})).then(d)}}},function(e,t,n){n(530),e.exports=self.fetch.bind(self)},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return h})),n.d(t,"Request",(function(){return x})),n.d(t,"Response",(function(){return k})),n.d(t,"DOMException",(function(){return _})),n.d(t,"fetch",(function(){return S}));var r="URLSearchParams"in self,i="Symbol"in self&&"iterator"in Symbol,a="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in self,u="ArrayBuffer"in self;if(u)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():u&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=v(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=l(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[l(e)]},h.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},h.prototype.set=function(e,t){this.map[l(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(e,t){var n=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function O(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function k(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},y.call(x.prototype),y.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var j=[301,302,303,307,308];k.redirect=function(e,t){if(-1===j.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})};var _=self.DOMException;try{new _}catch(E){(_=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function S(e,t){return new Promise((function(n,r){var i=new x(e,t);if(i.signal&&i.signal.aborted)return r(new _("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:O(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new k(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new _("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&a&&(o.responseType="blob"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",u),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",u)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)}))}S.polyfill=!0,self.fetch||(self.fetch=S,self.Headers=h,self.Request=x,self.Response=k)},function(e,t,n){"use strict";(function(t){n(278).DEFAULT_MAX_STEPS,n(200);var r=n(532);e.exports=function(e,n,i){var a=r.createInterface({input:t.stdin,output:t.stdout});a.setPrompt("> ");var o=function(){a.prompt(),a.write(null,{ctrl:!0,name:"e"})};o(),a.on("line",(function(t){if(!(t=t.trim()))return o();e.message(t,i).then((function(e){n?n(e):console.log(JSON.stringify(e)),o()})).catch((function(e){return console.error(e)}))}))}}).call(this,n(145))},function(e,t,n){(function(t){var r=n(533),i=n(534).EventEmitter,a=n(535),o=e.exports=function(e,n){if(!(this instanceof o))return new o(e,n);i.call(this),(n=n||{}).maxLineLength=n.maxLineLength||4096,n.retainBuffer=!!n.retainBuffer;var a=this,u=new t(n.maxLineLength),c=0,s=0,l=0,f=function(e,t){try{var r=u.slice(0,c);a.emit("line",n.retainBuffer?r:r.toString(),e,t)}catch(i){a.emit("error",i)}finally{c=0}};this.input="string"===typeof e?r.createReadStream(e,n):e,this.input.on("open",(function(e){a.emit("open",e)})).on("data",(function(e){for(var t=0;t<e.length;t++)10==e[t]||13==e[t]?10==e[t]&&(s++,f(s,l)):(u[c]=e[t],c++),l++})).on("error",(function(e){a.emit("error",e)})).on("end",(function(){c&&(s++,f(s,l)),a.emit("end")})).on("close",(function(){a.emit("close")}))};a.inherits(o,i)}).call(this,n(147).Buffer)},function(e,t){},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function u(){u.init.call(this)}e.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,a,o,u;if(s(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,u=c,console&&console.warn&&console.warn(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return l(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var s=c.length,l=g(c,s);for(n=0;n<s;++n)a(l[n],this,t)}return!0},u.prototype.addListener=function(e,t){return f(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return f(this,e,t,!0)},u.prototype.once=function(e,t){return s(t),this.on(e,h(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,h(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,a,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return p(this,e,!0)},u.prototype.rawListeners=function(e){return p(this,e,!1)},u.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},u.prototype.listenerCount=v,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),c=r[n];n<a;c=r[++n])v(c)||!x(c)?o+=" "+c:o+=" "+u(c);return o},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,o={};function u(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=u.styles[t];return n?"\x1b["+u.colors[n][0]+"m"+e+"\x1b["+u.colors[n][1]+"m":e}function s(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return m(i)||(i=l(e,i,r)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(a)return a;var o=Object.keys(n),u=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),O(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(n);if(0===o.length){if(k(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var s,x="",j=!1,_=["{","}"];(h(n)&&(j=!0,_=["[","]"]),k(n))&&(x=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(x=" "+RegExp.prototype.toString.call(n)),w(n)&&(x=" "+Date.prototype.toUTCString.call(n)),O(n)&&(x=" "+f(n)),0!==o.length||j&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),s=j?function(e,t,n,r,i){for(var a=[],o=0,u=t.length;o<u;++o)A(t,String(o))?a.push(d(e,t,n,r,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(d(e,t,n,r,i,!0))})),a}(e,n,r,u,o):o.map((function(t){return d(e,n,r,u,t,j)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(s,x,_)):_[0]+x+_[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,a){var o,u,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),A(r,i)||(o="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=v(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(u=a?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return u;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+u}function h(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function v(e){return null===e}function g(e){return"number"===typeof e}function m(e){return"string"===typeof e}function y(e){return void 0===e}function b(e){return x(e)&&"[object RegExp]"===j(e)}function x(e){return"object"===typeof e&&null!==e}function w(e){return x(e)&&"[object Date]"===j(e)}function O(e){return x(e)&&("[object Error]"===j(e)||e instanceof Error)}function k(e){return"function"===typeof e}function j(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(a)&&(a=Object({NODE_ENV:"production",PUBLIC_URL:"/vis-text-editor"}).NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else o[n]=function(){};return o[n]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=m,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=x,t.isDate=w,t.isError=O,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(536);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=n(537),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function D(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!==typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(o){n(o)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(D,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(145))},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function e(t){Object.freeze(t);var n="function"===typeof t,r=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach((function(i){!r.call(t,i)||n&&("caller"===i||"callee"===i||"arguments"===i)||null===t[i]||"object"!==typeof t[i]&&"function"!==typeof t[i]||Object.isFrozen(t[i])||e(t[i])})),t}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),i=n(78);function a(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},function(e,t,n){"use strict";var r=n(9),i=n(4),a=n(1),o=(n(15),n(10)),u=n(13),c=a.forwardRef((function(e,t){var n=e.classes,u=e.className,c=e.component,s=void 0===c?"div":c,l=e.square,f=void 0!==l&&l,d=e.elevation,h=void 0===d?1:d,p=e.variant,v=void 0===p?"elevation":p,g=Object(r.a)(e,["classes","className","component","square","elevation","variant"]);return(a.createElement(s,Object(i.a)({className:Object(o.default)(n.root,u,"outlined"===v?n.outlined:n["elevation".concat(h)],!f&&n.rounded),ref:t},g)))}));t.a=Object(u.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(c)},function(e,t,n){"use strict";var r=n(1),i=n(28),a=(n(15),n(73)),o=n(26);var u="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,c=r.forwardRef((function(e,t){var n=e.children,c=e.container,s=e.disablePortal,l=void 0!==s&&s,f=e.onRendered,d=r.useState(null),h=d[0],p=d[1],v=Object(o.a)(r.isValidElement(n)?n.ref:null,t);return u((function(){l||p(function(e){return e="function"===typeof e?e():e,i.findDOMNode(e)}(c)||document.body)}),[c,l]),u((function(){if(h&&!l)return Object(a.a)(t,h),function(){Object(a.a)(t,null)}}),[t,h,l]),u((function(){f&&(h||l)&&f()}),[f,h,l]),l?r.isValidElement(n)?r.cloneElement(n,{ref:v}):n:h?i.createPortal(n,h):h}));t.a=c},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(62),s=a.forwardRef((function(e,t){var n=e.children,u=e.classes,s=e.className,l=e.component,f=void 0===l?"ul":l,d=e.dense,h=void 0!==d&&d,p=e.disablePadding,v=void 0!==p&&p,g=e.subheader,m=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),y=a.useMemo((function(){return{dense:h}}),[h]);return a.createElement(c.a.Provider,{value:y},a.createElement(f,Object(r.a)({className:Object(o.default)(u.root,s,h&&u.dense,!v&&u.padding,g&&u.subheader),ref:t},m),g,n))}));t.a=Object(u.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(s)},function(e,t,n){"use strict";var r=n(9),i=n(4),a=n(1),o=(n(15),n(10)),u=n(13),c=n(33),s=n(179),l=n(19),f=a.forwardRef((function(e,t){var n=e.children,u=e.classes,c=e.className,f=e.color,d=void 0===f?"default":f,h=e.component,p=void 0===h?"button":h,v=e.disabled,g=void 0!==v&&v,m=e.disableElevation,y=void 0!==m&&m,b=e.disableFocusRipple,x=void 0!==b&&b,w=e.endIcon,O=e.focusVisibleClassName,k=e.fullWidth,j=void 0!==k&&k,_=e.size,S=void 0===_?"medium":_,E=e.startIcon,A=e.type,C=void 0===A?"button":A,D=e.variant,F=void 0===D?"text":D,T=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),M=E&&a.createElement("span",{className:Object(o.default)(u.startIcon,u["iconSize".concat(Object(l.a)(S))])},E),P=w&&a.createElement("span",{className:Object(o.default)(u.endIcon,u["iconSize".concat(Object(l.a)(S))])},w);return a.createElement(s.a,Object(i.a)({className:Object(o.default)(u.root,u[F],c,"inherit"===d?u.colorInherit:"default"!==d&&u["".concat(F).concat(Object(l.a)(d))],"medium"!==S&&[u["".concat(F,"Size").concat(Object(l.a)(S))],u["size".concat(Object(l.a)(S))]],y&&u.disableElevation,g&&u.disabled,j&&u.fullWidth),component:p,disabled:g,focusRipple:!x,focusVisibleClassName:Object(o.default)(u.focusVisible,O),ref:t,type:C},T),a.createElement("span",{className:u.label},M,n,P))}));t.a=Object(u.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(c.c)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(c.c)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(c.c)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(f)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(179),s=n(114),l=n(26),f=n(62),d=n(28),h="undefined"===typeof window?a.useEffect:a.useLayoutEffect,p=a.forwardRef((function(e,t){var n=e.alignItems,u=void 0===n?"center":n,p=e.autoFocus,v=void 0!==p&&p,g=e.button,m=void 0!==g&&g,y=e.children,b=e.classes,x=e.className,w=e.component,O=e.ContainerComponent,k=void 0===O?"li":O,j=e.ContainerProps,_=(j=void 0===j?{}:j).className,S=Object(i.a)(j,["className"]),E=e.dense,A=void 0!==E&&E,C=e.disabled,D=void 0!==C&&C,F=e.disableGutters,T=void 0!==F&&F,M=e.divider,P=void 0!==M&&M,N=e.focusVisibleClassName,B=e.selected,R=void 0!==B&&B,z=Object(i.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),L=a.useContext(f.a),I={dense:A||L.dense||!1,alignItems:u},U=a.useRef(null);h((function(){v&&U.current&&U.current.focus()}),[v]);var q=a.Children.toArray(y),$=q.length&&Object(s.a)(q[q.length-1],["ListItemSecondaryAction"]),H=a.useCallback((function(e){U.current=d.findDOMNode(e)}),[]),W=Object(l.a)(H,t),G=Object(r.a)({className:Object(o.default)(b.root,x,I.dense&&b.dense,!T&&b.gutters,P&&b.divider,D&&b.disabled,m&&b.button,"center"!==u&&b.alignItemsFlexStart,$&&b.secondaryAction,R&&b.selected),disabled:D},z),K=w||"li";return m&&(G.component=w||"div",G.focusVisibleClassName=Object(o.default)(b.focusVisible,N),K=c.a),$?(K=G.component||w?K:"div","li"===k&&("li"===K?K="div":"li"===G.component&&(G.component="div")),a.createElement(f.a.Provider,{value:I},a.createElement(k,Object(r.a)({className:Object(o.default)(b.container,_),ref:W},S),a.createElement(K,G,q),q.pop()))):a.createElement(f.a.Provider,{value:I},a.createElement(K,Object(r.a)({ref:W},G),q))}));t.a=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p)},function(e,t,n){"use strict";var r=n(9),i=n(4),a=n(1),o=n.n(a),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType,s=(n(77),n(7)),l=n(42),f=n(45),d=n(40),h={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==h)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function v(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var g=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n};function m(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=g(e[r]," ");else n=g(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;if(e&&a++,o)if(Array.isArray(o))for(var u=0;u<o.length;u++){var c=o[u];for(var s in c){var l=c[s];null!=l&&(r&&(r+="\n"),r+=""+y(s+": "+m(l)+";",a))}}else for(var f in o){var d=o[f];null!=d&&(r&&(r+="\n"),r+=""+y(f+": "+m(d)+";",a))}for(var h in t){var p=t[h];null!=p&&"fallbacks"!==h&&(r&&(r+="\n"),r+=""+y(h+": "+m(p)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),y(e+" {"+r,--a)+y("}",a)):r}var x=/([[\].#*$><+~=|^:(),"'`\s])/g,w="undefined"!==typeof CSS&&CSS.escape,O=function(e){return w?w(e):e.replace(x,"\\$1")},k=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var c=this.options.sheet;return c&&c.attached,this},e}(),j=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var a=r.selector,o=r.scoped,u=r.sheet,c=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=c(Object(f.a)(Object(f.a)(i)),u),i.selectorText="."+O(i.id)),i}Object(l.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},Object(s.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(k),_={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new j(e,t,n)}},S={indent:1,children:!0},E=/@([\w-]+)/,A=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.query=n.name;var r=e.match(E);for(var a in this.at=r?r[1]:"unknown",this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=S),null==e.indent&&(e.indent=S.indent),null==e.children&&(e.children=S.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),C=/@media|@supports\s+/,D={onCreateRule:function(e,t,n){return C.test(e)?new A(e,t,n):null}},F={indent:1,children:!0},T=/@keyframes\s+([\w-]+)/,M=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(T);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,u=n.generateId;for(var c in this.id=!1===a?this.name:O(u(this,o)),this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(c,t[c],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=F),null==e.indent&&(e.indent=F.indent),null==e.children&&(e.children=F.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),P=/@keyframes\s+/,N=/\$([\w-]+)/g,B=function(e,t){return"string"===typeof e?e.replace(N,(function(e,n){return n in t?t[n]:e})):e},R=function(e,t,n){var r=e[t],i=B(r,n);i!==r&&(e[t]=i)},z={onCreateRule:function(e,t,n){return"string"===typeof e&&P.test(e)?new M(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&R(e,"animation-name",n.keyframes),"animation"in e&&R(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return B(e,r.keyframes);default:return e}}},L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(l.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(k),I={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new L(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=b(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return b(this.at,this.style,e)},e}(),q=/@font-face/,$={onCreateRule:function(e,t,n){return q.test(e)?new U(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),W={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),K={"@charset":!0,"@import":!0,"@namespace":!0},V=[_,D,z,I,$,W,{onCreateRule:function(e,t,n){return e in K?new G(e,t,n):null}}],Y={process:!0},J={force:!0,process:!0},X=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,u=r.jss,c=r.Renderer,s=r.generateId,l=r.scoped,f=Object(i.a)({classes:this.classes,parent:a,sheet:o,jss:u,Renderer:c,generateId:s,scoped:l,name:e},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+O(this.classes[d]));var h=v(d,t,f);if(!h)return null;this.register(h);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,h),h},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof j?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof M&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof j?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof M&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Y);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t,c=u.style;if(a.onUpdate(n,t,o,r),r.process&&c&&c!==u.style){for(var s in a.onProcessStyle(u.style,u,o),u.style){var l=u.style[s];l!==c[s]&&u.prop(s,l,J)}for(var f in c){var d=u.style[f],h=c[f];null==d&&d!==h&&u.prop(f,null,J)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var a=this.index[i].toString(e);(a||r)&&(t&&(t+="\n"),t+=a)}return t},e}(),Z=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new X(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Q=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ee=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(d.a)(t,["attached"]),i="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=n&&o.attached!==n||(i&&(i+="\n"),i+=o.toString(r))}return i},Object(s.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),te="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ne="2f1acc6c3a606b082e5eef5e54414ffb";null==te[ne]&&(te[ne]=0);var re=te[ne]++,ie=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+re+i+t:a+n.key+"-"+re+(i?"-"+i:"")+"-"+t}},ae=function(e){var t;return function(){return t||(t=e()),t}};function oe(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function ue(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0}function ce(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function se(e,t){return e.selectorText=t,e.selectorText===t}var le=ae((function(){return document.querySelector("head")}));function fe(e){var t=ee.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=le(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var de=ae((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),he=function(e,t,n){var r=e.cssRules.length;(void 0===n||n>r)&&(n=r);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(i){return!1}return e.cssRules[n]},pe=function(){function e(e){this.getPropertyValue=oe,this.setProperty=ue,this.removeProperty=ce,this.setSelector=se,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&ee.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=de();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=fe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else le().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(i=he(n,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,i),i)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var a=e.toString();if(!a)return!1;var o=he(n,a,t);return!1!==o&&(this.hasInsertedRules=!0,e.renderable=o,o)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ve=0,ge=function(){function e(e){this.id=ve++,this.version="10.3.0",this.plugins=new Q,this.options={id:{minify:!1},createGenerateId:ie,Renderer:c?pe:null,plugins:[]},this.generateId=ie({minify:!1});for(var t=0;t<V.length;t++)this.plugins.use(V[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ee.index?0:ee.index+1);var r=new Z(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ee.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=v(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();var me="undefined"!==typeof CSS&&CSS&&"number"in CSS,ye=function(e){return new ge(e)},be=(ye(),n(583)),xe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},we=n(217),Oe=(n(15),n(163)),ke=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var je=Date.now(),_e="fnValues"+je,Se="fnStyle"+ ++je;var Ee=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=v(e,{},n);return r[Se]=t,r},onProcessStyle:function(e,t){if(_e in t||Se in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[_e]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Se];a&&(i.style=a(e)||{});var o=i[_e];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ae="@global",Ce=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ae,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new X(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),De=function(){function e(e,t,n){this.type="global",this.at=Ae,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr("@global ".length);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Fe=/\s*,\s*/g;function Te(e,t){for(var n=e.split(Fe),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Me=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ae)return new Ce(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new De(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,r=n?n[Ae]:null;if(r){for(var a in r)t.sheet.addRule(a,r[a],Object(i.a)({},t,{selector:Te(a,e.selector)}));delete n[Ae]}}(e),function(e){var t=e.options,n=e.style;for(var r in n)if("@"===r[0]&&r.substr(0,Ae.length)===Ae){var a=Te(r.substr(Ae.length),e.selector);t.sheet.addRule(a,n[r],Object(i.a)({},t,{selector:a})),delete n[r]}}(e))}}},Pe=/\s*,\s*/g,Ne=/&/g,Be=/\$([\w-]+)/g;var Re=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(Pe),r=e.split(Pe),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var c=r[u];i&&(i+=", "),i+=-1!==c.indexOf("&")?c.replace(Ne,o):o+" "+c}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var u,c,s=a,l=s.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),h="@"===f[0];if(d||h){if(u=n(s,l,u),d){var p=t(f,s.selector);c||(c=e(l,o)),p=p.replace(Be,c),l.addRule(p,r[f],Object(i.a)({},u,{selector:p}))}else h&&l.addRule(f,{},u).addRule(s.key,r[f],{selector:s.selector});delete r[f]}}return r}}},ze=/[A-Z]/g,Le=/^ms-/,Ie={};function Ue(e){return"-"+e.toLowerCase()}var qe=function(e){if(Ie.hasOwnProperty(e))return Ie[e];var t=e.replace(ze,Ue);return Ie[e]=Le.test(t)?"-"+t:t};function $e(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:qe(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map($e):t.fallbacks=$e(e.fallbacks)),t}var He=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=$e(e[t]);return e}return $e(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=qe(t);return t===r?e:(n.prop(r,e),null)}}},We=me&&CSS?CSS.px:"px",Ge=me&&CSS?CSS.ms:"ms",Ke=me&&CSS?CSS.percent:"%";function Ve(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Ye=Ve({"animation-delay":Ge,"animation-duration":Ge,"background-position":We,"background-position-x":We,"background-position-y":We,"background-size":We,border:We,"border-bottom":We,"border-bottom-left-radius":We,"border-bottom-right-radius":We,"border-bottom-width":We,"border-left":We,"border-left-width":We,"border-radius":We,"border-right":We,"border-right-width":We,"border-top":We,"border-top-left-radius":We,"border-top-right-radius":We,"border-top-width":We,"border-width":We,margin:We,"margin-bottom":We,"margin-left":We,"margin-right":We,"margin-top":We,padding:We,"padding-bottom":We,"padding-left":We,"padding-right":We,"padding-top":We,"mask-position-x":We,"mask-position-y":We,"mask-size":We,height:We,width:We,"min-height":We,"max-height":We,"min-width":We,"max-width":We,bottom:We,left:We,top:We,right:We,"box-shadow":We,"text-shadow":We,"column-gap":We,"column-rule":We,"column-rule-width":We,"column-width":We,"font-size":We,"font-size-delta":We,"letter-spacing":We,"text-indent":We,"text-stroke":We,"text-stroke-width":We,"word-spacing":We,motion:We,"motion-offset":We,outline:We,"outline-offset":We,"outline-width":We,perspective:We,"perspective-origin-x":Ke,"perspective-origin-y":Ke,"transform-origin":Ke,"transform-origin-x":Ke,"transform-origin-y":Ke,"transform-origin-z":Ke,"transition-delay":Ge,"transition-duration":Ge,"vertical-align":We,"flex-basis":We,"shape-margin":We,size:We,grid:We,"grid-gap":We,"grid-row-gap":We,"grid-column-gap":We,"grid-template-rows":We,"grid-template-columns":We,"grid-auto-rows":We,"grid-auto-columns":We,"box-shadow-x":We,"box-shadow-y":We,"box-shadow-blur":We,"box-shadow-spread":We,"font-line-height":We,"text-shadow-x":We,"text-shadow-y":We,"text-shadow-blur":We});function Je(e,t,n){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Je(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Je(i,t[i],n);else for(var a in t)t[a]=Je(e+"-"+a,t[a],n);else if("number"===typeof t){var o=n[e]||Ye[e];return o?"function"===typeof o?o(t).toString():""+t+o:t.toString()}return t}var Xe=function(e){void 0===e&&(e={});var t=Ve(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Je(r,e[r],t);return e},onChangeValue:function(e,n){return Je(n,e,t)}}},Ze=n(6),Qe="",et="",tt="",nt="",rt=c&&"ontouchstart"in document.documentElement;if(c){var it={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},at=document.createElement("p").style;for(var ot in it)if(ot+"Transform"in at){Qe=ot,et=it[ot];break}"Webkit"===Qe&&"msHyphens"in at&&(Qe="ms",et=it.ms,nt="edge"),"Webkit"===Qe&&"-apple-trailing-word"in at&&(tt="apple")}var ut=Qe,ct=et,st=tt,lt=nt,ft=rt;var dt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ut?"-webkit-"+e:ct+e)}},ht={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ut?ct+"print-"+e:e)}},pt=/[-\s]+(.)?/g;function vt(e,t){return t?t.toUpperCase():""}function gt(e){return e.replace(pt,vt)}function mt(e){return gt("-"+e)}var yt,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ut){if(gt("mask-image")in t)return e;if(ut+mt("mask-image")in t)return ct+e}return e}},xt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==st||ft?e:ct+e)}},wt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ct+e)}},Ot={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ct+e)}},kt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ut||"ms"===ut&&"edge"!==lt?ct+e:e)}},jt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ut||"ms"===ut||"apple"===st?ct+e:e)}},_t={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ut?"WebkitColumn"+mt(e)in t&&ct+"column-"+e:"Moz"===ut&&("page"+mt(e)in t&&"page-"+e))}},St={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ut)return e;var n=e.replace("-inline","");return ut+mt(n)in t&&ct+n}},Et={supportedProperty:function(e,t){return gt(e)in t&&e}},At={supportedProperty:function(e,t){var n=mt(e);return"-"===e[0]?e:"-"===e[0]&&"-"===e[1]?e:ut+n in t?ct+e:"Webkit"!==ut&&"Webkit"+n in t&&"-webkit-"+e}},Ct={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ut?""+ct+e:e)}},Dt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ut?ct+"scroll-chaining":e)}},Ft={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Tt={supportedProperty:function(e,t){var n=Ft[e];return!!n&&(ut+mt(n)in t&&ct+n)}},Mt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Pt=Object.keys(Mt),Nt=function(e){return ct+e},Bt=[dt,ht,bt,xt,wt,Ot,kt,jt,_t,St,Et,At,Ct,Dt,Tt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Pt.indexOf(e)>-1){var i=Mt[e];if(!Array.isArray(i))return ut+mt(i)in t&&ct+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ut+mt(i[0])in t))return!1;return i.map(Nt)}return!1}}],Rt=Bt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),zt=Bt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(Ze.a)(t.noPrefill)),e}),[]),Lt={};if(c){yt=document.createElement("p");var It=window.getComputedStyle(document.documentElement,"");for(var Ut in It)isNaN(Ut)||(Lt[It[Ut]]=It[Ut]);zt.forEach((function(e){return delete Lt[e]}))}function qt(e,t){if(void 0===t&&(t={}),!yt)return e;if(null!=Lt[e])return Lt[e];"transition"!==e&&"transform"!==e||(t[e]=e in yt.style);for(var n=0;n<Rt.length&&(Lt[e]=Rt[n](e,yt.style,t),!Lt[e]);n++);try{yt.style[e]=""}catch(r){return!1}return Lt[e]}var $t,Ht={},Wt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Gt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Kt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?qt(t):", "+qt(n);return r||(t||n)}function Vt(e,t){var n=t;if(!$t||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Ht[r])return Ht[r];try{$t.style[e]=n}catch(i){return Ht[r]=!1,!1}if(Wt[e])n=n.replace(Gt,Kt);else if(""===$t.style[e]&&("-ms-flex"===(n=ct+n)&&($t.style[e]="-ms-flexbox"),$t.style[e]=n,""===$t.style[e]))return Ht[r]=!1,!1;return $t.style[e]="",Ht[r]=n,Ht[r]}c&&($t=document.createElement("p"));var Yt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=qt(n);a&&a!==n&&(i=!0);var o=!1,u=Vt(a,m(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]?n:"ms"===ut?n:"@"+ct+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Vt(t,m(e))||e}}};var Jt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};function Xt(){return{plugins:[Ee(),Me(),Re(),He(),Xe(),"undefined"===typeof window?null:Yt(),Jt()]}}var Zt=ye(Xt()),Qt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),c=0,s=function(){return c+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==ke.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Oe.a]&&""===o?"".concat(a,"-").concat(s()):a}return"".concat(u).concat(i).concat(s())}}(),jss:Zt,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},en=o.a.createContext(Qt);var tn=-1e9;function nn(){return tn+=1}n(78);var rn=n(540);function an(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(c){throw c}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],u=Object(i.a)({},a);return Object.keys(o).forEach((function(e){u[e]=Object(rn.a)(u[e],o[e])})),u},options:{}}}var on={};function un(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Object(be.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function cn(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!a.disableGeneration){var c=xe.get(a.sheetsManager,o,r);c||(c={refs:0,staticSheet:null,dynamicStyles:null},xe.set(a.sheetsManager,o,r,c));var s=Object(i.a)(Object(i.a)(Object(i.a)({},o.options),a),{},{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var l=a.sheetsRegistry;if(0===c.refs){var f;a.sheetsCache&&(f=xe.get(a.sheetsCache,o,r));var d=o.create(r,u);f||((f=a.jss.createStyleSheet(d,Object(i.a)({link:!1},s))).attach(),a.sheetsCache&&xe.set(a.sheetsCache,o,r,f)),l&&l.add(f),c.staticSheet=f,c.dynamicStyles=function e(t){var n=null;for(var r in t){var i=t[r],a=typeof i;if("function"===a)n||(n={}),n[r]=i;else if("object"===a&&null!==i&&!Array.isArray(i)){var o=e(i);o&&(n||(n={}),n[r]=o)}}return n}(d)}if(c.dynamicStyles){var h=a.jss.createStyleSheet(c.dynamicStyles,Object(i.a)({link:!0},s));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=Object(be.a)({baseClasses:c.staticSheet.classes,newClasses:h.classes}),l&&l.add(h)}else n.classes=c.staticSheet.classes;c.refs+=1}}function sn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function ln(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=xe.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(xe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function fn(e,t){var n,r=o.a.useRef([]),i=o.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.a.useEffect((function(){return function(){n&&n()}}),[i])}function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,u=t.Component,c=t.defaultTheme,s=void 0===c?on:c,l=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=an(e),d=n||a||"makeStyles";f.options={index:nn(),name:n,meta:d,classNamePrefix:d};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(we.a)()||s,r=Object(i.a)(Object(i.a)({},o.a.useContext(en)),l),a=o.a.useRef(),c=o.a.useRef();fn((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return cn(i,e),c.current=!1,a.current=i,function(){ln(i)}}),[t,f]),o.a.useEffect((function(){c.current&&sn(a.current,e),c.current=!0}));var d=un(a.current,e.classes,u);return d};return h}n.d(t,"a",(function(){return dn}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(4),i=n(546),a=n(86);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(r.a)({defaultTheme:a.a},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(19),s=n(541),l=a.forwardRef((function(e,t){var n=e.classes,u=e.className,l=e.color,f=void 0===l?"primary":l,d=e.position,h=void 0===d?"fixed":d,p=Object(i.a)(e,["classes","className","color","position"]);return(a.createElement(s.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(o.default)(n.root,n["position".concat(Object(c.a)(h))],n["color".concat(Object(c.a)(f))],u,"fixed"===h&&"mui-fixed"),ref:t},p)))}));t.a=Object(u.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(l)},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(5),o=n(1),u=(n(15),n(10)),c=n(13),s=o.forwardRef((function(e,t){var n=e.classes,a=e.className,c=e.component,s=void 0===c?"div":c,l=e.disableGutters,f=void 0!==l&&l,d=e.variant,h=void 0===d?"regular":d,p=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return(o.createElement(s,Object(r.a)({className:Object(u.default)(n.root,n[h],a,!f&&n.gutters),ref:t},p)))}));t.a=Object(c.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(a.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(s)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(19),c=n(13),s=n(111),l=n(26),f=n(130),d=a.forwardRef((function(e,t){var n=e.classes,c=e.className,d=e.color,h=void 0===d?"primary":d,p=e.component,v=void 0===p?"a":p,g=e.onBlur,m=e.onFocus,y=e.TypographyClasses,b=e.underline,x=void 0===b?"hover":b,w=e.variant,O=void 0===w?"inherit":w,k=Object(i.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),j=Object(s.a)(),_=j.isFocusVisible,S=j.onBlurVisible,E=j.ref,A=a.useState(!1),C=A[0],D=A[1],F=Object(l.a)(t,E);return a.createElement(f.a,Object(r.a)({className:Object(o.default)(n.root,n["underline".concat(Object(u.a)(x))],c,C&&n.focusVisible,"button"===v&&n.button),classes:y,color:h,component:v,onBlur:function(e){C&&(S(),D(!1)),g&&g(e)},onFocus:function(e){_(e)&&D(!0),m&&m(e)},ref:F,variant:O},k))}));t.a=Object(c.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(d)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(319),c=n(13),s=a.forwardRef((function(e,t){var n=e.disableUnderline,c=e.classes,s=e.fullWidth,l=void 0!==s&&s,f=e.inputComponent,d=void 0===f?"input":f,h=e.multiline,p=void 0!==h&&h,v=e.type,g=void 0===v?"text":v,m=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return(a.createElement(u.a,Object(r.a)({classes:Object(r.a)({},c,{root:Object(o.default)(c.root,!n&&c.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:p,ref:t,type:g},m)))}));s.muiName="Input",t.a=Object(c.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(s)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(319),c=n(13),s=a.forwardRef((function(e,t){var n=e.disableUnderline,c=e.classes,s=e.fullWidth,l=void 0!==s&&s,f=e.inputComponent,d=void 0===f?"input":f,h=e.multiline,p=void 0!==h&&h,v=e.type,g=void 0===v?"text":v,m=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return(a.createElement(u.a,Object(r.a)({classes:Object(r.a)({},c,{root:Object(o.default)(c.root,!n&&c.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:p,ref:t,type:g},m)))}));s.muiName="Input",t.a=Object(c.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(s)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(83),n(15),n(28)),u=n(36),c=n(543),s=n(172),l=n(26);function f(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function d(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function h(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function p(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return;o=!0}var c=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&h(u,a)&&!c)return void u.focus();u=i(e,u,n)}}var v="undefined"===typeof window?a.useEffect:a.useLayoutEffect,g=a.forwardRef((function(e,t){var n=e.actions,g=e.autoFocus,m=void 0!==g&&g,y=e.autoFocusItem,b=void 0!==y&&y,x=e.children,w=e.className,O=e.disabledItemsFocusable,k=void 0!==O&&O,j=e.disableListWrap,_=void 0!==j&&j,S=e.onKeyDown,E=e.variant,A=void 0===E?"selectedMenu":E,C=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),D=a.useRef(null),F=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});v((function(){m&&D.current.focus()}),[m]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!D.current.style.width;if(e.clientHeight<D.current.clientHeight&&n){var r="".concat(Object(s.a)(!0),"px");D.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,D.current.style.width="calc(100% + ".concat(r,")")}return D.current}}}),[]);var T=a.useCallback((function(e){D.current=o.findDOMNode(e)}),[]),M=Object(l.a)(T,t),P=-1;a.Children.forEach(x,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===A&&e.props.selected?P=t:-1===P&&(P=t)))}));var N=a.Children.map(x,(function(e,t){if(t===P){var n={};return b&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===A&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return(a.createElement(c.a,Object(r.a)({role:"menu",ref:M,className:w,onKeyDown:function(e){var t=D.current,n=e.key,r=Object(u.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),p(t,r,_,k,f);else if("ArrowUp"===n)e.preventDefault(),p(t,r,_,k,d);else if("Home"===n)e.preventDefault(),p(t,null,_,k,f);else if("End"===n)e.preventDefault(),p(t,null,_,k,d);else if(1===n.length){var i=F.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var c=r&&!i.repeating&&h(r,i);i.previousKeyMatched&&(c||p(t,r,!1,k,f,i))?e.preventDefault():i.previousKeyMatched=!1}S&&S(e)},tabIndex:m?0:-1},C),N))}));t.a=g},function(e,t,n){"use strict";var r=n(9),i=n(4),a=n(1),o=(n(15),n(10)),u=n(13),c=[0,1,2,3,4,5,6,7,8,9,10],s=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var f=a.forwardRef((function(e,t){var n=e.alignContent,u=void 0===n?"stretch":n,c=e.alignItems,s=void 0===c?"stretch":c,l=e.classes,f=e.className,d=e.component,h=void 0===d?"div":d,p=e.container,v=void 0!==p&&p,g=e.direction,m=void 0===g?"row":g,y=e.item,b=void 0!==y&&y,x=e.justify,w=void 0===x?"flex-start":x,O=e.lg,k=void 0!==O&&O,j=e.md,_=void 0!==j&&j,S=e.sm,E=void 0!==S&&S,A=e.spacing,C=void 0===A?0:A,D=e.wrap,F=void 0===D?"wrap":D,T=e.xl,M=void 0!==T&&T,P=e.xs,N=void 0!==P&&P,B=e.zeroMinWidth,R=void 0!==B&&B,z=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),L=Object(o.default)(l.root,f,v&&[l.container,0!==C&&l["spacing-xs-".concat(String(C))]],b&&l.item,R&&l.zeroMinWidth,"row"!==m&&l["direction-xs-".concat(String(m))],"wrap"!==F&&l["wrap-xs-".concat(String(F))],"stretch"!==s&&l["align-items-xs-".concat(String(s))],"stretch"!==u&&l["align-content-xs-".concat(String(u))],"flex-start"!==w&&l["justify-xs-".concat(String(w))],!1!==N&&l["grid-xs-".concat(String(N))],!1!==E&&l["grid-sm-".concat(String(E))],!1!==_&&l["grid-md-".concat(String(_))],!1!==k&&l["grid-lg-".concat(String(k))],!1!==M&&l["grid-xl-".concat(String(M))]);return a.createElement(h,Object(i.a)({className:L,ref:t},z))})),d=Object(u.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return c.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(l(i,2)),width:"calc(100% + ".concat(l(i),")"),"& > $item":{padding:l(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};s.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(i.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(f);t.a=d},function(e,t,n){"use strict";var r=n(9),i=n(4),a=n(1),o=(n(15),n(10)),u=n(13),c=n(179),s=n(19),l=a.forwardRef((function(e,t){var n=e.children,u=e.classes,l=e.className,f=e.color,d=void 0===f?"default":f,h=e.component,p=void 0===h?"button":h,v=e.disabled,g=void 0!==v&&v,m=e.disableFocusRipple,y=void 0!==m&&m,b=e.focusVisibleClassName,x=e.size,w=void 0===x?"large":x,O=e.variant,k=void 0===O?"round":O,j=Object(r.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return(a.createElement(c.a,Object(i.a)({className:Object(o.default)(u.root,l,"round"!==k&&u.extended,"large"!==w&&u["size".concat(Object(s.a)(w))],g&&u.disabled,{primary:u.primary,secondary:u.secondary,inherit:u.colorInherit}[d]),component:p,disabled:g,focusRipple:!y,focusVisibleClassName:Object(o.default)(u.focusVisible,b),ref:t},j),a.createElement("span",{className:u.label},n)))}));t.a=Object(u.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(l)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));var r=Math.sqrt(50),i=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var o=(t-e)/Math.max(0,n),u=Math.floor(Math.log(o)/Math.LN10),c=o/Math.pow(10,u);return u>=0?(c>=r?10:c>=i?5:c>=a?2:1)*Math.pow(10,u):-Math.pow(10,-u)/(c>=r?10:c>=i?5:c>=a?2:1)}function u(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),u=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),c=o/u;return c>=r?u*=10:c>=i?u*=5:c>=a&&(u*=2),t<e?-u:u}t.a=function(e,t,n){var r,i,a,u,c=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(u=o(e,t,n))||!isFinite(u))return[];if(u>0)for(e=Math.ceil(e/u),t=Math.floor(t/u),a=new Array(i=Math.ceil(t-e+1));++c<i;)a[c]=(e+c)*u;else for(u=-u,e=Math.floor(e*u),t=Math.ceil(t*u),a=new Array(i=Math.ceil(t-e+1));++c<i;)a[c]=(e+c)/u;return r&&a.reverse(),a}},function(e,t,n){"use strict";var r=n(74);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(t)/3)))-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(74);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Object(r.a)(t)-Object(r.a)(e))+1}},function(e,t,n){"use strict";var r=n(74);t.a=function(e){return Math.max(0,-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r,i,a,o,u=n(311);o={decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"},r=Object(u.a)(o),i=r.format,a=r.formatPrefix},function(e,t,n){"use strict";var r=n(30),i=Object(r.a)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(30),i=n(32),a=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.d-e.getMinutes()*i.c)}),(function(e,t){e.setTime(+e+t*i.b)}),(function(e,t){return(t-e)/i.b}),(function(e){return e.getHours()}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(30),i=n(32),a=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.d)}),(function(e,t){e.setTime(+e+t*i.c)}),(function(e,t){return(t-e)/i.c}),(function(e){return e.getMinutes()}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(30),i=n(32),a=Object(r.a)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*i.d)}),(function(e,t){return(t-e)/i.d}),(function(e){return e.getUTCSeconds()}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(30),i=Object(r.a)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Object(r.a)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):i:null},t.a=i;i.range},function(e,t,n){"use strict";var r=n(30),i=Object(r.a)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));t.a=i;i.range},function(e,t,n){"use strict";var r=n(30),i=n(32),a=Object(r.a)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*i.b)}),(function(e,t){return(t-e)/i.b}),(function(e){return e.getUTCHours()}));t.a=a;a.range},function(e,t,n){"use strict";var r=n(30),i=n(32),a=Object(r.a)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*i.c)}),(function(e,t){return(t-e)/i.c}),(function(e){return e.getUTCMinutes()}));t.a=a;a.range},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u}));var r,i,a,o,u,c,s=n(288);c={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},r=Object(s.a)(c),i=r.format,a=r.parse,o=r.utcFormat,u=r.utcParse},function(e,t,n){"use strict";var r=n(314);t.a=function(e,t){return Object(r.a)(e,.5,t)}},function(e,t,n){"use strict";t.a=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(112),i=n(287),a=Object(i.a)(r.a),o=a.right,u=a.left;t.c=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return g}));var r=n(54),i=n(43),a=n(117),o=6/29,u=3*o*o;function c(e){if(e instanceof l)return new l(e.l,e.a,e.b,e.opacity);if(e instanceof m)return y(e);e instanceof i.b||(e=Object(i.h)(e));var t,n,r=p(e.r),a=p(e.g),o=p(e.b),u=f((.2225045*r+.7168786*a+.0606169*o)/1);return r===a&&a===o?t=n=u:(t=f((.4360747*r+.3850649*a+.1430804*o)/.96422),n=f((.0139322*r+.0971045*a+.7141733*o)/.82521)),new l(116*u-16,500*(t-u),200*(u-n),e.opacity)}function s(e,t,n,r){return 1===arguments.length?c(e):new l(e,t,n,null==r?1:r)}function l(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function f(e){return e>.008856451679035631?Math.pow(e,1/3):e/u+4/29}function d(e){return e>o?e*e*e:u*(e-4/29)}function h(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function p(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function v(e){if(e instanceof m)return new m(e.h,e.c,e.l,e.opacity);if(e instanceof l||(e=c(e)),0===e.a&&0===e.b)return new m(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*a.b;return new m(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function g(e,t,n,r){return 1===arguments.length?v(e):new m(e,t,n,null==r?1:r)}function m(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function y(e){if(isNaN(e.h))return new l(e.l,0,0,e.opacity);var t=e.h*a.a;return new l(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Object(r.a)(l,s,Object(r.b)(i.a,{brighter:function(e){return new l(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new l(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=.96422*d(t),e=1*d(e),n=.82521*d(n),new i.b(h(3.1338561*t-1.6168667*e-.4906146*n),h(-.9787684*t+1.9161415*e+.033454*n),h(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Object(r.a)(m,g,Object(r.b)(i.a,{brighter:function(e){return new m(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new m(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return y(this).rgb()}}))},function(e,t,n){"use strict";var r=n(9),i=n(5),a=n(4),o=n(1),u=(n(15),n(10)),c=n(13),s=n(545),l=o.forwardRef((function(e,t){var n,i=e.classes,c=e.className,l=e.component,f=void 0===l?"li":l,d=e.disableGutters,h=void 0!==d&&d,p=e.ListItemClasses,v=e.role,g=void 0===v?"menuitem":v,m=e.selected,y=e.tabIndex,b=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==y?y:-1),o.createElement(s.a,Object(a.a)({button:!0,role:g,tabIndex:n,component:f,selected:m,disableGutters:h,classes:Object(a.a)({dense:i.dense},p),className:Object(u.default)(i.root,c,m&&i.selected,!h&&i.gutters),ref:t},b))}));t.a=Object(c.a)((function(e){return{root:Object(a.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(a.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(l)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(83),n(15),n(10)),u=n(19),c=n(33),s=n(13);n(544).a.styles;var l=a.forwardRef((function(e,t){var n=e.children,c=e.classes,s=e.className,l=e.color,f=void 0===l?"default":l,d=e.component,h=void 0===d?"div":d,p=e.disabled,v=void 0!==p&&p,g=e.disableElevation,m=void 0!==g&&g,y=e.disableFocusRipple,b=void 0!==y&&y,x=e.disableRipple,w=void 0!==x&&x,O=e.fullWidth,k=void 0!==O&&O,j=e.orientation,_=void 0===j?"horizontal":j,S=e.size,E=void 0===S?"medium":S,A=e.variant,C=void 0===A?"outlined":A,D=Object(i.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),F=Object(o.default)(c.grouped,c["grouped".concat(Object(u.a)(_))],c["grouped".concat(Object(u.a)(C))],c["grouped".concat(Object(u.a)(C)).concat(Object(u.a)(_))],c["grouped".concat(Object(u.a)(C)).concat("default"!==f?Object(u.a)(f):"")],v&&c.disabled);return a.createElement(h,Object(r.a)({role:"group",className:Object(o.default)(c.root,s,k&&c.fullWidth,m&&c.disableElevation,"contained"===C&&c.contained,"vertical"===_&&c.vertical),ref:t},D),a.Children.map(n,(function(e){return a.isValidElement(e)?a.cloneElement(e,{className:Object(o.default)(F,e.props.className),color:e.props.color||f,disabled:e.props.disabled||v,disableElevation:e.props.disableElevation||m,disableFocusRipple:b,disableRipple:w,fullWidth:k,size:e.props.size||E,variant:e.props.variant||C}):null})))}));t.a=Object(s.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:Object(c.c)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:Object(c.c)(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}}),{name:"MuiButtonGroup"})(l)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(296)),u=n(217),c=n(542),s=n(69),l=n(73),f=n(26);function d(e){return"function"===typeof e?e():e}var h="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,p={},v=a.forwardRef((function(e,t){var n=e.anchorEl,v=e.children,g=e.container,m=e.disablePortal,y=void 0!==m&&m,b=e.keepMounted,x=void 0!==b&&b,w=e.modifiers,O=e.open,k=e.placement,j=void 0===k?"bottom":k,_=e.popperOptions,S=void 0===_?p:_,E=e.popperRef,A=e.style,C=e.transition,D=void 0!==C&&C,F=Object(i.a)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),T=a.useRef(null),M=Object(f.a)(T,t),P=a.useRef(null),N=Object(f.a)(P,E),B=a.useRef(N);h((function(){B.current=N}),[N]),a.useImperativeHandle(E,(function(){return P.current}),[]);var R=a.useState(!0),z=R[0],L=R[1],I=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(j,Object(u.a)()),U=a.useState(I),q=U[0],$=U[1];a.useEffect((function(){P.current&&P.current.update()}));var H=a.useCallback((function(){if(T.current&&n&&O){P.current&&(P.current.destroy(),B.current(null));var e=function(e){$(e.placement)},t=(d(n),new o.a(d(n),T.current,Object(r.a)({placement:I},S,{modifiers:Object(r.a)({},y?{}:{preventOverflow:{boundariesElement:"window"}},w,S.modifiers),onCreate:Object(s.a)(e,S.onCreate),onUpdate:Object(s.a)(e,S.onUpdate)})));B.current(t)}}),[n,y,w,O,I,S]),W=a.useCallback((function(e){Object(l.a)(M,e),H()}),[M,H]),G=function(){P.current&&(P.current.destroy(),B.current(null))};if(a.useEffect((function(){return function(){G()}}),[]),a.useEffect((function(){O||D||G()}),[O,D]),!x&&!O&&(!D||z))return null;var K={placement:q};return D&&(K.TransitionProps={in:O,onEnter:function(){L(!1)},onExited:function(){L(!0),G()}}),a.createElement(c.a,{disablePortal:y,container:g},a.createElement("div",Object(r.a)({ref:W,role:"tooltip"},F,{style:Object(r.a)({position:"fixed",top:0,left:0,display:O||!x||D?null:"none"},A)}),"function"===typeof v?v(K):v))}));t.a=v},function(e,t,n){"use strict";var r=n(1),i=n(28),a=(n(15),n(36)),o=n(26),u=n(37);function c(e){return e.substring(2).toLowerCase()}t.a=function(e){var t=e.children,n=e.disableReactTree,s=void 0!==n&&n,l=e.mouseEvent,f=void 0===l?"onClick":l,d=e.onClickAway,h=e.touchEvent,p=void 0===h?"onTouchEnd":h,v=r.useRef(!1),g=r.useRef(null),m=r.useRef(!1),y=r.useRef(!1);r.useEffect((function(){return m.current=!0,function(){m.current=!1}}),[]);var b=r.useCallback((function(e){g.current=i.findDOMNode(e)}),[]),x=Object(o.a)(t.ref,b),w=Object(u.a)((function(e){var t=y.current;if(y.current=!1,m.current&&g.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(v.current)v.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(g.current)>-1;else n=!Object(a.a)(g.current).documentElement.contains(e.target)||g.current.contains(e.target);n||!s&&t||d(e)}})),O=function(e){return function(n){y.current=!0;var r=t.props[e];r&&r(n)}},k={ref:x};return!1!==p&&(k[p]=O(p)),r.useEffect((function(){if(!1!==p){var e=c(p),t=Object(a.a)(g.current),n=function(){v.current=!0};return t.addEventListener(e,w),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,w),t.removeEventListener("touchmove",n)}}}),[w,p]),!1!==f&&(k[f]=O(f)),r.useEffect((function(){if(!1!==f){var e=c(f),t=Object(a.a)(g.current);return t.addEventListener(e,w),function(){t.removeEventListener(e,w)}}}),[w,f]),r.createElement(r.Fragment,null,r.cloneElement(t,k))}},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(33),s=n(179),l=n(19),f=a.forwardRef((function(e,t){var n=e.edge,u=void 0!==n&&n,c=e.children,f=e.classes,d=e.className,h=e.color,p=void 0===h?"default":h,v=e.disabled,g=void 0!==v&&v,m=e.disableFocusRipple,y=void 0!==m&&m,b=e.size,x=void 0===b?"medium":b,w=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return(a.createElement(s.a,Object(r.a)({className:Object(o.default)(f.root,d,"default"!==p&&f["color".concat(Object(l.a)(p))],g&&f.disabled,"small"===x&&f["size".concat(Object(l.a)(x))],{start:f.edgeStart,end:f.edgeEnd}[u]),centerRipple:!0,focusRipple:!y,disabled:g,ref:t},w),a.createElement("span",{className:f.label},c)))}));t.a=Object(u.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(c.c)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(f)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(62),s=a.forwardRef((function(e,t){var n=e.classes,u=e.className,s=Object(i.a)(e,["classes","className"]),l=a.useContext(c.a);return a.createElement("div",Object(r.a)({className:Object(o.default)(n.root,u,"flex-start"===l.alignItems&&n.alignItemsFlexStart),ref:t},s))}));t.a=Object(u.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(s)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(62),s=a.forwardRef((function(e,t){var n=e.classes,u=e.className,s=Object(i.a)(e,["classes","className"]),l=a.useContext(c.a);return a.createElement("div",Object(r.a)({className:Object(o.default)(n.root,u,"flex-start"===l.alignItems&&n.alignItemsFlexStart),ref:t},s))}));t.a=Object(u.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(s)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(130),s=n(62),l=a.forwardRef((function(e,t){var n=e.children,u=e.classes,l=e.className,f=e.disableTypography,d=void 0!==f&&f,h=e.inset,p=void 0!==h&&h,v=e.primary,g=e.primaryTypographyProps,m=e.secondary,y=e.secondaryTypographyProps,b=Object(i.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),x=a.useContext(s.a).dense,w=null!=v?v:n;null==w||w.type===c.a||d||(w=a.createElement(c.a,Object(r.a)({variant:x?"body2":"body1",className:u.primary,component:"span",display:"block"},g),w));var O=m;return null==O||O.type===c.a||d||(O=a.createElement(c.a,Object(r.a)({variant:"body2",className:u.secondary,color:"textSecondary",display:"block"},y),O)),a.createElement("div",Object(r.a)({className:Object(o.default)(u.root,l,x&&u.dense,p&&u.inset,w&&O&&u.multiline),ref:t},b),w,O)}));t.a=Object(u.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(l)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(5),o=n(1),u=(n(15),n(10)),c=n(13),s=n(19),l=o.forwardRef((function(e,t){var n=e.classes,a=e.className,c=e.component,l=void 0===c?"div":c,f=e.disableGutters,d=void 0!==f&&f,h=e.fixed,p=void 0!==h&&h,v=e.maxWidth,g=void 0===v?"lg":v,m=Object(i.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return(o.createElement(l,Object(r.a)({className:Object(u.default)(n.root,a,p&&n.fixed,d&&n.disableGutters,!1!==g&&n["maxWidth".concat(Object(s.a)(String(g)))]),ref:t},m)))}));t.a=Object(c.a)((function(e){return{root:Object(a.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:r}),t}),{}),maxWidthXs:Object(a.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(a.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(a.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(a.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(a.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(l)},function(e,t,n){"use strict";var r=n(4),i=n(1),a=n.n(i),o=(n(15),n(161)),u=n(217),c=n(163);t.a=function(e){var t=e.children,n=e.theme,i=Object(u.a)(),s=a.a.useMemo((function(){var e=null===i?n:function(e,t){return"function"===typeof t?t(e):Object(r.a)(Object(r.a)({},e),t)}(i,n);return null!=e&&(e[c.a]=null!==i),e}),[n,i]);return a.a.createElement(o.a.Provider,{value:s},t)}},function(e,t,n){"use strict";var r=n(6),i=n(4),a=(n(15),n(87));var o=function(e){var t=function(t){var n=e(t);return t.css?Object(i.a)(Object(i.a)({},Object(a.a)(n,e(Object(i.a)({theme:t.theme},t.css)))),function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(r.a)(e.filterProps)),t};var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?Object(a.a)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},c=n(5),s=n(166);function l(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var f=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=l(e.theme,i)||{};return Object(s.a)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=l(o,e)||e,a&&(t=a(t))),!1===r?t:Object(c.a)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function d(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var h=u(f({prop:"border",themeKey:"borders",transform:d}),f({prop:"borderTop",themeKey:"borders",transform:d}),f({prop:"borderRight",themeKey:"borders",transform:d}),f({prop:"borderBottom",themeKey:"borders",transform:d}),f({prop:"borderLeft",themeKey:"borders",transform:d}),f({prop:"borderColor",themeKey:"palette"}),f({prop:"borderRadius",themeKey:"shape"})),p=u(f({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),f({prop:"display"}),f({prop:"overflow"}),f({prop:"textOverflow"}),f({prop:"visibility"}),f({prop:"whiteSpace"})),v=u(f({prop:"flexBasis"}),f({prop:"flexDirection"}),f({prop:"flexWrap"}),f({prop:"justifyContent"}),f({prop:"alignItems"}),f({prop:"alignContent"}),f({prop:"order"}),f({prop:"flex"}),f({prop:"flexGrow"}),f({prop:"flexShrink"}),f({prop:"alignSelf"}),f({prop:"justifyItems"}),f({prop:"justifySelf"})),g=u(f({prop:"gridGap"}),f({prop:"gridColumnGap"}),f({prop:"gridRowGap"}),f({prop:"gridColumn"}),f({prop:"gridRow"}),f({prop:"gridAutoFlow"}),f({prop:"gridAutoColumns"}),f({prop:"gridAutoRows"}),f({prop:"gridTemplateColumns"}),f({prop:"gridTemplateRows"}),f({prop:"gridTemplateAreas"}),f({prop:"gridArea"})),m=u(f({prop:"position"}),f({prop:"zIndex",themeKey:"zIndex"}),f({prop:"top"}),f({prop:"right"}),f({prop:"bottom"}),f({prop:"left"})),y=u(f({prop:"color",themeKey:"palette"}),f({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),b=f({prop:"boxShadow",themeKey:"shadows"});function x(e){return e<=1?"".concat(100*e,"%"):e}var w=f({prop:"width",transform:x}),O=f({prop:"maxWidth",transform:x}),k=f({prop:"minWidth",transform:x}),j=f({prop:"height",transform:x}),_=f({prop:"maxHeight",transform:x}),S=f({prop:"minHeight",transform:x}),E=(f({prop:"size",cssProperty:"width",transform:x}),f({prop:"size",cssProperty:"height",transform:x}),u(w,O,k,j,_,S,f({prop:"boxSizing"}))),A=n(625),C=u(f({prop:"fontFamily",themeKey:"typography"}),f({prop:"fontSize",themeKey:"typography"}),f({prop:"fontStyle",themeKey:"typography"}),f({prop:"fontWeight",themeKey:"typography"}),f({prop:"letterSpacing"}),f({prop:"lineHeight"}),f({prop:"textAlign"})),D=n(9),F=n(1),T=n.n(F),M=n(10),P=n(79),N=n.n(P),B=n(546);function R(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var z=n(86),L=function(e){var t=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,a=Object(D.a)(n,["name"]);var o,u=r,c="function"===typeof t?function(e){return{root:function(n){return t(Object(i.a)({theme:e},n))}}}:{root:t},s=Object(B.a)(c,Object(i.a)({Component:e,name:r||e.displayName,classNamePrefix:u},a));t.filterProps&&(o=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var l=T.a.forwardRef((function(t,n){var r=t.children,a=t.className,u=t.clone,c=t.component,l=Object(D.a)(t,["children","className","clone","component"]),f=s(t),d=Object(M.default)(f.root,a),h=l;if(o&&(h=R(h,o)),u)return T.a.cloneElement(r,Object(i.a)({className:Object(M.default)(r.props.className,d)},h));if("function"===typeof r)return r(Object(i.a)({className:d},h));var p=c||e;return(T.a.createElement(p,Object(i.a)({ref:n,className:d},h),r))}));return N()(l,e),l}}(e);return function(e,n){return t(e,Object(i.a)({defaultTheme:z.a},n))}},I=o(u(h,p,v,g,m,y,b,E,A.b,C)),U=L("div")(I,{name:"MuiBox"});t.a=U},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(583)),u=n(14),c=n(78),s=n(316),l=(n(83),n(10)),f=n(36),d=n(19),h=n(13),p=n(28),v=n(168);function g(e){return Object(f.a)(e).defaultView||window}var m=n(69),y=n(217),b=n(585),x=n(542),w=n(26),O=n(37),k=n(167),j=n(8),_=n(7),S=n(6),E=n(172);function A(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function C(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(S.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&A(e,i)}))}function F(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function T(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(f.a)(e);return t.body===e?g(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=Object(E.a)();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(C(a)+o,"px"),n=Object(f.a)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(C(e)+o,"px")}))}var u=a.parentElement,c="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:c.style.overflow,key:"overflow",el:c}),c.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var M=function(){function e(){Object(j.a)(this,e),this.modals=[],this.containers=[]}return Object(_.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&A(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);D(t,e.mountNode,e.modalRef,r,!0);var i=F(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=F(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=T(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=F(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&A(e.modalRef,!0),D(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&A(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var P=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,u=e.disableRestoreFocus,c=void 0!==u&&u,s=e.getDoc,l=e.isEnabled,d=e.open,h=a.useRef(),v=a.useRef(null),g=a.useRef(null),m=a.useRef(),y=a.useRef(null),b=a.useCallback((function(e){y.current=p.findDOMNode(e)}),[]),x=Object(w.a)(t.ref,b),O=a.useRef();return a.useEffect((function(){O.current=d}),[d]),!O.current&&d&&"undefined"!==typeof window&&(m.current=s().activeElement),a.useEffect((function(){if(d){var e=Object(f.a)(y.current);r||!y.current||y.current.contains(e.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var t=function(){e.hasFocus()&&!o&&l()&&!h.current?y.current&&!y.current.contains(e.activeElement)&&y.current.focus():h.current=!1},n=function(t){!o&&l()&&9===t.keyCode&&e.activeElement===y.current&&(h.current=!0,t.shiftKey?g.current.focus():v.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[r,o,c,l,d]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:x}),a.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelEnd"}))},N={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},B=a.forwardRef((function(e,t){var n=e.invisible,o=void 0!==n&&n,u=e.open,c=Object(i.a)(e,["invisible","open"]);return u?a.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},c,{style:Object(r.a)({},N.root,o?N.invisible:{},c.style)})):null}));var R=new M,z=a.forwardRef((function(e,t){var n=Object(y.a)(),o=Object(b.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),u=o.BackdropComponent,c=void 0===u?B:u,s=o.BackdropProps,l=o.children,d=o.closeAfterTransition,h=void 0!==d&&d,v=o.container,g=o.disableAutoFocus,j=void 0!==g&&g,_=o.disableBackdropClick,S=void 0!==_&&_,E=o.disableEnforceFocus,C=void 0!==E&&E,D=o.disableEscapeKeyDown,F=void 0!==D&&D,T=o.disablePortal,M=void 0!==T&&T,N=o.disableRestoreFocus,z=void 0!==N&&N,L=o.disableScrollLock,I=void 0!==L&&L,U=o.hideBackdrop,q=void 0!==U&&U,$=o.keepMounted,H=void 0!==$&&$,W=o.manager,G=void 0===W?R:W,K=o.onBackdropClick,V=o.onClose,Y=o.onEscapeKeyDown,J=o.onRendered,X=o.open,Z=Object(i.a)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Q=a.useState(!0),ee=Q[0],te=Q[1],ne=a.useRef({}),re=a.useRef(null),ie=a.useRef(null),ae=Object(w.a)(ie,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),ue=function(){return Object(f.a)(re.current)},ce=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},se=function(){G.mount(ce(),{disableScrollLock:I}),ie.current.scrollTop=0},le=Object(O.a)((function(){var e=function(e){return e="function"===typeof e?e():e,p.findDOMNode(e)}(v)||ue().body;G.add(ce(),e),ie.current&&se()})),fe=a.useCallback((function(){return G.isTopModal(ce())}),[G]),de=Object(O.a)((function(e){re.current=e,e&&(J&&J(),X&&fe()?se():A(ie.current,!0))})),he=a.useCallback((function(){G.remove(ce())}),[G]);if(a.useEffect((function(){return function(){he()}}),[he]),a.useEffect((function(){X?le():oe&&h||he()}),[X,he,oe,h,le]),!H&&!X&&(!oe||ee))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:k.a}),ve={};return void 0===l.props.tabIndex&&(ve.tabIndex=l.props.tabIndex||"-1"),oe&&(ve.onEnter=Object(m.a)((function(){te(!1)}),l.props.onEnter),ve.onExited=Object(m.a)((function(){te(!0),h&&he()}),l.props.onExited)),a.createElement(x.a,{ref:de,container:v,disablePortal:M},a.createElement("div",Object(r.a)({ref:ae,onKeyDown:function(e){"Escape"===e.key&&fe()&&(Y&&Y(e),F||(e.stopPropagation(),V&&V(e,"escapeKeyDown")))},role:"presentation"},Z,{style:Object(r.a)({},pe.root,!X&&ee?pe.hidden:{},Z.style)}),q?null:a.createElement(c,Object(r.a)({open:X,onClick:function(e){e.target===e.currentTarget&&(K&&K(e),!S&&V&&V(e,"backdropClick"))}},s)),a.createElement(P,{disableEnforceFocus:C,disableAutoFocus:j,disableRestoreFocus:z,getDoc:ue,isEnabled:fe,open:X},a.cloneElement(l,ve))))})),L=n(624),I=n(541);function U(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function q(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function $(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function H(e){return"function"===typeof e?e():e}var W=a.forwardRef((function(e,t){var n=e.action,o=e.anchorEl,u=e.anchorOrigin,c=void 0===u?{vertical:"top",horizontal:"left"}:u,s=e.anchorPosition,d=e.anchorReference,h=void 0===d?"anchorEl":d,y=e.children,b=e.classes,x=e.className,w=e.container,O=e.elevation,k=void 0===O?8:O,j=e.getContentAnchorEl,_=e.marginThreshold,S=void 0===_?16:_,E=e.onEnter,A=e.onEntered,C=e.onEntering,D=e.onExit,F=e.onExited,T=e.onExiting,M=e.open,P=e.PaperProps,N=void 0===P?{}:P,B=e.transformOrigin,R=void 0===B?{vertical:"top",horizontal:"left"}:B,W=e.TransitionComponent,G=void 0===W?L.a:W,K=e.transitionDuration,V=void 0===K?"auto":K,Y=e.TransitionProps,J=void 0===Y?{}:Y,X=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),Z=a.useRef(),Q=a.useCallback((function(e){if("anchorPosition"===h)return s;var t=H(o),n=(t&&1===t.nodeType?t:Object(f.a)(Z.current).body).getBoundingClientRect(),r=0===e?c.vertical:"center";return{top:n.top+U(n,r),left:n.left+q(n,c.horizontal)}}),[o,c.horizontal,c.vertical,s,h]),ee=a.useCallback((function(e){var t=0;if(j&&"anchorEl"===h){var n=j(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[c.vertical,h,j]),te=a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:U(e,R.vertical)+t,horizontal:q(e,R.horizontal)}}),[R.horizontal,R.vertical]),ne=a.useCallback((function(e){var t=ee(e),n={width:e.offsetWidth,height:e.offsetHeight},r=te(n,t);if("none"===h)return{top:null,left:null,transformOrigin:$(r)};var i=Q(t),a=i.top-r.vertical,u=i.left-r.horizontal,c=a+n.height,s=u+n.width,l=g(H(o)),f=l.innerHeight-S,d=l.innerWidth-S;if(a<S){var p=a-S;a-=p,r.vertical+=p}else if(c>f){var v=c-f;a-=v,r.vertical+=v}if(u<S){var m=u-S;u-=m,r.horizontal+=m}else if(s>d){var y=s-d;u-=y,r.horizontal+=y}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(u),"px"),transformOrigin:$(r)}}),[o,h,Q,ee,te,S]),re=a.useCallback((function(){var e=Z.current;if(e){var t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[ne]),ie=a.useCallback((function(e){Z.current=p.findDOMNode(e)}),[]);a.useEffect((function(){M&&re()})),a.useImperativeHandle(n,(function(){return M?{updatePosition:function(){re()}}:null}),[M,re]),a.useEffect((function(){if(M){var e=Object(v.a)((function(){re()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[M,re]);var ae=V;"auto"!==V||G.muiSupportAuto||(ae=void 0);var oe=w||(o?Object(f.a)(H(o)).body:void 0);return(a.createElement(z,Object(r.a)({container:oe,open:M,ref:t,BackdropProps:{invisible:!0},className:Object(l.default)(b.root,x)},X),a.createElement(G,Object(r.a)({appear:!0,in:M,onEnter:E,onEntered:A,onExit:D,onExited:F,onExiting:T,timeout:ae},J,{onEntering:Object(m.a)((function(e,t){C&&C(e,t),re()}),J.onEntering)}),a.createElement(I.a,Object(r.a)({elevation:k,ref:ie},N,{className:Object(l.default)(b.paper,N.className)}),y))))})),G=Object(h.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(W),K=n(590),V=n(73),Y=n(88),J={vertical:"top",horizontal:"right"},X={vertical:"top",horizontal:"left"},Z=a.forwardRef((function(e,t){var n=e.autoFocus,o=void 0===n||n,u=e.children,c=e.classes,s=e.disableAutoFocusItem,f=void 0!==s&&s,d=e.MenuListProps,h=void 0===d?{}:d,v=e.onClose,g=e.onEntering,m=e.open,y=e.PaperProps,b=void 0===y?{}:y,x=e.PopoverClasses,w=e.transitionDuration,O=void 0===w?"auto":w,k=e.variant,j=void 0===k?"selectedMenu":k,_=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),S=Object(Y.a)(),E=o&&!f&&m,A=a.useRef(null),C=a.useRef(null),D=-1;a.Children.map(u,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("menu"!==j&&e.props.selected?D=t:-1===D&&(D=t)))}));var F=a.Children.map(u,(function(e,t){return t===D?a.cloneElement(e,{ref:function(t){C.current=p.findDOMNode(t),Object(V.a)(e.ref,t)}}):e}));return(a.createElement(G,Object(r.a)({getContentAnchorEl:function(){return C.current},classes:x,onClose:v,onEntering:function(e,t){A.current&&A.current.adjustStyleForScrollbar(e,S),g&&g(e,t)},anchorOrigin:"rtl"===S.direction?J:X,transformOrigin:"rtl"===S.direction?J:X,PaperProps:Object(r.a)({},b,{classes:Object(r.a)({},b.classes,{root:c.paper})}),open:m,ref:t,transitionDuration:O},_),a.createElement(K.a,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:A,autoFocus:o&&(-1===D||f),autoFocusItem:E,variant:j},h,{className:Object(l.default)(c.list,h.className)}),F)))})),Q=Object(h.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Z),ee=n(98),te=n(171);function ne(e,t){return"object"===Object(c.a)(t)&&null!==t?e===t:String(e)===String(t)}var re=a.forwardRef((function(e,t){var n=e["aria-label"],o=e.autoFocus,c=e.autoWidth,h=e.children,p=e.classes,v=e.className,g=e.defaultValue,m=e.disabled,y=e.displayEmpty,b=e.IconComponent,x=e.inputRef,O=e.labelId,k=e.MenuProps,j=void 0===k?{}:k,_=e.multiple,S=e.name,E=e.onBlur,A=e.onChange,C=e.onClose,D=e.onFocus,F=e.onOpen,T=e.open,M=e.readOnly,P=e.renderValue,N=e.SelectDisplayProps,B=void 0===N?{}:N,R=e.tabIndex,z=(e.type,e.value),L=e.variant,I=void 0===L?"standard":L,U=Object(i.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),q=Object(te.a)({controlled:z,default:g,name:"Select"}),$=Object(u.a)(q,2),H=$[0],W=$[1],G=a.useRef(null),K=a.useState(null),V=K[0],Y=K[1],J=a.useRef(null!=T).current,X=a.useState(),Z=X[0],re=X[1],ie=a.useState(!1),ae=ie[0],oe=ie[1],ue=Object(w.a)(t,x);a.useImperativeHandle(ue,(function(){return{focus:function(){V.focus()},node:G.current,value:H}}),[V,H]),a.useEffect((function(){o&&V&&V.focus()}),[o,V]),a.useEffect((function(){if(V){var e=Object(f.a)(V).getElementById(O);if(e){var t=function(){getSelection().isCollapsed&&V.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[O,V]);var ce,se,le=function(e,t){e?F&&F(t):C&&C(t),J||(re(c?null:V.clientWidth),oe(e))},fe=a.Children.toArray(h),de=function(e){return function(t){var n;if(_||le(!1,t),_){n=Array.isArray(H)?H.slice():[];var r=H.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),H!==n&&(W(n),A&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:S}}),A(t,e)))}},he=null!==V&&(J?T:ae);delete U["aria-invalid"];var pe=[],ve=!1;(Object(ee.b)({value:H})||y)&&(P?ce=P(H):ve=!0);var ge=fe.map((function(e){if(!a.isValidElement(e))return null;var t;if(_){if(!Array.isArray(H))throw new Error(Object(s.a)(2));(t=H.some((function(t){return ne(t,e.props.value)})))&&ve&&pe.push(e.props.children)}else(t=ne(H,e.props.value))&&ve&&(se=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:de(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ve&&(ce=_?pe.join(", "):se);var me,ye=Z;!c&&J&&V&&(ye=V.clientWidth),me="undefined"!==typeof R?R:m?null:0;var be=B.id||(S?"mui-component-select-".concat(S):void 0);return(a.createElement(a.Fragment,null,a.createElement("div",Object(r.a)({className:Object(l.default)(p.root,p.select,p.selectMenu,p[I],v,m&&p.disabled),ref:Y,tabIndex:me,role:"button","aria-disabled":m?"true":void 0,"aria-expanded":he?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[O,be].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!M){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),le(!0,e))}},onMouseDown:m||M?null:function(e){0===e.button&&(e.preventDefault(),V.focus(),le(!0,e))},onBlur:function(e){!he&&E&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:H,name:S}}),E(e))},onFocus:D},B,{id:be}),function(e){return null==e||"string"===typeof e&&!e.trim()}(ce)?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ce),a.createElement("input",Object(r.a)({value:Array.isArray(H)?H.join(","):H,name:S,ref:G,"aria-hidden":!0,onChange:function(e){var t=fe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=fe[t];W(n.props.value),A&&A(e,n)}},tabIndex:-1,className:p.nativeInput,autoFocus:o},U)),a.createElement(b,{className:Object(l.default)(p.icon,p["icon".concat(Object(d.a)(I))],he&&p.iconOpen,m&&p.disabled)}),a.createElement(Q,Object(r.a)({id:"menu-".concat(S||""),anchorEl:V,open:he,onClose:function(e){le(!1,e)}},j,{MenuListProps:Object(r.a)({"aria-labelledby":O,role:"listbox",disableListWrap:!0},j.MenuListProps),PaperProps:Object(r.a)({},j.PaperProps,{style:Object(r.a)({minWidth:ye},null!=j.PaperProps?j.PaperProps.style:null)})}),ge)))})),ie=n(60),ae=n(72),oe=n(169),ue=Object(oe.a)(a.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ce=n(588),se=a.forwardRef((function(e,t){var n=e.classes,o=e.className,u=e.disabled,c=e.IconComponent,s=e.inputRef,f=e.variant,h=void 0===f?"standard":f,p=Object(i.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return(a.createElement(a.Fragment,null,a.createElement("select",Object(r.a)({className:Object(l.default)(n.root,n.select,n[h],o,u&&n.disabled),disabled:u,ref:s||t},p)),e.multiple?null:a.createElement(c,{className:Object(l.default)(n.icon,n["icon".concat(Object(d.a)(h))],u&&n.disabled)})))})),le=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},fe=a.createElement(ce.a,null),de=a.forwardRef((function(e,t){var n=e.children,o=e.classes,u=e.IconComponent,c=void 0===u?ue:u,s=e.input,l=void 0===s?fe:s,f=e.inputProps,d=(e.variant,Object(i.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),h=Object(ae.a)(),p=Object(ie.a)({props:e,muiFormControl:h,states:["variant"]});return a.cloneElement(l,Object(r.a)({inputComponent:se,inputProps:Object(r.a)({children:n,classes:o,IconComponent:c,variant:p.variant,type:void 0},f,l?l.props.inputProps:{}),ref:t},d))}));de.muiName="Select";Object(h.a)(le,{name:"MuiNativeSelect"})(de);var he=n(589),pe=n(627),ve=le,ge=a.createElement(ce.a,null),me=a.createElement(he.a,null),ye=a.forwardRef((function e(t,n){var u=t.autoWidth,c=void 0!==u&&u,s=t.children,l=t.classes,f=t.displayEmpty,d=void 0!==f&&f,h=t.IconComponent,p=void 0===h?ue:h,v=t.id,g=t.input,m=t.inputProps,y=t.label,b=t.labelId,x=t.labelWidth,w=void 0===x?0:x,O=t.MenuProps,k=t.multiple,j=void 0!==k&&k,_=t.native,S=void 0!==_&&_,E=t.onClose,A=t.onOpen,C=t.open,D=t.renderValue,F=t.SelectDisplayProps,T=t.variant,M=void 0===T?"standard":T,P=Object(i.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),N=S?se:re,B=Object(ae.a)(),R=Object(ie.a)({props:t,muiFormControl:B,states:["variant"]}).variant||M,z=g||{standard:ge,outlined:a.createElement(pe.a,{label:y,labelWidth:w}),filled:me}[R];return a.cloneElement(z,Object(r.a)({inputComponent:N,inputProps:Object(r.a)({children:s,IconComponent:p,variant:R,type:void 0,multiple:j},S?{id:v}:{autoWidth:c,displayEmpty:d,labelId:b,MenuProps:O,onClose:E,onOpen:A,open:C,renderValue:D,SelectDisplayProps:Object(r.a)({id:v},F)},m,{classes:m?Object(o.a)({baseClasses:l,newClasses:m.classes,Component:e}):l},g?g.props.inputProps:{}),ref:n},P))}));ye.muiName="Select";t.a=Object(h.a)(ve,{name:"MuiSelect"})(ye)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(588),c=n(589),s=n(627),l=n(60),f=n(72),d=n(13),h=n(19),p=a.forwardRef((function(e,t){var n=e.children,u=e.classes,c=e.className,s=(e.color,e.component),d=void 0===s?"label":s,p=(e.disabled,e.error,e.filled,e.focused,e.required,Object(i.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),v=Object(f.a)(),g=Object(l.a)({props:e,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]});return a.createElement(d,Object(r.a)({className:Object(o.default)(u.root,u["color".concat(Object(h.a)(g.color||"primary"))],c,g.disabled&&u.disabled,g.error&&u.error,g.filled&&u.filled,g.focused&&u.focused,g.required&&u.required),ref:t},p),n,g.required&&a.createElement("span",{"aria-hidden":!0,className:Object(o.default)(u.asterisk,g.error&&u.error)},"\u2009","*"))})),v=Object(d.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(p),g=a.forwardRef((function(e,t){var n=e.classes,u=e.className,c=e.disableAnimation,s=void 0!==c&&c,d=(e.margin,e.shrink),h=(e.variant,Object(i.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),p=Object(f.a)(),g=d;"undefined"===typeof g&&p&&(g=p.filled||p.focused||p.adornedStart);var m=Object(l.a)({props:e,muiFormControl:p,states:["margin","variant"]});return(a.createElement(v,Object(r.a)({"data-shrink":g,className:Object(o.default)(n.root,u,p&&n.formControl,!s&&n.animated,g&&n.shrink,"dense"===m.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[m.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},h)))})),m=Object(d.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(g),y=n(98),b=n(114),x=n(97),w=a.forwardRef((function(e,t){var n=e.children,u=e.classes,c=e.className,s=e.color,l=void 0===s?"primary":s,f=e.component,d=void 0===f?"div":f,p=e.disabled,v=void 0!==p&&p,g=e.error,m=void 0!==g&&g,w=e.fullWidth,O=void 0!==w&&w,k=e.focused,j=e.hiddenLabel,_=void 0!==j&&j,S=e.margin,E=void 0===S?"none":S,A=e.required,C=void 0!==A&&A,D=e.size,F=e.variant,T=void 0===F?"standard":F,M=Object(i.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),P=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){if(Object(b.a)(t,["Input","Select"])){var n=Object(b.a)(t,["Select"])?t.props.input:t;n&&Object(y.a)(n.props)&&(e=!0)}})),e})),N=P[0],B=P[1],R=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){Object(b.a)(t,["Input","Select"])&&Object(y.b)(t.props,!0)&&(e=!0)})),e})),z=R[0],L=R[1],I=a.useState(!1),U=I[0],q=I[1],$=void 0!==k?k:U;v&&$&&q(!1);var H=a.useCallback((function(){L(!0)}),[]),W={adornedStart:N,setAdornedStart:B,color:l,disabled:v,error:m,filled:z,focused:$,fullWidth:O,hiddenLabel:_,margin:("small"===D?"dense":void 0)||E,onBlur:function(){q(!1)},onEmpty:a.useCallback((function(){L(!1)}),[]),onFilled:H,onFocus:function(){q(!0)},registerEffect:void 0,required:C,variant:T};return a.createElement(x.a.Provider,{value:W},a.createElement(d,Object(r.a)({className:Object(o.default)(u.root,c,"none"!==E&&u["margin".concat(Object(h.a)(E))],O&&u.fullWidth),ref:t},M),n))})),O=Object(d.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(w),k=a.forwardRef((function(e,t){var n=e.children,u=e.classes,c=e.className,s=e.component,d=void 0===s?"p":s,h=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(i.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),p=Object(f.a)(),v=Object(l.a)({props:e,muiFormControl:p,states:["variant","margin","disabled","error","filled","focused","required"]});return a.createElement(d,Object(r.a)({className:Object(o.default)(u.root,("filled"===v.variant||"outlined"===v.variant)&&u.contained,c,v.disabled&&u.disabled,v.error&&u.error,v.filled&&u.filled,v.focused&&u.focused,v.required&&u.required,"dense"===v.margin&&u.marginDense),ref:t},h)," "===n?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),j=Object(d.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(k),_=n(622),S={standard:u.a,filled:c.a,outlined:s.a},E=a.forwardRef((function(e,t){var n=e.autoComplete,u=e.autoFocus,c=void 0!==u&&u,s=e.children,l=e.classes,f=e.className,d=e.color,h=void 0===d?"primary":d,p=e.defaultValue,v=e.disabled,g=void 0!==v&&v,y=e.error,b=void 0!==y&&y,x=e.FormHelperTextProps,w=e.fullWidth,k=void 0!==w&&w,E=e.helperText,A=e.hiddenLabel,C=e.id,D=e.InputLabelProps,F=e.inputProps,T=e.InputProps,M=e.inputRef,P=e.label,N=e.multiline,B=void 0!==N&&N,R=e.name,z=e.onBlur,L=e.onChange,I=e.onFocus,U=e.placeholder,q=e.required,$=void 0!==q&&q,H=e.rows,W=e.rowsMax,G=e.select,K=void 0!==G&&G,V=e.SelectProps,Y=e.type,J=e.value,X=e.variant,Z=void 0===X?"standard":X,Q=Object(i.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};if("outlined"===Z&&(D&&"undefined"!==typeof D.shrink&&(ee.notched=D.shrink),P)){var te,ne=null!==(te=null===D||void 0===D?void 0:D.required)&&void 0!==te?te:$;ee.label=a.createElement(a.Fragment,null,P,ne&&"\xa0*")}K&&(V&&V.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var re=E&&C?"".concat(C,"-helper-text"):void 0,ie=P&&C?"".concat(C,"-label"):void 0,ae=S[Z],oe=a.createElement(ae,Object(r.a)({"aria-describedby":re,autoComplete:n,autoFocus:c,defaultValue:p,fullWidth:k,multiline:B,name:R,rows:H,rowsMax:W,type:Y,value:J,id:C,inputRef:M,onBlur:z,onChange:L,onFocus:I,placeholder:U,inputProps:F},ee,T));return a.createElement(O,Object(r.a)({className:Object(o.default)(l.root,f),disabled:g,error:b,fullWidth:k,hiddenLabel:A,ref:t,required:$,color:h,variant:Z},Q),P&&a.createElement(m,Object(r.a)({htmlFor:C,id:ie},D),P),K?a.createElement(_.a,Object(r.a)({"aria-describedby":re,id:C,labelId:ie,value:J,input:oe},V),s):oe,E&&a.createElement(j,Object(r.a)({id:re},x),E))}));t.a=Object(d.a)({root:{}},{name:"MuiTextField"})(E)},function(e,t,n){"use strict";var r=n(4),i=n(14),a=n(9),o=n(1),u=n.n(o),c=(n(15),n(40)),s=n(42),l=n(28),f=n.n(l),d=!1,h=n(115),p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Object(s.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[f.a.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||d?this.safeSetState({status:"entered"},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:"entering"},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:f.a.findDOMNode(this);t&&!d?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:f.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(c.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return(u.a.createElement(h.a.Provider,{value:null},"function"===typeof n?n(e,r):u.a.cloneElement(u.a.Children.only(n),r)))},t}(u.a.Component);function v(){}p.contextType=h.a,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},p.UNMOUNTED="unmounted",p.EXITED="exited",p.ENTERING="entering",p.ENTERED="entered",p.EXITING="exiting";var g=p,m=n(88);function y(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var b=n(26);function x(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var w={entering:{opacity:1,transform:x(1)},entered:{opacity:1,transform:"none"}},O=o.forwardRef((function(e,t){var n=e.children,u=e.disableStrictModeCompat,c=void 0!==u&&u,s=e.in,l=e.onEnter,f=e.onEntered,d=e.onEntering,h=e.onExit,p=e.onExited,v=e.onExiting,O=e.style,k=e.timeout,j=void 0===k?"auto":k,_=e.TransitionComponent,S=void 0===_?g:_,E=Object(a.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),A=o.useRef(),C=o.useRef(),D=Object(m.a)(),F=D.unstable_strictMode&&!c,T=o.useRef(null),M=Object(b.a)(n.ref,t),P=Object(b.a)(F?T:void 0,M),N=function(e){return function(t,n){if(e){var r=F?[T.current,t]:[t,n],a=Object(i.a)(r,2),o=a[0],u=a[1];void 0===u?e(o):e(o,u)}}},B=N(d),R=N((function(e,t){!function(e){e.scrollTop}(e);var n,r=y({style:O,timeout:j},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===j?(n=D.transitions.getAutoHeightDuration(e.clientHeight),C.current=n):n=i,e.style.transition=[D.transitions.create("opacity",{duration:n,delay:a}),D.transitions.create("transform",{duration:.666*n,delay:a})].join(","),l&&l(e,t)})),z=N(f),L=N(v),I=N((function(e){var t,n=y({style:O,timeout:j},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===j?(t=D.transitions.getAutoHeightDuration(e.clientHeight),C.current=t):t=r,e.style.transition=[D.transitions.create("opacity",{duration:t,delay:i}),D.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=x(.75),h&&h(e)})),U=N(p);return o.useEffect((function(){return function(){clearTimeout(A.current)}}),[]),o.createElement(S,Object(r.a)({appear:!0,in:s,nodeRef:F?T:void 0,onEnter:R,onEntered:z,onEntering:B,onExit:I,onExited:U,onExiting:L,addEndListener:function(e,t){var n=F?e:t;"auto"===j&&(A.current=setTimeout(n,C.current||0))},timeout:"auto"===j?null:j},E),(function(e,t){return o.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:x(.75),visibility:"exited"!==e||s?void 0:"hidden"},w[e],O,n.props.style),ref:P},t))}))}));O.muiSupportAuto=!0;t.a=O},function(e,t,n){"use strict";var r=n(14),i=n(166),a=n(87);n.d(t,"a",(function(){return f}));var o={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},s=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],s=o[i],l=u[a]||"";return Array.isArray(l)?l.map((function(e){return s+e})):[s+l]})),l=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function d(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function h(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===l.indexOf(n))return null;var r=d(s(n),t),a=e[n];return Object(i.a)(e,a,r)})).reduce(a.a,{})}h.propTypes={},h.filterProps=l;t.b=h},function(e,t,n){"use strict";var r=n(9),i=n(5),a=n(4),o=n(1),u=(n(15),n(10)),c=n(13),s=n(128),l=n(614),f=n(37),d=n(19),h=n(69),p=n(624),v=n(541),g=n(33),m=o.forwardRef((function(e,t){var n=e.action,i=e.classes,c=e.className,s=e.message,l=e.role,f=void 0===l?"alert":l,d=Object(r.a)(e,["action","classes","className","message","role"]);return(o.createElement(v.a,Object(a.a)({role:f,square:!0,elevation:6,className:Object(u.default)(i.root,c),ref:t},d),o.createElement("div",{className:i.message},s),n?o.createElement("div",{className:i.action},n):null))})),y=Object(c.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(g.b)(e.palette.background.default,t);return{root:Object(a.a)({},e.typography.body2,Object(i.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(m),b=o.forwardRef((function(e,t){var n=e.action,i=e.anchorOrigin,c=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,v=i.horizontal,g=e.autoHideDuration,m=void 0===g?null:g,b=e.children,x=e.classes,w=e.className,O=e.ClickAwayListenerProps,k=e.ContentProps,j=e.disableWindowBlurListener,_=void 0!==j&&j,S=e.message,E=e.onClose,A=e.onEnter,C=e.onEntered,D=e.onEntering,F=e.onExit,T=e.onExited,M=e.onExiting,P=e.onMouseEnter,N=e.onMouseLeave,B=e.open,R=e.resumeHideDuration,z=e.TransitionComponent,L=void 0===z?p.a:z,I=e.transitionDuration,U=void 0===I?{enter:s.b.enteringScreen,exit:s.b.leavingScreen}:I,q=e.TransitionProps,$=Object(r.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),H=o.useRef(),W=o.useState(!0),G=W[0],K=W[1],V=Object(f.a)((function(){E&&E.apply(void 0,arguments)})),Y=Object(f.a)((function(e){E&&null!=e&&(clearTimeout(H.current),H.current=setTimeout((function(){V(null,"timeout")}),e))}));o.useEffect((function(){return B&&Y(m),function(){clearTimeout(H.current)}}),[B,m,Y]);var J=function(){clearTimeout(H.current)},X=o.useCallback((function(){null!=m&&Y(null!=R?R:.5*m)}),[m,R,Y]);return o.useEffect((function(){if(!_&&B)return window.addEventListener("focus",X),window.addEventListener("blur",J),function(){window.removeEventListener("focus",X),window.removeEventListener("blur",J)}}),[_,X,B]),!B&&G?null:o.createElement(l.a,Object(a.a)({onClickAway:function(e){E&&E(e,"clickaway")}},O),o.createElement("div",Object(a.a)({className:Object(u.default)(x.root,x["anchorOrigin".concat(Object(d.a)(c)).concat(Object(d.a)(v))],w),onMouseEnter:function(e){P&&P(e),J()},onMouseLeave:function(e){N&&N(e),X()},ref:t},$),o.createElement(L,Object(a.a)({appear:!0,in:B,onEnter:Object(h.a)((function(){K(!1)}),A),onEntered:C,onEntering:D,onExit:F,onExited:Object(h.a)((function(){K(!0)}),T),onExiting:M,timeout:U,direction:"top"===c?"down":"up"},q),b||o.createElement(y,Object(a.a)({message:S,action:n},k)))))}));t.a=Object(c.a)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},o={justifyContent:"flex-start"},u={top:24},c={bottom:24},s={right:24},l={left:24},f={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(a.a)({},t,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({},u,f))),anchorOriginBottomCenter:Object(a.a)({},n,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({},c,f))),anchorOriginTopRight:Object(a.a)({},t,r,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({left:"auto"},u,s))),anchorOriginBottomRight:Object(a.a)({},n,r,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({left:"auto"},c,s))),anchorOriginTopLeft:Object(a.a)({},t,o,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({right:"auto"},u,l))),anchorOriginBottomLeft:Object(a.a)({},n,o,Object(i.a)({},e.breakpoints.up("sm"),Object(a.a)({right:"auto"},c,l)))}}),{flip:!1,name:"MuiSnackbar"})(b)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(319),c=n(5),s=n(13),l=n(88),f=n(19),d=a.forwardRef((function(e,t){e.children;var n=e.classes,u=e.className,s=e.label,d=e.labelWidth,h=e.notched,p=e.style,v=Object(i.a)(e,["children","classes","className","label","labelWidth","notched","style"]),g="rtl"===Object(l.a)().direction?"right":"left";if(void 0!==s)return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(o.default)(n.root,u),ref:t,style:p},v),a.createElement("legend",{className:Object(o.default)(n.legendLabelled,h&&n.legendNotched)},s?a.createElement("span",null,s):a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var m=d>0?.75*d+8:.01;return(a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(c.a)({},"padding".concat(Object(f.a)(g)),8),p),className:Object(o.default)(n.root,u),ref:t},v),a.createElement("legend",{className:n.legend,style:{width:h?m:.01}},a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}))))})),h=Object(s.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(d),p=a.forwardRef((function(e,t){var n=e.classes,c=e.fullWidth,s=void 0!==c&&c,l=e.inputComponent,f=void 0===l?"input":l,d=e.label,p=e.labelWidth,v=void 0===p?0:p,g=e.multiline,m=void 0!==g&&g,y=e.notched,b=e.type,x=void 0===b?"text":b,w=Object(i.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return(a.createElement(u.a,Object(r.a)({renderSuffix:function(e){return a.createElement(h,{className:n.notchedOutline,label:d,labelWidth:v,notched:"undefined"!==typeof y?y:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(o.default)(n.root,n.underline),notchedOutline:null}),fullWidth:s,inputComponent:f,multiline:m,ref:t,type:x},w)))}));p.muiName="Input";t.a=Object(s.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(p)},function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(1),o=(n(15),n(10)),u=n(13),c=n(169),s=Object(c.a)(a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var l=a.forwardRef((function(e,t){var n=e.alt,u=e.children,c=e.classes,l=e.className,f=e.component,d=void 0===f?"div":f,h=e.imgProps,p=e.sizes,v=e.src,g=e.srcSet,m=e.variant,y=void 0===m?"circle":m,b=Object(i.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),x=null,w=function(e){var t=e.src,n=e.srcSet,r=a.useState(!1),i=r[0],o=r[1];return a.useEffect((function(){if(t||n){o(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),i}({src:v,srcSet:g}),O=v||g,k=O&&"error"!==w;return x=k?a.createElement("img",Object(r.a)({alt:n,src:v,srcSet:g,sizes:p,className:c.img},h)):null!=u?u:O&&n?n[0]:a.createElement(s,{className:c.fallback}),a.createElement(d,Object(r.a)({className:Object(o.default)(c.root,c.system,c[y],l,!k&&c.colorDefault),ref:t},b),x)}));t.a=Object(u.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(l)},function(e,t,n){"use strict";var r=n(6),i=n(14),a=n(9),o=n(4),u=n(1),c=(n(15),n(10)),s=n(13),l=n(88),f=n(33),d=n(111),h=n(36),p=n(37),v=n(26),g=n(19),m=n(171);var y=Object(s.a)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(o.a)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,i=e.open,a=e.value,o=e.valueLabelDisplay;return"off"===o?t:u.cloneElement(t,{className:Object(c.default)(t.props.className,(i||"on"===o)&&n.open,n.thumb)},u.createElement("span",{className:Object(c.default)(n.offset,r)},u.createElement("span",{className:n.circle},u.createElement("span",{className:n.label},a))))}));function b(e,t){return e-t}function x(e,t,n){return Math.min(Math.max(t,e),n)}function w(e,t){return e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null).index}function O(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function k(e,t,n){return 100*(e-t)/(n-t)}function j(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function _(e){var t=e.values,n=e.source,r=e.newValue,i=e.index;if(t[i]===r)return n;var a=t.slice();return a[i]=r,a}function S(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var E={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},A=function(e){return e},C=u.forwardRef((function(e,t){var n=e["aria-label"],s=e["aria-labelledby"],f=e["aria-valuetext"],C=e.classes,D=e.className,F=e.color,T=void 0===F?"primary":F,M=e.component,P=void 0===M?"span":M,N=e.defaultValue,B=e.disabled,R=void 0!==B&&B,z=e.getAriaLabel,L=e.getAriaValueText,I=e.marks,U=void 0!==I&&I,q=e.max,$=void 0===q?100:q,H=e.min,W=void 0===H?0:H,G=e.name,K=e.onChange,V=e.onChangeCommitted,Y=e.onMouseDown,J=e.orientation,X=void 0===J?"horizontal":J,Z=e.scale,Q=void 0===Z?A:Z,ee=e.step,te=void 0===ee?1:ee,ne=e.ThumbComponent,re=void 0===ne?"span":ne,ie=e.track,ae=void 0===ie?"normal":ie,oe=e.value,ue=e.ValueLabelComponent,ce=void 0===ue?y:ue,se=e.valueLabelDisplay,le=void 0===se?"off":se,fe=e.valueLabelFormat,de=void 0===fe?A:fe,he=Object(a.a)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),pe=Object(l.a)(),ve=u.useRef(),ge=u.useState(-1),me=ge[0],ye=ge[1],be=u.useState(-1),xe=be[0],we=be[1],Oe=Object(m.a)({controlled:oe,default:N,name:"Slider"}),ke=Object(i.a)(Oe,2),je=ke[0],_e=ke[1],Se=Array.isArray(je),Ee=Se?je.slice().sort(b):[je];Ee=Ee.map((function(e){return x(e,W,$)}));var Ae=!0===U&&null!==te?Object(r.a)(Array(Math.floor(($-W)/te)+1)).map((function(e,t){return{value:W+te*t}})):U||[],Ce=Object(d.a)(),De=Ce.isFocusVisible,Fe=Ce.onBlurVisible,Te=Ce.ref,Me=u.useState(-1),Pe=Me[0],Ne=Me[1],Be=u.useRef(),Re=Object(v.a)(Te,Be),ze=Object(v.a)(t,Re),Le=Object(p.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));De(e)&&Ne(t),we(t)})),Ie=Object(p.a)((function(){-1!==Pe&&(Ne(-1),Fe()),we(-1)})),Ue=Object(p.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));we(t)})),qe=Object(p.a)((function(){we(-1)})),$e="rtl"===pe.direction,He=Object(p.a)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=Ee[n],i=($-W)/10,a=Ae.map((function(e){return e.value})),o=a.indexOf(r),u=$e?"ArrowLeft":"ArrowRight",c=$e?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=W;break;case"End":t=$;break;case"PageUp":te&&(t=r+i);break;case"PageDown":te&&(t=r-i);break;case u:case"ArrowUp":t=te?r+te:a[o+1]||a[a.length-1];break;case c:case"ArrowDown":t=te?r-te:a[o-1]||a[0];break;default:return}if(e.preventDefault(),te&&(t=j(t,te,W)),t=x(t,W,$),Se){var s=t;t=_({values:Ee,source:je,newValue:t,index:n}).sort(b),S({sliderRef:Be,activeIndex:t.indexOf(s)})}_e(t),Ne(n),K&&K(e,t),V&&V(e,t)})),We=u.useRef(),Ge=X;$e&&"vertical"!==X&&(Ge+="-reverse");var Ke=function(e){var t,n,r=e.finger,i=e.move,a=void 0!==i&&i,o=e.values,u=e.source,c=Be.current.getBoundingClientRect(),s=c.width,l=c.height,f=c.bottom,d=c.left;if(t=0===Ge.indexOf("vertical")?(f-r.y)/l:(r.x-d)/s,-1!==Ge.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,W,$),te)n=j(n,te,W);else{var h=Ae.map((function(e){return e.value}));n=h[w(h,n)]}n=x(n,W,$);var p=0;if(Se){var v=n;p=(n=_({values:o,source:u,newValue:n,index:p=a?We.current:w(o,n)}).sort(b)).indexOf(v),We.current=p}return{newValue:n,activeIndex:p}},Ve=Object(p.a)((function(e){var t=O(e,ve);if(t){var n=Ke({finger:t,move:!0,values:Ee,source:je}),r=n.newValue,i=n.activeIndex;S({sliderRef:Be,activeIndex:i,setActive:ye}),_e(r),K&&K(e,r)}})),Ye=Object(p.a)((function(e){var t=O(e,ve);if(t){var n=Ke({finger:t,values:Ee,source:je}).newValue;ye(-1),"touchend"===e.type&&we(-1),V&&V(e,n),ve.current=void 0;var r=Object(h.a)(Be.current);r.removeEventListener("mousemove",Ve),r.removeEventListener("mouseup",Ye),r.removeEventListener("touchmove",Ve),r.removeEventListener("touchend",Ye)}})),Je=Object(p.a)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(ve.current=t.identifier);var n=O(e,ve),r=Ke({finger:n,values:Ee,source:je}),i=r.newValue,a=r.activeIndex;S({sliderRef:Be,activeIndex:a,setActive:ye}),_e(i),K&&K(e,i);var o=Object(h.a)(Be.current);o.addEventListener("touchmove",Ve),o.addEventListener("touchend",Ye)}));u.useEffect((function(){var e=Be.current;e.addEventListener("touchstart",Je);var t=Object(h.a)(e);return function(){e.removeEventListener("touchstart",Je),t.removeEventListener("mousemove",Ve),t.removeEventListener("mouseup",Ye),t.removeEventListener("touchmove",Ve),t.removeEventListener("touchend",Ye)}}),[Ye,Ve,Je]);var Xe=Object(p.a)((function(e){Y&&Y(e),e.preventDefault();var t=O(e,ve),n=Ke({finger:t,values:Ee,source:je}),r=n.newValue,i=n.activeIndex;S({sliderRef:Be,activeIndex:i,setActive:ye}),_e(r),K&&K(e,r);var a=Object(h.a)(Be.current);a.addEventListener("mousemove",Ve),a.addEventListener("mouseup",Ye)})),Ze=k(Se?Ee[0]:W,W,$),Qe=k(Ee[Ee.length-1],W,$)-Ze,et=Object(o.a)({},E[Ge].offset(Ze),E[Ge].leap(Qe));return u.createElement(P,Object(o.a)({ref:ze,className:Object(c.default)(C.root,C["color".concat(Object(g.a)(T))],D,R&&C.disabled,Ae.length>0&&Ae.some((function(e){return e.label}))&&C.marked,!1===ae&&C.trackFalse,"vertical"===X&&C.vertical,"inverted"===ae&&C.trackInverted),onMouseDown:Xe},he),u.createElement("span",{className:C.rail}),u.createElement("span",{className:C.track,style:et}),u.createElement("input",{value:Ee.join(","),name:G,type:"hidden"}),Ae.map((function(e,t){var n,r=k(e.value,W,$),i=E[Ge].offset(r);return n=!1===ae?-1!==Ee.indexOf(e.value):"normal"===ae&&(Se?e.value>=Ee[0]&&e.value<=Ee[Ee.length-1]:e.value<=Ee[0])||"inverted"===ae&&(Se?e.value<=Ee[0]||e.value>=Ee[Ee.length-1]:e.value>=Ee[0]),u.createElement(u.Fragment,{key:e.value},u.createElement("span",{style:i,"data-index":t,className:Object(c.default)(C.mark,n&&C.markActive)}),null!=e.label?u.createElement("span",{"aria-hidden":!0,"data-index":t,style:i,className:Object(c.default)(C.markLabel,n&&C.markLabelActive)},e.label):null)})),Ee.map((function(e,t){var r=k(e,W,$),i=E[Ge].offset(r);return u.createElement(ce,{key:t,valueLabelFormat:de,valueLabelDisplay:le,className:C.valueLabel,value:"function"===typeof de?de(Q(e),t):de,index:t,open:xe===t||me===t||"on"===le,disabled:R},u.createElement(re,{className:Object(c.default)(C.thumb,C["thumbColor".concat(Object(g.a)(T))],me===t&&C.active,R&&C.disabled,Pe===t&&C.focusVisible),tabIndex:R?null:0,role:"slider",style:i,"data-index":t,"aria-label":z?z(t):n,"aria-labelledby":s,"aria-orientation":X,"aria-valuemax":Q($),"aria-valuemin":Q(W),"aria-valuenow":Q(e),"aria-valuetext":L?L(Q(e),t):f,onKeyDown:He,onFocus:Le,onBlur:Ie,onMouseOver:Ue,onMouseLeave:qe}))})))}));t.a=Object(s.a)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?Object(f.e)(e.palette.primary.main,.62):Object(f.a)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(f.c)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(f.c)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(f.c)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(f.c)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:Object(o.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(C)}]]);
//# sourceMappingURL=2.9b41bbd8.chunk.js.map